/*! For license information please see module.js.LICENSE.txt */
define(["@grafana/data","react","@grafana/runtime","lodash","react-dom","@emotion/css","prismjs","@grafana/ui","redux","react-redux","slate","rxjs","d3","moment"],((e,t,r,n,o,i,a,s,l,c,u,d,p,f)=>(()=>{var h,m={14932:(e,t,r)=>{var n,o=r(12650),i=(n=o)&&"object"==typeof n&&"default"in n?n.default:n,a=r(27388),s=r(43305),l=(r(55980),function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)});function c(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}var u,d=["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","cn-north-1","cn-northwest-1","eu-central-1","eu-north-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-gov-east-1","us-gov-west-1","us-iso-east-1","us-isob-east-1","us-west-1","us-west-2"];(u=t._e||(t._e={})).Keys="keys",u.Credentials="credentials",u.Default="default",u.EC2IAMRole="ec2_iam_role",u.ARN="arn";var p,f=[{label:"Workspace IAM Role",value:t._e.EC2IAMRole},{label:"AWS SDK Default",value:t._e.Default},{label:"Access & secret key",value:t._e.Keys},{label:"Credentials file",value:t._e.Credentials}],h=function(e){return{value:e,label:e}},m=function(e){var r,n,u,p,m,g,v,b,y,w=c(o.useState((e.standardRegions||d).map(h)),2),O=w[0],x=w[1],_=e.loadRegions,E=e.onOptionsChange,S=e.skipHeader,k=void 0!==S&&S,P=e.skipEndpoint,C=void 0!==P&&P,T=e.options,D=T.jsonData.profile;void 0===D&&(D=T.database);var I=window.grafanaBootData.settings,A=null!==(r=I.awsAllowedAuthProviders)&&void 0!==r?r:[t._e.Default,t._e.Keys,t._e.Credentials],j=null===(n=I.awsAssumeRoleEnabled)||void 0===n||n,M=f.find((function(e){return e.value===T.jsonData.authType}));return o.useEffect((function(){!M&&A.length&&E(l(l({},T),{jsonData:l(l({},T.jsonData),{authType:A[0]})}))}),[M,T,E]),o.useEffect((function(){_&&_().then((function(e){return x(e.map(h))}))}),[_]),i.createElement(a.FieldSet,{label:k?"":"Connection Details","data-testid":"connection-config"},i.createElement(a.InlineField,{label:"Authentication Provider",labelWidth:28,tooltip:"Specify which AWS credentials chain to use."},i.createElement(a.Select,{"aria-label":"Authentication Provider",className:"width-30",value:M,options:f.filter((function(e){return A.includes(e.value)})),defaultValue:T.jsonData.authType,onChange:function(t){s.onUpdateDatasourceJsonDataOptionSelect(e,"authType")(t)},menuShouldPortal:!0})),"credentials"===T.jsonData.authType&&i.createElement(a.InlineField,{label:"Credentials Profile Name",labelWidth:28,tooltip:"Credentials profile name, as specified in ~/.aws/credentials, leave blank for default."},i.createElement(a.Input,{"aria-label":"Credentials Profile Name",className:"width-30",placeholder:"default",value:D,onChange:s.onUpdateDatasourceJsonDataOption(e,"profile")})),"keys"===T.jsonData.authType&&i.createElement(i.Fragment,null,i.createElement(a.InlineField,{label:"Access Key ID",labelWidth:28},(null===(u=e.options.secureJsonFields)||void 0===u?void 0:u.accessKey)?i.createElement(a.ButtonGroup,{className:"width-30"},i.createElement(a.Input,{disabled:!0,placeholder:"Configured"}),i.createElement(a.ToolbarButton,{icon:"edit",tooltip:"Edit Access Key ID",type:"button",onClick:s.onUpdateDatasourceResetOption(e,"accessKey")})):i.createElement(a.Input,{"aria-label":"Access Key ID",className:"width-30",value:null!==(m=null===(p=T.secureJsonData)||void 0===p?void 0:p.accessKey)&&void 0!==m?m:"",onChange:s.onUpdateDatasourceSecureJsonDataOption(e,"accessKey")})),i.createElement(a.InlineField,{label:"Secret Access Key",labelWidth:28},(null===(g=e.options.secureJsonFields)||void 0===g?void 0:g.secretKey)?i.createElement(a.ButtonGroup,{className:"width-30"},i.createElement(a.Input,{disabled:!0,placeholder:"Configured"}),i.createElement(a.ToolbarButton,{icon:"edit",type:"button",tooltip:"Edit Secret Access Key",onClick:s.onUpdateDatasourceResetOption(e,"secretKey")})):i.createElement(a.Input,{"aria-label":"Secret Access Key",className:"width-30",value:null!==(b=null===(v=T.secureJsonData)||void 0===v?void 0:v.secretKey)&&void 0!==b?b:"",onChange:s.onUpdateDatasourceSecureJsonDataOption(e,"secretKey")}))),j&&i.createElement(i.Fragment,null,i.createElement(a.InlineField,{label:"Assume Role ARN",labelWidth:28,tooltip:"Optionally, specify the ARN of a role to assume. Specifying a role here will ensure that the selected authentication provider is used to assume the specified role rather than using the credentials directly. Leave blank if you don't need to assume a role at all"},i.createElement(a.Input,{"aria-label":"Assume Role ARN",className:"width-30",placeholder:"arn:aws:iam:*",value:T.jsonData.assumeRoleArn||"",onChange:s.onUpdateDatasourceJsonDataOption(e,"assumeRoleArn")})),i.createElement(a.InlineField,{label:"External ID",labelWidth:28,tooltip:"If you are assuming a role in another account, that has been created with an external ID, specify the external ID here."},i.createElement(a.Input,{"aria-label":"External ID",className:"width-30",placeholder:"External ID",value:T.jsonData.externalId||"",onChange:s.onUpdateDatasourceJsonDataOption(e,"externalId")}))),!C&&i.createElement(a.InlineField,{label:"Endpoint",labelWidth:28,tooltip:"Optionally, specify a custom endpoint for the service"},i.createElement(a.Input,{"aria-label":"Endpoint",className:"width-30",placeholder:null!==(y=e.defaultEndpoint)&&void 0!==y?y:"https://{service}.{region}.amazonaws.com",value:T.jsonData.endpoint||"",onChange:s.onUpdateDatasourceJsonDataOption(e,"endpoint")})),i.createElement(a.InlineField,{label:"Default Region",labelWidth:28,tooltip:"Specify the region, such as for US West (Oregon) use ` us-west-2 ` as the region."},i.createElement(a.Select,{"aria-label":"Default Region",className:"width-30",value:O.find((function(e){return e.value===T.jsonData.defaultRegion})),options:O,defaultValue:T.jsonData.defaultRegion,allowCustomValue:!0,onChange:s.onUpdateDatasourceJsonDataOptionSelect(e,"defaultRegion"),formatCreateLabel:function(e){return"Use region: "+e},menuShouldPortal:!0})),e.children)};(p=t.rB||(t.rB={}))[p.Previous=0]="Previous",p[p.Null=1]="Null",p[p.Value=2]="Value";t.rB.Previous,t.rB.Null,t.rB.Value;t.SIGV4ConnectionConfig=function(e){var t,r,n,o,a=e.onOptionsChange,s=e.options,c={onOptionsChange:function(e){var t,r,n,o,i=l(l({},s),{jsonData:l(l({},s.jsonData),{sigV4AuthType:e.jsonData.authType,sigV4Profile:e.jsonData.profile,sigV4AssumeRoleArn:e.jsonData.assumeRoleArn,sigV4ExternalId:e.jsonData.externalId,sigV4Region:e.jsonData.defaultRegion,sigV4Endpoint:e.jsonData.endpoint}),secureJsonFields:{sigV4AccessKey:null===(t=e.secureJsonFields)||void 0===t?void 0:t.accessKey,sigV4SecretKey:null===(r=e.secureJsonFields)||void 0===r?void 0:r.secretKey},secureJsonData:{sigV4AccessKey:null===(n=e.secureJsonData)||void 0===n?void 0:n.accessKey,sigV4SecretKey:null===(o=e.secureJsonData)||void 0===o?void 0:o.secretKey}});a(i)},options:l(l({},s),{jsonData:l(l({},s.jsonData),{authType:s.jsonData.sigV4AuthType,profile:s.jsonData.sigV4Profile,assumeRoleArn:s.jsonData.sigV4AssumeRoleArn,externalId:s.jsonData.sigV4ExternalId,defaultRegion:s.jsonData.sigV4Region,endpoint:s.jsonData.sigV4Endpoint}),secureJsonFields:{accessKey:null===(t=s.secureJsonFields)||void 0===t?void 0:t.sigV4AccessKey,secretKey:null===(r=s.secureJsonFields)||void 0===r?void 0:r.sigV4SecretKey},secureJsonData:{accessKey:null===(n=s.secureJsonData)||void 0===n?void 0:n.sigV4AccessKey,secretKey:null===(o=s.secureJsonData)||void 0===o?void 0:o.sigV4SecretKey}})};return i.createElement(i.Fragment,null,i.createElement("div",{className:"gf-form"},i.createElement("h6",null,"SigV4 Auth Details")),i.createElement(m,l({},c,{skipHeader:!0,skipEndpoint:!0})))}},22199:(e,t,r)=>{"use strict";e.exports=r(14932)},17667:(e,t,r)=>{"use strict";e.exports=r(67250)},67250:(e,t)=>{"use strict";const r={TimePicker:{openButton:"data-testid TimePicker Open Button",fromField:"Time Range from field",toField:"Time Range to field",applyTimeRange:"data-testid TimePicker submit button",calendar:{label:"Time Range calendar",openButton:"Open time range calendar",closeButton:"Close time range Calendar"},absoluteTimeRangeTitle:"data-testid-absolute-time-range-narrow"},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:"Test Data Query scenario select container",scenarioSelect:"Test Data Query scenario select",max:"TestData max",min:"TestData min",noise:"TestData noise",seriesCount:"TestData series count",spread:"TestData spread",startValue:"TestData start value",drop:"TestData drop values"}},DataSourceHttpSettings:{urlInput:"Datasource HTTP settings url"},Jaeger:{traceIDInput:"Trace ID"},Prometheus:{configPage:{exemplarsAddButton:"Add exemplar config button",internalLinkSwitch:"Internal link switch"},exemplarMarker:"Exemplar marker"}},Menu:{MenuComponent:e=>`${e} menu`,MenuGroup:e=>`${e} menu group`,MenuItem:e=>`${e} menu item`,SubMenu:{container:"SubMenu container",icon:"SubMenu icon"}},Panels:{Panel:{title:e=>`data-testid Panel header ${e}`,headerItems:e=>`Panel header item ${e}`,containerByTitle:e=>`${e} panel`,headerCornerInfo:e=>`Panel header ${e}`},Visualization:{Graph:{VisualizationTab:{legendSection:"Legend section"},Legend:{legendItemAlias:e=>`gpl alias ${e}`,showLegendSwitch:"gpl show legend"},xAxis:{labels:()=>"div.flot-x-axis > div.flot-tick-label"}},BarGauge:{value:"Bar gauge value",valueV2:"data-testid Bar gauge value"},PieChart:{svgSlice:"Pie Chart Slice"},Text:{container:()=>".markdown-html"},Table:{header:"table header",footer:"table-footer"}}},VizLegend:{seriesName:e=>`VizLegend series ${e}`},Drawer:{General:{title:e=>`Drawer title ${e}`,expand:"Drawer expand",contract:"Drawer contract",close:"Drawer close",rcContentWrapper:()=>".drawer-content-wrapper"}},PanelEditor:{General:{content:"Panel editor content"},OptionsPane:{content:"Panel editor option pane content",select:"Panel editor option pane select",fieldLabel:e=>`${e} field property editor`},DataPane:{content:"Panel editor data pane content"},applyButton:"Apply changes and go back to dashboard",toggleVizPicker:"toggle-viz-picker",toggleVizOptions:"toggle-viz-options",toggleTableView:"toggle-table-view"},PanelInspector:{Data:{content:"Panel inspector Data content"},Stats:{content:"Panel inspector Stats content"},Json:{content:"Panel inspector Json content"},Query:{content:"Panel inspector Query content",refreshButton:"Panel inspector Query refresh button",jsonObjectKeys:()=>".json-formatter-key"}},Tab:{title:e=>`Tab ${e}`,active:()=>'[class*="-activeTabStyle"]'},RefreshPicker:{runButton:"RefreshPicker run button",intervalButton:"RefreshPicker interval button",runButtonV2:"data-testid RefreshPicker run button",intervalButtonV2:"data-testid RefreshPicker interval button"},QueryTab:{content:"Query editor tab content",queryInspectorButton:"Query inspector button",queryHistoryButton:"Rich history button",addQuery:"Query editor add query button"},QueryHistory:{queryText:"Query text"},QueryEditorRows:{rows:"Query editor row"},QueryEditorRow:{actionButton:e=>`${e} query operation action`,title:e=>`Query editor row title ${e}`,container:e=>`Query editor row ${e}`},AlertTab:{content:"Alert editor tab content"},Alert:{alert:e=>`Alert ${e}`,alertV2:e=>`data-testid Alert ${e}`},TransformTab:{content:"Transform editor tab content",newTransform:e=>`New transform ${e}`,transformationEditor:e=>`Transformation editor ${e}`,transformationEditorDebugger:e=>`Transformation editor debugger ${e}`},Transforms:{card:e=>`New transform ${e}`,Reduce:{modeLabel:"Transform mode label",calculationsLabel:"Transform calculations label"},searchInput:"search transformations"},PageToolbar:{container:()=>".page-toolbar",item:e=>`${e}`},QueryEditorToolbarItem:{button:e=>`QueryEditor toolbar item button ${e}`},BackButton:{backArrow:"Go Back"},OptionsGroup:{group:e=>e?`Options group ${e}`:"Options group",toggle:e=>e?`Options group ${e} toggle`:"Options group toggle"},PluginVisualization:{item:e=>`Plugin visualization item ${e}`,current:()=>'[class*="-currentVisualizationItem"]'},Select:{option:"Select option",input:()=>'input[id*="time-options-input"]',singleValue:()=>'div[class*="-singleValue"]'},FieldConfigEditor:{content:"Field config editor content"},OverridesConfigEditor:{content:"Field overrides editor content"},FolderPicker:{container:"Folder picker select container",containerV2:"data-testid Folder picker select container",input:"Select a folder"},ReadonlyFolderPicker:{container:"data-testid Readonly folder picker select container"},DataSourcePicker:{container:"Data source picker select container",input:()=>'input[id="data-source-picker"]',inputV2:"Select a data source"},TimeZonePicker:{container:"Time zone picker select container",containerV2:"data-testid Time zone picker select container"},WeekStartPicker:{container:"Choose starting day of the week",containerV2:"data-testid Choose starting day of the week",placeholder:"Choose starting day of the week"},TraceViewer:{spanBar:"data-testid SpanBar--wrapper"},QueryField:{container:"Query field"},QueryBuilder:{queryPatterns:"Query patterns",labelSelect:"Select label",valueSelect:"Select value",matchOperatorSelect:"Select match operator"},ValuePicker:{button:e=>`Value picker button ${e}`,select:e=>`Value picker select ${e}`},Search:{section:"Search section",sectionV2:"data-testid Search section",items:"Search items",itemsV2:"data-testid Search items",cards:"data-testid Search cards",collapseFolder:e=>`data-testid Collapse folder ${e}`,expandFolder:e=>`data-testid Expand folder ${e}`,dashboardItem:e=>`${r.Search.dashboardItems} ${e}`,dashboardCard:e=>`data-testid Search card ${e}`,dashboardItems:"data-testid Dashboard search item"},DashboardLinks:{container:"data-testid Dashboard link container",dropDown:"data-testid Dashboard link dropdown",link:"data-testid Dashboard link"},LoadingIndicator:{icon:"Loading indicator"},CallToActionCard:{button:e=>`Call to action button ${e}`,buttonV2:e=>`data-testid Call to action button ${e}`},DataLinksContextMenu:{singleLink:"Data link"},CodeEditor:{container:"Code editor container"},DashboardImportPage:{textarea:"data-testid-import-dashboard-textarea",submit:"data-testid-load-dashboard"},ImportDashboardForm:{name:"data-testid-import-dashboard-title",submit:"data-testid-import-dashboard-submit"},PanelAlertTabContent:{content:"Unified alert editor tab content"},VisualizationPreview:{card:e=>`data-testid suggestion-${e}`},ColorSwatch:{name:"data-testid-colorswatch"},DashboardRow:{title:e=>`data-testid dashboard-row-title-${e}`},UserProfile:{profileSaveButton:"data-testid-user-profile-save",preferencesSaveButton:"data-testid-shared-prefs-save",orgsTable:"data-testid-user-orgs-table",sessionsTable:"data-testid-user-sessions-table"},FileUpload:{inputField:"data-testid-file-upload-input-field",fileNameSpan:"data-testid-file-upload-file-name"}},n={pages:{Login:{url:"/login",username:"Username input field",password:"Password input field",submit:"Login button",skip:"Skip change password button"},Home:{url:"/"},DataSource:{name:"Data source settings page name input field",delete:"Data source settings page Delete button",readOnly:"Data source settings page read only message",saveAndTest:"Data source settings page Save and Test button",alert:"Data source settings page Alert"},DataSources:{url:"/datasources",dataSources:e=>`Data source list item ${e}`},AddDataSource:{url:"/datasources/new",dataSourcePlugins:e=>`Data source plugin item ${e}`,dataSourcePluginsV2:e=>`Add data source ${e}`},ConfirmModal:{delete:"Confirm Modal Danger Button"},AddDashboard:{url:"/dashboard/new",addNewPanel:"Add new panel",addNewRow:"Add new row",addNewPanelLibrary:"Add new panel from panel library"},Dashboard:{url:e=>`/d/${e}`,DashNav:{nav:"Dashboard navigation",navV2:"data-testid Dashboard navigation",publicDashboardTag:"data-testid public dashboard tag"},SubMenu:{submenu:"Dashboard submenu",submenuItem:"data-testid template variable",submenuItemLabels:e=>`data-testid Dashboard template variables submenu Label ${e}`,submenuItemValueDropDownValueLinkTexts:e=>`data-testid Dashboard template variables Variable Value DropDown value link text ${e}`,submenuItemValueDropDownDropDown:"Variable options",submenuItemValueDropDownOptionTexts:e=>`data-testid Dashboard template variables Variable Value DropDown option text ${e}`},Settings:{General:{deleteDashBoard:"Dashboard settings page delete dashboard button",sectionItems:e=>`Dashboard settings section item ${e}`,saveDashBoard:"Dashboard settings aside actions Save button",saveAsDashBoard:"Dashboard settings aside actions Save As button",timezone:"Time zone picker select container",title:"Dashboard settings page title"},Annotations:{List:{addAnnotationCTA:r.CallToActionCard.button("Add annotation query"),addAnnotationCTAV2:r.CallToActionCard.buttonV2("Add annotation query")},Settings:{name:"Annotations settings name input"}},Variables:{List:{addVariableCTA:r.CallToActionCard.button("Add variable"),addVariableCTAV2:r.CallToActionCard.buttonV2("Add variable"),newButton:"Variable editor New variable button",table:"Variable editor Table",tableRowNameFields:e=>`Variable editor Table Name field ${e}`,tableRowDefinitionFields:e=>`Variable editor Table Definition field ${e}`,tableRowArrowUpButtons:e=>`Variable editor Table ArrowUp button ${e}`,tableRowArrowDownButtons:e=>`Variable editor Table ArrowDown button ${e}`,tableRowDuplicateButtons:e=>`Variable editor Table Duplicate button ${e}`,tableRowRemoveButtons:e=>`Variable editor Table Remove button ${e}`},Edit:{General:{headerLink:"Variable editor Header link",modeLabelNew:"Variable editor Header mode New",modeLabelEdit:"Variable editor Header mode Edit",generalNameInput:"Variable editor Form Name field",generalNameInputV2:"data-testid Variable editor Form Name field",generalTypeSelect:"Variable editor Form Type select",generalTypeSelectV2:"data-testid Variable editor Form Type select",generalLabelInput:"Variable editor Form Label field",generalLabelInputV2:"data-testid Variable editor Form Label field",generalHideSelect:"Variable editor Form Hide select",generalHideSelectV2:"data-testid Variable editor Form Hide select",selectionOptionsMultiSwitch:"Variable editor Form Multi switch",selectionOptionsIncludeAllSwitch:"Variable editor Form IncludeAll switch",selectionOptionsCustomAllInput:"Variable editor Form IncludeAll field",selectionOptionsCustomAllInputV2:"data-testid Variable editor Form IncludeAll field",previewOfValuesOption:"Variable editor Preview of Values option",submitButton:"Variable editor Submit button"},QueryVariable:{queryOptionsDataSourceSelect:r.DataSourcePicker.container,queryOptionsRefreshSelect:"Variable editor Form Query Refresh select",queryOptionsRefreshSelectV2:"data-testid Variable editor Form Query Refresh select",queryOptionsRegExInput:"Variable editor Form Query RegEx field",queryOptionsRegExInputV2:"data-testid Variable editor Form Query RegEx field",queryOptionsSortSelect:"Variable editor Form Query Sort select",queryOptionsSortSelectV2:"data-testid Variable editor Form Query Sort select",queryOptionsQueryInput:"Variable editor Form Default Variable Query Editor textarea",valueGroupsTagsEnabledSwitch:"Variable editor Form Query UseTags switch",valueGroupsTagsTagsQueryInput:"Variable editor Form Query TagsQuery field",valueGroupsTagsTagsValuesQueryInput:"Variable editor Form Query TagsValuesQuery field"},ConstantVariable:{constantOptionsQueryInput:"Variable editor Form Constant Query field",constantOptionsQueryInputV2:"data-testid Variable editor Form Constant Query field"},DatasourceVariable:{datasourceSelect:"data-testid datasource variable datasource type"},TextBoxVariable:{textBoxOptionsQueryInput:"Variable editor Form TextBox Query field",textBoxOptionsQueryInputV2:"data-testid Variable editor Form TextBox Query field"},CustomVariable:{customValueInput:"data-testid custom-variable-input"},IntervalVariable:{intervalsValueInput:"data-testid interval variable intervals input"}}}}},Dashboards:{url:"/dashboards",dashboards:e=>`Dashboard search item ${e}`},SaveDashboardAsModal:{newName:"Save dashboard title field",save:"Save dashboard button"},SaveDashboardModal:{save:"Dashboard settings Save Dashboard Modal Save button",saveVariables:"Dashboard settings Save Dashboard Modal Save variables checkbox",saveTimerange:"Dashboard settings Save Dashboard Modal Save timerange checkbox"},SharePanelModal:{linkToRenderedImage:"Link to rendered image"},ShareDashboardModal:{shareButton:"Share dashboard or panel",PublicDashboard:{Tab:"Tab Public Dashboard",WillBePublicCheckbox:"data-testid public dashboard will be public checkbox",LimitedDSCheckbox:"data-testid public dashboard limited datasources checkbox",CostIncreaseCheckbox:"data-testid public dashboard cost may increase checkbox",EnableSwitch:"data-testid public dashboard on off switch",SaveConfigButton:"data-testid public dashboard save config button",CopyUrlInput:"data-testid public dashboard copy url input",CopyUrlButton:"data-testid public dashboard copy url button",TemplateVariablesWarningAlert:"data-testid public dashboard disabled template variables alert"}},Explore:{url:"/explore",General:{container:"data-testid Explore",graph:"Explore Graph",table:"Explore Table",scrollView:"data-testid explorer scroll view"}},SoloPanel:{url:e=>`/d-solo/${e}`},PluginsList:{page:"Plugins list page",list:"Plugins list",listItem:"Plugins list item",signatureErrorNotice:"Unsigned plugins notice"},PluginPage:{page:"Plugin page",signatureInfo:"Plugin signature info",disabledInfo:"Plugin disabled info"},PlaylistForm:{name:"Playlist name",interval:"Playlist interval",itemRow:"Playlist item row",itemIdType:"Playlist item dashboard by ID type",itemTagType:"Playlist item dashboard by Tag type",itemMoveUp:"Move playlist item order up",itemMoveDown:"Move playlist item order down",itemDelete:"Delete playlist item"}},components:r};t.selectors=n},5576:(e,t,r)=>{"use strict";r(43840)},43840:(e,t)=>{"use strict";var r,n,o,i,a,s,l,c,u,d,p,f,h,m,g,v,b,y,w,O,x,_,E;t.LB=void 0,(r=t.LB||(t.LB={})).Auto="auto",r.Bottom="bottom",r.Hidden="hidden",r.Left="left",r.Right="right",r.Top="top",t.yK=void 0,(n=t.yK||(t.yK={})).Series="series",n.Text="text",t.Jp=void 0,(o=t.Jp||(t.Jp={})).Always="always",o.Auto="auto",o.Never="never",t.l8=void 0,(i=t.l8||(t.l8={})).Bars="bars",i.Line="line",i.Points="points",t.pR=void 0,(a=t.pR||(t.pR={})).Constant="constant",a.NegativeY="negative-Y",t.KC=void 0,(s=t.KC||(t.KC={})).Linear="linear",s.Smooth="smooth",s.StepAfter="stepAfter",s.StepBefore="stepBefore",t.wf=void 0,(l=t.wf||(t.wf={})).Linear="linear",l.Log="log",l.Ordinal="ordinal",t.FI=void 0,(c=t.FI||(t.FI={})).Hue="hue",c.None="none",c.Opacity="opacity",c.Scheme="scheme",t.o0=void 0,(u=t.o0||(t.o0={})).None="none",u.Normal="normal",u.Percent="percent",t.pu=void 0,(d=t.pu||(t.pu={}))[d.After=1]="After",d[d.Before=-1]="Before",d[d.Center=0]="Center",t.wN=void 0,(p=t.wN||(t.wN={}))[p.Horizontal=0]="Horizontal",p[p.Vertical=1]="Vertical",t.bQ=void 0,(f=t.bQ||(t.bQ={}))[f.Down=-1]="Down",f[f.Left=-1]="Left",f[f.Right=1]="Right",f[f.Up=1]="Up",t.i3=void 0,(h=t.i3||(t.i3={})).Area="area",h.Line="line",h.LineAndArea="line+area",h.Off="off",h.Series="series",t.jK=void 0,(m=t.jK||(t.jK={})).Hidden="hidden",m.List="list",m.Table="table",t.wm=void 0,(g=t.wm||(t.wm={})).Auto="auto",g.Horizontal="horizontal",g.Vertical="vertical",t.pc=void 0,(v=t.pc||(t.pc={})).Background="background",v.None="none",v.Value="value",t.IG=void 0,(b=t.IG||(t.IG={})).Area="area",b.Line="line",b.None="none",t.ap=void 0,(y=t.ap||(t.ap={})).Auto="auto",y.Center="center",t.jG=void 0,(w=t.jG||(t.jG={})).Auto="auto",w.Name="name",w.None="none",w.Value="value",w.ValueAndName="value_and_name",t.h2=void 0,(O=t.h2||(t.h2={})).Auto="auto",O.BasicGauge="basic",O.ColorBackground="color-background",O.ColorBackgroundSolid="color-background-solid",O.ColorText="color-text",O.GradientGauge="gradient-gauge",O.Image="image",O.JSONView="json-view",O.LcdGauge="lcd-gauge",t.f3=void 0,(x=t.f3||(t.f3={})).Multi="multi",x.None="none",x.Single="single",t.As=void 0,(_=t.As||(t.As={})).Ascending="asc",_.Descending="desc",_.None="none",t.QH=void 0,(E=t.QH||(t.QH={})).Basic="basic",E.Gradient="gradient",E.Lcd="lcd",t.h2.Auto},21498:e=>{var t={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,r){return"number"!=typeof r||t[e]?r:r+"px"}},60042:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var a=o.apply(null,r);a&&e.push(a)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},18575:(e,t,r)=>{var n=r(82780),o=r(87602),i={float:"cssFloat"},a=r(21498);function s(e,t,r){var s=i[t];if(void 0===s&&(s=function(e){var t=o(e),r=n(t);return i[t]=i[e]=i[r]=r,r}(t)),s){if(void 0===r)return e.style[s];e.style[s]=a(s,r)}}function l(e,t){for(var r in t)t.hasOwnProperty(r)&&s(e,r,t[r])}function c(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:l(arguments[0],arguments[1]):s(arguments[0],arguments[1],arguments[2])}e.exports=c,e.exports.set=c,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce((function(t,r){return t[r]=s(e,r||""),t}),{}):s(e,t||"")}},1792:(e,t,r)=>{var n;!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},55839:(e,t,r)=>{"use strict";var n=r(19185),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?a:s[e.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(h){var o=f(r);o&&o!==h&&e(t,o,n)}var a=u(r);d&&(a=a.concat(d(r)));for(var s=l(t),m=l(r),g=0;g<a.length;++g){var v=a[g];if(!(i[v]||n&&n[v]||m&&m[v]||s&&s[v])){var b=p(r,v);try{c(t,v,b)}catch(e){}}}}return t}},82545:(e,t,r)=>{var n=r(81822)(r(77400),"DataView");e.exports=n},96586:(e,t,r)=>{var n=r(57753),o=r(82452),i=r(22115),a=r(38256),s=r(67426);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},36301:(e,t,r)=>{var n=r(69417),o=r(72470),i=r(66165),a=r(71873),s=r(52556);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},44538:(e,t,r)=>{var n=r(81822)(r(77400),"Map");e.exports=n},74554:(e,t,r)=>{var n=r(39448),o=r(7738),i=r(66575),a=r(7238),s=r(38738);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},64825:(e,t,r)=>{var n=r(81822)(r(77400),"Promise");e.exports=n},46151:(e,t,r)=>{var n=r(81822)(r(77400),"Set");e.exports=n},52485:(e,t,r)=>{var n=r(74554),o=r(38639),i=r(88379);function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},23694:(e,t,r)=>{var n=r(36301),o=r(7354),i=r(5863),a=r(12367),s=r(90748),l=r(97569);function c(e){var t=this.__data__=new n(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},96539:(e,t,r)=>{var n=r(77400).Symbol;e.exports=n},59942:(e,t,r)=>{var n=r(77400).Uint8Array;e.exports=n},66902:(e,t,r)=>{var n=r(81822)(r(77400),"WeakMap");e.exports=n},10263:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}},98213:(e,t,r)=>{var n=r(24701),o=r(2900),i=r(19785),a=r(43854),s=r(42383),l=r(48519),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),u=!r&&o(e),d=!r&&!u&&a(e),p=!r&&!u&&!d&&l(e),f=r||u||d||p,h=f?n(e.length,String):[],m=h.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||h.push(g);return h}},97141:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},90756:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},93382:(e,t,r)=>{var n=r(85638);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},11324:(e,t,r)=>{var n=r(97141),o=r(19785);e.exports=function(e,t,r){var i=t(e);return o(e)?i:n(i,r(e))}},99736:(e,t,r)=>{var n=r(96539),o=r(34840),i=r(21258),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},55829:(e,t,r)=>{var n=r(99736),o=r(92360);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},32866:(e,t,r)=>{var n=r(12772),o=r(92360);e.exports=function e(t,r,i,a,s){return t===r||(null==t||null==r||!o(t)&&!o(r)?t!=t&&r!=r:n(t,r,i,a,e,s))}},12772:(e,t,r)=>{var n=r(23694),o=r(27042),i=r(370),a=r(39584),s=r(3533),l=r(19785),c=r(43854),u=r(48519),d="[object Arguments]",p="[object Array]",f="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,m,g,v){var b=l(e),y=l(t),w=b?p:s(e),O=y?p:s(t),x=(w=w==d?f:w)==f,_=(O=O==d?f:O)==f,E=w==O;if(E&&c(e)){if(!c(t))return!1;b=!0,x=!1}if(E&&!x)return v||(v=new n),b||u(e)?o(e,t,r,m,g,v):i(e,t,w,r,m,g,v);if(!(1&r)){var S=x&&h.call(e,"__wrapped__"),k=_&&h.call(t,"__wrapped__");if(S||k){var P=S?e.value():e,C=k?t.value():t;return v||(v=new n),g(P,C,r,m,v)}}return!!E&&(v||(v=new n),a(e,t,r,m,g,v))}},46729:(e,t,r)=>{var n=r(28338),o=r(99678),i=r(11611),a=r(76532),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(n(e)?p:s).test(a(e))}},26972:(e,t,r)=>{var n=r(99736),o=r(84194),i=r(92360),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[n(e)]}},20186:(e,t,r)=>{var n=r(56016),o=r(50962),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},24701:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},39334:e=>{e.exports=function(e){return function(t){return e(t)}}},65581:e=>{e.exports=function(e,t){return e.has(t)}},64937:(e,t,r)=>{var n=r(77400)["__core-js_shared__"];e.exports=n},27042:(e,t,r)=>{var n=r(52485),o=r(90756),i=r(65581);e.exports=function(e,t,r,a,s,l){var c=1&r,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var p=l.get(e),f=l.get(t);if(p&&f)return p==t&&f==e;var h=-1,m=!0,g=2&r?new n:void 0;for(l.set(e,t),l.set(t,e);++h<u;){var v=e[h],b=t[h];if(a)var y=c?a(b,v,h,t,e,l):a(v,b,h,e,t,l);if(void 0!==y){if(y)continue;m=!1;break}if(g){if(!o(t,(function(e,t){if(!i(g,t)&&(v===e||s(v,e,r,a,l)))return g.push(t)}))){m=!1;break}}else if(v!==b&&!s(v,b,r,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},370:(e,t,r)=>{var n=r(96539),o=r(59942),i=r(85638),a=r(27042),s=r(19383),l=r(43735),c=n?n.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,r,n,c,d,p){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var h=1&n;if(f||(f=l),e.size!=t.size&&!h)return!1;var m=p.get(e);if(m)return m==t;n|=2,p.set(e,t);var g=a(f(e),f(t),n,c,d,p);return p.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},39584:(e,t,r)=>{var n=r(51385),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,i,a,s){var l=1&r,c=n(e),u=c.length;if(u!=n(t).length&&!l)return!1;for(var d=u;d--;){var p=c[d];if(!(l?p in t:o.call(t,p)))return!1}var f=s.get(e),h=s.get(t);if(f&&h)return f==t&&h==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var v=e[p=c[d]],b=t[p];if(i)var y=l?i(b,v,p,t,e,s):i(v,b,p,e,t,s);if(!(void 0===y?v===b||a(v,b,r,i,s):y)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var w=e.constructor,O=t.constructor;w==O||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof O&&O instanceof O||(m=!1)}return s.delete(e),s.delete(t),m}},39120:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},51385:(e,t,r)=>{var n=r(11324),o=r(83080),i=r(50098);e.exports=function(e){return n(e,i,o)}},95899:(e,t,r)=>{var n=r(54479);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},81822:(e,t,r)=>{var n=r(46729),o=r(15371);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},34840:(e,t,r)=>{var n=r(96539),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[s]=r:delete e[s]),o}},83080:(e,t,r)=>{var n=r(10263),o=r(15937),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),n(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},3533:(e,t,r)=>{var n=r(82545),o=r(44538),i=r(64825),a=r(46151),s=r(66902),l=r(99736),c=r(76532),u="[object Map]",d="[object Promise]",p="[object Set]",f="[object WeakMap]",h="[object DataView]",m=c(n),g=c(o),v=c(i),b=c(a),y=c(s),w=l;(n&&w(new n(new ArrayBuffer(1)))!=h||o&&w(new o)!=u||i&&w(i.resolve())!=d||a&&w(new a)!=p||s&&w(new s)!=f)&&(w=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case m:return h;case g:return u;case v:return d;case b:return p;case y:return f}return t}),e.exports=w},15371:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},57753:(e,t,r)=>{var n=r(35718);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},82452:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},22115:(e,t,r)=>{var n=r(35718),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0}},38256:(e,t,r)=>{var n=r(35718),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},67426:(e,t,r)=>{var n=r(35718);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},42383:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},54479:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},99678:(e,t,r)=>{var n,o=r(64937),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!i&&i in e}},56016:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},69417:e=>{e.exports=function(){this.__data__=[],this.size=0}},72470:(e,t,r)=>{var n=r(93382),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0||(r==t.length-1?t.pop():o.call(t,r,1),--this.size,0))}},66165:(e,t,r)=>{var n=r(93382);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},71873:(e,t,r)=>{var n=r(93382);e.exports=function(e){return n(this.__data__,e)>-1}},52556:(e,t,r)=>{var n=r(93382);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},39448:(e,t,r)=>{var n=r(96586),o=r(36301),i=r(44538);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},7738:(e,t,r)=>{var n=r(95899);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},66575:(e,t,r)=>{var n=r(95899);e.exports=function(e){return n(this,e).get(e)}},7238:(e,t,r)=>{var n=r(95899);e.exports=function(e){return n(this,e).has(e)}},38738:(e,t,r)=>{var n=r(95899);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},19383:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},35718:(e,t,r)=>{var n=r(81822)(Object,"create");e.exports=n},50962:(e,t,r)=>{var n=r(58023)(Object.keys,Object);e.exports=n},18125:(e,t,r)=>{e=r.nmd(e);var n=r(39120),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&n.process,s=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},21258:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},58023:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},77400:(e,t,r)=>{var n=r(39120),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},38639:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},88379:e=>{e.exports=function(e){return this.__data__.has(e)}},43735:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},7354:(e,t,r)=>{var n=r(36301);e.exports=function(){this.__data__=new n,this.size=0}},5863:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},12367:e=>{e.exports=function(e){return this.__data__.get(e)}},90748:e=>{e.exports=function(e){return this.__data__.has(e)}},97569:(e,t,r)=>{var n=r(36301),o=r(44538),i=r(74554);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(e,t),this.size=r.size,this}},76532:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},85638:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},2900:(e,t,r)=>{var n=r(55829),o=r(92360),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},19785:e=>{var t=Array.isArray;e.exports=t},80068:(e,t,r)=>{var n=r(28338),o=r(84194);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},43854:(e,t,r)=>{e=r.nmd(e);var n=r(77400),o=r(57714),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?n.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l},56141:(e,t,r)=>{var n=r(32866);e.exports=function(e,t){return n(e,t)}},28338:(e,t,r)=>{var n=r(99736),o=r(11611);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},84194:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},11611:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},92360:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},48519:(e,t,r)=>{var n=r(26972),o=r(39334),i=r(18125),a=i&&i.isTypedArray,s=a?o(a):n;e.exports=s},50098:(e,t,r)=>{var n=r(98213),o=r(20186),i=r(80068);e.exports=function(e){return i(e)?n(e):o(e)}},15937:e=>{e.exports=function(){return[]}},57714:e=>{e.exports=function(){return!1}},35295:e=>{const t="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,r="function"==typeof AbortController?AbortController:class{constructor(){this.signal=new i}abort(){this.signal.dispatchEvent("abort")}},n="function"==typeof AbortSignal,o="function"==typeof r.AbortSignal,i=n?AbortSignal:o?r.AbortController:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(e){if("abort"===e){this.aborted=!0;const t={type:e,target:this};this.onabort(t),this._listeners.forEach((e=>e(t)),this)}}onabort(){}addEventListener(e,t){"abort"===e&&this._listeners.push(t)}removeEventListener(e,t){"abort"===e&&(this._listeners=this._listeners.filter((e=>e!==t)))}},a=new Set,s=(e,t)=>{const r=`LRU_CACHE_OPTION_${e}`;u(r)&&d(r,`${e} option`,`options.${t}`,g)},l=(e,t)=>{const r=`LRU_CACHE_METHOD_${e}`;if(u(r)){const{prototype:n}=g,{get:o}=Object.getOwnPropertyDescriptor(n,e);d(r,`${e} method`,`cache.${t}()`,o)}},c=(...e)=>{"object"==typeof process&&process&&"function"==typeof process.emitWarning?process.emitWarning(...e):console.error(...e)},u=e=>!a.has(e),d=(e,t,r,n)=>{a.add(e),c(`The ${t} is deprecated. Please use ${r} instead.`,"DeprecationWarning",e,n)},p=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),f=e=>p(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?h:null:null;class h extends Array{constructor(e){super(e),this.fill(0)}}class m{constructor(e){if(0===e)return[];const t=f(e);this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class g{constructor(e={}){const{max:t=0,ttl:r,ttlResolution:n=1,ttlAutopurge:o,updateAgeOnGet:i,updateAgeOnHas:l,allowStale:d,dispose:h,disposeAfter:v,noDisposeOnSet:b,noUpdateTTL:y,maxSize:w=0,maxEntrySize:O=0,sizeCalculation:x,fetchMethod:_,fetchContext:E,noDeleteOnFetchRejection:S,noDeleteOnStaleGet:k}=e,{length:P,maxAge:C,stale:T}=e instanceof g?{}:e;if(0!==t&&!p(t))throw new TypeError("max option must be a nonnegative integer");const D=t?f(t):Array;if(!D)throw new Error("invalid max value: "+t);if(this.max=t,this.maxSize=w,this.maxEntrySize=O||this.maxSize,this.sizeCalculation=x||P,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=_||null,this.fetchMethod&&"function"!=typeof this.fetchMethod)throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=E,!this.fetchMethod&&void 0!==E)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(t).fill(null),this.valList=new Array(t).fill(null),this.next=new D(t),this.prev=new D(t),this.head=0,this.tail=0,this.free=new m(t),this.initialFill=1,this.size=0,"function"==typeof h&&(this.dispose=h),"function"==typeof v?(this.disposeAfter=v,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!b,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!S,0!==this.maxEntrySize){if(0!==this.maxSize&&!p(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!p(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!d||!!T,this.noDeleteOnStaleGet=!!k,this.updateAgeOnGet=!!i,this.updateAgeOnHas=!!l,this.ttlResolution=p(n)||0===n?n:1,this.ttlAutopurge=!!o,this.ttl=r||C||0,this.ttl){if(!p(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(0===this.max&&0===this.ttl&&0===this.maxSize)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const e="LRU_CACHE_UNBOUNDED";u(e)&&(a.add(e),c("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,g))}T&&s("stale","allowStale"),C&&s("maxAge","ttl"),P&&s("length","sizeCalculation")}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new h(this.max),this.starts=new h(this.max),this.setItemTTL=(e,r,n=t.now())=>{if(this.starts[e]=0!==r?n:0,this.ttls[e]=r,0!==r&&this.ttlAutopurge){const t=setTimeout((()=>{this.isStale(e)&&this.delete(this.keyList[e])}),r+1);t.unref&&t.unref()}},this.updateItemAge=e=>{this.starts[e]=0!==this.ttls[e]?t.now():0};let e=0;const r=()=>{const r=t.now();if(this.ttlResolution>0){e=r;const t=setTimeout((()=>e=0),this.ttlResolution);t.unref&&t.unref()}return r};this.getRemainingTTL=t=>{const n=this.keyMap.get(t);return void 0===n?0:0===this.ttls[n]||0===this.starts[n]?1/0:this.starts[n]+this.ttls[n]-(e||r())},this.isStale=t=>0!==this.ttls[t]&&0!==this.starts[t]&&(e||r())-this.starts[t]>this.ttls[t]}updateItemAge(e){}setItemTTL(e,t,r){}isStale(e){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new h(this.max),this.removeItemSize=e=>{this.calculatedSize-=this.sizes[e],this.sizes[e]=0},this.requireSize=(e,t,r,n)=>{if(!p(r)){if(!n)throw new TypeError("invalid size value (must be positive integer)");if("function"!=typeof n)throw new TypeError("sizeCalculation must be a function");if(r=n(t,e),!p(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r},this.addItemSize=(e,t)=>{this.sizes[e]=t;const r=this.maxSize-this.sizes[e];for(;this.calculatedSize>r;)this.evict(!0);this.calculatedSize+=this.sizes[e]}}removeItemSize(e){}addItemSize(e,t){}requireSize(e,t,r,n){if(r||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:e=this.allowStale}={}){if(this.size)for(let t=this.tail;this.isValidIndex(t)&&(!e&&this.isStale(t)||(yield t),t!==this.head);)t=this.prev[t]}*rindexes({allowStale:e=this.allowStale}={}){if(this.size)for(let t=this.head;this.isValidIndex(t)&&(!e&&this.isStale(t)||(yield t),t!==this.tail);)t=this.next[t]}isValidIndex(e){return this.keyMap.get(this.keyList[e])===e}*entries(){for(const e of this.indexes())yield[this.keyList[e],this.valList[e]]}*rentries(){for(const e of this.rindexes())yield[this.keyList[e],this.valList[e]]}*keys(){for(const e of this.indexes())yield this.keyList[e]}*rkeys(){for(const e of this.rindexes())yield this.keyList[e]}*values(){for(const e of this.indexes())yield this.valList[e]}*rvalues(){for(const e of this.rindexes())yield this.valList[e]}[Symbol.iterator](){return this.entries()}find(e,t={}){for(const r of this.indexes())if(e(this.valList[r],this.keyList[r],this))return this.get(this.keyList[r],t)}forEach(e,t=this){for(const r of this.indexes())e.call(t,this.valList[r],this.keyList[r],this)}rforEach(e,t=this){for(const r of this.rindexes())e.call(t,this.valList[r],this.keyList[r],this)}get prune(){return l("prune","purgeStale"),this.purgeStale}purgeStale(){let e=!1;for(const t of this.rindexes({allowStale:!0}))this.isStale(t)&&(this.delete(this.keyList[t]),e=!0);return e}dump(){const e=[];for(const r of this.indexes({allowStale:!0})){const n=this.keyList[r],o=this.valList[r],i={value:this.isBackgroundFetch(o)?o.__staleWhileFetching:o};if(this.ttls){i.ttl=this.ttls[r];const e=t.now()-this.starts[r];i.start=Math.floor(Date.now()-e)}this.sizes&&(i.size=this.sizes[r]),e.unshift([n,i])}return e}load(e){this.clear();for(const[r,n]of e){if(n.start){const e=Date.now()-n.start;n.start=t.now()-e}this.set(r,n.value,n)}}dispose(e,t,r){}set(e,t,{ttl:r=this.ttl,start:n,noDisposeOnSet:o=this.noDisposeOnSet,size:i=0,sizeCalculation:a=this.sizeCalculation,noUpdateTTL:s=this.noUpdateTTL}={}){if(i=this.requireSize(e,t,i,a),this.maxEntrySize&&i>this.maxEntrySize)return this;let l=0===this.size?void 0:this.keyMap.get(e);if(void 0===l)l=this.newIndex(),this.keyList[l]=e,this.valList[l]=t,this.keyMap.set(e,l),this.next[this.tail]=l,this.prev[l]=this.tail,this.tail=l,this.size++,this.addItemSize(l,i),s=!1;else{const r=this.valList[l];t!==r&&(this.isBackgroundFetch(r)?r.__abortController.abort():o||(this.dispose(r,e,"set"),this.disposeAfter&&this.disposed.push([r,e,"set"])),this.removeItemSize(l),this.valList[l]=t,this.addItemSize(l,i)),this.moveToTail(l)}if(0===r||0!==this.ttl||this.ttls||this.initializeTTLTracking(),s||this.setItemTTL(l,r,n),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return 0===this.size?this.tail:this.size===this.max&&0!==this.max?this.evict(!1):0!==this.free.length?this.free.pop():this.initialFill++}pop(){if(this.size){const e=this.valList[this.head];return this.evict(!0),e}}evict(e){const t=this.head,r=this.keyList[t],n=this.valList[t];return this.isBackgroundFetch(n)?n.__abortController.abort():(this.dispose(n,r,"evict"),this.disposeAfter&&this.disposed.push([n,r,"evict"])),this.removeItemSize(t),e&&(this.keyList[t]=null,this.valList[t]=null,this.free.push(t)),this.head=this.next[t],this.keyMap.delete(r),this.size--,t}has(e,{updateAgeOnHas:t=this.updateAgeOnHas}={}){const r=this.keyMap.get(e);return void 0!==r&&!this.isStale(r)&&(t&&this.updateItemAge(r),!0)}peek(e,{allowStale:t=this.allowStale}={}){const r=this.keyMap.get(e);if(void 0!==r&&(t||!this.isStale(r))){const e=this.valList[r];return this.isBackgroundFetch(e)?e.__staleWhileFetching:e}}backgroundFetch(e,t,n,o){const i=void 0===t?void 0:this.valList[t];if(this.isBackgroundFetch(i))return i;const a=new r,s={signal:a.signal,options:n,context:o},l=new Promise((t=>t(this.fetchMethod(e,i,s)))).then((t=>(a.signal.aborted||this.set(e,t,s.options),t)),(r=>{if(this.valList[t]===l&&(n.noDeleteOnFetchRejection&&void 0!==l.__staleWhileFetching?this.valList[t]=l.__staleWhileFetching:this.delete(e)),l.__returned===l)throw r}));return l.__abortController=a,l.__staleWhileFetching=i,l.__returned=null,void 0===t?(this.set(e,l,s.options),t=this.keyMap.get(e)):this.valList[t]=l,l}isBackgroundFetch(e){return e&&"object"==typeof e&&"function"==typeof e.then&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||null===e.__returned)}async fetch(e,{allowStale:t=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:i=this.noDisposeOnSet,size:a=0,sizeCalculation:s=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,fetchContext:u=this.fetchContext,forceRefresh:d=!1}={}){if(!this.fetchMethod)return this.get(e,{allowStale:t,updateAgeOnGet:r,noDeleteOnStaleGet:n});const p={allowStale:t,updateAgeOnGet:r,noDeleteOnStaleGet:n,ttl:o,noDisposeOnSet:i,size:a,sizeCalculation:s,noUpdateTTL:l,noDeleteOnFetchRejection:c};let f=this.keyMap.get(e);if(void 0===f){const t=this.backgroundFetch(e,f,p,u);return t.__returned=t}{const n=this.valList[f];if(this.isBackgroundFetch(n))return t&&void 0!==n.__staleWhileFetching?n.__staleWhileFetching:n.__returned=n;if(!d&&!this.isStale(f))return this.moveToTail(f),r&&this.updateItemAge(f),n;const o=this.backgroundFetch(e,f,p,u);return t&&void 0!==o.__staleWhileFetching?o.__staleWhileFetching:o.__returned=o}}get(e,{allowStale:t=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet}={}){const o=this.keyMap.get(e);if(void 0!==o){const i=this.valList[o],a=this.isBackgroundFetch(i);if(this.isStale(o))return a?t?i.__staleWhileFetching:void 0:(n||this.delete(e),t?i:void 0);if(a)return;return this.moveToTail(o),r&&this.updateItemAge(o),i}}connect(e,t){this.prev[t]=e,this.next[e]=t}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}get del(){return l("del","delete"),this.delete}delete(e){let t=!1;if(0!==this.size){const r=this.keyMap.get(e);if(void 0!==r)if(t=!0,1===this.size)this.clear();else{this.removeItemSize(r);const t=this.valList[r];this.isBackgroundFetch(t)?t.__abortController.abort():(this.dispose(t,e,"delete"),this.disposeAfter&&this.disposed.push([t,e,"delete"])),this.keyMap.delete(e),this.keyList[r]=null,this.valList[r]=null,r===this.tail?this.tail=this.prev[r]:r===this.head?this.head=this.next[r]:(this.next[this.prev[r]]=this.next[r],this.prev[this.next[r]]=this.prev[r]),this.size--,this.free.push(r)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return t}clear(){for(const e of this.rindexes({allowStale:!0})){const t=this.valList[e];if(this.isBackgroundFetch(t))t.__abortController.abort();else{const r=this.keyList[e];this.dispose(t,r,"delete"),this.disposeAfter&&this.disposed.push([t,r,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return l("reset","clear"),this.clear}get length(){return((e,t)=>{const r="LRU_CACHE_PROPERTY_length";if(u(r)){const{prototype:t}=g,{get:n}=Object.getOwnPropertyDescriptor(t,e);d(r,"length property","cache.size",n)}})("length"),this.size}static get AbortController(){return r}static get AbortSignal(){return i}}e.exports=g},16948:function(e){(function(){var t,r,n,o,i,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-i)/1e6},r=process.hrtime,o=(t=function(){var e;return 1e9*(e=r())[0]+e[1]})(),a=1e9*process.uptime(),i=o-a):Date.now?(e.exports=function(){return Date.now()-n},n=Date.now()):(e.exports=function(){return(new Date).getTime()-n},n=(new Date).getTime())}).call(this)},26407:function(e){e.exports=function(){var e=[],t=[],r={},n={},o={};function i(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function a(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function s(e,t){return e.replace(/\$(\d{1,2})/g,(function(e,r){return t[r]||""}))}function l(e,t){return e.replace(t[0],(function(r,n){var o=s(t[1],arguments);return a(""===r?e[n-1]:r,o)}))}function c(e,t,n){if(!e.length||r.hasOwnProperty(e))return t;for(var o=n.length;o--;){var i=n[o];if(i[0].test(t))return l(t,i)}return t}function u(e,t,r){return function(n){var o=n.toLowerCase();return t.hasOwnProperty(o)?a(n,o):e.hasOwnProperty(o)?a(n,e[o]):c(o,n,r)}}function d(e,t,r,n){return function(n){var o=n.toLowerCase();return!!t.hasOwnProperty(o)||!e.hasOwnProperty(o)&&c(o,o,r)===o}}function p(e,t,r){return(r?t+" ":"")+(1===t?p.singular(e):p.plural(e))}return p.plural=u(o,n,e),p.isPlural=d(o,n,e),p.singular=u(n,o,t),p.isSingular=d(n,o,t),p.addPluralRule=function(t,r){e.push([i(t),r])},p.addSingularRule=function(e,r){t.push([i(e),r])},p.addUncountableRule=function(e){"string"!=typeof e?(p.addPluralRule(e,"$0"),p.addSingularRule(e,"$0")):r[e.toLowerCase()]=!0},p.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),o[e]=t,n[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach((function(e){return p.addIrregularRule(e[0],e[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(e){return p.addPluralRule(e[0],e[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(e){return p.addSingularRule(e[0],e[1])})),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(p.addUncountableRule),p}()},82780:e=>{var t=null,r=["Webkit","Moz","O","ms"];e.exports=function(e){t||(t=document.createElement("div"));var n=t.style;if(e in n)return e;for(var o=e.charAt(0).toUpperCase()+e.slice(1),i=r.length;i>=0;i--){var a=r[i]+o;if(a in n)return a}return!1}},58772:(e,t,r)=>{"use strict";var n=r(90331);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},23615:(e,t,r)=>{e.exports=r(58772)()},90331:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5026:(e,t,r)=>{for(var n=r(16948),o="undefined"==typeof window?r.g:window,i=["moz","webkit"],a="AnimationFrame",s=o["request"+a],l=o["cancel"+a]||o["cancelRequest"+a],c=0;!s&&c<i.length;c++)s=o[i[c]+"Request"+a],l=o[i[c]+"Cancel"+a]||o[i[c]+"CancelRequest"+a];if(!s||!l){var u=0,d=0,p=[];s=function(e){if(0===p.length){var t=n(),r=Math.max(0,16.666666666666668-(t-u));u=r+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(r))}return p.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){l.apply(o,arguments)},e.exports.polyfill=function(e){e||(e=o),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}},95035:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.renderViewDefault=function(e){return i.default.createElement("div",e)},t.renderTrackHorizontalDefault=function(e){var t=e.style,r=a(e,["style"]),o=n({},t,{right:2,bottom:2,left:2,borderRadius:3});return i.default.createElement("div",n({style:o},r))},t.renderTrackVerticalDefault=function(e){var t=e.style,r=a(e,["style"]),o=n({},t,{right:2,bottom:2,top:2,borderRadius:3});return i.default.createElement("div",n({style:o},r))},t.renderThumbHorizontalDefault=function(e){var t=e.style,r=a(e,["style"]),o=n({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return i.default.createElement("div",n({style:o},r))},t.renderThumbVerticalDefault=function(e){var t=e.style,r=a(e,["style"]),o=n({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return i.default.createElement("div",n({style:o},r))};var o,i=(o=r(12650))&&o.__esModule?o:{default:o};function a(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}},5543:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(5026),a=v(i),s=v(r(18575)),l=r(12650),c=v(r(23615)),u=v(r(20430)),d=v(r(90845)),p=v(r(81426)),f=v(r(8028)),h=v(r(46045)),m=r(39106),g=r(95035);function v(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function(e){function t(e){var r;b(this,t);for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];var a=y(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this,e].concat(o)));return a.getScrollLeft=a.getScrollLeft.bind(a),a.getScrollTop=a.getScrollTop.bind(a),a.getScrollWidth=a.getScrollWidth.bind(a),a.getScrollHeight=a.getScrollHeight.bind(a),a.getClientWidth=a.getClientWidth.bind(a),a.getClientHeight=a.getClientHeight.bind(a),a.getValues=a.getValues.bind(a),a.getThumbHorizontalWidth=a.getThumbHorizontalWidth.bind(a),a.getThumbVerticalHeight=a.getThumbVerticalHeight.bind(a),a.getScrollLeftForOffset=a.getScrollLeftForOffset.bind(a),a.getScrollTopForOffset=a.getScrollTopForOffset.bind(a),a.scrollLeft=a.scrollLeft.bind(a),a.scrollTop=a.scrollTop.bind(a),a.scrollToLeft=a.scrollToLeft.bind(a),a.scrollToTop=a.scrollToTop.bind(a),a.scrollToRight=a.scrollToRight.bind(a),a.scrollToBottom=a.scrollToBottom.bind(a),a.handleTrackMouseEnter=a.handleTrackMouseEnter.bind(a),a.handleTrackMouseLeave=a.handleTrackMouseLeave.bind(a),a.handleHorizontalTrackMouseDown=a.handleHorizontalTrackMouseDown.bind(a),a.handleVerticalTrackMouseDown=a.handleVerticalTrackMouseDown.bind(a),a.handleHorizontalThumbMouseDown=a.handleHorizontalThumbMouseDown.bind(a),a.handleVerticalThumbMouseDown=a.handleVerticalThumbMouseDown.bind(a),a.handleWindowResize=a.handleWindowResize.bind(a),a.handleScroll=a.handleScroll.bind(a),a.handleDrag=a.handleDrag.bind(a),a.handleDragEnd=a.handleDragEnd.bind(a),a.state={didMountUniversal:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,i.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var e=this.view||{},t=e.scrollLeft,r=void 0===t?0:t,n=e.scrollTop,o=void 0===n?0:n,i=e.scrollWidth,a=void 0===i?0:i,s=e.scrollHeight,l=void 0===s?0:s,c=e.clientWidth,u=void 0===c?0:c,d=e.clientHeight,p=void 0===d?0:d;return{left:r/(a-u)||0,top:o/(l-p)||0,scrollLeft:r,scrollTop:o,scrollWidth:a,scrollHeight:l,clientWidth:u,clientHeight:p}}},{key:"getThumbHorizontalWidth",value:function(){var e=this.props,t=e.thumbSize,r=e.thumbMinSize,n=this.view,o=n.scrollWidth,i=n.clientWidth,a=(0,f.default)(this.trackHorizontal),s=Math.ceil(i/o*a);return a<=s?0:t||Math.max(s,r)}},{key:"getThumbVerticalHeight",value:function(){var e=this.props,t=e.thumbSize,r=e.thumbMinSize,n=this.view,o=n.scrollHeight,i=n.clientHeight,a=(0,h.default)(this.trackVertical),s=Math.ceil(i/o*a);return a<=s?0:t||Math.max(s,r)}},{key:"getScrollLeftForOffset",value:function(e){var t=this.view,r=t.scrollWidth,n=t.clientWidth;return e/((0,f.default)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(r-n)}},{key:"getScrollTopForOffset",value:function(e){var t=this.view,r=t.scrollHeight,n=t.clientHeight;return e/((0,h.default)(this.trackVertical)-this.getThumbVerticalHeight())*(r-n)}},{key:"scrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollLeft=e)}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollTop=e)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,r=this.trackVertical,n=this.thumbHorizontal,o=this.thumbVertical;e.addEventListener("scroll",this.handleScroll),(0,d.default)()&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),r.addEventListener("mouseenter",this.handleTrackMouseEnter),r.addEventListener("mouseleave",this.handleTrackMouseLeave),r.addEventListener("mousedown",this.handleVerticalTrackMouseDown),n.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),o.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,r=this.trackVertical,n=this.thumbHorizontal,o=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),(0,d.default)()&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),r.removeEventListener("mouseenter",this.handleTrackMouseEnter),r.removeEventListener("mouseleave",this.handleTrackMouseLeave),r.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),n.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),o.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(e){var t=this,r=this.props,n=r.onScroll,o=r.onScrollFrame;n&&n(e),this.update((function(e){var r=e.scrollLeft,n=e.scrollTop;t.viewScrollLeft=r,t.viewScrollTop=n,o&&o(e)})),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){(0,d.default)(!1),this.forceUpdate()}},{key:"handleHorizontalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,r=e.clientX,n=t.getBoundingClientRect().left,o=this.getThumbHorizontalWidth(),i=Math.abs(n-r)-o/2;this.view.scrollLeft=this.getScrollLeftForOffset(i)}},{key:"handleVerticalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,r=e.clientY,n=t.getBoundingClientRect().top,o=this.getThumbVerticalHeight(),i=Math.abs(n-r)-o/2;this.view.scrollTop=this.getScrollTopForOffset(i)}},{key:"handleHorizontalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,r=e.clientX,n=t.offsetWidth,o=t.getBoundingClientRect().left;this.prevPageX=n-(r-o)}},{key:"handleVerticalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,r=e.clientY,n=t.offsetHeight,o=t.getBoundingClientRect().top;this.prevPageY=n-(r-o)}},{key:"setupDragging",value:function(){(0,s.default)(document.body,m.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=p.default}},{key:"teardownDragging",value:function(){(0,s.default)(document.body,m.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(e){if(this.prevPageX){var t=e.clientX,r=-this.trackHorizontal.getBoundingClientRect().left+t-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(r)}if(this.prevPageY){var n=e.clientY,o=-this.trackVertical.getBoundingClientRect().top+n-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(o)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,s.default)(this.trackHorizontal,{opacity:1}),(0,s.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout((function(){(0,s.default)(e.trackHorizontal,{opacity:0}),(0,s.default)(e.trackVertical,{opacity:0})}),t)}}},{key:"detectScrolling",value:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval((function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop}),100))}},{key:"raf",value:function(e){var t=this;this.requestFrame&&a.default.cancel(this.requestFrame),this.requestFrame=(0,a.default)((function(){t.requestFrame=void 0,e()}))}},{key:"update",value:function(e){var t=this;this.raf((function(){return t._update(e)}))}},{key:"_update",value:function(e){var t=this.props,r=t.onUpdate,n=t.hideTracksWhenNotNeeded,o=this.getValues();if((0,d.default)()){var i=o.scrollLeft,a=o.clientWidth,l=o.scrollWidth,c=(0,f.default)(this.trackHorizontal),u=this.getThumbHorizontalWidth(),p={width:u,transform:"translateX("+i/(l-a)*(c-u)+"px)"},m=o.scrollTop,g=o.clientHeight,v=o.scrollHeight,b=(0,h.default)(this.trackVertical),y=this.getThumbVerticalHeight(),w={height:y,transform:"translateY("+m/(v-g)*(b-y)+"px)"};if(n){var O={visibility:l>a?"visible":"hidden"},x={visibility:v>g?"visible":"hidden"};(0,s.default)(this.trackHorizontal,O),(0,s.default)(this.trackVertical,x)}(0,s.default)(this.thumbHorizontal,p),(0,s.default)(this.thumbVertical,w)}r&&r(o),"function"==typeof e&&e(o)}},{key:"render",value:function(){var e=this,t=(0,d.default)(),r=this.props,o=(r.onScroll,r.onScrollFrame,r.onScrollStart,r.onScrollStop,r.onUpdate,r.renderView),i=r.renderTrackHorizontal,a=r.renderTrackVertical,s=r.renderThumbHorizontal,c=r.renderThumbVertical,p=r.tagName,f=(r.hideTracksWhenNotNeeded,r.autoHide),h=(r.autoHideTimeout,r.autoHideDuration),g=(r.thumbSize,r.thumbMinSize,r.universal),v=r.autoHeight,b=r.autoHeightMin,y=r.autoHeightMax,w=r.style,O=r.children,x=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(r,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),_=this.state.didMountUniversal,E=n({},m.containerStyleDefault,v&&n({},m.containerStyleAutoHeight,{minHeight:b,maxHeight:y}),w),S=n({},m.viewStyleDefault,{marginRight:t?-t:0,marginBottom:t?-t:0},v&&n({},m.viewStyleAutoHeight,{minHeight:(0,u.default)(b)?"calc("+b+" + "+t+"px)":b+t,maxHeight:(0,u.default)(y)?"calc("+y+" + "+t+"px)":y+t}),v&&g&&!_&&{minHeight:b,maxHeight:y},g&&!_&&m.viewStyleUniversalInitial),k={transition:"opacity "+h+"ms",opacity:0},P=n({},m.trackHorizontalStyleDefault,f&&k,(!t||g&&!_)&&{display:"none"}),C=n({},m.trackVerticalStyleDefault,f&&k,(!t||g&&!_)&&{display:"none"});return(0,l.createElement)(p,n({},x,{style:E,ref:function(t){e.container=t}}),[(0,l.cloneElement)(o({style:S}),{key:"view",ref:function(t){e.view=t}},O),(0,l.cloneElement)(i({style:P}),{key:"trackHorizontal",ref:function(t){e.trackHorizontal=t}},(0,l.cloneElement)(s({style:m.thumbHorizontalStyleDefault}),{ref:function(t){e.thumbHorizontal=t}})),(0,l.cloneElement)(a({style:C}),{key:"trackVertical",ref:function(t){e.trackVertical=t}},(0,l.cloneElement)(c({style:m.thumbVerticalStyleDefault}),{ref:function(t){e.thumbVertical=t}}))])}}]),t}(l.Component);t.default=w,w.propTypes={onScroll:c.default.func,onScrollFrame:c.default.func,onScrollStart:c.default.func,onScrollStop:c.default.func,onUpdate:c.default.func,renderView:c.default.func,renderTrackHorizontal:c.default.func,renderTrackVertical:c.default.func,renderThumbHorizontal:c.default.func,renderThumbVertical:c.default.func,tagName:c.default.string,thumbSize:c.default.number,thumbMinSize:c.default.number,hideTracksWhenNotNeeded:c.default.bool,autoHide:c.default.bool,autoHideTimeout:c.default.number,autoHideDuration:c.default.number,autoHeight:c.default.bool,autoHeightMin:c.default.oneOfType([c.default.number,c.default.string]),autoHeightMax:c.default.oneOfType([c.default.number,c.default.string]),universal:c.default.bool,style:c.default.object,children:c.default.node},w.defaultProps={renderView:g.renderViewDefault,renderTrackHorizontal:g.renderTrackHorizontalDefault,renderTrackVertical:g.renderTrackVerticalDefault,renderThumbHorizontal:g.renderThumbHorizontalDefault,renderThumbVertical:g.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}},39106:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},t.containerStyleAutoHeight={height:"auto"},t.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},t.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},t.trackHorizontalStyleDefault={position:"absolute",height:6},t.trackVerticalStyleDefault={position:"absolute",width:6},t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},t.disableSelectStyle={userSelect:"none"},t.disableSelectStyleReset={userSelect:""}},19672:(e,t,r)=>{"use strict";var n,o=(n=r(5543))&&n.__esModule?n:{default:n};t.ZP=o.default,o.default},46045:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientHeight,r=getComputedStyle(e),n=r.paddingTop,o=r.paddingBottom;return t-parseFloat(n)-parseFloat(o)}},8028:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientWidth,r=getComputedStyle(e),n=r.paddingLeft,o=r.paddingRight;return t-parseFloat(n)-parseFloat(o)}},90845:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e&&!1!==i)return i;if("undefined"!=typeof document){var t=document.createElement("div");(0,o.default)(t,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(t),i=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}else i=0;return i||0};var n,o=(n=r(18575))&&n.__esModule?n:{default:n},i=!1},20430:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e}},81426:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!1}},54335:e=>{var t="undefined"!=typeof Element,r="function"==typeof Map,n="function"==typeof Set,o="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,l,c,u;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(l=s;0!=l--;)if(!i(e[l],a[l]))return!1;return!0}if(r&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!i(l.value[1],a.get(l.value[0])))return!1;return!0}if(n&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(l=s;0!=l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!i(e[c[l]],a[c[l]]))return!1;return!0}return e!=e&&a!=a}e.exports=function(e,t){try{return i(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},5464:(e,t,r)=>{e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=(n=r(2))&&n.__esModule?n:{default:n};t.default=o.default,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function o(e){return e&&e.__esModule?e:{default:e}}t.default=c;var i=r(3),a=o(r(4)),s=r(14),l=o(r(15));function c(e){var t=e.activeClassName,r=void 0===t?"":t,o=e.activeIndex,a=void 0===o?-1:o,c=e.activeStyle,u=e.autoEscape,d=e.caseSensitive,p=void 0!==d&&d,f=e.className,h=e.findChunks,m=e.highlightClassName,g=void 0===m?"":m,v=e.highlightStyle,b=void 0===v?{}:v,y=e.highlightTag,w=void 0===y?"mark":y,O=e.sanitize,x=e.searchWords,_=e.textToHighlight,E=e.unhighlightClassName,S=void 0===E?"":E,k=e.unhighlightStyle,P=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightClassName","unhighlightStyle"]),C=(0,i.findAll)({autoEscape:u,caseSensitive:p,findChunks:h,sanitize:O,searchWords:x,textToHighlight:_}),T=w,D=-1,I="",A=void 0,j=(0,l.default)((function(e){var t={};for(var r in e)t[r.toLowerCase()]=e[r];return t}));return(0,s.createElement)("span",n({className:f},P,{children:C.map((function(e,t){var n=_.substr(e.start,e.end-e.start);if(e.highlight){D++;var o;o="object"==typeof g?p?g[n]:(g=j(g))[n.toLowerCase()]:g;var i=D===+a;I=o+" "+(i?r:""),A=!0===i&&null!=c?Object.assign({},b,c):b;var l={children:n,className:I,key:t,style:A};return"string"!=typeof T&&(l.highlightIndex=D),(0,s.createElement)(T,l)}return(0,s.createElement)("span",{children:n,className:S,key:t,style:k})}))}))}c.propTypes={activeClassName:a.default.string,activeIndex:a.default.number,activeStyle:a.default.object,autoEscape:a.default.bool,className:a.default.string,findChunks:a.default.func,highlightClassName:a.default.oneOfType([a.default.object,a.default.string]),highlightStyle:a.default.object,highlightTag:a.default.oneOfType([a.default.node,a.default.func,a.default.string]),sanitize:a.default.func,searchWords:a.default.arrayOf(a.default.oneOfType([a.default.string,a.default.instanceOf(RegExp)])).isRequired,textToHighlight:a.default.string.isRequired,unhighlightClassName:a.default.string,unhighlightStyle:a.default.object},e.exports=t.default},function(e,t){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);Object.defineProperty(t,"combineChunks",{enumerable:!0,get:function(){return n.combineChunks}}),Object.defineProperty(t,"fillInChunks",{enumerable:!0,get:function(){return n.fillInChunks}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return n.findAll}}),Object.defineProperty(t,"findChunks",{enumerable:!0,get:function(){return n.findChunks}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=function(e){var t=e.autoEscape,i=e.caseSensitive,a=void 0!==i&&i,s=e.findChunks,l=void 0===s?n:s,c=e.sanitize,u=e.searchWords,d=e.textToHighlight;return o({chunksToHighlight:r({chunks:l({autoEscape:t,caseSensitive:a,sanitize:c,searchWords:u,textToHighlight:d})}),totalLength:d?d.length:0})};var r=t.combineChunks=function(e){var t=e.chunks;return t.sort((function(e,t){return e.start-t.start})).reduce((function(e,t){if(0===e.length)return[t];var r=e.pop();if(t.start<=r.end){var n=Math.max(r.end,t.end);e.push({start:r.start,end:n})}else e.push(r,t);return e}),[])},n=function(e){var t=e.autoEscape,r=e.caseSensitive,n=e.sanitize,o=void 0===n?i:n,a=e.searchWords,s=e.textToHighlight;return s=o(s),a.filter((function(e){return e})).reduce((function(e,n){n=o(n),t&&(n=n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"));for(var i=new RegExp(n,r?"g":"gi"),a=void 0;a=i.exec(s);){var l=a.index,c=i.lastIndex;c>l&&e.push({start:l,end:c}),a.index==i.lastIndex&&i.lastIndex++}return e}),[])};t.findChunks=n;var o=t.fillInChunks=function(e){var t=e.chunksToHighlight,r=e.totalLength,n=[],o=function(e,t,r){t-e>0&&n.push({start:e,end:t,highlight:r})};if(0===t.length)o(0,r,!1);else{var i=0;t.forEach((function(e){o(i,e.start,!1),o(e.start,e.end,!0),i=e.end})),o(i,r,!1)}return n};function i(e){return e}}])},function(e,t,r){(function(t){if("production"!==t.env.NODE_ENV){var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r(6)((function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}),!0)}else e.exports=r(13)()}).call(t,r(5))},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){(function(t){"use strict";var n=r(7),o=r(8),i=r(9),a=r(10),s=r(11),l=r(12);e.exports=function(e,r){var c="function"==typeof Symbol&&Symbol.iterator,u="<<anonymous>>",d={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:f(n.thatReturnsNull),arrayOf:function(e){return f((function(t,r,n,o,i){if("function"!=typeof e)return new p("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var a=t[r];if(!Array.isArray(a))return new p("Invalid "+o+" `"+i+"` of type `"+g(a)+"` supplied to `"+n+"`, expected an array.");for(var l=0;l<a.length;l++){var c=e(a,l,n,o,i+"["+l+"]",s);if(c instanceof Error)return c}return null}))},element:f((function(t,r,n,o,i){var a=t[r];return e(a)?null:new p("Invalid "+o+" `"+i+"` of type `"+g(a)+"` supplied to `"+n+"`, expected a single ReactElement.")})),instanceOf:function(e){return f((function(t,r,n,o,i){if(!(t[r]instanceof e)){var a=e.name||u;return new p("Invalid "+o+" `"+i+"` of type `"+((s=t[r]).constructor&&s.constructor.name?s.constructor.name:u)+"` supplied to `"+n+"`, expected instance of `"+a+"`.")}var s;return null}))},node:f((function(e,t,r,n,o){return m(e[t])?null:new p("Invalid "+n+" `"+o+"` supplied to `"+r+"`, expected a ReactNode.")})),objectOf:function(e){return f((function(t,r,n,o,i){if("function"!=typeof e)return new p("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var a=t[r],l=g(a);if("object"!==l)return new p("Invalid "+o+" `"+i+"` of type `"+l+"` supplied to `"+n+"`, expected an object.");for(var c in a)if(a.hasOwnProperty(c)){var u=e(a,c,n,o,i+"."+c,s);if(u instanceof Error)return u}return null}))},oneOf:function(e){return Array.isArray(e)?f((function(t,r,n,o,i){for(var a=t[r],s=0;s<e.length;s++)if(l=a,c=e[s],l===c?0!==l||1/l==1/c:l!=l&&c!=c)return null;var l,c;return new p("Invalid "+o+" `"+i+"` of value `"+a+"` supplied to `"+n+"`, expected one of "+JSON.stringify(e)+".")})):("production"!==t.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOf, expected an instance of array."),n.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&i(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),n.thatReturnsNull;for(var r=0;r<e.length;r++){var o=e[r];if("function"!=typeof o)return i(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",b(o),r),n.thatReturnsNull}return f((function(t,r,n,o,i){for(var a=0;a<e.length;a++)if(null==(0,e[a])(t,r,n,o,i,s))return null;return new p("Invalid "+o+" `"+i+"` supplied to `"+n+"`.")}))},shape:function(e){return f((function(t,r,n,o,i){var a=t[r],l=g(a);if("object"!==l)return new p("Invalid "+o+" `"+i+"` of type `"+l+"` supplied to `"+n+"`, expected `object`.");for(var c in e){var u=e[c];if(u){var d=u(a,c,n,o,i+"."+c,s);if(d)return d}}return null}))},exact:function(e){return f((function(t,r,n,o,i){var l=t[r],c=g(l);if("object"!==c)return new p("Invalid "+o+" `"+i+"` of type `"+c+"` supplied to `"+n+"`, expected `object`.");var u=a({},t[r],e);for(var d in u){var f=e[d];if(!f)return new p("Invalid "+o+" `"+i+"` key `"+d+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(t[r],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=f(l,d,n,o,i+"."+d,s);if(h)return h}return null}))}};function p(e){this.message=e,this.stack=""}function f(e){if("production"!==t.env.NODE_ENV)var n={},a=0;function l(l,c,d,f,h,m,g){if(f=f||u,m=m||d,g!==s)if(r)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var v=f+":"+d;!n[v]&&a<3&&(i(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",m,f),n[v]=!0,a++)}return null==c[d]?l?null===c[d]?new p("The "+h+" `"+m+"` is marked as required in `"+f+"`, but its value is `null`."):new p("The "+h+" `"+m+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(c,d,f,h,m)}var c=l.bind(null,!1);return c.isRequired=l.bind(null,!0),c}function h(e){return f((function(t,r,n,o,i,a){var s=t[r];return g(s)!==e?new p("Invalid "+o+" `"+i+"` of type `"+v(s)+"` supplied to `"+n+"`, expected `"+e+"`."):null}))}function m(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(m);if(null===t||e(t))return!0;var r=function(e){var t=e&&(c&&e[c]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!r)return!1;var n,o=r.call(t);if(r!==t.entries){for(;!(n=o.next()).done;)if(!m(n.value))return!1}else for(;!(n=o.next()).done;){var i=n.value;if(i&&!m(i[1]))return!1}return!0;default:return!1}}function g(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function v(e){if(null==e)return""+e;var t=g(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function b(e){var t=v(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return p.prototype=Error.prototype,d.checkPropTypes=l,d.PropTypes=d,d}}).call(t,r(5))},function(e,t){"use strict";function r(e){return function(){return e}}var n=function(){};n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){(function(t){"use strict";var r=function(e){};"production"!==t.env.NODE_ENV&&(r=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=function(e,t,n,o,i,a,s,l){if(r(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,o,i,a,s,l],d=0;(c=new Error(t.replace(/%s/g,(function(){return u[d++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}}).call(t,r(5))},function(e,t,r){(function(t){"use strict";var n=r(7);if("production"!==t.env.NODE_ENV){var o=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=0,i="Warning: "+e.replace(/%s/g,(function(){return r[o++]}));"undefined"!=typeof console&&console.error(i);try{throw new Error(i)}catch(e){}};n=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];o.apply(void 0,[t].concat(n))}}}e.exports=n}).call(t,r(5))},function(e,t){"use strict";var r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var a,s,l=i(e),c=1;c<arguments.length;c++){for(var u in a=Object(arguments[c]))n.call(a,u)&&(l[u]=a[u]);if(r){s=r(a);for(var d=0;d<s.length;d++)o.call(a,s[d])&&(l[s[d]]=a[s[d]])}}return l}},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){(function(t){"use strict";if("production"!==t.env.NODE_ENV)var n=r(8),o=r(9),i=r(11),a={};e.exports=function(e,r,s,l,c){if("production"!==t.env.NODE_ENV)for(var u in e)if(e.hasOwnProperty(u)){var d;try{n("function"==typeof e[u],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",l||"React class",s,u,typeof e[u]),d=e[u](r,u,l,s,null,i)}catch(e){d=e}if(o(!d||d instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",l||"React class",s,u,typeof d),d instanceof Error&&!(d.message in a)){a[d.message]=!0;var p=c?c():"";o(!1,"Failed %s type: %s%s",s,d.message,null!=p?p:"")}}}}).call(t,r(5))},function(e,t,r){"use strict";var n=r(7),o=r(8),i=r(11);e.exports=function(){function e(e,t,r,n,a,s){s!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=n,r.PropTypes=r,r}},function(e,t){e.exports=r(12650)},function(e,t){"use strict";var r=function(e,t){return e===t};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=void 0,o=[],i=void 0,a=!1,s=function(e,r){return t(e,o[r])},l=function(){for(var t=arguments.length,r=Array(t),l=0;l<t;l++)r[l]=arguments[l];return a&&n===this&&r.length===o.length&&r.every(s)?i:(a=!0,n=this,o=r,i=e.apply(this,r))};return l}}])},58702:(e,t)=>{"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function O(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case d:case i:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case m:case l:return e;default:return t}}case o:return t}}}function x(e){return O(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=n,t.ForwardRef=p,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return x(e)||O(e)===u},t.isConcurrentMode=x,t.isContextConsumer=function(e){return O(e)===c},t.isContextProvider=function(e){return O(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return O(e)===p},t.isFragment=function(e){return O(e)===i},t.isLazy=function(e){return O(e)===g},t.isMemo=function(e){return O(e)===m},t.isPortal=function(e){return O(e)===o},t.isProfiler=function(e){return O(e)===s},t.isStrictMode=function(e){return O(e)===a},t.isSuspense=function(e){return O(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===s||e===a||e===f||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===b||e.$$typeof===y||e.$$typeof===w||e.$$typeof===v)},t.typeOf=O},19185:(e,t,r)=>{"use strict";e.exports=r(58702)},73729:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNavigator=t.isBrowser=t.off=t.on=t.noop=void 0,t.noop=function(){},t.on=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.addEventListener&&e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)},t.isBrowser="undefined"!=typeof window,t.isNavigator="undefined"!=typeof navigator},35777:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12650),o=r(73729).isBrowser?n.useLayoutEffect:n.useEffect;t.default=o},69218:(e,t,r)=>{"use strict";var n=r(59312),o=r(12650),i=n.__importDefault(r(35777)),a=r(73729),s={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};t.Z=a.isBrowser&&void 0!==window.ResizeObserver?function(){var e=o.useState(null),t=e[0],r=e[1],n=o.useState(s),a=n[0],l=n[1],c=o.useMemo((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect,r=t.x,n=t.y,o=t.width,i=t.height,a=t.top,s=t.left,c=t.bottom,u=t.right;l({x:r,y:n,width:o,height:i,top:a,left:s,bottom:c,right:u})}}))}),[]);return i.default((function(){if(t)return c.observe(t),function(){c.disconnect()}}),[t]),[r,a]}:function(){return[a.noop,s]}},83198:(e,t,r)=>{var n;!function(o){var i=/^\s+/,a=/\s+$/,s=0,l=o.round,c=o.min,u=o.max,d=o.random;function p(e,t){if(t=t||{},(e=e||"")instanceof p)return e;if(!(this instanceof p))return new p(e,t);var r=function(e){var t,r,n,s={r:0,g:0,b:0},l=1,d=null,p=null,f=null,h=!1,m=!1;return"string"==typeof e&&(e=function(e){e=e.replace(i,"").replace(a,"").toLowerCase();var t,r=!1;if(D[e])e=D[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=B.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=B.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=B.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=B.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=B.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=B.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=B.hex8.exec(e))?{r:N(t[1]),g:N(t[2]),b:N(t[3]),a:V(t[4]),format:r?"name":"hex8"}:(t=B.hex6.exec(e))?{r:N(t[1]),g:N(t[2]),b:N(t[3]),format:r?"name":"hex"}:(t=B.hex4.exec(e))?{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),a:V(t[4]+""+t[4]),format:r?"name":"hex8"}:!!(t=B.hex3.exec(e))&&{r:N(t[1]+""+t[1]),g:N(t[2]+""+t[2]),b:N(t[3]+""+t[3]),format:r?"name":"hex"}}(e)),"object"==typeof e&&(H(e.r)&&H(e.g)&&H(e.b)?(t=e.r,r=e.g,n=e.b,s={r:255*j(t,255),g:255*j(r,255),b:255*j(n,255)},h=!0,m="%"===String(e.r).substr(-1)?"prgb":"rgb"):H(e.h)&&H(e.s)&&H(e.v)?(d=L(e.s),p=L(e.v),s=function(e,t,r){e=6*j(e,360),t=j(t,100),r=j(r,100);var n=o.floor(e),i=e-n,a=r*(1-t),s=r*(1-i*t),l=r*(1-(1-i)*t),c=n%6;return{r:255*[r,s,a,a,l,r][c],g:255*[l,r,r,s,a,a][c],b:255*[a,a,l,r,r,s][c]}}(e.h,d,p),h=!0,m="hsv"):H(e.h)&&H(e.s)&&H(e.l)&&(d=L(e.s),f=L(e.l),s=function(e,t,r){var n,o,i;function a(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=j(e,360),t=j(t,100),r=j(r,100),0===t)n=o=i=r;else{var s=r<.5?r*(1+t):r+t-r*t,l=2*r-s;n=a(l,s,e+1/3),o=a(l,s,e),i=a(l,s,e-1/3)}return{r:255*n,g:255*o,b:255*i}}(e.h,d,f),h=!0,m="hsl"),e.hasOwnProperty("a")&&(l=e.a)),l=A(l),{ok:h,format:e.format||m,r:c(255,u(s.r,0)),g:c(255,u(s.g,0)),b:c(255,u(s.b,0)),a:l}}(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=l(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=r.ok,this._tc_id=s++}function f(e,t,r){e=j(e,255),t=j(t,255),r=j(r,255);var n,o,i=u(e,t,r),a=c(e,t,r),s=(i+a)/2;if(i==a)n=o=0;else{var l=i-a;switch(o=s>.5?l/(2-i-a):l/(i+a),i){case e:n=(t-r)/l+(t<r?6:0);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:o,l:s}}function h(e,t,r){e=j(e,255),t=j(t,255),r=j(r,255);var n,o,i=u(e,t,r),a=c(e,t,r),s=i,l=i-a;if(o=0===i?0:l/i,i==a)n=0;else{switch(i){case e:n=(t-r)/l+(t<r?6:0);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:o,v:s}}function m(e,t,r,n){var o=[R(l(e).toString(16)),R(l(t).toString(16)),R(l(r).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function g(e,t,r,n){return[R($(n)),R(l(e).toString(16)),R(l(t).toString(16)),R(l(r).toString(16))].join("")}function v(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.s-=t/100,r.s=M(r.s),p(r)}function b(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.s+=t/100,r.s=M(r.s),p(r)}function y(e){return p(e).desaturate(100)}function w(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.l+=t/100,r.l=M(r.l),p(r)}function O(e,t){t=0===t?0:t||10;var r=p(e).toRgb();return r.r=u(0,c(255,r.r-l(-t/100*255))),r.g=u(0,c(255,r.g-l(-t/100*255))),r.b=u(0,c(255,r.b-l(-t/100*255))),p(r)}function x(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.l-=t/100,r.l=M(r.l),p(r)}function _(e,t){var r=p(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,p(r)}function E(e){var t=p(e).toHsl();return t.h=(t.h+180)%360,p(t)}function S(e){var t=p(e).toHsl(),r=t.h;return[p(e),p({h:(r+120)%360,s:t.s,l:t.l}),p({h:(r+240)%360,s:t.s,l:t.l})]}function k(e){var t=p(e).toHsl(),r=t.h;return[p(e),p({h:(r+90)%360,s:t.s,l:t.l}),p({h:(r+180)%360,s:t.s,l:t.l}),p({h:(r+270)%360,s:t.s,l:t.l})]}function P(e){var t=p(e).toHsl(),r=t.h;return[p(e),p({h:(r+72)%360,s:t.s,l:t.l}),p({h:(r+216)%360,s:t.s,l:t.l})]}function C(e,t,r){t=t||6,r=r||30;var n=p(e).toHsl(),o=360/r,i=[p(e)];for(n.h=(n.h-(o*t>>1)+720)%360;--t;)n.h=(n.h+o)%360,i.push(p(n));return i}function T(e,t){t=t||6;for(var r=p(e).toHsv(),n=r.h,o=r.s,i=r.v,a=[],s=1/t;t--;)a.push(p({h:n,s:o,v:i})),i=(i+s)%1;return a}p.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n=this.toRgb();return e=n.r/255,t=n.g/255,r=n.b/255,.2126*(e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:o.pow((t+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:o.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=A(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=h(this._r,this._g,this._b),t=l(360*e.h),r=l(100*e.s),n=l(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=f(this._r,this._g,this._b),t=l(360*e.h),r=l(100*e.s),n=l(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,r,n,o){var i=[R(l(e).toString(16)),R(l(t).toString(16)),R(l(r).toString(16)),R($(n))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*j(this._r,255))+"%",g:l(100*j(this._g,255))+"%",b:l(100*j(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*j(this._r,255))+"%, "+l(100*j(this._g,255))+"%, "+l(100*j(this._b,255))+"%)":"rgba("+l(100*j(this._r,255))+"%, "+l(100*j(this._g,255))+"%, "+l(100*j(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(I[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+g(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var o=p(e);r="#"+g(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return p(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(O,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(E,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(P,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},p.fromRatio=function(e,t){if("object"==typeof e){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]="a"===n?e[n]:L(e[n]));e=r}return p(e,t)},p.equals=function(e,t){return!(!e||!t)&&p(e).toRgbString()==p(t).toRgbString()},p.random=function(){return p.fromRatio({r:d(),g:d(),b:d()})},p.mix=function(e,t,r){r=0===r?0:r||50;var n=p(e).toRgb(),o=p(t).toRgb(),i=r/100;return p({r:(o.r-n.r)*i+n.r,g:(o.g-n.g)*i+n.g,b:(o.b-n.b)*i+n.b,a:(o.a-n.a)*i+n.a})},p.readability=function(e,t){var r=p(e),n=p(t);return(o.max(r.getLuminance(),n.getLuminance())+.05)/(o.min(r.getLuminance(),n.getLuminance())+.05)},p.isReadable=function(e,t,r){var n,o,i,a,s,l=p.readability(e,t);switch(o=!1,(i=r,"AA"!==(a=((i=i||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==a&&(a="AA"),"small"!==(s=(i.size||"small").toLowerCase())&&"large"!==s&&(s="small"),n={level:a,size:s}).level+n.size){case"AAsmall":case"AAAlarge":o=l>=4.5;break;case"AAlarge":o=l>=3;break;case"AAAsmall":o=l>=7}return o},p.mostReadable=function(e,t,r){var n,o,i,a,s=null,l=0;o=(r=r||{}).includeFallbackColors,i=r.level,a=r.size;for(var c=0;c<t.length;c++)(n=p.readability(e,t[c]))>l&&(l=n,s=p(t[c]));return p.isReadable(e,s,{level:i,size:a})||!o?s:(r.includeFallbackColors=!1,p.mostReadable(e,["#fff","#000"],r))};var D=p.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},I=p.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(D);function A(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function j(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=c(t,u(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),o.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function M(e){return c(1,u(0,e))}function N(e){return parseInt(e,16)}function R(e){return 1==e.length?"0"+e:""+e}function L(e){return e<=1&&(e=100*e+"%"),e}function $(e){return o.round(255*parseFloat(e)).toString(16)}function V(e){return N(e)/255}var z,F,q,B=(F="[\\s|\\(]+("+(z="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",q="[\\s|\\(]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",{CSS_UNIT:new RegExp(z),rgb:new RegExp("rgb"+F),rgba:new RegExp("rgba"+q),hsl:new RegExp("hsl"+F),hsla:new RegExp("hsla"+q),hsv:new RegExp("hsv"+F),hsva:new RegExp("hsva"+q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function H(e){return!!B.CSS_UNIT.exec(e)}e.exports?e.exports=p:void 0===(n=function(){return p}.call(t,r,t,e))||(e.exports=n)}(Math)},87602:(e,t,r)=>{var n=r(92746);e.exports=function(e){return n(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},67519:e=>{e.exports=function(e){return t.test(e)?e.toLowerCase():r.test(e)?(function(e){return e.replace(o,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():n.test(e)?function(e){return e.replace(i,(function(e,t,r){return t+" "+r.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var t=/\s/,r=/(_|-|\.|:)/,n=/([a-z][A-Z]|[A-Z][a-z])/,o=/[\W_]+(.|$)/g,i=/(.)([A-Z]+)/g},92746:(e,t,r)=>{var n=r(67519);e.exports=function(e){return n(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},59312:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>i,__asyncDelegator:()=>O,__asyncGenerator:()=>w,__asyncValues:()=>x,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>P,__classPrivateFieldIn:()=>T,__classPrivateFieldSet:()=>C,__createBinding:()=>p,__decorate:()=>s,__exportStar:()=>f,__extends:()=>o,__generator:()=>d,__importDefault:()=>k,__importStar:()=>S,__makeTemplateObject:()=>_,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArray:()=>b,__spreadArrays:()=>v,__values:()=>h});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function s(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function l(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))}function d(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var p=Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function f(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||p(t,e,r)}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}function b(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function w(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{(r=o[e](t)).value instanceof y?Promise.resolve(r.value.v).then(l,c):u(i[0][2],r)}catch(e){u(i[0][3],e)}var r}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function O(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:y(e[n](t)),done:"return"===n}:o?o(t):t}:o}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=h(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var E=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&p(t,e,r);return E(t,e),t}function k(e){return e&&e.__esModule?e:{default:e}}function P(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function C(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r}function T(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}},57644:e=>{"use strict";e.exports=i},43305:t=>{"use strict";t.exports=e},93545:e=>{"use strict";e.exports=r},27388:e=>{"use strict";e.exports=s},38200:e=>{"use strict";e.exports=p},55980:e=>{"use strict";e.exports=n},38283:e=>{"use strict";e.exports=f},93342:e=>{"use strict";e.exports=a},12650:e=>{"use strict";e.exports=t},12729:e=>{"use strict";e.exports=o},43929:e=>{"use strict";e.exports=c},13129:e=>{"use strict";e.exports=l},71177:e=>{"use strict";e.exports=d},20604:e=>{"use strict";e.exports=u}},g={};function v(e){var t=g[e];if(void 0!==t)return t.exports;var r=g[e]={id:e,loaded:!1,exports:{}};return m[e].call(r.exports,r,r.exports,v),r.loaded=!0,r.exports}v.m=m,v.amdO={},v.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return v.d(t,{a:t}),t},v.d=(e,t)=>{for(var r in t)v.o(t,r)&&!v.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},v.f={},v.e=e=>Promise.all(Object.keys(v.f).reduce(((t,r)=>(v.f[r](e,t),t)),[])),v.u=e=>e+".js",v.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),v.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),h={},v.l=(e,t,r,n)=>{if(h[e])h[e].push(t);else{var o,i;if(void 0!==r)for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var l=a[s];if(l.getAttribute("src")==e){o=l;break}}o||(i=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,v.nc&&o.setAttribute("nonce",v.nc),o.src=e),h[e]=[t];var c=(t,r)=>{o.onerror=o.onload=null,clearTimeout(u);var n=h[e];if(delete h[e],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((e=>e(r))),t)return t(r)},u=setTimeout(c.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=c.bind(null,o.onerror),o.onload=c.bind(null,o.onload),i&&document.head.appendChild(o)}},v.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},v.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),v.p="/public/plugins/victoria-metrics/",(()=>{v.b=document.baseURI||self.location.href;var e={1261:0};v.f.j=(t,r)=>{var n=v.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>n=e[t]=[r,o]));r.push(n[2]=o);var i=v.p+v.u(t),a=new Error;v.l(i,(r=>{if(v.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,n[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[i,a,s]=r,l=0;if(i.some((t=>0!==e[t]))){for(n in a)v.o(a,n)&&(v.m[n]=a[n]);s&&s(v)}for(t&&t(r);l<i.length;l++)o=i[l],v.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),v.nc=void 0;var b={};return(()=>{"use strict";v.r(b),v.d(b,{plugin:()=>XH});var e={};v.r(e),v.d(e,{getChildId:()=>$m,renderOrCallToRender:()=>Vm});var t=v(43305),r=v(12650),n=v.n(r);const o=[{title:"Request Rate",expression:"rate(http_request_total[5m])",label:"Given an HTTP request counter, this query calculates the per-second average request rate over the last 5 minutes."},{title:"95th Percentile of Request Latencies",expression:"histogram_quantile(0.95, sum(rate(prometheus_http_request_duration_seconds_bucket[5m])) by (le))",label:"Calculates the 95th percentile of HTTP request rate over 5 minute windows."},{title:"Alerts Firing",expression:'sort_desc(sum(sum_over_time(ALERTS{alertstate="firing"}[24h])) by (alertname))',label:"Sums up the alerts that have been firing over the last 24 hours."},{title:"Step",label:"Defines the graph resolution using a duration format (15s, 1m, 3h, ...). Small steps create high-resolution graphs but can be slow over larger time ranges. Using a longer step lowers the resolution and smooths the graph by producing fewer datapoints. If no step is given the resolution is calculated automatically."}];var i=v(93545),a=v(57644),s=v(17667),l=v(55839),c=v.n(l),u=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function d(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!((n=e[r])===(o=t[r])||u(n)&&u(o)))return!1;var n,o;return!0}function p(e,t){void 0===t&&(t=d);var r=null;function n(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(r&&r.lastThis===this&&t(n,r.lastArgs))return r.lastResult;var i=e.apply(this,n);return r={lastResult:i,lastArgs:n,lastThis:this},i}return n.clear=function(){r=null},n}function f(e){return p(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}const m=new WeakMap,g=n().createContext((0,t.createTheme)());g.displayName="ThemeContext";const y=e=>{const t=t=>{const r=g;return n().createElement(r.Consumer,null,(r=>n().createElement(e,h({},t,{theme:r}))))};return t.displayName=`WithTheme(${e.displayName})`,c()(t,e),t};function w(){return(0,r.useContext)(g)}function O(e){const t=w();let r=m.get(e);return r||(r=f(e),m.set(e,r)),r(t)}function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x.apply(this,arguments)}var _;!function(e){e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical"}(_||(_={}));const E=e=>{var{children:t,orientation:o=_.Horizontal,spacing:i="sm",justify:a="flex-start",align:s="normal",wrap:l=!1,width:c="100%",height:u="100%"}=e,d=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["children","orientation","spacing","justify","align","wrap","width","height"]);const p=O((0,r.useCallback)((e=>k(e,o,i,a,s,l)),[s,a,o,i,l]));return n().createElement("div",x({className:p.layout,style:{width:c,height:u}},d),n().Children.toArray(t).filter(Boolean).map(((e,t)=>n().createElement("div",{className:p.childWrapper,key:t},e))))},S=({children:e,spacing:t,justify:r,align:o="center",wrap:i,width:a,height:s})=>n().createElement(E,{spacing:t,justify:r,orientation:_.Horizontal,align:o,width:a,height:s,wrap:i},e),k=(e,t,r,n,o,i)=>{const s="none"!==r?e.spacing(P[r]):0,l=t===_.Horizontal&&!i||t===_.Vertical?0:`-${s}`,c=t===_.Vertical?"vertical-group":"horizontal-group";return{layout:a.css`
      label: ${c};
      display: flex;
      flex-direction: ${t===_.Vertical?"column":"row"};
      flex-wrap: ${i?"wrap":"nowrap"};
      justify-content: ${n};
      align-items: ${o};
      height: 100%;
      max-width: 100%;
      // compensate for last row margin when wrapped, horizontal layout
      margin-bottom: ${l};
    `,childWrapper:a.css`
      label: layoutChildrenWrapper;
      margin-bottom: ${t!==_.Horizontal||i?s:0};
      margin-right: ${t===_.Horizontal?s:0};
      display: flex;
      align-items: ${o};

      &:last-child {
        margin-bottom: ${t===_.Vertical&&0};
        margin-right: ${t===_.Horizontal&&0};
      }
    `}},P={none:0,xs:.5,sm:1,md:2,lg:3};var C=v(69218),T=v(83198),D=v.n(T);const I=e=>{const t=(e=>e.hasOwnProperty("v1"))(e);return`\n  outline: 2px dotted transparent;\n  outline-offset: 2px;\n  box-shadow: 0 0 0 2px ${t?e.colors.background.canvas:e.colors.bodyBg}, 0 0 0px 4px ${t?e.colors.primary.main:e.colors.formFocusOutline};\n  transition-property: outline, outline-offset, box-shadow;\n  transition-duration: 0.2s;\n  transition-timing-function: cubic-bezier(0.19, 1, 0.22, 1);`};function A(e){return{outline:"2px dotted transparent",outlineOffset:"2px",boxShadow:`0 0 0 2px ${e.colors.background.canvas}, 0 0 0px 4px ${e.colors.primary.main}`,transitionTimingFunction:"cubic-bezier(0.19, 1, 0.22, 1)",transitionDuration:"0.2s",transitionProperty:"outline, outline-offset, box-shadow"}}const j=e=>a.css`
  &:focus {
    ${I(e)}
  }
`,M=(e,t=!1)=>{const r=t?e.colors.error.border:e.components.input.borderColor,n=t?e.colors.error.shade:e.components.input.borderHover,o=e.components.input.background,i=e.components.input.text,s=e.isDark?"#2e2f35":"#bab4ca";return(0,a.cx)(N(e),a.css`
      background: ${o};
      line-height: ${e.typography.body.lineHeight};
      font-size: ${e.typography.size.md};
      color: ${i};
      border: 1px solid ${r};

      &:-webkit-autofill,
      &:-webkit-autofill:hover {
        /* Welcome to 2005. This is a HACK to get rid od Chromes default autofill styling */
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0), inset 0 0 0 100px ${o}!important;
        -webkit-text-fill-color: ${i} !important;
        border-color: ${s};
      }

      &:-webkit-autofill:focus {
        /* Welcome to 2005. This is a HACK to get rid od Chromes default autofill styling */
        box-shadow: 0 0 0 2px ${e.colors.background.primary}, 0 0 0px 4px ${e.colors.primary.main},
          inset 0 0 0 1px rgba(255, 255, 255, 0), inset 0 0 0 100px ${o}!important;
        -webkit-text-fill-color: ${i} !important;
      }

      &:hover {
        border-color: ${n};
      }

      &:focus {
        outline: none;
      }

      &:disabled {
        background-color: ${e.colors.action.disabledBackground};
        color: ${e.colors.action.disabledText};
        border: 1px solid ${e.colors.action.disabledBackground};

        &:hover {
          border-color: ${r};
        }
      }

      &::placeholder {
        color: ${e.colors.text.disabled};
        opacity: 1;
      }
    `)},N=e=>a.css`
    padding: ${e.spacing(0,1,0,1)};
  `;function R(e,t){switch(e){case"sm":return{padding:1,fontSize:t.typography.size.sm,height:t.components.height.sm};case"lg":return{padding:3,fontSize:t.typography.size.lg,height:t.components.height.lg};default:return{padding:2,fontSize:t.typography.size.md,height:t.components.height.md}}}const L={google:!0,microsoft:!0,github:!0,gitlab:!0,okta:!0,anchor:!0,"angle-double-down":!0,"angle-double-right":!0,"angle-double-up":!0,"angle-down":!0,"angle-left":!0,"angle-right":!0,"angle-up":!0,apps:!0,arrow:!0,"arrow-down":!0,"arrow-from-right":!0,"arrow-left":!0,"arrow-random":!0,"arrow-right":!0,"arrow-up":!0,"arrows-h":!0,"arrows-v":!0,backward:!0,bars:!0,bell:!0,"bell-slash":!0,bolt:!0,book:!0,bookmark:!0,"book-open":!0,"brackets-curly":!0,bug:!0,building:!0,"calculator-alt":!0,"calendar-alt":!0,camera:!0,capture:!0,"channel-add":!0,"chart-line":!0,check:!0,"check-circle":!0,"check-square":!0,circle:!0,"clipboard-alt":!0,"clock-nine":!0,cloud:!0,"cloud-download":!0,"cloud-upload":!0,"code-branch":!0,cog:!0,columns:!0,"comment-alt":!0,"comment-alt-message":!0,"comment-alt-share":!0,"comments-alt":!0,compass:!0,copy:!0,"credit-card":!0,cube:!0,dashboard:!0,database:!0,"document-info":!0,"download-alt":!0,draggabledots:!0,edit:!0,"ellipsis-v":!0,envelope:!0,"exchange-alt":!0,"exclamation-triangle":!0,"exclamation-circle":!0,"external-link-alt":!0,eye:!0,"eye-slash":!0,"ellipsis-h":!0,"fa fa-spinner":!0,favorite:!0,"file-alt":!0,"file-blank":!0,"file-copy-alt":!0,filter:!0,folder:!0,font:!0,fire:!0,"folder-open":!0,"folder-plus":!0,"folder-upload":!0,forward:!0,"gf-bar-alignment-after":!0,"gf-bar-alignment-before":!0,"gf-bar-alignment-center":!0,"gf-glue":!0,"gf-grid":!0,"gf-interpolation-linear":!0,"gf-interpolation-smooth":!0,"gf-interpolation-step-after":!0,"gf-interpolation-step-before":!0,"gf-landscape":!0,"gf-layout-simple":!0,"gf-logs":!0,"gf-portrait":!0,"gf-service-account":!0,grafana:!0,"graph-bar":!0,heart:!0,"heart-break":!0,history:!0,home:!0,"home-alt":!0,"horizontal-align-center":!0,"horizontal-align-left":!0,"horizontal-align-right":!0,hourglass:!0,import:!0,info:!0,"info-circle":!0,"key-skeleton-alt":!0,keyboard:!0,"layer-group":!0,"library-panel":!0,"line-alt":!0,link:!0,"list-ui-alt":!0,"list-ul":!0,lock:!0,"map-marker":!0,message:!0,minus:!0,"minus-circle":!0,"mobile-android":!0,monitor:!0,palette:!0,"panel-add":!0,pause:!0,pen:!0,percentage:!0,play:!0,plug:!0,plus:!0,"plus-circle":!0,"plus-square":!0,power:!0,"presentation-play":!0,process:!0,"question-circle":!0,"record-audio":!0,repeat:!0,rocket:!0,"ruler-combined":!0,save:!0,search:!0,"search-minus":!0,"search-plus":!0,"share-alt":!0,shield:!0,"shield-exclamation":!0,signal:!0,signin:!0,signout:!0,sitemap:!0,slack:!0,"sliders-v-alt":!0,"sort-amount-down":!0,"sort-amount-up":!0,"square-shape":!0,star:!0,"step-backward":!0,"stopwatch-slash":!0,sync:!0,table:!0,"tag-alt":!0,"text-fields":!0,times:!0,"toggle-on":!0,"trash-alt":!0,unlock:!0,upload:!0,user:!0,"users-alt":!0,"vertical-align-bottom":!0,"vertical-align-center":!0,"vertical-align-top":!0,"wrap-text":!0,rss:!0,x:!0};var $=["br","col","colgroup","dl","hr","iframe","img","input","link","menuitem","meta","ol","param","select","table","tbody","tfoot","thead","tr","ul","wbr"],V={"accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",enctype:"encType",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",typemustmatch:"typeMustMatch",usemap:"useMap",accentheight:"accentHeight","accent-height":"accentHeight",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",arabicform:"arabicForm","arabic-form":"arabicForm",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",edgemode:"edgeMode",enablebackground:"enableBackground","enable-background":"enableBackground",externalresourcesrequired:"externalResourcesRequired",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",imagerendering:"imageRendering","image-rendering":"imageRendering",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","v-mathematical":"vMathematical",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan",onblur:"onBlur",onchange:"onChange",onclick:"onClick",oncontextmenu:"onContextMenu",ondoubleclick:"onDoubleClick",ondrag:"onDrag",ondragend:"onDragEnd",ondragenter:"onDragEnter",ondragexit:"onDragExit",ondragleave:"onDragLeave",ondragover:"onDragOver",ondragstart:"onDragStart",ondrop:"onDrop",onerror:"onError",onfocus:"onFocus",oninput:"onInput",oninvalid:"onInvalid",onkeydown:"onKeyDown",onkeypress:"onKeyPress",onkeyup:"onKeyUp",onload:"onLoad",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"},z=function(){return z=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},z.apply(this,arguments)},F=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},q=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};function B(e,t){var r={key:t};if(e instanceof Element){var n=e.getAttribute("class");n&&(r.className=n),q([],F(e.attributes),!1).forEach((function(e){switch(e.name){case"class":break;case"style":r[e.name]=e.value.split(/ ?; ?/).reduce((function(e,t){var r=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}(t.split(/ ?: ?/),2),n=r[0],o=r[1];return n&&o&&(e[n.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))]=Number.isNaN(Number(o))?o:Number(o)),e}),{});break;case"allowfullscreen":case"allowpaymentrequest":case"async":case"autofocus":case"autoplay":case"checked":case"controls":case"default":case"defer":case"disabled":case"formnovalidate":case"hidden":case"ismap":case"itemscope":case"loop":case"multiple":case"muted":case"nomodule":case"novalidate":case"open":case"readonly":case"required":case"reversed":case"selected":case"typemustmatch":r[V[e.name]||e.name]=!0;break;default:r[V[e.name]||e.name]=e.value}}))}return r}function H(e,t){var n;if(void 0===t&&(t={}),!(e&&e instanceof Node))return null;var o,i=t.actions,a=void 0===i?[]:i,s=t.index,l=void 0===s?0:s,c=t.level,u=void 0===c?0:c,d=t.randomKey,p=e,f="".concat(u,"-").concat(l),h=[];if(d&&0===u&&(f="".concat(function(e){void 0===e&&(e=6);for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r="",n=e;n>0;--n)r+=t[Math.round(Math.random()*(t.length-1))];return r}(),"-").concat(f)),Array.isArray(a)&&a.forEach((function(t){t.condition(p,f,u)&&("function"==typeof t.pre&&((p=t.pre(p,f,u))instanceof Node||(p=e)),"function"==typeof t.post&&h.push(t.post(p,f,u)))})),h.length)return h;switch(p.nodeType){case 1:return r.createElement((o=p.nodeName,/[a-z]+[A-Z]+[a-z]+/.test(o)?o:o.toLowerCase()),B(p,f),function(e,t,r){var n=q([],F(e),!1).map((function(e,n){return H(e,z(z({},r),{index:n,level:t+1}))})).filter(Boolean);return n.length?n:null}(p.childNodes,u,t));case 3:var m=(null===(n=p.nodeValue)||void 0===n?void 0:n.toString())||"";if(/^\s+$/.test(m)&&!/[\u00A0\u202F]/.test(m))return null;if(!p.parentNode)return m;var g=p.parentNode.nodeName.toLowerCase();return $.includes(g)?(/\S/.test(m)&&console.warn("A textNode is not allowed inside '".concat(g,"'. Your text \"").concat(m,'" will be ignored')),null):m;default:return null}}function W(e,t){return void 0===t&&(t={}),"string"==typeof e?function(e,t){if(void 0===t&&(t={}),!e||"string"!=typeof e)return null;var r=t.nodeOnly,n=void 0!==r&&r,o=t.selector,i=void 0===o?"body > *":o,a=t.type,s=void 0===a?"text/html":a;try{var l=(new DOMParser).parseFromString(e,s).querySelector(i);if(!(l instanceof Node))throw new TypeError("Error parsing input");return n?l:H(l,t)}catch(e){}return null}(e,t):e instanceof Node?H(e,t):null}var U=v(1792),Q={FAILED:"failed",LOADED:"loaded",LOADING:"loading",PENDING:"pending",READY:"ready",UNSUPPORTED:"unsupported"};function G(){return U.canUseDOM}function X(e){return e[Math.floor(Math.random()*e.length)]}var K,Y=(K=function(e,t){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},K(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}K(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),J=function(){return J=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},J.apply(this,arguments)},Z=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},ee=Object.create(null),te=function(e){function t(t){var r=e.call(this,t)||this;return r.isActive=!1,r.handleLoad=function(e){r.isActive&&r.setState({content:e,status:Q.LOADED},r.getElement)},r.handleError=function(e){var t=r.props.onError,n="Browser does not support SVG"===e.message?Q.UNSUPPORTED:Q.FAILED;r.isActive&&r.setState({status:n},(function(){"function"==typeof t&&t(e)}))},r.request=function(){var e=r.props,t=e.cacheRequests,n=e.fetchOptions,o=e.src;try{return t&&(ee[o]={content:"",status:Q.LOADING}),fetch(o,n).then((function(e){var t=e.headers.get("content-type"),r=Z((t||"").split(/ ?; ?/),1)[0];if(e.status>299)throw new Error("Not found");if(!["image/svg+xml","text/plain"].some((function(e){return r.includes(e)})))throw new Error("Content type isn't valid: ".concat(r));return e.text()})).then((function(e){var n=r.props.src;if(o===n){if(r.handleLoad(e),t){var i=ee[o];i&&(i.content=e,i.status=Q.LOADED)}}else ee[o].status===Q.LOADING&&delete ee[o]})).catch((function(e){r.handleError(e),t&&ee[o]&&delete ee[o]}))}catch(e){return r.handleError(new Error(e.message))}},r.state={content:"",element:null,hasCache:!!t.cacheRequests&&!!ee[t.src],status:Q.PENDING},r.hash=t.uniqueHash||function(e){for(var t="abcdefghijklmnopqrstuvwxyz",r="".concat(t).concat(t.toUpperCase()).concat("1234567890"),n="",o=0;o<8;o++)n+=X(r);return n}(),r}return Y(t,e),t.prototype.componentDidMount=function(){if(this.isActive=!0,G()){var e=this.state.status,t=this.props.src;try{if(e===Q.PENDING){if(!function(){if(!document)return!1;var e=document.createElement("div");e.innerHTML="<svg />";var t=e.firstChild;return!!t&&"http://www.w3.org/2000/svg"===t.namespaceURI}()||"undefined"==typeof window||null===window)throw new Error("Browser does not support SVG");if(!t)throw new Error("Missing src");this.load()}}catch(e){this.handleError(e)}}},t.prototype.componentDidUpdate=function(e,t){if(G()){var r=this.state,n=r.hasCache,o=r.status,i=this.props,a=i.onLoad,s=i.src;if(t.status!==Q.READY&&o===Q.READY&&a&&a(s,n),e.src!==s){if(!s)return void this.handleError(new Error("Missing src"));this.load()}}},t.prototype.componentWillUnmount=function(){this.isActive=!1},t.prototype.getNode=function(){var e=this.props,t=e.description,r=e.title;try{var n=W(this.processSVG(),{nodeOnly:!0});if(!(n&&n instanceof SVGSVGElement))throw new Error("Could not convert the src to a DOM Node");var o=this.updateSVGAttributes(n);if(t){var i=o.querySelector("desc");i&&i.parentNode&&i.parentNode.removeChild(i);var a=document.createElement("desc");a.innerHTML=t,o.prepend(a)}if(r){var s=o.querySelector("title");s&&s.parentNode&&s.parentNode.removeChild(s);var l=document.createElement("title");l.innerHTML=r,o.prepend(l)}return o}catch(e){return this.handleError(e)}},t.prototype.getElement=function(){try{var e=W(this.getNode());if(!e||!r.isValidElement(e))throw new Error("Could not convert the src to a React element");this.setState({element:e,status:Q.READY})}catch(e){this.handleError(new Error(e.message))}},t.prototype.load=function(){var e=this;this.isActive&&this.setState({content:"",element:null,status:Q.LOADING},(function(){var t=e.props,r=t.cacheRequests,n=t.src,o=r&&ee[n];if(o&&o.status===Q.LOADED)e.handleLoad(o.content);else{var i,a=n.match(/data:image\/svg[^,]*?(;base64)?,(.*)/);a?i=a[1]?window.atob(a[2]):decodeURIComponent(a[2]):n.includes("<svg")&&(i=n),i?e.handleLoad(i):e.request()}}))},t.prototype.updateSVGAttributes=function(e){var t=this,r=this.props,n=r.baseURL,o=void 0===n?"":n,i=r.uniquifyIDs,a=["id","href","xlink:href","xlink:role","xlink:arcrole"],s=["href","xlink:href"];return i?(function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([],Z(e.children),!1).map((function(e){if(e.attributes&&e.attributes.length){var r=Object.values(e.attributes).map((function(e){var r=e,n=e.value.match(/url\((.*?)\)/);return n&&n[1]&&(r.value=e.value.replace(n[0],"url(".concat(o).concat(n[1],"__").concat(t.hash,")"))),r}));a.forEach((function(e){var n,o,i=r.find((function(t){return t.name===e}));i&&(n=e,o=i.value,!s.includes(n)||!o||o.includes("#"))&&(i.value="".concat(i.value,"__").concat(t.hash))}))}return e.children.length?t.updateSVGAttributes(e):e})),e):e},t.prototype.processSVG=function(){var e=this.state.content,t=this.props.preProcessor;return t?t(e):e},t.prototype.render=function(){var e=this.state,t=e.element,n=e.status,o=this.props,i=o.children,a=void 0===i?null:i,s=o.innerRef,l=o.loader,c=void 0===l?null:l,u=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n={};for(var o in e)({}).hasOwnProperty.call(e,o)&&(t.includes(o)||(n[o]=e[o]));return n}(this.props,"baseURL","cacheRequests","children","description","fetchOptions","innerRef","loader","onError","onLoad","preProcessor","src","title","uniqueHash","uniquifyIDs");return G()?t?r.cloneElement(t,J({ref:s},u)):[Q.UNSUPPORTED,Q.FAILED].includes(n)?a:c:c},t.defaultProps={cacheRequests:!0,uniquifyIDs:!1},t}(r.PureComponent);const re=te;let ne=!1,oe="img/icons/";const ie=["grafana","favorite","heart-break","heart","panel-add","library-panel"];function ae(e){switch(e){case"xs":return 12;case"sm":return 14;case"md":return 16;case"lg":return 18;case"xl":return 24;case"xxl":return 36;case"xxxl":return 48}}function se(){return se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},se.apply(this,arguments)}const le=e=>({container:a.css`
      label: Icon;
      display: inline-block;
      line-height: 0;
    `,icon:a.css`
      vertical-align: middle;
      display: inline-block;
      fill: currentColor;
    `,orange:a.css`
      fill: ${e.v1.palette.orange};
    `}),ce=n().forwardRef(((e,t)=>{var{size:r="md",type:o="default",name:i,className:s,style:l,title:c=""}=e,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["size","type","name","className","style","title"]);const d=O(le);if(null==i?void 0:i.startsWith("fa fa-"))return n().createElement("i",se({className:ue(i,s)},u,{style:l}));var p;"panel-add"===i&&(r="xl"),ne||function(){ne=!0;const e="undefined"!=typeof window&&window.__grafana_public_path__;e&&(oe=e+"img/icons/")}(),(p=i)&&"string"==typeof p&&p in L||console.warn("Icon component passed an invalid icon name",i);const f=ae(r),h=f,m=(null==i?void 0:i.startsWith("gf-bar-align"))?16:(null==i?void 0:i.startsWith("gf-interp"))?30:f,g=function(e,t){return(null==e?void 0:e.startsWith("gf-"))?"custom":ie.includes(e)?"mono":"default"===t?"unicons":"solid"===t?"solid":"mono"}(i,o),v=`${oe}${g}/${i}.svg`;return n().createElement("div",se({className:d.container},u,{ref:t}),n().createElement(re,{src:v,width:m,height:h,title:c,className:(0,a.cx)(d.icon,s,"mono"===o?{[d.orange]:"favorite"===i}:""),style:l}))}));function ue(e,t){return(0,a.cx)(e,{"fa-spin":"fa fa-spinner"===e},t)}ce.displayName="Icon";const de=f(((e,t)=>({wrapper:a.css`
      font-size: ${e}px;
      ${t?a.css`
            display: inline-block;
          `:""}
    `}))),pe=e=>{const{className:t,inline:r=!1,iconClassName:o,style:i,size:s=16}=e,l=de(s,r);return n().createElement("div",{"data-testid":"Spinner",style:i,className:(0,a.cx)(l.wrapper,t)},n().createElement(ce,{className:(0,a.cx)("fa-spin",o),name:"fa fa-spinner"}))};function fe(){return fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fe.apply(this,arguments)}const he=n().forwardRef(((e,t)=>{const{className:r,addonAfter:o,addonBefore:i,prefix:s,suffix:l,invalid:c,loading:u,width:d=0}=e,p=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["className","addonAfter","addonBefore","prefix","suffix","invalid","loading","width"]),[f,h]=(0,C.Z)(),[m,g]=(0,C.Z)(),v=w(),b=me({theme:v,invalid:!!c,width:d});return n().createElement("div",{className:(0,a.cx)(b.wrapper,r),"data-testid":"input-wrapper"},!!i&&n().createElement("div",{className:b.addon},i),n().createElement("div",{className:b.inputWrapper},s&&n().createElement("div",{className:b.prefix,ref:f},s),n().createElement("input",fe({ref:t,className:b.input},p,{style:{paddingLeft:s?h.width+12:void 0,paddingRight:l||u?g.width+12:void 0}})),(l||u)&&n().createElement("div",{className:b.suffix,ref:m},u&&n().createElement(pe,{className:b.loadingIndicator,inline:!0}),l)),!!o&&n().createElement("div",{className:b.addon},o))}));he.displayName="Input";const me=f((({theme:e,invalid:t=!1,width:r})=>{const n="28px",o=a.css`
    position: absolute;
    top: 0;
    z-index: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-grow: 0;
    flex-shrink: 0;
    font-size: ${e.typography.size.md};
    height: 100%;
    /* Min width specified for prefix/suffix classes used outside React component*/
    min-width: ${n};
    color: ${e.colors.text.secondary};
  `;return{wrapper:(0,a.cx)(a.css`
        label: input-wrapper;
        display: flex;
        width: ${r?`${e.spacing(r)}`:"100%"};
        height: ${e.spacing(e.components.height.md)};
        border-radius: ${e.shape.borderRadius()};
        &:hover {
          > .prefix,
          .suffix,
          .input {
            border-color: ${t?e.colors.error.border:e.colors.primary.border};
          }

          // only show number buttons on hover
          input[type='number'] {
            -moz-appearance: number-input;
            -webkit-appearance: number-input;
            appearance: textfield;
          }

          input[type='number']::-webkit-inner-spin-button,
          input[type='number']::-webkit-outer-spin-button {
            -webkit-appearance: inner-spin-button !important;
            opacity: 1;
          }
        }
      `),inputWrapper:a.css`
      label: input-inputWrapper;
      position: relative;
      flex-grow: 1;
      /* we want input to be above addons, especially for focused state */
      z-index: 1;

      /* when input rendered with addon before only*/
      &:not(:first-child):last-child {
        > input {
          border-left: none;
          border-top-left-radius: 0;
          border-bottom-left-radius: 0;
        }
      }

      /* when input rendered with addon after only*/
      &:first-child:not(:last-child) {
        > input {
          border-right: none;
          border-top-right-radius: 0;
          border-bottom-right-radius: 0;
        }
      }

      /* when rendered with addon before and after */
      &:not(:first-child):not(:last-child) {
        > input {
          border-right: none;
          border-top-right-radius: 0;
          border-bottom-right-radius: 0;
          border-top-left-radius: 0;
          border-bottom-left-radius: 0;
        }
      }

      input {
        /* paddings specified for classes used outside React component */
        &:not(:first-child) {
          padding-left: ${n};
        }
        &:not(:last-child) {
          padding-right: ${n};
        }
        &[readonly] {
          cursor: default;
        }
      }
    `,input:(0,a.cx)(j(e),M(e,t),a.css`
        label: input-input;
        position: relative;
        z-index: 0;
        flex-grow: 1;
        border-radius: ${e.shape.borderRadius()};
        height: 100%;
        width: 100%;
      `),inputDisabled:a.css`
      background-color: ${e.colors.action.disabledBackground};
      color: ${e.colors.action.disabledText};
      border: 1px solid ${e.colors.action.disabledBackground};
      &:focus {
        box-shadow: none;
      }
    `,addon:a.css`
      label: input-addon;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-grow: 0;
      flex-shrink: 0;
      position: relative;

      &:first-child {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
        > :last-child {
          border-top-right-radius: 0;
          border-bottom-right-radius: 0;
        }
      }

      &:last-child {
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
        > :first-child {
          border-top-left-radius: 0;
          border-bottom-left-radius: 0;
        }
      }
      > *:focus {
        /* we want anything that has focus and is an addon to be above input */
        z-index: 2;
      }
    `,prefix:(0,a.cx)(o,a.css`
        label: input-prefix;
        padding-left: ${e.spacing(1)};
        padding-right: ${e.spacing(.5)};
        border-right: none;
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
      `),suffix:(0,a.cx)(o,a.css`
        label: input-suffix;
        padding-left: ${e.spacing(1)};
        padding-right: ${e.spacing(1)};
        margin-bottom: -2px;
        border-left: none;
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
        right: 0;
      `),loadingIndicator:a.css`
      & + * {
        margin-left: ${e.spacing(.5)};
      }
    `}}));function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ge.apply(this,arguments)}var ve=v(12729),be=v.n(ve);function ye(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function we(e){return e instanceof ye(e).Element||e instanceof Element}function Oe(e){return e instanceof ye(e).HTMLElement||e instanceof HTMLElement}function xe(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ye(e).ShadowRoot||e instanceof ShadowRoot)}var _e=Math.max,Ee=Math.min,Se=Math.round;function ke(e,t){void 0===t&&(t=!1);var r=e.getBoundingClientRect(),n=1,o=1;if(Oe(e)&&t){var i=e.offsetHeight,a=e.offsetWidth;a>0&&(n=Se(r.width)/a||1),i>0&&(o=Se(r.height)/i||1)}return{width:r.width/n,height:r.height/o,top:r.top/o,right:r.right/n,bottom:r.bottom/o,left:r.left/n,x:r.left/n,y:r.top/o}}function Pe(e){var t=ye(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ce(e){return e?(e.nodeName||"").toLowerCase():null}function Te(e){return((we(e)?e.ownerDocument:e.document)||window.document).documentElement}function De(e){return ke(Te(e)).left+Pe(e).scrollLeft}function Ie(e){return ye(e).getComputedStyle(e)}function Ae(e){var t=Ie(e),r=t.overflow,n=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+o+n)}function je(e,t,r){void 0===r&&(r=!1);var n=Oe(t),o=Oe(t)&&function(e){var t=e.getBoundingClientRect(),r=Se(t.width)/e.offsetWidth||1,n=Se(t.height)/e.offsetHeight||1;return 1!==r||1!==n}(t),i=Te(t),a=ke(e,o),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&(("body"!==Ce(t)||Ae(i))&&(s=function(e){return e!==ye(e)&&Oe(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Pe(e);var t}(t)),Oe(t)?((l=ke(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=De(i))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Me(e){var t=ke(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function Ne(e){return"html"===Ce(e)?e:e.assignedSlot||e.parentNode||(xe(e)?e.host:null)||Te(e)}function Re(e){return["html","body","#document"].indexOf(Ce(e))>=0?e.ownerDocument.body:Oe(e)&&Ae(e)?e:Re(Ne(e))}function Le(e,t){var r;void 0===t&&(t=[]);var n=Re(e),o=n===(null==(r=e.ownerDocument)?void 0:r.body),i=ye(n),a=o?[i].concat(i.visualViewport||[],Ae(n)?n:[]):n,s=t.concat(a);return o?s:s.concat(Le(Ne(a)))}function $e(e){return["table","td","th"].indexOf(Ce(e))>=0}function Ve(e){return Oe(e)&&"fixed"!==Ie(e).position?e.offsetParent:null}function ze(e){for(var t=ye(e),r=Ve(e);r&&$e(r)&&"static"===Ie(r).position;)r=Ve(r);return r&&("html"===Ce(r)||"body"===Ce(r)&&"static"===Ie(r).position)?t:r||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Oe(e)&&"fixed"===Ie(e).position)return null;var r=Ne(e);for(xe(r)&&(r=r.host);Oe(r)&&["html","body"].indexOf(Ce(r))<0;){var n=Ie(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(e)||t}var Fe="top",qe="bottom",Be="right",He="left",We="auto",Ue=[Fe,qe,Be,He],Qe="start",Ge="end",Xe="viewport",Ke="popper",Ye=Ue.reduce((function(e,t){return e.concat([t+"-"+Qe,t+"-"+Ge])}),[]),Je=[].concat(Ue,[We]).reduce((function(e,t){return e.concat([t,t+"-"+Qe,t+"-"+Ge])}),[]),Ze=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function et(e){var t=new Map,r=new Set,n=[];function o(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var n=t.get(e);n&&o(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||o(e)})),n}function tt(e){var t;return function(){return t||(t=new Promise((function(r){Promise.resolve().then((function(){t=void 0,r(e())}))}))),t}}var rt={placement:"bottom",modifiers:[],strategy:"absolute"};function nt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function ot(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,o=t.defaultOptions,i=void 0===o?rt:o;return function(e,t,r){void 0===r&&(r=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},rt,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:o,setOptions:function(r){var s="function"==typeof r?r(o.options):r;c(),o.options=Object.assign({},i,o.options,s),o.scrollParents={reference:we(e)?Le(e):e.contextElement?Le(e.contextElement):[],popper:Le(t)};var u,d,p=function(e){var t=et(e);return Ze.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}((u=[].concat(n,o.options.modifiers),d=u.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{}),Object.keys(d).map((function(e){return d[e]}))));return o.orderedModifiers=p.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,i=e.effect;if("function"==typeof i){var s=i({state:o,name:t,instance:l,options:n});a.push(s||function(){})}})),l.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,r=e.popper;if(nt(t,r)){o.rects={reference:je(t,ze(r),"fixed"===o.options.strategy),popper:Me(r)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<o.orderedModifiers.length;n++)if(!0!==o.reset){var i=o.orderedModifiers[n],a=i.fn,c=i.options,u=void 0===c?{}:c,d=i.name;"function"==typeof a&&(o=a({state:o,options:u,name:d,instance:l})||o)}else o.reset=!1,n=-1}}},update:tt((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){c(),s=!0}};if(!nt(e,t))return l;function c(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(r).then((function(e){!s&&r.onFirstUpdate&&r.onFirstUpdate(e)})),l}}var it={passive:!0};const at={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,o=n.scroll,i=void 0===o||o,a=n.resize,s=void 0===a||a,l=ye(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",r.update,it)})),s&&l.addEventListener("resize",r.update,it),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",r.update,it)})),s&&l.removeEventListener("resize",r.update,it)}},data:{}};function st(e){return e.split("-")[0]}function lt(e){return e.split("-")[1]}function ct(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ut(e){var t,r=e.reference,n=e.element,o=e.placement,i=o?st(o):null,a=o?lt(o):null,s=r.x+r.width/2-n.width/2,l=r.y+r.height/2-n.height/2;switch(i){case Fe:t={x:s,y:r.y-n.height};break;case qe:t={x:s,y:r.y+r.height};break;case Be:t={x:r.x+r.width,y:l};break;case He:t={x:r.x-n.width,y:l};break;default:t={x:r.x,y:r.y}}var c=i?ct(i):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case Qe:t[c]=t[c]-(r[u]/2-n[u]/2);break;case Ge:t[c]=t[c]+(r[u]/2-n[u]/2)}}return t}const dt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=ut({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var pt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ft(e){var t,r=e.popper,n=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,p=a.x,f=void 0===p?0:p,h=a.y,m=void 0===h?0:h,g="function"==typeof u?u({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var v=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),y=He,w=Fe,O=window;if(c){var x=ze(r),_="clientHeight",E="clientWidth";x===ye(r)&&"static"!==Ie(x=Te(r)).position&&"absolute"===s&&(_="scrollHeight",E="scrollWidth"),(o===Fe||(o===He||o===Be)&&i===Ge)&&(w=qe,m-=(d&&x===O&&O.visualViewport?O.visualViewport.height:x[_])-n.height,m*=l?1:-1),o!==He&&(o!==Fe&&o!==qe||i!==Ge)||(y=Be,f-=(d&&x===O&&O.visualViewport?O.visualViewport.width:x[E])-n.width,f*=l?1:-1)}var S,k=Object.assign({position:s},c&&pt),P=!0===u?function(e){var t=e.x,r=e.y,n=window.devicePixelRatio||1;return{x:Se(t*n)/n||0,y:Se(r*n)/n||0}}({x:f,y:m}):{x:f,y:m};return f=P.x,m=P.y,l?Object.assign({},k,((S={})[w]=b?"0":"",S[y]=v?"0":"",S.transform=(O.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",S)):Object.assign({},k,((t={})[w]=b?m+"px":"",t[y]=v?f+"px":"",t.transform="",t))}const ht={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,o=void 0===n||n,i=r.adaptive,a=void 0===i||i,s=r.roundOffsets,l=void 0===s||s,c={placement:st(t.placement),variation:lt(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ft(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ft(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},mt={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},o=t.elements[e];Oe(o)&&Ce(o)&&(Object.assign(o.style,r),Object.keys(n).forEach((function(e){var t=n[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});Oe(n)&&Ce(n)&&(Object.assign(n.style,i),Object.keys(o).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]},gt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.offset,i=void 0===o?[0,0]:o,a=Je.reduce((function(e,r){return e[r]=function(e,t,r){var n=st(e),o=[He,Fe].indexOf(n)>=0?-1:1,i="function"==typeof r?r(Object.assign({},t,{placement:e})):r,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[He,Be].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}(r,t.rects,i),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=a}};var vt={left:"right",right:"left",bottom:"top",top:"bottom"};function bt(e){return e.replace(/left|right|bottom|top/g,(function(e){return vt[e]}))}var yt={start:"end",end:"start"};function wt(e){return e.replace(/start|end/g,(function(e){return yt[e]}))}function Ot(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&xe(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function xt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function _t(e,t){return t===Xe?xt(function(e){var t=ye(e),r=Te(e),n=t.visualViewport,o=r.clientWidth,i=r.clientHeight,a=0,s=0;return n&&(o=n.width,i=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=n.offsetLeft,s=n.offsetTop)),{width:o,height:i,x:a+De(e),y:s}}(e)):we(t)?function(e){var t=ke(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):xt(function(e){var t,r=Te(e),n=Pe(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=_e(r.scrollWidth,r.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=_e(r.scrollHeight,r.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-n.scrollLeft+De(e),l=-n.scrollTop;return"rtl"===Ie(o||r).direction&&(s+=_e(r.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}(Te(e)))}function Et(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function St(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function kt(e,t){void 0===t&&(t={});var r=t,n=r.placement,o=void 0===n?e.placement:n,i=r.boundary,a=void 0===i?"clippingParents":i,s=r.rootBoundary,l=void 0===s?Xe:s,c=r.elementContext,u=void 0===c?Ke:c,d=r.altBoundary,p=void 0!==d&&d,f=r.padding,h=void 0===f?0:f,m=Et("number"!=typeof h?h:St(h,Ue)),g=u===Ke?"reference":Ke,v=e.rects.popper,b=e.elements[p?g:u],y=function(e,t,r){var n="clippingParents"===t?function(e){var t=Le(Ne(e)),r=["absolute","fixed"].indexOf(Ie(e).position)>=0&&Oe(e)?ze(e):e;return we(r)?t.filter((function(e){return we(e)&&Ot(e,r)&&"body"!==Ce(e)})):[]}(e):[].concat(t),o=[].concat(n,[r]),i=o[0],a=o.reduce((function(t,r){var n=_t(e,r);return t.top=_e(n.top,t.top),t.right=Ee(n.right,t.right),t.bottom=Ee(n.bottom,t.bottom),t.left=_e(n.left,t.left),t}),_t(e,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(we(b)?b:b.contextElement||Te(e.elements.popper),a,l),w=ke(e.elements.reference),O=ut({reference:w,element:v,strategy:"absolute",placement:o}),x=xt(Object.assign({},v,O)),_=u===Ke?x:w,E={top:y.top-_.top+m.top,bottom:_.bottom-y.bottom+m.bottom,left:y.left-_.left+m.left,right:_.right-y.right+m.right},S=e.modifiersData.offset;if(u===Ke&&S){var k=S[o];Object.keys(E).forEach((function(e){var t=[Be,qe].indexOf(e)>=0?1:-1,r=[Fe,qe].indexOf(e)>=0?"y":"x";E[e]+=k[r]*t}))}return E}const Pt={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var o=r.mainAxis,i=void 0===o||o,a=r.altAxis,s=void 0===a||a,l=r.fallbackPlacements,c=r.padding,u=r.boundary,d=r.rootBoundary,p=r.altBoundary,f=r.flipVariations,h=void 0===f||f,m=r.allowedAutoPlacements,g=t.options.placement,v=st(g),b=l||(v!==g&&h?function(e){if(st(e)===We)return[];var t=bt(e);return[wt(e),t,wt(t)]}(g):[bt(g)]),y=[g].concat(b).reduce((function(e,r){return e.concat(st(r)===We?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,o=r.boundary,i=r.rootBoundary,a=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,c=void 0===l?Je:l,u=lt(n),d=u?s?Ye:Ye.filter((function(e){return lt(e)===u})):Ue,p=d.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=d);var f=p.reduce((function(t,r){return t[r]=kt(e,{placement:r,boundary:o,rootBoundary:i,padding:a})[st(r)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:r,boundary:u,rootBoundary:d,padding:c,flipVariations:h,allowedAutoPlacements:m}):r)}),[]),w=t.rects.reference,O=t.rects.popper,x=new Map,_=!0,E=y[0],S=0;S<y.length;S++){var k=y[S],P=st(k),C=lt(k)===Qe,T=[Fe,qe].indexOf(P)>=0,D=T?"width":"height",I=kt(t,{placement:k,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),A=T?C?Be:He:C?qe:Fe;w[D]>O[D]&&(A=bt(A));var j=bt(A),M=[];if(i&&M.push(I[P]<=0),s&&M.push(I[A]<=0,I[j]<=0),M.every((function(e){return e}))){E=k,_=!1;break}x.set(k,M)}if(_)for(var N=function(e){var t=y.find((function(t){var r=x.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},R=h?3:1;R>0&&"break"!==N(R);R--);t.placement!==E&&(t.modifiersData[n]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ct(e,t,r){return _e(e,Ee(t,r))}const Tt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,o=r.mainAxis,i=void 0===o||o,a=r.altAxis,s=void 0!==a&&a,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,d=r.padding,p=r.tether,f=void 0===p||p,h=r.tetherOffset,m=void 0===h?0:h,g=kt(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=st(t.placement),b=lt(t.placement),y=!b,w=ct(v),O="x"===w?"y":"x",x=t.modifiersData.popperOffsets,_=t.rects.reference,E=t.rects.popper,S="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,k="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),P=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(x){if(i){var T,D="y"===w?Fe:He,I="y"===w?qe:Be,A="y"===w?"height":"width",j=x[w],M=j+g[D],N=j-g[I],R=f?-E[A]/2:0,L=b===Qe?_[A]:E[A],$=b===Qe?-E[A]:-_[A],V=t.elements.arrow,z=f&&V?Me(V):{width:0,height:0},F=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=F[D],B=F[I],H=Ct(0,_[A],z[A]),W=y?_[A]/2-R-H-q-k.mainAxis:L-H-q-k.mainAxis,U=y?-_[A]/2+R+H+B+k.mainAxis:$+H+B+k.mainAxis,Q=t.elements.arrow&&ze(t.elements.arrow),G=Q?"y"===w?Q.clientTop||0:Q.clientLeft||0:0,X=null!=(T=null==P?void 0:P[w])?T:0,K=j+U-X,Y=Ct(f?Ee(M,j+W-X-G):M,j,f?_e(N,K):N);x[w]=Y,C[w]=Y-j}if(s){var J,Z="x"===w?Fe:He,ee="x"===w?qe:Be,te=x[O],re="y"===O?"height":"width",ne=te+g[Z],oe=te-g[ee],ie=-1!==[Fe,He].indexOf(v),ae=null!=(J=null==P?void 0:P[O])?J:0,se=ie?ne:te-_[re]-E[re]-ae+k.altAxis,le=ie?te+_[re]+E[re]-ae-k.altAxis:oe,ce=f&&ie?function(e,t,r){var n=Ct(e,t,r);return n>r?r:n}(se,te,le):Ct(f?se:ne,te,f?le:oe);x[O]=ce,C[O]=ce-te}t.modifiersData[n]=C}},requiresIfExists:["offset"]},Dt={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,o=e.options,i=r.elements.arrow,a=r.modifiersData.popperOffsets,s=st(r.placement),l=ct(s),c=[He,Be].indexOf(s)>=0?"height":"width";if(i&&a){var u=function(e,t){return Et("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:St(e,Ue))}(o.padding,r),d=Me(i),p="y"===l?Fe:He,f="y"===l?qe:Be,h=r.rects.reference[c]+r.rects.reference[l]-a[l]-r.rects.popper[c],m=a[l]-r.rects.reference[l],g=ze(i),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=h/2-m/2,y=u[p],w=v-d[c]-u[f],O=v/2-d[c]/2+b,x=Ct(y,O,w),_=l;r.modifiersData[n]=((t={})[_]=x,t.centerOffset=x-O,t)}},effect:function(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&Ot(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function It(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function At(e){return[Fe,Be,qe,He].some((function(t){return e[t]>=0}))}const jt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=kt(t,{elementContext:"reference"}),s=kt(t,{altBoundary:!0}),l=It(a,n),c=It(s,o,i),u=At(l),d=At(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}};var Mt=ot({defaultModifiers:[at,dt,ht,mt,gt,Pt,Tt,Dt,jt]}),Nt=v(54335),Rt=v.n(Nt),Lt=function(e){return e.reduce((function(e,t){var r=t[0],n=t[1];return e[r]=n,e}),{})},$t="undefined"!=typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect,Vt=[];function zt(e){var t=r.useRef(e);return t.current=e,r.useCallback((function(){return t.current}),[])}var Ft=function(){};function qt(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),function(){return{width:0,height:0,top:t,right:e,bottom:t,left:e,x:0,y:0,toJSON:function(){return null}}}}var Bt=["styles","attributes"],Ht={getBoundingClientRect:qt()},Wt={closeOnOutsideClick:!0,closeOnTriggerHidden:!1,defaultVisible:!1,delayHide:0,delayShow:0,followCursor:!1,interactive:!1,mutationObserverOptions:{attributes:!0,childList:!0,subtree:!0},offset:[0,6],trigger:"hover"};function Ut(e,t){var n,o,i;void 0===e&&(e={}),void 0===t&&(t={});var a=Object.keys(Wt).reduce((function(e,t){var r;return ge({},e,((r={})[t]=void 0!==e[t]?e[t]:Wt[t],r))}),e),s=r.useMemo((function(){return[{name:"offset",options:{offset:a.offset}}]}),Array.isArray(a.offset)?a.offset:[]),l=ge({},t,{placement:t.placement||a.placement,modifiers:t.modifiers||s}),c=r.useState(null),u=c[0],d=c[1],p=r.useState(null),f=p[0],h=p[1],m=function(e){var t=e.initial,n=e.value,o=e.onChange,i=void 0===o?Ft:o;if(void 0===t&&void 0===n)throw new TypeError('Either "value" or "initial" variable must be set. Now both are undefined');var a=r.useState(t),s=a[0],l=a[1],c=zt(s),u=r.useCallback((function(e){var t=c(),r="function"==typeof e?e(t):e;"function"==typeof r.persist&&r.persist(),l(r),"function"==typeof i&&i(r)}),[c,i]),d=void 0!==n;return[d?n:s,d?i:u]}({initial:a.defaultVisible,value:a.visible,onChange:a.onVisibleChange}),g=m[0],v=m[1],b=r.useRef();r.useEffect((function(){return function(){return clearTimeout(b.current)}}),[]);var y=function(e,t,n){void 0===n&&(n={});var o=r.useRef(null),i={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||Vt},a=r.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=a[0],l=a[1],c=r.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,r=Object.keys(t.elements);ve.flushSync((function(){l({styles:Lt(r.map((function(e){return[e,t.styles[e]||{}]}))),attributes:Lt(r.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),u=r.useMemo((function(){var e={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[c,{name:"applyStyles",enabled:!1}])};return Rt()(o.current,e)?o.current||e:(o.current=e,e)}),[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,c]),d=r.useRef();return $t((function(){d.current&&d.current.setOptions(u)}),[u]),$t((function(){if(null!=e&&null!=t){var r=(n.createPopper||Mt)(e,t,u);return d.current=r,function(){r.destroy(),d.current=null}}}),[e,t,n.createPopper]),{state:d.current?d.current.state:null,styles:s.styles,attributes:s.attributes,update:d.current?d.current.update:null,forceUpdate:d.current?d.current.forceUpdate:null}}(a.followCursor?Ht:u,f,l),w=y.styles,O=y.attributes,x=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(y,Bt),_=x.update,E=zt({visible:g,triggerRef:u,tooltipRef:f,finalConfig:a}),S=r.useCallback((function(e){return Array.isArray(a.trigger)?a.trigger.includes(e):a.trigger===e}),Array.isArray(a.trigger)?a.trigger:[a.trigger]),k=r.useCallback((function(){clearTimeout(b.current),b.current=window.setTimeout((function(){return v(!1)}),a.delayHide)}),[a.delayHide,v]),P=r.useCallback((function(){clearTimeout(b.current),b.current=window.setTimeout((function(){return v(!0)}),a.delayShow)}),[a.delayShow,v]),C=r.useCallback((function(){E().visible?k():P()}),[E,k,P]);r.useEffect((function(){if(E().finalConfig.closeOnOutsideClick){var e=function(e){var t,r=E(),n=r.tooltipRef,o=r.triggerRef,i=(null==e.composedPath||null==(t=e.composedPath())?void 0:t[0])||e.target;i instanceof Node&&(null==n||null==o||n.contains(i)||o.contains(i)||k())};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}}),[E,k]),r.useEffect((function(){if(null!=u&&S("click"))return u.addEventListener("click",C),function(){return u.removeEventListener("click",C)}}),[u,S,C]),r.useEffect((function(){if(null!=u&&S("double-click"))return u.addEventListener("dblclick",C),function(){return u.removeEventListener("dblclick",C)}}),[u,S,C]),r.useEffect((function(){if(null!=u&&S("right-click")){var e=function(e){e.preventDefault(),C()};return u.addEventListener("contextmenu",e),function(){return u.removeEventListener("contextmenu",e)}}}),[u,S,C]),r.useEffect((function(){if(null!=u&&S("focus"))return u.addEventListener("focus",P),u.addEventListener("blur",k),function(){u.removeEventListener("focus",P),u.removeEventListener("blur",k)}}),[u,S,P,k]),r.useEffect((function(){if(null!=u&&S("hover"))return u.addEventListener("mouseenter",P),u.addEventListener("mouseleave",k),function(){u.removeEventListener("mouseenter",P),u.removeEventListener("mouseleave",k)}}),[u,S,P,k]),r.useEffect((function(){if(null!=f&&S("hover")&&E().finalConfig.interactive)return f.addEventListener("mouseenter",P),f.addEventListener("mouseleave",k),function(){f.removeEventListener("mouseenter",P),f.removeEventListener("mouseleave",k)}}),[f,S,P,k,E]);var T=null==x||null==(n=x.state)||null==(o=n.modifiersData)||null==(i=o.hide)?void 0:i.isReferenceHidden;return r.useEffect((function(){a.closeOnTriggerHidden&&T&&k()}),[a.closeOnTriggerHidden,k,T]),r.useEffect((function(){if(a.followCursor&&null!=u)return u.addEventListener("mousemove",e),function(){return u.removeEventListener("mousemove",e)};function e(e){var t=e.clientX,r=e.clientY;Ht.getBoundingClientRect=qt(t,r),null==_||_()}}),[a.followCursor,u,_]),r.useEffect((function(){if(null!=f&&null!=_&&null!=a.mutationObserverOptions){var e=new MutationObserver(_);return e.observe(f,a.mutationObserverOptions),function(){return e.disconnect()}}}),[a.mutationObserverOptions,f,_]),ge({getArrowProps:function(e){return void 0===e&&(e={}),ge({},e,O.arrow,{style:ge({},e.style,w.arrow),"data-popper-arrow":!0})},getTooltipProps:function(e){return void 0===e&&(e={}),ge({},e,{style:ge({},e.style,w.popper)},O.popper,{"data-popper-interactive":a.interactive})},setTooltipRef:h,setTriggerRef:d,tooltipRef:f,triggerRef:u,visible:g},x)}function Qt(){return Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qt.apply(this,arguments)}function Gt(e){const{children:t,className:o,root:i,forwardedRef:a}=e,s=w(),l=(0,r.useRef)(null),c=null!=i?i:function(){var e;return null!==(e=window.document.getElementById("grafana-portal-container"))&&void 0!==e?e:document.body}();return l.current||(l.current=document.createElement("div"),o&&(l.current.className=o),l.current.style.position="relative",l.current.style.zIndex=`${s.zIndex.portal}`),(0,r.useLayoutEffect)((()=>(l.current&&c.appendChild(l.current),()=>{l.current&&c.removeChild(l.current)})),[c]),be().createPortal(n().createElement("div",{ref:a},t),l.current)}const Xt=n().forwardRef(((e,t)=>n().createElement(Gt,Qt({},e,{forwardedRef:t}))));function Kt(){return Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kt.apply(this,arguments)}Xt.displayName="RefForwardingPortal";const Yt=n().memo((({children:e,theme:t,interactive:o,show:i,placement:a,content:s})=>{const[l,c]=n().useState(i);(0,r.useEffect)((()=>{if(!1!==l){const e=e=>{"Escape"===e.key&&c(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}}),[l]);const{getArrowProps:u,getTooltipProps:d,setTooltipRef:p,setTriggerRef:f,visible:h,update:m}=Ut({visible:l,placement:a,interactive:o,delayHide:o?100:0,delayShow:150,offset:[0,8],trigger:["hover","focus"],onVisibleChange:c}),g=O(Jt)[null!=t?t:"info"];return n().createElement(n().Fragment,null,n().cloneElement(e,{ref:f}),h&&n().createElement(Gt,null,n().createElement("div",Kt({ref:p},d({className:g})),n().createElement("div",Kt({},u({className:"tooltip-arrow"}))),"string"==typeof s&&s,n().isValidElement(s)&&n().cloneElement(s),"function"==typeof s&&s({updatePopperPosition:m}))))}));function Jt(e){function r(r,n,o){return a.css`
      background-color: ${r};
      border-radius: 3px;
      border: 1px solid ${n};
      box-shadow: ${e.shadows.z2};
      color: ${o};
      font-size: ${e.typography.bodySmall.fontSize};
      padding: ${e.spacing(.5,1)};
      transition: opacity 0.3s;
      z-index: ${e.zIndex.tooltip};
      max-width: 400px;
      overflow-wrap: break-word;

      &[data-popper-interactive='false'] {
        pointer-events: none;
      }

      .tooltip-arrow {
        height: 1rem;
        position: absolute;
        width: 1rem;
        pointer-events: none;
      }

      .tooltip-arrow::before {
        border-style: solid;
        content: '';
        display: block;
        height: 0;
        margin: auto;
        width: 0;
      }

      .tooltip-arrow::after {
        border-style: solid;
        content: '';
        display: block;
        height: 0;
        margin: auto;
        position: absolute;
        width: 0;
      }

      &[data-popper-placement*='bottom'] .tooltip-arrow {
        left: 0;
        margin-top: -10px;
        top: 0;
      }

      &[data-popper-placement*='bottom'] .tooltip-arrow::before {
        border-color: transparent transparent ${n} transparent;
        border-width: 0 8px 7px 8px;
        position: absolute;
        top: -1px;
      }

      &[data-popper-placement*='bottom'] .tooltip-arrow::after {
        border-color: transparent transparent ${r} transparent;
        border-width: 0 8px 7px 8px;
      }

      &[data-popper-placement*='top'] .tooltip-arrow {
        bottom: 0;
        left: 0;
        margin-bottom: -11px;
      }

      &[data-popper-placement*='top'] .tooltip-arrow::before {
        border-color: ${n} transparent transparent transparent;
        border-width: 7px 8px 0 7px;
        position: absolute;
        top: 1px;
      }

      &[data-popper-placement*='top'] .tooltip-arrow::after {
        border-color: ${r} transparent transparent transparent;
        border-width: 7px 8px 0 7px;
      }

      &[data-popper-placement*='right'] .tooltip-arrow {
        left: 0;
        margin-left: -11px;
      }

      &[data-popper-placement*='right'] .tooltip-arrow::before {
        border-color: transparent ${n} transparent transparent;
        border-width: 7px 6px 7px 0;
      }

      &[data-popper-placement*='right'] .tooltip-arrow::after {
        border-color: transparent ${r} transparent transparent;
        border-width: 6px 7px 7px 0;
        left: 2px;
        top: 1px;
      }

      &[data-popper-placement*='left'] .tooltip-arrow {
        margin-right: -10px;
        right: 0;
      }

      &[data-popper-placement*='left'] .tooltip-arrow::before {
        border-color: transparent transparent transparent ${n};
        border-width: 7px 0px 6px 7px;
      }

      &[data-popper-placement*='left'] .tooltip-arrow::after {
        border-color: transparent transparent transparent ${r};
        border-width: 6px 0 5px 5px;
        left: 1px;
        top: 1px;
      }

      code {
        border: none;
        display: inline;
        background: ${t.colorManipulator.darken(r,.1)};
        color: ${o};
      }

      pre {
        background: ${t.colorManipulator.darken(r,.1)};
        color: ${o};
      }

      a {
        color: ${o};
        text-decoration: underline;
      }

      a:hover {
        text-decoration: none;
      }
    `}const n=r(e.components.tooltip.background,e.components.tooltip.background,e.components.tooltip.text);return{info:n,"info-alt":n,error:r(e.colors.error.main,e.colors.error.main,e.colors.error.contrastText)}}function Zt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function er(){return er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},er.apply(this,arguments)}function tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Zt(e,t,r[t])}))}return e}function rr(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function nr(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}Yt.displayName="Tooltip";const or=n().forwardRef(((e,t)=>{var{variant:r="primary",size:o="md",fill:i="solid",icon:s,fullWidth:l,children:c,className:u,type:d="button"}=e,p=nr(e,["variant","size","fill","icon","fullWidth","children","className","type"]);const f=w(),h=ar({theme:f,size:o,variant:r,fill:i,fullWidth:l,iconOnly:!c});return n().createElement("button",er({className:(0,a.cx)(h.button,u),type:d},p,{ref:t}),s&&n().createElement(ce,{name:s,size:o,className:h.icon}),c&&n().createElement("span",{className:h.content},c))}));or.displayName="Button";const ir=n().forwardRef(((e,t)=>{var{variant:r="primary",size:o="md",fill:i="solid",icon:s,fullWidth:l,children:c,className:u,onBlur:d,onFocus:p,disabled:f,tooltip:h,tooltipPlacement:m}=e,g=nr(e,["variant","size","fill","icon","fullWidth","children","className","onBlur","onFocus","disabled","tooltip","tooltipPlacement"]);const v=w(),b=ar({theme:v,fullWidth:l,size:o,variant:r,fill:i,iconOnly:!c}),y=(0,a.cx)(b.button,{[(0,a.css)(b.disabled,{pointerEvents:"none"})]:f},u),O=n().createElement("a",er({className:y},g,{tabIndex:f?-1:0,ref:t}),s&&n().createElement(ce,{name:s,size:o,className:b.icon}),c&&n().createElement("span",{className:b.content},c));return h?n().createElement(Yt,{content:h,placement:m},O):O}));ir.displayName="LinkButton";const ar=e=>{const{theme:t,variant:r,fill:n="solid",size:o,iconOnly:i,fullWidth:s}=e,{height:l,padding:c,fontSize:u}=R(o,t),d=lr(t,r,n),p=function(e,t,r){const n={cursor:"not-allowed",boxShadow:"none",color:e.colors.text.disabled,transition:"none"};return rr(tr({},n),"text"===r?{background:"transparent",border:"1px solid transparent"}:"outline"===r?{background:"transparent",border:`1px solid ${e.colors.action.disabledText}`}:{background:e.colors.action.disabledBackground,border:"1px solid transparent"})}(t,0,n),f=A(t),h=t.spacing.gridSize*c-1;return{button:(0,a.css)(rr(tr({label:"button",display:"inline-flex",alignItems:"center",fontSize:u,fontWeight:t.typography.fontWeightMedium,fontFamily:t.typography.fontFamily,padding:`0 ${h}px`,height:t.spacing(l),lineHeight:t.spacing.gridSize*l-2+"px",verticalAlign:"middle",cursor:"pointer",borderRadius:t.shape.borderRadius(1),"&:focus":f,"&:focus-visible":f,"&:focus:not(:focus-visible)":{outline:"none",boxShadow:"none"}},s&&{flexGrow:1,justifyContent:"center"},d),{":disabled":p,"&[disabled]":p})),disabled:(0,a.css)(p),img:a.css`
      width: 16px;
      height: 16px;
      margin: ${t.spacing(0,1,0,.5)};
    `,icon:i?(0,a.css)({marginRight:t.spacing(-c/2),marginLeft:t.spacing(-c/2)}):(0,a.css)({marginRight:t.spacing(c/2)}),content:a.css`
      display: flex;
      flex-direction: row;
      align-items: center;
      white-space: nowrap;
      height: 100%;
    `}};function sr(e,r,n){return"outline"===n?{background:"transparent",color:r.text,border:`1px solid ${r.border}`,transition:e.transitions.create(["background-color","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{background:t.colorManipulator.alpha(r.main,e.colors.action.hoverOpacity),borderColor:e.colors.emphasize(r.border,.25),color:r.text}}:"text"===n?{background:"transparent",color:r.text,border:"1px solid transparent",transition:e.transitions.create(["background-color","color"],{duration:e.transitions.duration.short}),"&:focus":{outline:"none",textDecoration:"none"},"&:hover":{background:t.colorManipulator.alpha(r.shade,e.colors.action.hoverOpacity),textDecoration:"none"}}:{background:r.main,color:r.contrastText,border:"1px solid transparent",transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{background:r.shade,color:r.contrastText,boxShadow:e.shadows.z1}}}function lr(e,t,r){switch(t){case"secondary":return sr(e,e.colors.secondary,r);case"destructive":return sr(e,e.colors.error,r);case"success":return sr(e,e.colors.success,r);default:return sr(e,e.colors.primary,r)}}const cr={prefix:String(Math.round(1e10*Math.random())),current:0},ur=n().createContext(cr);let dr=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement);function pr(e){let t=(0,r.useContext)(ur);return t!==cr||dr||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,r.useMemo)((()=>e||`react-aria${t.prefix}-${++t.current}`),[e])}function fr(){let e=(0,r.useContext)(ur)!==cr,[t,n]=(0,r.useState)(e);return"undefined"!=typeof window&&e&&(0,r.useLayoutEffect)((()=>{n(!1)}),[]),t}const hr="undefined"!=typeof window?n().useLayoutEffect:()=>{};let mr=new Map;function gr(e=[]){let t=function(e){let[t,n]=(0,r.useState)(e),o=(0,r.useRef)(null),i=pr(t),a=(0,r.useCallback)((e=>{o.current=e}),[]);return mr.set(i,a),hr((()=>{let e=i;return()=>{mr.delete(e)}}),[i]),(0,r.useEffect)((()=>{let e=o.current;e&&(o.current=null,n(e))})),i}(),[n,o]=function(e){let[t,n]=(0,r.useState)(e),o=(0,r.useRef)(t),i=(0,r.useRef)(null);o.current=t;let a=(0,r.useRef)(null);a.current=()=>{let e=i.current.next();e.done?i.current=null:t===e.value?a.current():n(e.value)},hr((()=>{i.current&&a.current()}));let s=(0,r.useCallback)((e=>{i.current=e(o.current),a.current()}),[i,a]);return[t,s]}(t),i=(0,r.useCallback)((()=>{o((function*(){yield t,yield document.getElementById(t)?t:null}))}),[t,o]);return hr(i,[t,i,...e]),n}const vr=new Set(["id"]),br=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),yr=/^(data-.*)$/;function wr(e,t={}){let{labelable:r,propNames:n}=t,o={};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(vr.has(t)||r&&br.has(t)||(null==n?void 0:n.has(t))||yr.test(t))&&(o[t]=e[t]);return o}let Or=new Map,xr=new Set;function _r(){if("undefined"==typeof window)return;let e=t=>{let r=Or.get(t.target);if(r&&(r.delete(t.propertyName),0===r.size&&(t.target.removeEventListener("transitioncancel",e),Or.delete(t.target)),0===Or.size)){for(let e of xr)e();xr.clear()}};document.body.addEventListener("transitionrun",(t=>{let r=Or.get(t.target);r||(r=new Set,Or.set(t.target,r),t.target.addEventListener("transitioncancel",e)),r.add(t.propertyName)})),document.body.addEventListener("transitionend",e)}function Er(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Er(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Sr(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Er(e))&&(n&&(n+=" "),n+=t);return n}"undefined"!=typeof document&&("loading"!==document.readyState?_r():document.addEventListener("DOMContentLoaded",_r)),"undefined"!=typeof window&&window.visualViewport,new Map;const kr="undefined"!=typeof window?n().useLayoutEffect:()=>{};let Pr=new Map;function Cr(e,t){if(e===t)return e;let r=Pr.get(e);if(r)return r(t),t;let n=Pr.get(t);return n?(n(e),e):t}function Tr(...e){return(...t)=>{for(let r of e)"function"==typeof r&&r(...t)}}function Dr(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let e in n){let r=t[e],o=n[e];"function"==typeof r&&"function"==typeof o&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=Tr(r,o):"className"!==e&&"UNSAFE_className"!==e||"string"!=typeof r||"string"!=typeof o?"id"===e&&r&&o?t.id=Cr(r,o):t[e]=void 0!==o?o:r:t[e]=Sr(r,o)}}return t}function Ir(e){if(function(){if(null==Ar){Ar=!1;try{document.createElement("div").focus({get preventScroll(){return Ar=!0,!0}})}catch(e){}}return Ar}())e.focus({preventScroll:!0});else{let t=function(e){for(var t=e.parentNode,r=[],n=document.scrollingElement||document.documentElement;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}(e);e.focus(),function(e){for(let{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}(t)}}new Set(["id"]),new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]);let Ar=null,jr=new Map,Mr=new Set;function Nr(){if("undefined"==typeof window)return;let e=t=>{let r=jr.get(t.target);if(r&&(r.delete(t.propertyName),0===r.size&&(t.target.removeEventListener("transitioncancel",e),jr.delete(t.target)),0===jr.size)){for(let e of Mr)e();Mr.clear()}};document.body.addEventListener("transitionrun",(t=>{let r=jr.get(t.target);r||(r=new Set,jr.set(t.target,r),t.target.addEventListener("transitioncancel",e)),r.add(t.propertyName)})),document.body.addEventListener("transitionend",e)}"undefined"!=typeof document&&("loading"!==document.readyState?Nr():document.addEventListener("DOMContentLoaded",Nr)),"undefined"!=typeof window&&window.visualViewport,new Map;const Rr="undefined"!=typeof window?n().useLayoutEffect:()=>{};let Lr=new Map;function $r(e,t){if(e===t)return e;let r=Lr.get(e);if(r)return r(t),t;let n=Lr.get(t);return n?(n(e),e):t}function Vr(...e){return(...t)=>{for(let r of e)"function"==typeof r&&r(...t)}}function zr(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let e in n){let r=t[e],o=n[e];"function"==typeof r&&"function"==typeof o&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=Vr(r,o):"className"!==e&&"UNSAFE_className"!==e||"string"!=typeof r||"string"!=typeof o?"id"===e&&r&&o?t.id=$r(r,o):t[e]=void 0!==o?o:r:t[e]=Sr(r,o)}}return t}function Fr(e){if(function(){if(null==qr){qr=!1;try{document.createElement("div").focus({get preventScroll(){return qr=!0,!0}})}catch(e){}}return qr}())e.focus({preventScroll:!0});else{let t=function(e){for(var t=e.parentNode,r=[],n=document.scrollingElement||document.documentElement;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}(e);e.focus(),function(e){for(let{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}(t)}}new Set(["id"]),new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]);let qr=null,Br=new Map,Hr=new Set;function Wr(){if("undefined"==typeof window)return;let e=t=>{let r=Br.get(t.target);if(r&&(r.delete(t.propertyName),0===r.size&&(t.target.removeEventListener("transitioncancel",e),Br.delete(t.target)),0===Br.size)){for(let e of Hr)e();Hr.clear()}};document.body.addEventListener("transitionrun",(t=>{let r=Br.get(t.target);r||(r=new Set,Br.set(t.target,r),t.target.addEventListener("transitioncancel",e)),r.add(t.propertyName)})),document.body.addEventListener("transitionend",e)}function Ur(){let e=(0,r.useRef)(new Map),t=(0,r.useCallback)(((t,r,n,o)=>{let i=(null==o?void 0:o.once)?(...t)=>{e.current.delete(n),n(...t)}:n;e.current.set(n,{type:r,eventTarget:t,fn:i,options:o}),t.addEventListener(r,n,o)}),[]),n=(0,r.useCallback)(((t,r,n,o)=>{var i;let a=(null===(i=e.current.get(n))||void 0===i?void 0:i.fn)||n;t.removeEventListener(r,a,o),e.current.delete(n)}),[]),o=(0,r.useCallback)((()=>{e.current.forEach(((e,t)=>{n(e.eventTarget,e.type,t,e.options)}))}),[n]);return(0,r.useEffect)((()=>o),[o]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:o}}"undefined"!=typeof document&&("loading"!==document.readyState?Wr():document.addEventListener("DOMContentLoaded",Wr)),"undefined"!=typeof window&&window.visualViewport;let Qr=0;const Gr=new Map;function Xr(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function Kr(){return Xr(/^Mac/i)}function Yr(){return Xr(/^iPhone/i)||Xr(/^iPad/i)||Kr()&&navigator.maxTouchPoints>1}let Jr="default",Zr="",en=new WeakMap;function tn(e){Yr()?("default"===Jr&&(Zr=document.documentElement.style.webkitUserSelect,document.documentElement.style.webkitUserSelect="none"),Jr="disabled"):(e instanceof HTMLElement||e instanceof SVGElement)&&(en.set(e,e.style.userSelect),e.style.userSelect="none")}function rn(e){if(Yr()){if("disabled"!==Jr)return;Jr="restoring",setTimeout((()=>{!function(e){requestAnimationFrame((()=>{0===Br.size?e():Hr.add(e)}))}((()=>{"restoring"===Jr&&("none"===document.documentElement.style.webkitUserSelect&&(document.documentElement.style.webkitUserSelect=Zr||""),Zr="",Jr="default")}))}),300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&en.has(e)){let t=en.get(e);"none"===e.style.userSelect&&(e.style.userSelect=t),""===e.getAttribute("style")&&e.removeAttribute("style"),en.delete(e)}}function nn(e){return!(0!==e.mozInputSource||!e.isTrusted)||0===e.detail&&!e.pointerType}class on{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}function an(e){let t=(0,r.useRef)({isFocused:!1,onBlur:e,observer:null});return t.current.onBlur=e,Rr((()=>{const e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}}),[]),(0,r.useCallback)((e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=e.target,n=e=>{var n,o;t.current.isFocused=!1,r.disabled&&(null===(o=(n=t.current).onBlur)||void 0===o||o.call(n,new on("blur",e))),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",n,{once:!0}),t.current.observer=new MutationObserver((()=>{t.current.isFocused&&r.disabled&&(t.current.observer.disconnect(),r.dispatchEvent(new FocusEvent("blur")),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0})))})),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}}),[])}const sn=n().createContext(null);function ln(e){let{onPress:t,onPressChange:n,onPressStart:o,onPressEnd:i,onPressUp:a,isDisabled:s,isPressed:l,preventFocusOnPress:c,shouldCancelOnPointerExit:u,allowTextSelectionOnPress:d,ref:p,...f}=function(e){let t=(0,r.useContext)(sn);if(t){let{register:r,...n}=t;e=zr(n,e),r()}return function(e,t){Rr((()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref.current=null}}),[e,t])}(t,e.ref),e}(e),h=(0,r.useRef)(null);h.current={onPress:t,onPressChange:n,onPressStart:o,onPressEnd:i,onPressUp:a,isDisabled:s,shouldCancelOnPointerExit:u};let[m,g]=(0,r.useState)(!1),v=(0,r.useRef)({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:b,removeAllGlobalListeners:y}=Ur(),w=(0,r.useMemo)((()=>{let e=v.current,t=(t,r)=>{let{onPressStart:n,onPressChange:o,isDisabled:i}=h.current;i||e.didFirePressStart||(n&&n({type:"pressstart",pointerType:r,target:t.currentTarget,shiftKey:t.shiftKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey}),o&&o(!0),e.didFirePressStart=!0,g(!0))},r=(t,r,n=!0)=>{let{onPressEnd:o,onPressChange:i,onPress:a,isDisabled:s}=h.current;e.didFirePressStart&&(e.ignoreClickAfterPress=!0,e.didFirePressStart=!1,o&&o({type:"pressend",pointerType:r,target:t.currentTarget,shiftKey:t.shiftKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey}),i&&i(!1),g(!1),a&&n&&!s&&a({type:"press",pointerType:r,target:t.currentTarget,shiftKey:t.shiftKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey}))},n=(e,t)=>{let{onPressUp:r,isDisabled:n}=h.current;n||r&&r({type:"pressup",pointerType:t,target:e.currentTarget,shiftKey:e.shiftKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey})},o=t=>{e.isPressed&&(e.isOverTarget&&r(pn(e.target,t),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,y(),d||rn(e.target))},i={onKeyDown(r){un(r.nativeEvent,r.currentTarget)&&r.currentTarget.contains(r.target)?(mn(r.target,r.key)&&r.preventDefault(),r.stopPropagation(),e.isPressed||r.repeat||(e.target=r.currentTarget,e.isPressed=!0,t(r,"keyboard"),b(document,"keyup",a,!1))):"Enter"===r.key&&cn(r.currentTarget)&&r.stopPropagation()},onKeyUp(t){un(t.nativeEvent,t.currentTarget)&&!t.repeat&&t.currentTarget.contains(t.target)&&n(pn(e.target,t),"keyboard")},onClick(o){o&&!o.currentTarget.contains(o.target)||o&&0===o.button&&(o.stopPropagation(),s&&o.preventDefault(),e.ignoreClickAfterPress||e.ignoreEmulatedMouseEvents||"virtual"!==e.pointerType&&!nn(o.nativeEvent)||(s||c||Fr(o.currentTarget),t(o,"virtual"),n(o,"virtual"),r(o,"virtual")),e.ignoreEmulatedMouseEvents=!1,e.ignoreClickAfterPress=!1)}},a=t=>{if(e.isPressed&&un(t,e.target)){mn(t.target,t.key)&&t.preventDefault(),t.stopPropagation(),e.isPressed=!1;let n=t.target;r(pn(e.target,t),"keyboard",e.target.contains(n)),y(),e.target instanceof HTMLElement&&e.target.contains(n)&&(cn(e.target)||"link"===e.target.getAttribute("role"))&&e.target.click()}};if("undefined"!=typeof PointerEvent){i.onPointerDown=r=>{var n;0===r.button&&r.currentTarget.contains(r.target)&&(0===(n=r.nativeEvent).width&&0===n.height||1===n.width&&1===n.height&&0===n.pressure&&0===n.detail&&"mouse"===n.pointerType?e.pointerType="virtual":(hn(r.currentTarget)&&r.preventDefault(),e.pointerType=r.pointerType,r.stopPropagation(),e.isPressed||(e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=r.pointerId,e.target=r.currentTarget,s||c||Fr(r.currentTarget),d||tn(e.target),t(r,e.pointerType),b(document,"pointermove",a,!1),b(document,"pointerup",l,!1),b(document,"pointercancel",u,!1))))},i.onMouseDown=e=>{e.currentTarget.contains(e.target)&&0===e.button&&(hn(e.currentTarget)&&e.preventDefault(),e.stopPropagation())},i.onPointerUp=t=>{t.currentTarget.contains(t.target)&&"virtual"!==e.pointerType&&0===t.button&&fn(t,t.currentTarget)&&n(t,e.pointerType||t.pointerType)};let a=n=>{n.pointerId===e.activePointerId&&(fn(n,e.target)?e.isOverTarget||(e.isOverTarget=!0,t(pn(e.target,n),e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,r(pn(e.target,n),e.pointerType,!1),h.current.shouldCancelOnPointerExit&&o(n)))},l=t=>{t.pointerId===e.activePointerId&&e.isPressed&&0===t.button&&(fn(t,e.target)?r(pn(e.target,t),e.pointerType):e.isOverTarget&&r(pn(e.target,t),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,y(),d||rn(e.target))},u=e=>{o(e)};i.onDragStart=e=>{e.currentTarget.contains(e.target)&&o(e)}}else{i.onMouseDown=r=>{0===r.button&&r.currentTarget.contains(r.target)&&(hn(r.currentTarget)&&r.preventDefault(),r.stopPropagation(),e.ignoreEmulatedMouseEvents||(e.isPressed=!0,e.isOverTarget=!0,e.target=r.currentTarget,e.pointerType=nn(r.nativeEvent)?"virtual":"mouse",s||c||Fr(r.currentTarget),t(r,e.pointerType),b(document,"mouseup",a,!1)))},i.onMouseEnter=r=>{r.currentTarget.contains(r.target)&&(r.stopPropagation(),e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!0,t(r,e.pointerType)))},i.onMouseLeave=t=>{t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!1,r(t,e.pointerType,!1),h.current.shouldCancelOnPointerExit&&o(t)))},i.onMouseUp=t=>{t.currentTarget.contains(t.target)&&(e.ignoreEmulatedMouseEvents||0!==t.button||n(t,e.pointerType))};let a=t=>{0===t.button&&(e.isPressed=!1,y(),e.ignoreEmulatedMouseEvents?e.ignoreEmulatedMouseEvents=!1:(fn(t,e.target)?r(pn(e.target,t),e.pointerType):e.isOverTarget&&r(pn(e.target,t),e.pointerType,!1),e.isOverTarget=!1))};i.onTouchStart=r=>{if(!r.currentTarget.contains(r.target))return;r.stopPropagation();let n=function(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}(r.nativeEvent);n&&(e.activePointerId=n.identifier,e.ignoreEmulatedMouseEvents=!0,e.isOverTarget=!0,e.isPressed=!0,e.target=r.currentTarget,e.pointerType="touch",s||c||Fr(r.currentTarget),d||tn(e.target),t(r,e.pointerType),b(window,"scroll",l,!0))},i.onTouchMove=n=>{if(!n.currentTarget.contains(n.target))return;if(n.stopPropagation(),!e.isPressed)return;let i=dn(n.nativeEvent,e.activePointerId);i&&fn(i,n.currentTarget)?e.isOverTarget||(e.isOverTarget=!0,t(n,e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,r(n,e.pointerType,!1),h.current.shouldCancelOnPointerExit&&o(n))},i.onTouchEnd=t=>{if(!t.currentTarget.contains(t.target))return;if(t.stopPropagation(),!e.isPressed)return;let o=dn(t.nativeEvent,e.activePointerId);o&&fn(o,t.currentTarget)?(n(t,e.pointerType),r(t,e.pointerType)):e.isOverTarget&&r(t,e.pointerType,!1),e.isPressed=!1,e.activePointerId=null,e.isOverTarget=!1,e.ignoreEmulatedMouseEvents=!0,d||rn(e.target),y()},i.onTouchCancel=t=>{t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed&&o(t))};let l=t=>{e.isPressed&&t.target.contains(e.target)&&o({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};i.onDragStart=e=>{e.currentTarget.contains(e.target)&&o(e)}}return i}),[b,s,c,y,d]);return(0,r.useEffect)((()=>()=>{d||rn(v.current.target)}),[d]),{isPressed:l||m,pressProps:zr(f,w)}}function cn(e){return"A"===e.tagName&&e.hasAttribute("href")}function un(e,t){const{key:r,code:n}=e,o=t,i=o.getAttribute("role");return!("Enter"!==r&&" "!==r&&"Spacebar"!==r&&"Space"!==n||o instanceof HTMLInputElement&&!vn(o,r)||o instanceof HTMLTextAreaElement||o.isContentEditable||cn(o)&&("button"!==i||"Enter"===r)||"link"===i&&"Enter"!==r)}function dn(e,t){const r=e.changedTouches;for(let e=0;e<r.length;e++){const n=r[e];if(n.identifier===t)return n}return null}function pn(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function fn(e,t){let r=t.getBoundingClientRect(),n=function(e){let t=e.width/2||e.radiusX||0,r=e.height/2||e.radiusY||0;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}(e);return function(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}(r,n)}function hn(e){return!(e instanceof HTMLElement&&e.draggable)}function mn(e,t){return e instanceof HTMLInputElement?!vn(e,t):!(e instanceof HTMLButtonElement)||"submit"!==e.type}sn.displayName="PressResponderContext";const gn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function vn(e,t){return"checkbox"===e.type||"radio"===e.type?" "===t:gn.has(e.type)}let bn=null,yn=new Set,wn=!1,On=!1,xn=!1;function _n(e,t){for(let r of yn)r(e,t)}function En(e){On=!0,function(e){return!(e.metaKey||!Kr()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}(e)&&(bn="keyboard",_n("keyboard",e))}function Sn(e){bn="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(On=!0,_n("pointer",e))}function kn(e){nn(e)&&(On=!0,bn="virtual")}function Pn(e){e.target!==window&&e.target!==document&&(On||xn||(bn="virtual",_n("virtual",e)),On=!1,xn=!1)}function Cn(){On=!1,xn=!0}function Tn(){if("undefined"==typeof window||wn)return;let e=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){On=!0,e.apply(this,arguments)},document.addEventListener("keydown",En,!0),document.addEventListener("keyup",En,!0),document.addEventListener("click",kn,!0),window.addEventListener("focus",Pn,!0),window.addEventListener("blur",Cn,!1),"undefined"!=typeof PointerEvent?(document.addEventListener("pointerdown",Sn,!0),document.addEventListener("pointermove",Sn,!0),document.addEventListener("pointerup",Sn,!0)):(document.addEventListener("mousedown",Sn,!0),document.addEventListener("mousemove",Sn,!0),document.addEventListener("mouseup",Sn,!0)),wn=!0}function Dn(e,t){if(e.button>0)return!1;if(e.target){const t=e.target.ownerDocument;if(!t||!t.documentElement.contains(e.target))return!1}return t.current&&!t.current.contains(e.target)}function In(e){if(!e)return;let t=!0;return r=>{let n={...r,preventDefault(){r.preventDefault()},isDefaultPrevented:()=>r.isDefaultPrevented(),stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(n),t&&r.stopPropagation()}}"undefined"!=typeof document&&("loading"!==document.readyState?Tn():document.addEventListener("DOMContentLoaded",Tn));const An=500;function jn(e){if("virtual"===bn){let t=document.activeElement;!function(e){requestAnimationFrame((()=>{0===jr.size?e():Mr.add(e)}))}((()=>{document.activeElement===t&&document.contains(e)&&Ir(e)}))}else Ir(e)}function Mn(e,t){return"#comment"!==e.nodeName&&function(e){if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;let{display:t,visibility:r}=e.style,n="none"!==t&&"hidden"!==r&&"collapse"!==r;if(n){const{getComputedStyle:t}=e.ownerDocument.defaultView;let{display:r,visibility:o}=t(e);n="none"!==r&&"hidden"!==o&&"collapse"!==o}return n}(e)&&function(e,t){return!e.hasAttribute("hidden")&&("DETAILS"!==e.nodeName||!t||"SUMMARY"===t.nodeName||e.hasAttribute("open"))}(e,t)&&(!e.parentElement||Mn(e.parentElement,e))}const Nn=n().createContext(null);let Rn=null;function Ln(e){let{children:t,contain:o,restoreFocus:i,autoFocus:a}=e,s=(0,r.useRef)(),l=(0,r.useRef)(),c=(0,r.useRef)([]),u=(0,r.useContext)(Nn);var d;let p=null!==(d=null==u?void 0:u.scopeRef)&&void 0!==d?d:null;kr((()=>{let e=s.current.nextSibling,t=[];for(;e&&e!==l.current;)t.push(e),e=e.nextSibling;c.current=t}),[t,p]),Yn.getTreeNode(p)&&!Yn.getTreeNode(c)&&Yn.addTreeNode(c,p),Yn.getTreeNode(c).contain=o,function(e,t){let n=(0,r.useRef)(),o=(0,r.useRef)(null);kr((()=>{let r=e.current;if(!t)return void(o.current&&(cancelAnimationFrame(o.current),o.current=null));let i=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!qn(e))return;let r=document.activeElement,n=e.current;if(!Bn(r,n))return;let o=Gn(Fn(n),{tabbable:!0},n);o.currentNode=r;let i=t.shiftKey?o.previousNode():o.nextNode();i||(o.currentNode=t.shiftKey?n[n.length-1].nextElementSibling:n[0].previousElementSibling,i=t.shiftKey?o.previousNode():o.nextNode()),t.preventDefault(),i&&Un(i,!0)},a=t=>{!Rn||Wn(Rn,e)?(Rn=e,n.current=t.target):qn(e)&&!Hn(t.target,e)?n.current?n.current.focus():Rn&&Qn(Rn.current):qn(e)&&(n.current=t.target)},s=t=>{o.current=requestAnimationFrame((()=>{qn(e)&&!Hn(document.activeElement,e)&&(Rn=e,document.body.contains(t.target)?(n.current=t.target,n.current.focus()):Rn&&Qn(Rn.current))}))};return document.addEventListener("keydown",i,!1),document.addEventListener("focusin",a,!1),r.forEach((e=>e.addEventListener("focusin",a,!1))),r.forEach((e=>e.addEventListener("focusout",s,!1))),()=>{document.removeEventListener("keydown",i,!1),document.removeEventListener("focusin",a,!1),r.forEach((e=>e.removeEventListener("focusin",a,!1))),r.forEach((e=>e.removeEventListener("focusout",s,!1)))}}),[e,t]),(0,r.useEffect)((()=>()=>{o.current&&cancelAnimationFrame(o.current)}),[o])}(c,o),function(e,t,n){const o=(0,r.useRef)("undefined"!=typeof document?document.activeElement:null);kr((()=>{let r=e.current;if(!t||n)return;let o=()=>{Rn&&!Wn(Rn,e)||(Rn=e)};return document.addEventListener("focusin",o,!1),r.forEach((e=>e.addEventListener("focusin",o,!1))),()=>{document.removeEventListener("focusin",o,!1),r.forEach((e=>e.removeEventListener("focusin",o,!1)))}}),[e,n]),kr((()=>{if(Yn.getTreeNode(e).nodeToRestore=o.current,!t)return;let r=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey)return;let r=document.activeElement;if(!Bn(r,e.current))return;let n=Yn.getTreeNode(e).nodeToRestore,o=Gn(document.body,{tabbable:!0});o.currentNode=r;let i=t.shiftKey?o.previousNode():o.nextNode();if(document.body.contains(n)&&n!==document.body||(n=null,Yn.getTreeNode(e).nodeToRestore=null),(!i||!Bn(i,e.current))&&n){o.currentNode=n;do{i=t.shiftKey?o.previousNode():o.nextNode()}while(Bn(i,e.current));t.preventDefault(),t.stopPropagation(),i?Un(i,!0):Hn(n)?Un(n,!0):r.blur()}};return n||document.addEventListener("keydown",r,!0),()=>{n||document.removeEventListener("keydown",r,!0);let o=Yn.getTreeNode(e).nodeToRestore;if(t&&o&&(Bn(document.activeElement,e.current)||document.activeElement===document.body&&Rn===e)){let t=Yn.clone();requestAnimationFrame((()=>{if(document.activeElement===document.body){let r=t.getTreeNode(e);for(;r;){if(r.nodeToRestore&&document.body.contains(r.nodeToRestore))return void Un(r.nodeToRestore);r=r.parent}}}))}}}),[e,t,n])}(c,i,o),function(e,t){const o=n().useRef(t);(0,r.useEffect)((()=>{o.current&&(Rn=e,Bn(document.activeElement,Rn.current)||Qn(e.current)),o.current=!1}),[e])}(c,a),kr((()=>{if(c&&(p||null==p))return()=>{c!==Rn&&!Wn(c,Rn)||p&&!Yn.getTreeNode(p)||(Rn=p),Yn.removeTreeNode(c)}}),[c,p]);let f=function(e){return{focusNext(t={}){let r=e.current,{from:n,tabbable:o,wrap:i,accept:a}=t,s=n||document.activeElement,l=r[0].previousElementSibling,c=Gn(Fn(r),{tabbable:o,accept:a},r);c.currentNode=Bn(s,r)?s:l;let u=c.nextNode();return!u&&i&&(c.currentNode=l,u=c.nextNode()),u&&Un(u,!0),u},focusPrevious(t={}){let r=e.current,{from:n,tabbable:o,wrap:i,accept:a}=t,s=n||document.activeElement,l=r[r.length-1].nextElementSibling,c=Gn(Fn(r),{tabbable:o,accept:a},r);c.currentNode=Bn(s,r)?s:l;let u=c.previousNode();return!u&&i&&(c.currentNode=l,u=c.previousNode()),u&&Un(u,!0),u},focusFirst(t={}){let r=e.current,{tabbable:n,accept:o}=t,i=Gn(Fn(r),{tabbable:n,accept:o},r);i.currentNode=r[0].previousElementSibling;let a=i.nextNode();return a&&Un(a,!0),a},focusLast(t={}){let r=e.current,{tabbable:n,accept:o}=t,i=Gn(Fn(r),{tabbable:n,accept:o},r);i.currentNode=r[r.length-1].nextElementSibling;let a=i.previousNode();return a&&Un(a,!0),a}}}(c);return n().createElement(Nn.Provider,{value:{scopeRef:c,focusManager:f}},n().createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:s}),t,n().createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:l}))}const $n=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],Vn=$n.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";$n.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const zn=$n.join(':not([hidden]):not([tabindex="-1"]),');function Fn(e){return e[0].parentElement}function qn(e){let t=Yn.getTreeNode(Rn);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function Bn(e,t){return t.some((t=>t.contains(e)))}function Hn(e,t=null){for(let{scopeRef:r}of Yn.traverse(Yn.getTreeNode(t)))if(Bn(e,r.current))return!0;return!1}function Wn(e,t){var r;let n=null===(r=Yn.getTreeNode(t))||void 0===r?void 0:r.parent;for(;n;){if(n.scopeRef===e)return!0;n=n.parent}return!1}function Un(e,t=!1){if(null==e||t){if(null!=e)try{e.focus()}catch(e){}}else try{jn(e)}catch(e){}}function Qn(e,t=!0){let r=e[0].previousElementSibling,n=Gn(Fn(e),{tabbable:t},e);n.currentNode=r;let o=n.nextNode();t&&!o&&(n=Gn(Fn(e),{tabbable:!1},e),n.currentNode=r,o=n.nextNode()),Un(o)}function Gn(e,t,r){let n=(null==t?void 0:t.tabbable)?zn:Vn,o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(e){var o;return(null==t||null===(o=t.from)||void 0===o?void 0:o.contains(e))?NodeFilter.FILTER_REJECT:!e.matches(n)||!Mn(e)||r&&!Bn(e,r)||(null==t?void 0:t.accept)&&!t.accept(e)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}});return(null==t?void 0:t.from)&&(o.currentNode=t.from),o}class Xn{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,r){let n=this.fastMap.get(null!=t?t:null),o=new Kn({scopeRef:e});n.addChild(o),o.parent=n,this.fastMap.set(e,o),r&&(o.nodeToRestore=r)}removeTreeNode(e){if(null===e)return;let t=this.fastMap.get(e),r=t.parent;for(let e of this.traverse())e!==t&&t.nodeToRestore&&e.nodeToRestore&&t.scopeRef.current&&Bn(e.nodeToRestore,t.scopeRef.current)&&(e.nodeToRestore=t.nodeToRestore);let n=t.children;r.removeChild(t),n.length>0&&n.forEach((e=>r.addChild(e))),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(null!=e.scopeRef&&(yield e),e.children.length>0)for(let t of e.children)yield*this.traverse(t)}clone(){let e=new Xn;for(let t of this.traverse())e.addTreeNode(t.scopeRef,t.parent.scopeRef,t.nodeToRestore);return e}constructor(){this.fastMap=new Map,this.root=new Kn({scopeRef:null}),this.fastMap.set(null,this.root)}}class Kn{addChild(e){this.children.push(e),e.parent=this}removeChild(e){this.children.splice(this.children.indexOf(e),1),e.parent=void 0}constructor(e){this.children=[],this.contain=!1,this.scopeRef=e.scopeRef}}let Yn=new Xn,Jn=n().createContext(null);function Zn(e,t){let{focusProps:n}=function(e){let{isDisabled:t,onFocus:n,onBlur:o,onFocusChange:i}=e;const a=(0,r.useCallback)((e=>{if(e.target===e.currentTarget)return o&&o(e),i&&i(!1),!0}),[o,i]),s=an(a),l=(0,r.useCallback)((e=>{e.target===e.currentTarget&&(n&&n(e),i&&i(!0),s(e))}),[i,n,s]);return{focusProps:{onFocus:!t&&(n||i||o)?l:void 0,onBlur:t||!o&&!i?null:a}}}(e),{keyboardProps:o}=function(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:In(e.onKeyDown),onKeyUp:In(e.onKeyUp)}}}(e),i=Dr(n,o),a=function(e){let t=(0,r.useContext)(Jn)||{};!function(e,t){kr((()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref.current=null}}),[e,t])}(t,e);let{ref:n,...o}=t;return o}(t),s=e.isDisabled?{}:a,l=(0,r.useRef)(e.autoFocus);return(0,r.useEffect)((()=>{l.current&&t.current&&jn(t.current),l.current=!1}),[t]),{focusableProps:Dr({...i,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},s)}}const eo="undefined"!=typeof window?n().useLayoutEffect:()=>{};let to=new Map;new Set(["id"]),new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]);let ro=new Map,no=new Set;function oo(){if("undefined"==typeof window)return;let e=t=>{let r=ro.get(t.target);if(r&&(r.delete(t.propertyName),0===r.size&&(t.target.removeEventListener("transitioncancel",e),ro.delete(t.target)),0===ro.size)){for(let e of no)e();no.clear()}};document.body.addEventListener("transitionrun",(t=>{let r=ro.get(t.target);r||(r=new Set,ro.set(t.target,r),t.target.addEventListener("transitioncancel",e)),r.add(t.propertyName)})),document.body.addEventListener("transitionend",e)}"undefined"!=typeof document&&("loading"!==document.readyState?oo():document.addEventListener("DOMContentLoaded",oo)),"undefined"!=typeof window&&window.visualViewport,new Map,"undefined"!=typeof window&&window.visualViewport;const io=new WeakMap;"undefined"!=typeof window&&window.visualViewport;const ao=[];"undefined"!=typeof window&&window.visualViewport,new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);const so=n().createContext(null);function lo(e){let{children:t}=e,o=(0,r.useContext)(so),[i,a]=(0,r.useState)(0),s=(0,r.useMemo)((()=>({parent:o,modalCount:i,addModal(){a((e=>e+1)),o&&o.addModal()},removeModal(){a((e=>e-1)),o&&o.removeModal()}})),[o,i]);return n().createElement(so.Provider,{value:s},t)}function co(e){let{modalProviderProps:t}=function(){let e=(0,r.useContext)(so);return{modalProviderProps:{"aria-hidden":!!(e&&e.modalCount>0)||null}}}();return n().createElement("div",{"data-overlay-container":!0,...e,...t})}function uo(e){return n().createElement(lo,null,n().createElement(co,e))}function po(e){let t=fr(),{portalContainer:r=(t?null:document.body),...o}=e;if(n().useEffect((()=>{if(null==r?void 0:r.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")}),[r]),!r)return null;let i=n().createElement(uo,o);return be().createPortal(i,r)}function fo(){return fo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fo.apply(this,arguments)}new WeakMap;const ho=n().forwardRef(((e,t)=>{var{name:r,size:o="md",iconType:i,tooltip:s,tooltipPlacement:l,ariaLabel:c,className:u,variant:d="secondary"}=e,p=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["name","size","iconType","tooltip","tooltipPlacement","ariaLabel","className","variant"]);const f=w(),h=mo(f,o,d),m="string"==typeof s?s:"",g=n().createElement("button",fo({ref:t,"aria-label":c||m},p,{className:(0,a.cx)(h.button,u)}),n().createElement(ce,{name:r,size:o,className:h.icon,type:i}));return s?n().createElement(Yt,{content:s,placement:l},g):g}));ho.displayName="IconButton";const mo=f(((e,r,n)=>{const o=ae(r),i=Math.max(o/3,8);let s=e.colors.text.primary;return"primary"===n?s=e.colors.primary.text:"destructive"===n&&(s=e.colors.error.text),{button:a.css`
      width: ${o}px;
      height: ${o}px;
      background: transparent;
      border: none;
      color: ${s};
      padding: 0;
      margin: 0;
      outline: none;
      box-shadow: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      position: relative;
      border-radius: ${e.shape.borderRadius()};
      z-index: 0;
      margin-right: ${e.spacing(.5)};

      &[disabled],
      &:disabled {
        cursor: not-allowed;
        color: ${e.colors.action.disabledText};
        opacity: 0.65;
        box-shadow: none;
      }

      &:before {
        content: '';
        display: block;
        opacity: 1;
        position: absolute;
        transition-duration: 0.2s;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        z-index: -1;
        bottom: -${i}px;
        left: -${i}px;
        right: -${i}px;
        top: -${i}px;
        background: none;
        border-radius: 50%;
        box-sizing: border-box;
        transform: scale(0);
        transition-property: transform, opacity;
      }

      &:focus,
      &:focus-visible {
        ${A(e)}
      }

      &:focus:not(:focus-visible) {
        ${{outline:"none",boxShadow:"none"}}
      }

      &:hover {
        color: ${s};

        &:before {
          background-color: ${"secondary"===n?e.colors.action.hover:t.colorManipulator.alpha(s,.12)};
          border: none;
          box-shadow: none;
          opacity: 1;
          transform: scale(0.8);
        }
      }
    `,icon:a.css`
      vertical-align: baseline;
      display: flex;
    `}})),go=f((e=>{const t=e.shape.borderRadius(1);return{modal:a.css`
      position: fixed;
      z-index: ${e.zIndex.modal};
      background: ${e.colors.background.primary};
      box-shadow: ${e.shadows.z3};
      border-radius: ${t};
      border: 1px solid ${e.colors.border.weak};
      background-clip: padding-box;
      outline: none;
      width: 750px;
      max-width: 100%;
      left: 0;
      right: 0;
      margin-left: auto;
      margin-right: auto;
      top: 10%;
      max-height: 80%;
      display: flex;
      flex-direction: column;
    `,modalBackdrop:a.css`
      position: fixed;
      z-index: ${e.zIndex.modalBackdrop};
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      background-color: ${e.components.overlay.background};
      backdrop-filter: blur(1px);
    `,modalHeader:a.css`
      label: modalHeader;
      display: flex;
      align-items: center;
      min-height: 42px;
      margin: ${e.spacing(1,2,0,2)};
    `,modalHeaderWithTabs:a.css`
      border-bottom: 1px solid ${e.colors.border.weak};
    `,modalHeaderTitle:a.css`
      font-size: ${e.typography.size.lg};
      margin: ${e.spacing(0,4,0,1)};
      display: flex;
      align-items: center;
      position: relative;
      top: 2px;
    `,modalHeaderIcon:a.css`
      margin-right: ${e.spacing(2)};
      font-size: inherit;
      &:before {
        vertical-align: baseline;
      }
    `,modalHeaderClose:a.css`
      height: 100%;
      display: flex;
      align-items: center;
      color: ${e.colors.text.secondary};
      flex-grow: 1;
      justify-content: flex-end;
    `,modalContent:a.css`
      overflow: auto;
      padding: ${e.spacing(3)};
      width: 100%;
    `,modalButtonRow:a.css`
      padding-top: ${e.spacing(3)};
    `}})),vo=({icon:e,iconTooltip:t,title:r,children:o,id:i})=>{const a=O(go);return n().createElement(n().Fragment,null,n().createElement("h2",{className:a.modalHeaderTitle,id:i},r),o)};function bo(){return bo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bo.apply(this,arguments)}function yo(e){const{title:t,children:o,isOpen:i=!1,closeOnEscape:s=!0,closeOnBackdropClick:l=!0,className:c,contentClassName:u,onDismiss:d,onClickBackdrop:p,trapFocus:f=!0}=e,h=w(),m=go(h),g=(0,r.useRef)(null),{overlayProps:v,underlayProps:b}=function(e,t){let{onClose:n,shouldCloseOnBlur:o,isOpen:i,isDismissable:a=!1,isKeyboardDismissDisabled:s=!1,shouldCloseOnInteractOutside:l}=e;(0,r.useEffect)((()=>(i&&ao.push(t),()=>{let e=ao.indexOf(t);e>=0&&ao.splice(e,1)})),[i,t]);let c=()=>{ao[ao.length-1]===t&&n&&n()};!function(e){let{ref:t,onInteractOutside:n,isDisabled:o,onInteractOutsideStart:i}=e,a=(0,r.useRef)({isPointerDown:!1,ignoreEmulatedMouseEvents:!1,onInteractOutside:n,onInteractOutsideStart:i}).current;a.onInteractOutside=n,a.onInteractOutsideStart=i,(0,r.useEffect)((()=>{if(o)return;let e=e=>{Dn(e,t)&&a.onInteractOutside&&(a.onInteractOutsideStart&&a.onInteractOutsideStart(e),a.isPointerDown=!0)};if("undefined"!=typeof PointerEvent){let r=e=>{a.isPointerDown&&a.onInteractOutside&&Dn(e,t)&&(a.isPointerDown=!1,a.onInteractOutside(e))};return document.addEventListener("pointerdown",e,!0),document.addEventListener("pointerup",r,!0),()=>{document.removeEventListener("pointerdown",e,!0),document.removeEventListener("pointerup",r,!0)}}{let r=e=>{a.ignoreEmulatedMouseEvents?a.ignoreEmulatedMouseEvents=!1:a.isPointerDown&&a.onInteractOutside&&Dn(e,t)&&(a.isPointerDown=!1,a.onInteractOutside(e))},n=e=>{a.ignoreEmulatedMouseEvents=!0,a.onInteractOutside&&a.isPointerDown&&Dn(e,t)&&(a.isPointerDown=!1,a.onInteractOutside(e))};return document.addEventListener("mousedown",e,!0),document.addEventListener("mouseup",r,!0),document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",n,!0),()=>{document.removeEventListener("mousedown",e,!0),document.removeEventListener("mouseup",r,!0),document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",n,!0)}}}),[t,a,o])}({ref:t,onInteractOutside:a?e=>{l&&!l(e.target)||(ao[ao.length-1]===t&&(e.stopPropagation(),e.preventDefault()),c())}:null,onInteractOutsideStart:e=>{l&&!l(e.target)||ao[ao.length-1]===t&&(e.stopPropagation(),e.preventDefault())}});let{focusWithinProps:u}=function(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:o,onFocusWithinChange:i}=e,a=(0,r.useRef)({isFocusWithin:!1}),s=(0,r.useCallback)((e=>{a.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(a.current.isFocusWithin=!1,n&&n(e),i&&i(!1))}),[n,i,a]),l=an(s),c=(0,r.useCallback)((e=>{a.current.isFocusWithin||(o&&o(e),i&&i(!0),a.current.isFocusWithin=!0,l(e))}),[o,i,l]);return t?{focusWithinProps:{onFocus:null,onBlur:null}}:{focusWithinProps:{onFocus:c,onBlur:s}}}({isDisabled:!o,onBlurWithin:e=>{l&&!l(e.relatedTarget)||n()}});return{overlayProps:{onKeyDown:e=>{"Escape"!==e.key||s||(e.stopPropagation(),e.preventDefault(),c())},...u},underlayProps:{onPointerDown:e=>{e.target===e.currentTarget&&e.preventDefault()}}}}({isKeyboardDismissDisabled:!s,isOpen:i,onClose:d},g),{dialogProps:y,titleProps:O}=function(e,t){let{role:n="dialog"}=e,o=gr();return o=e["aria-label"]?void 0:o,(0,r.useEffect)((()=>{if(t.current&&!t.current.contains(document.activeElement)){jn(t.current);let e=setTimeout((()=>{document.activeElement===t.current&&(t.current.blur(),jn(t.current))}),500);return()=>{clearTimeout(e)}}}),[t]),{dialogProps:{...wr(e,{labelable:!0}),role:n,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||o},titleProps:{id:o}}}({},g);if(!i)return null;const x=(0,a.cx)(m.modalHeader,"string"!=typeof t&&m.modalHeaderWithTabs);return n().createElement(po,null,n().createElement("div",bo({className:m.modalBackdrop,onClick:p||(l?d:void 0)},b)),n().createElement(Ln,{contain:f,autoFocus:!0,restoreFocus:!0},n().createElement("div",bo({className:(0,a.cx)(m.modal,c),ref:g},v,y),n().createElement("div",{className:x},"string"==typeof t&&n().createElement(wo,bo({},e,{title:t,id:O.id})),"string"!=typeof t&&t,n().createElement("div",{className:m.modalHeaderClose},n().createElement(ho,{"aria-label":"Close dialogue",name:"times",size:"xl",onClick:d}))),n().createElement("div",{className:(0,a.cx)(m.modalContent,u)},o))))}function wo({icon:e,iconTooltip:t,title:r,id:o}){return n().createElement(vo,{icon:e,iconTooltip:t,title:r,id:o})}yo.ButtonRow=function({leftItems:e,children:t}){const r=w(),o=go(r);return e?n().createElement("div",{className:o.modalButtonRow},n().createElement(S,{justify:"space-between"},n().createElement(S,{justify:"flex-start",spacing:"md"},e),n().createElement(S,{justify:"flex-end",spacing:"md"},t))):n().createElement("div",{className:o.modalButtonRow},n().createElement(S,{justify:"flex-end",spacing:"md"},t))};const Oo=({isOpen:e,title:t,body:o,description:i,confirmText:a,confirmationText:l,dismissText:c="Cancel",alternativeText:u,icon:d="exclamation-triangle",onConfirm:p,onDismiss:f,onAlternative:h})=>{const[m,g]=(0,r.useState)(Boolean(l)),v=O(xo),b=(0,r.useRef)(null);return(0,r.useEffect)((()=>{var t;e&&(null===(t=b.current)||void 0===t||t.focus())}),[e]),n().createElement(yo,{className:v.modal,title:t,icon:d,isOpen:e,onDismiss:f},n().createElement("div",{className:v.modalText},o,i?n().createElement("div",{className:v.modalDescription},i):null,l?n().createElement("div",{className:v.modalConfirmationInput},n().createElement(S,null,n().createElement(he,{placeholder:`Type ${l} to confirm`,onChange:e=>{g(0!==(null==l?void 0:l.localeCompare(e.currentTarget.value)))}}))):null),n().createElement(yo.ButtonRow,null,n().createElement(or,{variant:"secondary",onClick:f,fill:"outline"},c),n().createElement(or,{variant:"destructive",onClick:p,disabled:m,ref:b,"aria-label":s.selectors.pages.ConfirmModal.delete},a),h?n().createElement(or,{variant:"primary",onClick:h},u):null))},xo=e=>({modal:a.css`
    width: 500px;
  `,modalText:(0,a.css)({fontSize:e.typography.h5.fontSize,color:e.colors.text.primary}),modalDescription:(0,a.css)({fontSize:e.typography.body.fontSize}),modalConfirmationInput:(0,a.css)({paddingTop:e.spacing(1)})}),_o=({children:e})=>{const t=w(),r=Eo(t);return n().createElement("div",{className:r.root},e)},Eo=f((e=>({root:(0,a.css)({display:"flex",flexWrap:"wrap",alignItems:"center",gap:e.spacing(3),minHeight:e.spacing(4)})})));function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},So.apply(this,arguments)}var ko=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Po=Math.abs,Co=String.fromCharCode,To=Object.assign;function Do(e){return e.trim()}function Io(e,t,r){return e.replace(t,r)}function Ao(e,t){return e.indexOf(t)}function jo(e,t){return 0|e.charCodeAt(t)}function Mo(e,t,r){return e.slice(t,r)}function No(e){return e.length}function Ro(e){return e.length}function Lo(e,t){return t.push(e),e}var $o=1,Vo=1,zo=0,Fo=0,qo=0,Bo="";function Ho(e,t,r,n,o,i,a){return{value:e,root:t,parent:r,type:n,props:o,children:i,line:$o,column:Vo,length:a,return:""}}function Wo(e,t){return To(Ho("",null,null,"",null,null,0),e,{length:-e.length},t)}function Uo(){return qo=Fo>0?jo(Bo,--Fo):0,Vo--,10===qo&&(Vo=1,$o--),qo}function Qo(){return qo=Fo<zo?jo(Bo,Fo++):0,Vo++,10===qo&&(Vo=1,$o++),qo}function Go(){return jo(Bo,Fo)}function Xo(){return Fo}function Ko(e,t){return Mo(Bo,e,t)}function Yo(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Jo(e){return $o=Vo=1,zo=No(Bo=e),Fo=0,[]}function Zo(e){return Bo="",e}function ei(e){return Do(Ko(Fo-1,ni(91===e?e+2:40===e?e+1:e)))}function ti(e){for(;(qo=Go())&&qo<33;)Qo();return Yo(e)>2||Yo(qo)>3?"":" "}function ri(e,t){for(;--t&&Qo()&&!(qo<48||qo>102||qo>57&&qo<65||qo>70&&qo<97););return Ko(e,Xo()+(t<6&&32==Go()&&32==Qo()))}function ni(e){for(;Qo();)switch(qo){case e:return Fo;case 34:case 39:34!==e&&39!==e&&ni(qo);break;case 40:41===e&&ni(e);break;case 92:Qo()}return Fo}function oi(e,t){for(;Qo()&&e+qo!==57&&(e+qo!==84||47!==Go()););return"/*"+Ko(t,Fo-1)+"*"+Co(47===e?e:Qo())}function ii(e){for(;!Yo(Go());)Qo();return Ko(e,Fo)}var ai="-ms-",si="-moz-",li="-webkit-",ci="comm",ui="rule",di="decl",pi="@keyframes";function fi(e,t){for(var r="",n=Ro(e),o=0;o<n;o++)r+=t(e[o],o,e,t)||"";return r}function hi(e,t,r,n){switch(e.type){case"@import":case di:return e.return=e.return||e.value;case ci:return"";case pi:return e.return=e.value+"{"+fi(e.children,n)+"}";case ui:e.value=e.props.join(",")}return No(r=fi(e.children,n))?e.return=e.value+"{"+r+"}":""}function mi(e,t){switch(function(e,t){return(((t<<2^jo(e,0))<<2^jo(e,1))<<2^jo(e,2))<<2^jo(e,3)}(e,t)){case 5103:return li+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return li+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return li+e+si+e+ai+e+e;case 6828:case 4268:return li+e+ai+e+e;case 6165:return li+e+ai+"flex-"+e+e;case 5187:return li+e+Io(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return li+e+ai+"flex-item-"+Io(e,/flex-|-self/,"")+e;case 4675:return li+e+ai+"flex-line-pack"+Io(e,/align-content|flex-|-self/,"")+e;case 5548:return li+e+ai+Io(e,"shrink","negative")+e;case 5292:return li+e+ai+Io(e,"basis","preferred-size")+e;case 6060:return li+"box-"+Io(e,"-grow","")+li+e+ai+Io(e,"grow","positive")+e;case 4554:return li+Io(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return Io(Io(Io(e,/(zoom-|grab)/,li+"$1"),/(image-set)/,li+"$1"),e,"")+e;case 5495:case 3959:return Io(e,/(image-set\([^]*)/,li+"$1$`$1");case 4968:return Io(Io(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+li+e+e;case 4095:case 3583:case 4068:case 2532:return Io(e,/(.+)-inline(.+)/,li+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(No(e)-1-t>6)switch(jo(e,t+1)){case 109:if(45!==jo(e,t+4))break;case 102:return Io(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+si+(108==jo(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ao(e,"stretch")?mi(Io(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==jo(e,t+1))break;case 6444:switch(jo(e,No(e)-3-(~Ao(e,"!important")&&10))){case 107:return Io(e,":",":"+li)+e;case 101:return Io(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+li+(45===jo(e,14)?"inline-":"")+"box$3$1"+li+"$2$3$1"+ai+"$2box$3")+e}break;case 5936:switch(jo(e,t+11)){case 114:return li+e+ai+Io(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return li+e+ai+Io(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return li+e+ai+Io(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return li+e+ai+e+e}return e}function gi(e){return Zo(vi("",null,null,null,[""],e=Jo(e),0,[0],e))}function vi(e,t,r,n,o,i,a,s,l){for(var c=0,u=0,d=a,p=0,f=0,h=0,m=1,g=1,v=1,b=0,y="",w=o,O=i,x=n,_=y;g;)switch(h=b,b=Qo()){case 40:if(108!=h&&58==_.charCodeAt(d-1)){-1!=Ao(_+=Io(ei(b),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:_+=ei(b);break;case 9:case 10:case 13:case 32:_+=ti(h);break;case 92:_+=ri(Xo()-1,7);continue;case 47:switch(Go()){case 42:case 47:Lo(yi(oi(Qo(),Xo()),t,r),l);break;default:_+="/"}break;case 123*m:s[c++]=No(_)*v;case 125*m:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+u:f>0&&No(_)-d&&Lo(f>32?wi(_+";",n,r,d-1):wi(Io(_," ","")+";",n,r,d-2),l);break;case 59:_+=";";default:if(Lo(x=bi(_,t,r,c,u,o,s,y,w=[],O=[],d),i),123===b)if(0===u)vi(_,t,x,x,w,i,d,s,O);else switch(p){case 100:case 109:case 115:vi(e,x,x,n&&Lo(bi(e,x,x,0,0,o,s,y,o,w=[],d),O),o,O,d,s,n?w:O);break;default:vi(_,x,x,x,[""],O,0,s,O)}}c=u=f=0,m=v=1,y=_="",d=a;break;case 58:d=1+No(_),f=h;default:if(m<1)if(123==b)--m;else if(125==b&&0==m++&&125==Uo())continue;switch(_+=Co(b),b*m){case 38:v=u>0?1:(_+="\f",-1);break;case 44:s[c++]=(No(_)-1)*v,v=1;break;case 64:45===Go()&&(_+=ei(Qo())),p=Go(),u=d=No(y=_+=ii(Xo())),b++;break;case 45:45===h&&2==No(_)&&(m=0)}}return i}function bi(e,t,r,n,o,i,a,s,l,c,u){for(var d=o-1,p=0===o?i:[""],f=Ro(p),h=0,m=0,g=0;h<n;++h)for(var v=0,b=Mo(e,d+1,d=Po(m=a[h])),y=e;v<f;++v)(y=Do(m>0?p[v]+" "+b:Io(b,/&\f/g,p[v])))&&(l[g++]=y);return Ho(e,t,r,0===o?ui:s,l,c,u)}function yi(e,t,r){return Ho(e,t,r,ci,Co(qo),Mo(e,2,-2),0)}function wi(e,t,r,n){return Ho(e,t,r,di,Mo(e,0,n),Mo(e,n+1,-1),n)}var Oi=function(e,t,r){for(var n=0,o=0;n=o,o=Go(),38===n&&12===o&&(t[r]=1),!Yo(o);)Qo();return Ko(e,Fo)},xi=new WeakMap,_i=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||xi.get(r))&&!n){xi.set(e,!0);for(var o=[],i=function(e,t){return Zo(function(e,t){var r=-1,n=44;do{switch(Yo(n)){case 0:38===n&&12===Go()&&(t[r]=1),e[r]+=Oi(Fo-1,t,r);break;case 2:e[r]+=ei(n);break;case 4:if(44===n){e[++r]=58===Go()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Co(n)}}while(n=Qo());return e}(Jo(e),t))}(t,o),a=r.props,s=0,l=0;s<i.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=o[s]?i[s].replace(/&\f/g,a[c]):a[c]+" "+i[s]}}},Ei=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Si=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case di:e.return=mi(e.value,e.length);break;case pi:return fi([Wo(e,{value:Io(e.value,"@","@"+li)})],n);case ui:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return fi([Wo(e,{props:[Io(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return fi([Wo(e,{props:[Io(t,/:(plac\w+)/,":-webkit-input-$1")]}),Wo(e,{props:[Io(t,/:(plac\w+)/,":-moz-$1")]}),Wo(e,{props:[Io(t,/:(plac\w+)/,ai+"input-$1")]})],n)}return""}))}}];const ki=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var n,o,i=e.stylisPlugins||Si,a={},s=[];n=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)a[t[r]]=!0;s.push(e)}));var l,c,u,d,p=[hi,(d=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&d(e)})],f=(c=[_i,Ei].concat(i,p),u=Ro(c),function(e,t,r,n){for(var o="",i=0;i<u;i++)o+=c[i](e,t,r,n)||"";return o});o=function(e,t,r,n){l=r,fi(gi(e?e+"{"+t.styles+"}":t.styles),f),n&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new ko({key:t,container:n,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return h.sheet.hydrate(s),h};function Pi(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "})),n}var Ci=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},Ti=function(e,t,r){Ci(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+n:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}};const Di=function(e){for(var t,r=0,n=0,o=e.length;o>=4;++n,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(o){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},Ii={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ai=function(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}};var ji=/[A-Z]|^ms/g,Mi=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ni=function(e){return 45===e.charCodeAt(1)},Ri=function(e){return null!=e&&"boolean"!=typeof e},Li=Ai((function(e){return Ni(e)?e:e.replace(ji,"-$&").toLowerCase()})),$i=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(Mi,(function(e,t,r){return zi={name:t,styles:r,next:zi},t}))}return 1===Ii[e]||Ni(e)||"number"!=typeof t||0===t?t:t+"px"};function Vi(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return zi={name:r.name,styles:r.styles,next:zi},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)zi={name:n.name,styles:n.styles,next:zi},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=Vi(e,t,r[o])+";";else for(var i in r){var a=r[i];if("object"!=typeof a)null!=t&&void 0!==t[a]?n+=i+"{"+t[a]+"}":Ri(a)&&(n+=Li(i)+":"+$i(i,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=Vi(e,t,a);switch(i){case"animation":case"animationName":n+=Li(i)+":"+s+";";break;default:n+=i+"{"+s+"}"}}else for(var l=0;l<a.length;l++)Ri(a[l])&&(n+=Li(i)+":"+$i(i,a[l])+";")}return n}(e,t,r);case"function":if(void 0!==e){var o=zi,i=r(e);return zi=o,Vi(e,t,i)}}if(null==t)return r;var a=t[r];return void 0!==a?a:r}var zi,Fi=/label:\s*([^\s;\n{]+)\s*(;|$)/g,qi=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,o="";zi=void 0;var i=e[0];null==i||void 0===i.raw?(n=!1,o+=Vi(r,t,i)):o+=i[0];for(var a=1;a<e.length;a++)o+=Vi(r,t,e[a]),n&&(o+=i[a]);Fi.lastIndex=0;for(var s,l="";null!==(s=Fi.exec(o));)l+="-"+s[1];return{name:Di(o)+l,styles:o,next:zi}},Bi={}.hasOwnProperty,Hi=(0,r.createContext)("undefined"!=typeof HTMLElement?ki({key:"css"}):null),Wi=(Hi.Provider,function(e){return(0,r.forwardRef)((function(t,n){var o=(0,r.useContext)(Hi);return e(t,o,n)}))}),Ui=(0,r.createContext)({}),Qi=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};function Gi(e){Qi(e)}var Xi="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ki=function(e,t){var r={};for(var n in t)Bi.call(t,n)&&(r[n]=t[n]);return r[Xi]=e,r},Yi=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return Ci(t,r,n),Gi((function(){return Ti(t,r,n)})),null},Ji=Wi((function(e,t,n){var o=e.css;"string"==typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var i=e[Xi],a=[o],s="";"string"==typeof e.className?s=Pi(t.registered,a,e.className):null!=e.className&&(s=e.className+" ");var l=qi(a,void 0,(0,r.useContext)(Ui));s+=t.key+"-"+l.name;var c={};for(var u in e)Bi.call(e,u)&&"css"!==u&&u!==Xi&&(c[u]=e[u]);return c.ref=n,c.className=s,(0,r.createElement)(r.Fragment,null,(0,r.createElement)(Yi,{cache:t,serialized:l,isStringTag:"string"==typeof i}),(0,r.createElement)(i,c))})),Zi=function(e,t){var n=arguments;if(null==t||!Bi.call(t,"css"))return r.createElement.apply(void 0,n);var o=n.length,i=new Array(o);i[0]=Ji,i[1]=Ki(e,t);for(var a=2;a<o;a++)i[a]=n[a];return r.createElement.apply(null,i)};function ea(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return qi(t)}r.useInsertionEffect?r.useInsertionEffect:r.useLayoutEffect;var ta=function e(t){for(var r=t.length,n=0,o="";n<r;n++){var i=t[n];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var s in a="",i)i[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=i}a&&(o&&(o+=" "),o+=a)}}return o};function ra(e,t,r){var n=[],o=Pi(e,n,r);return n.length<2?r:o+t(n)}var na=function(e){var t=e.cache,r=e.serializedArr;return Gi((function(){for(var e=0;e<r.length;e++)Ti(t,r[e],!1)})),null},oa=Wi((function(e,t){var n=[],o=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=qi(r,t.registered);return n.push(i),Ci(t,i,!1),t.key+"-"+i.name},i={css:o,cx:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ra(t.registered,o,ta(r))},theme:(0,r.useContext)(Ui)},a=e.children(i);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(na,{cache:t,serializedArr:n}),a)}));function ia(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sa(e,t){if(e){if("string"==typeof e)return aa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?aa(e,t):void 0}}function la(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||sa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ca(e){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ca(e)}function ua(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function da(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pa(e,t,r){return t&&da(e.prototype,t),r&&da(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fa(e,t){return fa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fa(e,t)}function ha(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fa(e,t)}function ma(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ga(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function va(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ba(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?va(Object(r),!0).forEach((function(t){ga(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):va(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ya(e){return ya=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ya(e)}function wa(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ya(e);if(t){var o=ya(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return wa(this,r)}}var xa=["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],_a=function(){};function Ea(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function Sa(e,t,r){var n=[r];if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&n.push("".concat(Ea(e,o)));return n.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var ka=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===ca(e)&&null!==e?[e]:[];var t},Pa=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,ba({},ia(e,xa))};function Ca(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Ta(e){return Ca(e)?window.pageYOffset:e.scrollTop}function Da(e,t){Ca(e)?window.scrollTo(0,t):e.scrollTop=t}function Ia(e,t,r,n){return r*((e=e/n-1)*e*e+1)+t}function Aa(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_a,o=Ta(e),i=t-o,a=10,s=0;function l(){var t=Ia(s+=a,o,i,r);Da(e,t),s<r?window.requestAnimationFrame(l):n(e)}l()}function ja(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var Ma=!1,Na={get passive(){return Ma=!0}},Ra="undefined"!=typeof window?window:{};Ra.addEventListener&&Ra.removeEventListener&&(Ra.addEventListener("p",_a,Na),Ra.removeEventListener("p",_a,!1));var La=Ma;function $a(e){return null!=e}function Va(e,t,r){return e?t:r}function za(e){var t=e.maxHeight,r=e.menuEl,n=e.minHeight,o=e.placement,i=e.shouldScroll,a=e.isFixedPosition,s=e.theme.spacing,l=function(e){var t=getComputedStyle(e),r="absolute"===t.position,n=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!r||"static"!==t.position)&&n.test(t.overflow+t.overflowY+t.overflowX))return o;return document.documentElement}(r),c={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return c;var u,d=l.getBoundingClientRect().height,p=r.getBoundingClientRect(),f=p.bottom,h=p.height,m=p.top,g=r.offsetParent.getBoundingClientRect().top,v=a||Ca(u=l)?window.innerHeight:u.clientHeight,b=Ta(l),y=parseInt(getComputedStyle(r).marginBottom,10),w=parseInt(getComputedStyle(r).marginTop,10),O=g-w,x=v-m,_=O+b,E=d-b-m,S=f-v+b+y,k=b+m-w,P=160;switch(o){case"auto":case"bottom":if(x>=h)return{placement:"bottom",maxHeight:t};if(E>=h&&!a)return i&&Aa(l,S,P),{placement:"bottom",maxHeight:t};if(!a&&E>=n||a&&x>=n)return i&&Aa(l,S,P),{placement:"bottom",maxHeight:a?x-y:E-y};if("auto"===o||a){var C=t,T=a?O:_;return T>=n&&(C=Math.min(T-y-s.controlHeight,t)),{placement:"top",maxHeight:C}}if("bottom"===o)return i&&Da(l,S),{placement:"bottom",maxHeight:t};break;case"top":if(O>=h)return{placement:"top",maxHeight:t};if(_>=h&&!a)return i&&Aa(l,k,P),{placement:"top",maxHeight:t};if(!a&&_>=n||a&&O>=n){var D=t;return(!a&&_>=n||a&&O>=n)&&(D=a?O-w:_-w),i&&Aa(l,k,P),{placement:"top",maxHeight:D}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}return c}var Fa=function(e){return"auto"===e?"bottom":e},qa=(0,r.createContext)({getPortalPlacement:null}),Ba=function(e){ha(r,e);var t=Oa(r);function r(){var e;ua(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={maxHeight:e.props.maxMenuHeight,placement:null},e.context=void 0,e.getPlacement=function(t){var r=e.props,n=r.minMenuHeight,o=r.maxMenuHeight,i=r.menuPlacement,a=r.menuPosition,s=r.menuShouldScrollIntoView,l=r.theme;if(t){var c="fixed"===a,u=za({maxHeight:o,menuEl:t,minHeight:n,placement:i,shouldScroll:s&&!c,isFixedPosition:c,theme:l}),d=e.context.getPortalPlacement;d&&d(u),e.setState(u)}},e.getUpdatedProps=function(){var t=e.props.menuPlacement,r=e.state.placement||Fa(t);return ba(ba({},e.props),{},{placement:r,maxHeight:e.state.maxHeight})},e}return pa(r,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),r}(r.Component);Ba.contextType=qa;var Ha=function(e){var t=e.theme,r=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px"),textAlign:"center"}},Wa=Ha,Ua=Ha,Qa=function(e){var t=e.children,r=e.className,n=e.cx,o=e.getStyles,i=e.innerProps;return Zi("div",So({css:o("noOptionsMessage",e),className:n({"menu-notice":!0,"menu-notice--no-options":!0},r)},i),t)};Qa.defaultProps={children:"No options"};var Ga=function(e){var t=e.children,r=e.className,n=e.cx,o=e.getStyles,i=e.innerProps;return Zi("div",So({css:o("loadingMessage",e),className:n({"menu-notice":!0,"menu-notice--loading":!0},r)},i),t)};Ga.defaultProps={children:"Loading..."};var Xa,Ka,Ya,Ja=function(e){ha(r,e);var t=Oa(r);function r(){var e;ua(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={placement:null},e.getPortalPlacement=function(t){var r=t.placement;r!==Fa(e.props.menuPlacement)&&e.setState({placement:r})},e}return pa(r,[{key:"render",value:function(){var e=this.props,t=e.appendTo,r=e.children,n=e.className,o=e.controlElement,i=e.cx,a=e.innerProps,s=e.menuPlacement,l=e.menuPosition,c=e.getStyles,u="fixed"===l;if(!t&&!u||!o)return null;var d=this.state.placement||Fa(s),p=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(o),f=u?0:window.pageYOffset,h=p[d]+f,m=Zi("div",So({css:c("menuPortal",{offset:h,position:l,rect:p}),className:i({"menu-portal":!0},n)},a),r);return Zi(qa.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},t?(0,ve.createPortal)(m,t):m)}}]),r}(r.Component),Za=["size"],es={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},ts=function(e){var t=e.size,r=ia(e,Za);return Zi("svg",So({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:es},r))},rs=function(e){return Zi(ts,So({size:20},e),Zi("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},ns=function(e){return Zi(ts,So({size:20},e),Zi("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},os=function(e){var t=e.isFocused,r=e.theme,n=r.spacing.baseUnit,o=r.colors;return{label:"indicatorContainer",color:t?o.neutral60:o.neutral20,display:"flex",padding:2*n,transition:"color 150ms",":hover":{color:t?o.neutral80:o.neutral40}}},is=os,as=os,ss=function(){var e=ea.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Xa||(Ka=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],Ya||(Ya=Ka.slice(0)),Xa=Object.freeze(Object.defineProperties(Ka,{raw:{value:Object.freeze(Ya)}})))),ls=function(e){var t=e.delay,r=e.offset;return Zi("span",{css:ea({animation:"".concat(ss," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},cs=function(e){var t=e.className,r=e.cx,n=e.getStyles,o=e.innerProps,i=e.isRtl;return Zi("div",So({css:n("loadingIndicator",e),className:r({indicator:!0,"loading-indicator":!0},t)},o),Zi(ls,{delay:0,offset:i}),Zi(ls,{delay:160,offset:!0}),Zi(ls,{delay:320,offset:!i}))};cs.defaultProps={size:4};var us=["data"],ds=["innerRef","isDisabled","isHidden","inputClassName"],ps={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},fs={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ba({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},ps)},hs=function(e){return ba({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},ps)},ms=function(e){var t=e.children,r=e.innerProps;return Zi("div",r,t)},gs={ClearIndicator:function(e){var t=e.children,r=e.className,n=e.cx,o=e.getStyles,i=e.innerProps;return Zi("div",So({css:o("clearIndicator",e),className:n({indicator:!0,"clear-indicator":!0},r)},i),t||Zi(rs,null))},Control:function(e){var t=e.children,r=e.cx,n=e.getStyles,o=e.className,i=e.isDisabled,a=e.isFocused,s=e.innerRef,l=e.innerProps,c=e.menuIsOpen;return Zi("div",So({ref:s,css:n("control",e),className:r({control:!0,"control--is-disabled":i,"control--is-focused":a,"control--menu-is-open":c},o)},l),t)},DropdownIndicator:function(e){var t=e.children,r=e.className,n=e.cx,o=e.getStyles,i=e.innerProps;return Zi("div",So({css:o("dropdownIndicator",e),className:n({indicator:!0,"dropdown-indicator":!0},r)},i),t||Zi(ns,null))},DownChevron:ns,CrossIcon:rs,Group:function(e){var t=e.children,r=e.className,n=e.cx,o=e.getStyles,i=e.Heading,a=e.headingProps,s=e.innerProps,l=e.label,c=e.theme,u=e.selectProps;return Zi("div",So({css:o("group",e),className:n({group:!0},r)},s),Zi(i,So({},a,{selectProps:u,theme:c,getStyles:o,cx:n}),l),Zi("div",null,t))},GroupHeading:function(e){var t=e.getStyles,r=e.cx,n=e.className,o=Pa(e);o.data;var i=ia(o,us);return Zi("div",So({css:t("groupHeading",e),className:r({"group-heading":!0},n)},i))},IndicatorsContainer:function(e){var t=e.children,r=e.className,n=e.cx,o=e.innerProps,i=e.getStyles;return Zi("div",So({css:i("indicatorsContainer",e),className:n({indicators:!0},r)},o),t)},IndicatorSeparator:function(e){var t=e.className,r=e.cx,n=e.getStyles,o=e.innerProps;return Zi("span",So({},o,{css:n("indicatorSeparator",e),className:r({"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,r=e.cx,n=e.getStyles,o=e.value,i=Pa(e),a=i.innerRef,s=i.isDisabled,l=i.isHidden,c=i.inputClassName,u=ia(i,ds);return Zi("div",{className:r({"input-container":!0},t),css:n("input",e),"data-value":o||""},Zi("input",So({className:r({input:!0},c),ref:a,style:hs(l),disabled:s},u)))},LoadingIndicator:cs,Menu:function(e){var t=e.children,r=e.className,n=e.cx,o=e.getStyles,i=e.innerRef,a=e.innerProps;return Zi("div",So({css:o("menu",e),className:n({menu:!0},r),ref:i},a),t)},MenuList:function(e){var t=e.children,r=e.className,n=e.cx,o=e.getStyles,i=e.innerProps,a=e.innerRef,s=e.isMulti;return Zi("div",So({css:o("menuList",e),className:n({"menu-list":!0,"menu-list--is-multi":s},r),ref:a},i),t)},MenuPortal:Ja,LoadingMessage:Ga,NoOptionsMessage:Qa,MultiValue:function(e){var t=e.children,r=e.className,n=e.components,o=e.cx,i=e.data,a=e.getStyles,s=e.innerProps,l=e.isDisabled,c=e.removeProps,u=e.selectProps,d=n.Container,p=n.Label,f=n.Remove;return Zi(oa,null,(function(n){var h=n.css,m=n.cx;return Zi(d,{data:i,innerProps:ba({className:m(h(a("multiValue",e)),o({"multi-value":!0,"multi-value--is-disabled":l},r))},s),selectProps:u},Zi(p,{data:i,innerProps:{className:m(h(a("multiValueLabel",e)),o({"multi-value__label":!0},r))},selectProps:u},t),Zi(f,{data:i,innerProps:ba({className:m(h(a("multiValueRemove",e)),o({"multi-value__remove":!0},r)),"aria-label":"Remove ".concat(t||"option")},c),selectProps:u}))}))},MultiValueContainer:ms,MultiValueLabel:ms,MultiValueRemove:function(e){var t=e.children,r=e.innerProps;return Zi("div",So({role:"button"},r),t||Zi(rs,{size:14}))},Option:function(e){var t=e.children,r=e.className,n=e.cx,o=e.getStyles,i=e.isDisabled,a=e.isFocused,s=e.isSelected,l=e.innerRef,c=e.innerProps;return Zi("div",So({css:o("option",e),className:n({option:!0,"option--is-disabled":i,"option--is-focused":a,"option--is-selected":s},r),ref:l,"aria-disabled":i},c),t)},Placeholder:function(e){var t=e.children,r=e.className,n=e.cx,o=e.getStyles,i=e.innerProps;return Zi("div",So({css:o("placeholder",e),className:n({placeholder:!0},r)},i),t)},SelectContainer:function(e){var t=e.children,r=e.className,n=e.cx,o=e.getStyles,i=e.innerProps,a=e.isDisabled,s=e.isRtl;return Zi("div",So({css:o("container",e),className:n({"--is-disabled":a,"--is-rtl":s},r)},i),t)},SingleValue:function(e){var t=e.children,r=e.className,n=e.cx,o=e.getStyles,i=e.isDisabled,a=e.innerProps;return Zi("div",So({css:o("singleValue",e),className:n({"single-value":!0,"single-value--is-disabled":i},r)},a),t)},ValueContainer:function(e){var t=e.children,r=e.className,n=e.cx,o=e.innerProps,i=e.isMulti,a=e.getStyles,s=e.hasValue;return Zi("div",So({css:a("valueContainer",e),className:n({"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s},r)},o),t)}},vs=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function bs(e){var t=e.defaultInputValue,n=void 0===t?"":t,o=e.defaultMenuIsOpen,i=void 0!==o&&o,a=e.defaultValue,s=void 0===a?null:a,l=e.inputValue,c=e.menuIsOpen,u=e.onChange,d=e.onInputChange,p=e.onMenuClose,f=e.onMenuOpen,h=e.value,m=ia(e,vs),g=la((0,r.useState)(void 0!==l?l:n),2),v=g[0],b=g[1],y=la((0,r.useState)(void 0!==c?c:i),2),w=y[0],O=y[1],x=la((0,r.useState)(void 0!==h?h:s),2),_=x[0],E=x[1],S=(0,r.useCallback)((function(e,t){"function"==typeof u&&u(e,t),E(e)}),[u]),k=(0,r.useCallback)((function(e,t){var r;"function"==typeof d&&(r=d(e,t)),b(void 0!==r?r:e)}),[d]),P=(0,r.useCallback)((function(){"function"==typeof f&&f(),O(!0)}),[f]),C=(0,r.useCallback)((function(){"function"==typeof p&&p(),O(!1)}),[p]),T=void 0!==l?l:v,D=void 0!==c?c:w,I=void 0!==h?h:_;return ba(ba({},m),{},{inputValue:T,menuIsOpen:D,onChange:S,onInputChange:k,onMenuClose:C,onMenuOpen:P,value:I})}function ys(e){return function(e){if(Array.isArray(e))return aa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||sa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ws=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Os(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!((n=e[r])===(o=t[r])||ws(n)&&ws(o)))return!1;var n,o;return!0}for(var xs={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},_s=function(e){return Zi("span",So({css:xs},e))},Es={guidance:function(e){var t=e.isSearchable,r=e.isMulti,n=e.isDisabled,o=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(n?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(o?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,n=void 0===r?"":r,o=e.labels,i=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return"option ".concat(n,i?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,n=e.options,o=e.label,i=void 0===o?"":o,a=e.selectValue,s=e.isDisabled,l=e.isSelected,c=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&a)return"value ".concat(i," focused, ").concat(c(a,r),".");if("menu"===t){var u=s?" disabled":"",d="".concat(l?"selected":"focused").concat(u);return"option ".concat(i," ").concat(d,", ").concat(c(n,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},Ss=function(e){var t=e.ariaSelection,n=e.focusedOption,o=e.focusedValue,i=e.focusableOptions,a=e.isFocused,s=e.selectValue,l=e.selectProps,c=e.id,u=l.ariaLiveMessages,d=l.getOptionLabel,p=l.inputValue,f=l.isMulti,h=l.isOptionDisabled,m=l.isSearchable,g=l.menuIsOpen,v=l.options,b=l.screenReaderStatus,y=l.tabSelectsValue,w=l["aria-label"],O=l["aria-live"],x=(0,r.useMemo)((function(){return ba(ba({},Es),u||{})}),[u]),_=(0,r.useMemo)((function(){var e,r="";if(t&&x.onChange){var n=t.option,o=t.options,i=t.removedValue,a=t.removedValues,l=t.value,c=i||n||(e=l,Array.isArray(e)?null:e),u=c?d(c):"",p=o||a||void 0,f=p?p.map(d):[],m=ba({isDisabled:c&&h(c,s),label:u,labels:f},t);r=x.onChange(m)}return r}),[t,x,h,s,d]),E=(0,r.useMemo)((function(){var e="",t=n||o,r=!!(n&&s&&s.includes(n));if(t&&x.onFocus){var i={focused:t,label:d(t),isDisabled:h(t,s),isSelected:r,options:v,context:t===n?"menu":"value",selectValue:s};e=x.onFocus(i)}return e}),[n,o,d,h,x,v,s]),S=(0,r.useMemo)((function(){var e="";if(g&&v.length&&x.onFilter){var t=b({count:i.length});e=x.onFilter({inputValue:p,resultsMessage:t})}return e}),[i,p,g,x,v,b]),k=(0,r.useMemo)((function(){var e="";if(x.guidance){var t=o?"value":g?"menu":"input";e=x.guidance({"aria-label":w,context:t,isDisabled:n&&h(n,s),isMulti:f,isSearchable:m,tabSelectsValue:y})}return e}),[w,n,o,f,h,m,g,x,s,y]),P="".concat(E," ").concat(S," ").concat(k),C=Zi(r.Fragment,null,Zi("span",{id:"aria-selection"},_),Zi("span",{id:"aria-context"},P)),T="initial-input-focus"===(null==t?void 0:t.action);return Zi(r.Fragment,null,Zi(_s,{id:c},T&&C),Zi(_s,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text"},a&&!T&&C))},ks=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Ps=new RegExp("["+ks.map((function(e){return e.letters})).join("")+"]","g"),Cs={},Ts=0;Ts<ks.length;Ts++)for(var Ds=ks[Ts],Is=0;Is<Ds.letters.length;Is++)Cs[Ds.letters[Is]]=Ds.base;var As=function(e){return e.replace(Ps,(function(e){return Cs[e]}))},js=function(e,t){var r;void 0===t&&(t=Os);var n,o=[],i=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return i&&r===this&&t(a,o)||(n=e.apply(this,a),i=!0,r=this,o=a),n}}(As),Ms=function(e){return e.replace(/^\s+|\s+$/g,"")},Ns=function(e){return"".concat(e.label," ").concat(e.value)},Rs=["innerRef"];function Ls(e){var t=e.innerRef,r=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=Object.entries(e).filter((function(e){var t=la(e,1)[0];return!r.includes(t)}));return o.reduce((function(e,t){var r=la(t,2),n=r[0],o=r[1];return e[n]=o,e}),{})}(ia(e,Rs),"onExited","in","enter","exit","appear");return Zi("input",So({ref:t},r,{css:ea({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var $s=["boxSizing","height","overflow","paddingRight","position"],Vs={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function zs(e){e.preventDefault()}function Fs(e){e.stopPropagation()}function qs(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;0===e?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function Bs(){return"ontouchstart"in window||navigator.maxTouchPoints}var Hs=!("undefined"==typeof window||!window.document||!window.document.createElement),Ws=0,Us={capture:!1,passive:!1},Qs=function(){return document.activeElement&&document.activeElement.blur()},Gs={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Xs(e){var t=e.children,n=e.lockEnabled,o=e.captureEnabled,i=function(e){var t=e.isEnabled,n=e.onBottomArrive,o=e.onBottomLeave,i=e.onTopArrive,a=e.onTopLeave,s=(0,r.useRef)(!1),l=(0,r.useRef)(!1),c=(0,r.useRef)(0),u=(0,r.useRef)(null),d=(0,r.useCallback)((function(e,t){if(null!==u.current){var r=u.current,c=r.scrollTop,d=r.scrollHeight,p=r.clientHeight,f=u.current,h=t>0,m=d-p-c,g=!1;m>t&&s.current&&(o&&o(e),s.current=!1),h&&l.current&&(a&&a(e),l.current=!1),h&&t>m?(n&&!s.current&&n(e),f.scrollTop=d,g=!0,s.current=!0):!h&&-t>c&&(i&&!l.current&&i(e),f.scrollTop=0,g=!0,l.current=!0),g&&function(e){e.preventDefault(),e.stopPropagation()}(e)}}),[n,o,i,a]),p=(0,r.useCallback)((function(e){d(e,e.deltaY)}),[d]),f=(0,r.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),h=(0,r.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;d(e,t)}),[d]),m=(0,r.useCallback)((function(e){if(e){var t=!!La&&{passive:!1};e.addEventListener("wheel",p,t),e.addEventListener("touchstart",f,t),e.addEventListener("touchmove",h,t)}}),[h,f,p]),g=(0,r.useCallback)((function(e){e&&(e.removeEventListener("wheel",p,!1),e.removeEventListener("touchstart",f,!1),e.removeEventListener("touchmove",h,!1))}),[h,f,p]);return(0,r.useEffect)((function(){if(t){var e=u.current;return m(e),function(){g(e)}}}),[t,m,g]),function(e){u.current=e}}({isEnabled:void 0===o||o,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),a=function(e){var t=e.isEnabled,n=e.accountForScrollbars,o=void 0===n||n,i=(0,r.useRef)({}),a=(0,r.useRef)(null),s=(0,r.useCallback)((function(e){if(Hs){var t=document.body,r=t&&t.style;if(o&&$s.forEach((function(e){var t=r&&r[e];i.current[e]=t})),o&&Ws<1){var n=parseInt(i.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,s=window.innerWidth-a+n||0;Object.keys(Vs).forEach((function(e){var t=Vs[e];r&&(r[e]=t)})),r&&(r.paddingRight="".concat(s,"px"))}t&&Bs()&&(t.addEventListener("touchmove",zs,Us),e&&(e.addEventListener("touchstart",qs,Us),e.addEventListener("touchmove",Fs,Us))),Ws+=1}}),[o]),l=(0,r.useCallback)((function(e){if(Hs){var t=document.body,r=t&&t.style;Ws=Math.max(Ws-1,0),o&&Ws<1&&$s.forEach((function(e){var t=i.current[e];r&&(r[e]=t)})),t&&Bs()&&(t.removeEventListener("touchmove",zs,Us),e&&(e.removeEventListener("touchstart",qs,Us),e.removeEventListener("touchmove",Fs,Us)))}}),[o]);return(0,r.useEffect)((function(){if(t){var e=a.current;return s(e),function(){l(e)}}}),[t,s,l]),function(e){a.current=e}}({isEnabled:n});return Zi(r.Fragment,null,n&&Zi("div",{onClick:Qs,css:Gs}),t((function(e){i(e),a(e)})))}var Ks=function(e){return e.label},Ys=function(e){return e.value},Js={clearIndicator:as,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e){var t=e.isDisabled,r=e.isFocused,n=e.theme,o=n.colors,i=n.borderRadius,a=n.spacing;return{label:"control",alignItems:"center",backgroundColor:t?o.neutral5:o.neutral0,borderColor:t?o.neutral10:r?o.primary:o.neutral20,borderRadius:i,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(o.primary):void 0,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:r?o.primary:o.neutral30}}},dropdownIndicator:is,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,r=e.theme,n=r.spacing.baseUnit,o=r.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?o.neutral10:o.neutral20,marginBottom:2*n,marginTop:2*n,width:1}},input:function(e){var t=e.isDisabled,r=e.value,n=e.theme,o=n.spacing,i=n.colors;return ba({margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,visibility:t?"hidden":"visible",color:i.neutral80,transform:r?"translateZ(0)":""},fs)},loadingIndicator:function(e){var t=e.isFocused,r=e.size,n=e.theme,o=n.colors,i=n.spacing.baseUnit;return{label:"loadingIndicator",color:t?o.neutral60:o.neutral20,display:"flex",padding:2*i,transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"}},loadingMessage:Ua,menu:function(e){var t,r=e.placement,n=e.theme,o=n.borderRadius,i=n.spacing,a=n.colors;return ma(t={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(r),"100%"),ma(t,"backgroundColor",a.neutral0),ma(t,"borderRadius",o),ma(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),ma(t,"marginBottom",i.menuGutter),ma(t,"marginTop",i.menuGutter),ma(t,"position","absolute"),ma(t,"width","100%"),ma(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,r=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:r,paddingTop:r,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,r=e.offset,n=e.position;return{left:t.left,position:n,top:r,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,r=t.spacing,n=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:n/2,display:"flex",margin:r.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,r=t.borderRadius,n=t.colors,o=e.cropWithEllipsis;return{borderRadius:r/2,color:n.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:o||void 0===o?"ellipsis":void 0,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,r=t.spacing,n=t.borderRadius,o=t.colors;return{alignItems:"center",borderRadius:n/2,backgroundColor:e.isFocused?o.dangerLight:void 0,display:"flex",paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}}},noOptionsMessage:Wa,option:function(e){var t=e.isDisabled,r=e.isFocused,n=e.isSelected,o=e.theme,i=o.spacing,a=o.colors;return{label:"option",backgroundColor:n?a.primary:r?a.primary25:"transparent",color:t?a.neutral20:n?a.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*i.baseUnit,"px ").concat(3*i.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:t?void 0:n?a.primary:a.primary50}}},placeholder:function(e){var t=e.theme,r=t.spacing;return{label:"placeholder",color:t.colors.neutral50,gridArea:"1 / 1 / 2 / 3",marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2}},singleValue:function(e){var t=e.isDisabled,r=e.theme,n=r.spacing,o=r.colors;return{label:"singleValue",color:t?o.neutral40:o.neutral80,gridArea:"1 / 1 / 2 / 3",marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},valueContainer:function(e){var t=e.theme.spacing,r=e.isMulti,n=e.hasValue,o=e.selectProps.controlShouldRenderValue;return{alignItems:"center",display:r&&n&&o?"flex":"grid",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}},Zs={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},el={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:ja(),captureMenuScroll:!ja(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var r=ba({ignoreCase:!0,ignoreAccents:!0,stringify:Ns,trim:!0,matchFrom:"any"},void 0),n=r.ignoreCase,o=r.ignoreAccents,i=r.stringify,a=r.trim,s=r.matchFrom,l=a?Ms(t):t,c=a?Ms(i(e)):i(e);return n&&(l=l.toLowerCase(),c=c.toLowerCase()),o&&(l=js(l),c=As(c)),"start"===s?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:Ks,getOptionValue:Ys,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0};function tl(e,t,r,n){return{type:"option",data:t,isDisabled:sl(e,t,r),isSelected:ll(e,t,r),label:il(e,t),value:al(e,t),index:n}}function rl(e,t){return e.options.map((function(r,n){if("options"in r){var o=r.options.map((function(r,n){return tl(e,r,t,n)})).filter((function(t){return ol(e,t)}));return o.length>0?{type:"group",data:r,options:o,index:n}:void 0}var i=tl(e,r,t,n);return ol(e,i)?i:void 0})).filter($a)}function nl(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,ys(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function ol(e,t){var r=e.inputValue,n=void 0===r?"":r,o=t.data,i=t.isSelected,a=t.label,s=t.value;return(!ul(e)||!i)&&cl(e,{label:a,value:s,data:o},n)}var il=function(e,t){return e.getOptionLabel(t)},al=function(e,t){return e.getOptionValue(t)};function sl(e,t,r){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,r)}function ll(e,t,r){if(r.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,r);var n=al(e,t);return r.some((function(t){return al(e,t)===n}))}function cl(e,t,r){return!e.filterOption||e.filterOption(t,r)}var ul=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return void 0===t?r:t},dl=1,pl=function(e){ha(n,e);var t=Oa(n);function n(e){var r;return ua(this,n),(r=t.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.instancePrefix="",r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.controlRef=null,r.getControlRef=function(e){r.controlRef=e},r.focusedOptionRef=null,r.getFocusedOptionRef=function(e){r.focusedOptionRef=e},r.menuListRef=null,r.getMenuListRef=function(e){r.menuListRef=e},r.inputRef=null,r.getInputRef=function(e){r.inputRef=e},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(e,t){var n=r.props,o=n.onChange,i=n.name;t.name=i,r.ariaOnChange(e,t),o(e,t)},r.setValue=function(e,t,n){var o=r.props,i=o.closeMenuOnSelect,a=o.isMulti,s=o.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:s}),i&&(r.setState({inputIsHiddenAfterUpdate:!a}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(e,{action:t,option:n})},r.selectOption=function(e){var t=r.props,n=t.blurInputOnSelect,o=t.isMulti,i=t.name,a=r.state.selectValue,s=o&&r.isOptionSelected(e,a),l=r.isOptionDisabled(e,a);if(s){var c=r.getOptionValue(e);r.setValue(a.filter((function(e){return r.getOptionValue(e)!==c})),"deselect-option",e)}else{if(l)return void r.ariaOnChange(e,{action:"select-option",option:e,name:i});o?r.setValue([].concat(ys(a),[e]),"select-option",e):r.setValue(e,"select-option")}n&&r.blurInput()},r.removeValue=function(e){var t=r.props.isMulti,n=r.state.selectValue,o=r.getOptionValue(e),i=n.filter((function(e){return r.getOptionValue(e)!==o})),a=Va(t,i,i[0]||null);r.onChange(a,{action:"remove-value",removedValue:e}),r.focusInput()},r.clearValue=function(){var e=r.state.selectValue;r.onChange(Va(r.props.isMulti,[],null),{action:"clear",removedValues:e})},r.popValue=function(){var e=r.props.isMulti,t=r.state.selectValue,n=t[t.length-1],o=t.slice(0,t.length-1),i=Va(e,o,o[0]||null);r.onChange(i,{action:"pop-value",removedValue:n})},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Sa.apply(void 0,[r.props.classNamePrefix].concat(t))},r.getOptionLabel=function(e){return il(r.props,e)},r.getOptionValue=function(e){return al(r.props,e)},r.getStyles=function(e,t){var n=Js[e](t);n.boxSizing="border-box";var o=r.props.styles[e];return o?o(n,t):n},r.getElementId=function(e){return"".concat(r.instancePrefix,"-").concat(e)},r.getComponents=function(){return e=r.props,ba(ba({},gs),e.components);var e},r.buildCategorizedOptions=function(){return rl(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return nl(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(e,t){r.setState({ariaSelection:ba({value:e},t)})},r.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(e){r.blockOptionHover=!1},r.onControlMouseDown=function(e){if(!e.defaultPrevented){var t=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&r.onMenuClose():t&&r.openMenu("first"):(t&&(r.openAfterFocus=!0),r.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},r.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||r.props.isDisabled)){var t=r.props,n=t.isMulti,o=t.menuIsOpen;r.focusInput(),o?(r.setState({inputIsHiddenAfterUpdate:!n}),r.onMenuClose()):r.openMenu("first"),e.preventDefault()}},r.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(r.clearValue(),e.preventDefault(),r.openAfterFocus=!1,"touchend"===e.type?r.focusInput():setTimeout((function(){return r.focusInput()})))},r.onScroll=function(e){"boolean"==typeof r.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Ca(e.target)&&r.props.onMenuClose():"function"==typeof r.props.closeMenuOnScroll&&r.props.closeMenuOnScroll(e)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(r.initialTouchX=n.clientX,r.initialTouchY=n.clientY,r.userIsDragging=!1)},r.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var o=Math.abs(n.clientX-r.initialTouchX),i=Math.abs(n.clientY-r.initialTouchY);r.userIsDragging=o>5||i>5}},r.onTouchEnd=function(e){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(e.target)&&r.menuListRef&&!r.menuListRef.contains(e.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(e){r.userIsDragging||r.onControlMouseDown(e)},r.onClearIndicatorTouchEnd=function(e){r.userIsDragging||r.onClearIndicatorMouseDown(e)},r.onDropdownIndicatorTouchEnd=function(e){r.userIsDragging||r.onDropdownIndicatorMouseDown(e)},r.handleInputChange=function(e){var t=r.props.inputValue,n=e.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(n,{action:"input-change",prevInputValue:t}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(e){r.props.onFocus&&r.props.onFocus(e),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(e){var t=r.props.inputValue;r.menuListRef&&r.menuListRef.contains(document.activeElement)?r.inputRef.focus():(r.props.onBlur&&r.props.onBlur(e),r.onInputChange("",{action:"input-blur",prevInputValue:t}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1}))},r.onOptionHover=function(e){r.blockOptionHover||r.state.focusedOption===e||r.setState({focusedOption:e})},r.shouldHideSelectedOptions=function(){return ul(r.props)},r.onKeyDown=function(e){var t=r.props,n=t.isMulti,o=t.backspaceRemovesValue,i=t.escapeClearsValue,a=t.inputValue,s=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,u=t.onKeyDown,d=t.tabSelectsValue,p=t.openMenuOnFocus,f=r.state,h=f.focusedOption,m=f.focusedValue,g=f.selectValue;if(!(l||"function"==typeof u&&(u(e),e.defaultPrevented))){switch(r.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||a)return;r.focusValue("previous");break;case"ArrowRight":if(!n||a)return;r.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(m)r.removeValue(m);else{if(!o)return;n?r.popValue():s&&r.clearValue()}break;case"Tab":if(r.isComposing)return;if(e.shiftKey||!c||!d||!h||p&&r.isOptionSelected(h,g))return;r.selectOption(h);break;case"Enter":if(229===e.keyCode)break;if(c){if(!h)return;if(r.isComposing)return;r.selectOption(h);break}return;case"Escape":c?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:a}),r.onMenuClose()):s&&i&&r.clearValue();break;case" ":if(a)return;if(!c){r.openMenu("first");break}if(!h)return;r.selectOption(h);break;case"ArrowUp":c?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":c?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!c)return;r.focusOption("pageup");break;case"PageDown":if(!c)return;r.focusOption("pagedown");break;case"Home":if(!c)return;r.focusOption("first");break;case"End":if(!c)return;r.focusOption("last");break;default:return}e.preventDefault()}},r.instancePrefix="react-select-"+(r.props.instanceId||++dl),r.state.selectValue=ka(e.value),r}return pa(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(e){var t,r,n,o,i,a=this.props,s=a.isDisabled,l=a.menuIsOpen,c=this.state.isFocused;(c&&!s&&e.isDisabled||c&&l&&!e.menuIsOpen)&&this.focusInput(),c&&s&&!e.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(t=this.menuListRef,r=this.focusedOptionRef,n=t.getBoundingClientRect(),o=r.getBoundingClientRect(),i=r.offsetHeight/3,o.bottom+i>n.bottom?Da(t,Math.min(r.offsetTop+r.clientHeight-t.offsetHeight+i,t.scrollHeight)):o.top-i<n.top&&Da(t,Math.max(r.offsetTop-i,0)),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,r=this.state,n=r.selectValue,o=r.isFocused,i=this.buildFocusableOptions(),a="first"===e?0:i.length-1;if(!this.props.isMulti){var s=i.indexOf(n[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(o&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:i[a]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,r=t.selectValue,n=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var o=r.indexOf(n);n||(o=-1);var i=r.length-1,a=-1;if(r.length){switch(e){case"previous":a=0===o?0:-1===o?i:o-1;break;case"next":o>-1&&o<i&&(a=o+1)}this.setState({inputIsHidden:-1!==a,focusedValue:r[a]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,r=this.state.focusedOption,n=this.getFocusableOptions();if(n.length){var o=0,i=n.indexOf(r);r||(i=-1),"up"===e?o=i>0?i-1:n.length-1:"down"===e?o=(i+1)%n.length:"pageup"===e?(o=i-t)<0&&(o=0):"pagedown"===e?(o=i+t)>n.length-1&&(o=n.length-1):"last"===e&&(o=n.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:n[o],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(Zs):ba(ba({},Zs),this.props.theme):Zs}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,r=this.getStyles,n=this.getValue,o=this.selectOption,i=this.setValue,a=this.props,s=a.isMulti,l=a.isRtl,c=a.options;return{clearValue:e,cx:t,getStyles:r,getValue:n,hasValue:this.hasValue(),isMulti:s,isRtl:l,options:c,selectOption:o,selectProps:a,setValue:i,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,r=e.isMulti;return void 0===t?r:t}},{key:"isOptionDisabled",value:function(e,t){return sl(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return ll(this.props,e,t)}},{key:"filterOption",value:function(e,t){return cl(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var r=this.props.inputValue,n=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:r,selectValue:n})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,o=e.inputId,i=e.inputValue,a=e.tabIndex,s=e.form,l=e.menuIsOpen,c=this.getComponents().Input,u=this.state,d=u.inputIsHidden,p=u.ariaSelection,f=this.commonProps,h=o||this.getElementId("input"),m=ba(ba(ba({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],role:"combobox"},l&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==p?void 0:p.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?r.createElement(c,So({},f,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:h,innerRef:this.getInputRef,isDisabled:t,isHidden:d,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:a,form:s,type:"text",value:i},m)):r.createElement(Ls,So({id:h,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:_a,onFocus:this.onInputFocus,disabled:t,tabIndex:a,inputMode:"none",form:s,value:""},m))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,o=t.MultiValueContainer,i=t.MultiValueLabel,a=t.MultiValueRemove,s=t.SingleValue,l=t.Placeholder,c=this.commonProps,u=this.props,d=u.controlShouldRenderValue,p=u.isDisabled,f=u.isMulti,h=u.inputValue,m=u.placeholder,g=this.state,v=g.selectValue,b=g.focusedValue,y=g.isFocused;if(!this.hasValue()||!d)return h?null:r.createElement(l,So({},c,{key:"placeholder",isDisabled:p,isFocused:y,innerProps:{id:this.getElementId("placeholder")}}),m);if(f)return v.map((function(t,s){var l=t===b,u="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return r.createElement(n,So({},c,{components:{Container:o,Label:i,Remove:a},isFocused:l,isDisabled:p,key:u,index:s,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))}));if(h)return null;var w=v[0];return r.createElement(s,So({},c,{data:w,isDisabled:p}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,o=n.isDisabled,i=n.isLoading,a=this.state.isFocused;if(!this.isClearable()||!e||o||!this.hasValue()||i)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return r.createElement(e,So({},t,{innerProps:s,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,o=n.isDisabled,i=n.isLoading,a=this.state.isFocused;return e&&i?r.createElement(e,So({},t,{innerProps:{"aria-hidden":"true"},isDisabled:o,isFocused:a})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var o=this.commonProps,i=this.props.isDisabled,a=this.state.isFocused;return r.createElement(n,So({},o,{isDisabled:i,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,o=this.state.isFocused,i={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return r.createElement(e,So({},t,{innerProps:i,isDisabled:n,isFocused:o}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,o=t.GroupHeading,i=t.Menu,a=t.MenuList,s=t.MenuPortal,l=t.LoadingMessage,c=t.NoOptionsMessage,u=t.Option,d=this.commonProps,p=this.state.focusedOption,f=this.props,h=f.captureMenuScroll,m=f.inputValue,g=f.isLoading,v=f.loadingMessage,b=f.minMenuHeight,y=f.maxMenuHeight,w=f.menuIsOpen,O=f.menuPlacement,x=f.menuPosition,_=f.menuPortalTarget,E=f.menuShouldBlockScroll,S=f.menuShouldScrollIntoView,k=f.noOptionsMessage,P=f.onMenuScrollToTop,C=f.onMenuScrollToBottom;if(!w)return null;var T,D=function(t,n){var o=t.type,i=t.data,a=t.isDisabled,s=t.isSelected,l=t.label,c=t.value,f=p===i,h=a?void 0:function(){return e.onOptionHover(i)},m=a?void 0:function(){return e.selectOption(i)},g="".concat(e.getElementId("option"),"-").concat(n),v={id:g,onClick:m,onMouseMove:h,onMouseOver:h,tabIndex:-1};return r.createElement(u,So({},d,{innerProps:v,data:i,isDisabled:a,isSelected:s,key:g,label:l,type:o,value:c,isFocused:f,innerRef:f?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())T=this.getCategorizedOptions().map((function(t){if("group"===t.type){var i=t.data,a=t.options,s=t.index,l="".concat(e.getElementId("group"),"-").concat(s),c="".concat(l,"-heading");return r.createElement(n,So({},d,{key:l,data:i,options:a,Heading:o,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return D(e,"".concat(s,"-").concat(e.index))})))}if("option"===t.type)return D(t,"".concat(t.index))}));else if(g){var I=v({inputValue:m});if(null===I)return null;T=r.createElement(l,d,I)}else{var A=k({inputValue:m});if(null===A)return null;T=r.createElement(c,d,A)}var j={minMenuHeight:b,maxMenuHeight:y,menuPlacement:O,menuPosition:x,menuShouldScrollIntoView:S},M=r.createElement(Ba,So({},d,j),(function(t){var n=t.ref,o=t.placerProps,s=o.placement,l=o.maxHeight;return r.createElement(i,So({},d,j,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove,id:e.getElementId("listbox")},isLoading:g,placement:s}),r.createElement(Xs,{captureEnabled:h,onTopArrive:P,onBottomArrive:C,lockEnabled:E},(function(t){return r.createElement(a,So({},d,{innerRef:function(r){e.getMenuListRef(r),t(r)},isLoading:g,maxHeight:l,focusedOption:p}),T)})))}));return _||"fixed"===x?r.createElement(s,So({},d,{appendTo:_,controlElement:this.controlRef,menuPlacement:O,menuPosition:x}),M):M}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,o=t.isDisabled,i=t.isMulti,a=t.name,s=this.state.selectValue;if(a&&!o){if(i){if(n){var l=s.map((function(t){return e.getOptionValue(t)})).join(n);return r.createElement("input",{name:a,type:"hidden",value:l})}var c=s.length>0?s.map((function(t,n){return r.createElement("input",{key:"i-".concat(n),name:a,type:"hidden",value:e.getOptionValue(t)})})):r.createElement("input",{name:a,type:"hidden"});return r.createElement("div",null,c)}var u=s[0]?this.getOptionValue(s[0]):"";return r.createElement("input",{name:a,type:"hidden",value:u})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,o=t.focusedOption,i=t.focusedValue,a=t.isFocused,s=t.selectValue,l=this.getFocusableOptions();return r.createElement(Ss,So({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:o,focusedValue:i,isFocused:a,selectValue:s,focusableOptions:l}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,o=e.SelectContainer,i=e.ValueContainer,a=this.props,s=a.className,l=a.id,c=a.isDisabled,u=a.menuIsOpen,d=this.state.isFocused,p=this.commonProps=this.getCommonProps();return r.createElement(o,So({},p,{className:s,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:d}),this.renderLiveRegion(),r.createElement(t,So({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:d,menuIsOpen:u}),r.createElement(i,So({},p,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),r.createElement(n,So({},p,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=t.prevProps,n=t.clearFocusValueOnUpdate,o=t.inputIsHiddenAfterUpdate,i=t.ariaSelection,a=t.isFocused,s=t.prevWasFocused,l=e.options,c=e.value,u=e.menuIsOpen,d=e.inputValue,p=e.isMulti,f=ka(c),h={};if(r&&(c!==r.value||l!==r.options||u!==r.menuIsOpen||d!==r.inputValue)){var m=u?function(e,t){return nl(rl(e,t))}(e,f):[],g=n?function(e,t){var r=e.focusedValue,n=e.selectValue.indexOf(r);if(n>-1){if(t.indexOf(r)>-1)return r;if(n<t.length)return t[n]}return null}(t,f):null,v=function(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}(t,m);h={selectValue:f,focusedOption:v,focusedValue:g,clearFocusValueOnUpdate:!1}}var b=null!=o&&e!==r?{inputIsHidden:o,inputIsHiddenAfterUpdate:void 0}:{},y=i,w=a&&s;return a&&!w&&(y={value:Va(p,f,f[0]||null),options:f,action:"initial-input-focus"},w=!s),"initial-input-focus"===(null==i?void 0:i.action)&&(y=null),ba(ba(ba({},h),b),{},{prevProps:e,ariaSelection:y,prevWasFocused:w})}}]),n}(r.Component);pl.defaultProps=el;var fl=(0,r.forwardRef)((function(e,t){var n=bs(e);return r.createElement(pl,So({ref:t},n))}));r.Component;const hl=fl;var ml=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];function gl(e){var t=e.defaultOptions,n=void 0!==t&&t,o=e.cacheOptions,i=void 0!==o&&o,a=e.loadOptions;e.options;var s=e.isLoading,l=void 0!==s&&s,c=e.onInputChange,u=e.filterOption,d=void 0===u?null:u,p=ia(e,ml),f=p.inputValue,h=(0,r.useRef)(void 0),m=(0,r.useRef)(!1),g=la((0,r.useState)(Array.isArray(n)?n:void 0),2),v=g[0],b=g[1],y=la((0,r.useState)(void 0!==f?f:""),2),w=y[0],O=y[1],x=la((0,r.useState)(!0===n),2),_=x[0],E=x[1],S=la((0,r.useState)(void 0),2),k=S[0],P=S[1],C=la((0,r.useState)([]),2),T=C[0],D=C[1],I=la((0,r.useState)(!1),2),A=I[0],j=I[1],M=la((0,r.useState)({}),2),N=M[0],R=M[1],L=la((0,r.useState)(void 0),2),$=L[0],V=L[1],z=la((0,r.useState)(void 0),2),F=z[0],q=z[1];i!==F&&(R({}),q(i)),n!==$&&(b(Array.isArray(n)?n:void 0),V(n)),(0,r.useEffect)((function(){return m.current=!0,function(){m.current=!1}}),[]);var B=(0,r.useCallback)((function(e,t){if(!a)return t();var r=a(e,t);r&&"function"==typeof r.then&&r.then(t,(function(){return t()}))}),[a]);(0,r.useEffect)((function(){!0===n&&B(w,(function(e){m.current&&(b(e||[]),E(!!h.current))}))}),[]);var H=(0,r.useCallback)((function(e,t){var r=function(e,t,r){if(r){var n=r(e,t);if("string"==typeof n)return n}return e}(e,t,c);if(!r)return h.current=void 0,O(""),P(""),D([]),E(!1),void j(!1);if(i&&N[r])O(r),P(r),D(N[r]),E(!1),j(!1);else{var n=h.current={};O(r),E(!0),j(!k),B(r,(function(e){m&&n===h.current&&(h.current=void 0,E(!1),P(r),D(e||[]),j(!1),R(e?ba(ba({},N),{},ma({},r,e)):N))}))}}),[i,B,k,N,c]),W=A?[]:w&&k?T:v||[];return ba(ba({},p),{},{options:W,isLoading:_||l,onInputChange:H,filterOption:d})}var vl=(0,r.forwardRef)((function(e,t){var n=bs(gl(e));return r.createElement(pl,So({ref:t},n))}));const bl=vl;var yl=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],wl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=String(e).toLowerCase(),o=String(r.getOptionValue(t)).toLowerCase(),i=String(r.getOptionLabel(t)).toLowerCase();return o===n||i===n},Ol={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,r,n){return!(!e||t.some((function(t){return wl(e,t,n)}))||r.some((function(t){return wl(e,t,n)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}};function xl(e){var t=e.allowCreateWhileLoading,n=void 0!==t&&t,o=e.createOptionPosition,i=void 0===o?"last":o,a=e.formatCreateLabel,s=void 0===a?Ol.formatCreateLabel:a,l=e.isValidNewOption,c=void 0===l?Ol.isValidNewOption:l,u=e.getNewOptionData,d=void 0===u?Ol.getNewOptionData:u,p=e.onCreateOption,f=e.options,h=void 0===f?[]:f,m=e.onChange,g=ia(e,yl),v=g.getOptionValue,b=void 0===v?Ys:v,y=g.getOptionLabel,w=void 0===y?Ks:y,O=g.inputValue,x=g.isLoading,_=g.isMulti,E=g.value,S=g.name,k=(0,r.useMemo)((function(){return c(O,ka(E),h,{getOptionValue:b,getOptionLabel:w})?d(O,s(O)):void 0}),[s,d,w,b,O,c,h,E]),P=(0,r.useMemo)((function(){return!n&&x||!k?h:"first"===i?[k].concat(ys(h)):[].concat(ys(h),[k])}),[n,i,x,k,h]),C=(0,r.useCallback)((function(e,t){if("select-option"!==t.action)return m(e,t);var r=Array.isArray(e)?e:[e];if(r[r.length-1]!==k)m(e,t);else if(p)p(O);else{var n=d(O,O),o={action:"create-option",name:S,option:n};m(Va(_,[].concat(ys(ka(E)),[n]),n),o)}}),[d,O,_,S,k,p,m,E]);return ba(ba({},g),{},{options:P,onChange:C})}var _l=(0,r.forwardRef)((function(e,t){var n=xl(bs(gl(e)));return r.createElement(pl,So({ref:t},n))}));const El=_l;var Sl=(0,r.forwardRef)((function(e,t){var n=xl(bs(e));return r.createElement(pl,So({ref:t},n))}));const kl=Sl,Pl=({isOpen:e})=>{const t=e?"search":"angle-down",r=e?"sm":"md";return n().createElement(ce,{name:t,size:r})},Cl=n().forwardRef(((e,t)=>{const{children:r}=e,o=w(),i=me({theme:o,invalid:!1});return n().createElement("div",{className:(0,a.cx)(i.suffix,a.css`
          position: relative;
        `),ref:t},r)}));function Tl(){return Tl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tl.apply(this,arguments)}Cl.displayName="IndicatorsContainer";const Dl=f(((e,t,r)=>{const n=me({theme:e,invalid:t});return{input:(0,a.cx)(N(e),a.css`
        width: 100%;
        max-width: 100%;
        display: flex;
        flex-direction: row;
        align-items: center;
        flex-wrap: wrap;
        justify-content: space-between;
        padding-right: 0;
        position: relative;
        box-sizing: border-box;
      `,r&&a.css`
          padding-left: 0;
        `),prefix:(0,a.cx)(n.prefix,a.css`
        position: relative;
      `)}})),Il=n().forwardRef((function(e,t){var{focused:r,invalid:o,disabled:i,children:s,innerProps:l,prefix:c}=e;!function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}}(e,["focused","invalid","disabled","children","innerProps","prefix"]);const u=w(),d=Dl(u,o,!!c);return n().createElement("div",Tl({className:d.input},l,{ref:t}),c&&n().createElement("div",{className:(0,a.cx)(d.prefix)},c),s)})),Al=f((e=>({menu:a.css`
      label: grafana-select-menu;
      background: ${e.components.dropdown.background};
      box-shadow: ${e.shadows.z3};
      position: relative;
      min-width: 100%;
      z-index: 1;
    `,option:a.css`
      label: grafana-select-option;
      padding: 8px;
      display: flex;
      align-items: center;
      flex-direction: row;
      flex-shrink: 0;
      white-space: nowrap;
      cursor: pointer;
      border-left: 2px solid transparent;

      &:hover {
        background: ${e.colors.action.hover};
      }
    `,optionIcon:a.css`
      margin-right: ${e.spacing(1)};
    `,optionImage:a.css`
      label: grafana-select-option-image;
      width: 16px;
      margin-right: 10px;
    `,optionDescription:a.css`
      label: grafana-select-option-description;
      font-weight: normal;
      font-size: ${e.typography.size.sm};
      color: ${e.colors.text.secondary};
      white-space: normal;
      line-height: ${e.typography.body.lineHeight};
    `,optionBody:a.css`
      label: grafana-select-option-body;
      display: flex;
      font-weight: ${e.typography.fontWeightMedium};
      flex-direction: column;
      flex-grow: 1;
    `,optionFocused:a.css`
      label: grafana-select-option-focused;
      background: ${e.colors.action.focus};
    `,optionSelected:a.css`
      background: ${e.colors.action.selected};
    `,optionDisabled:a.css`
      label: grafana-select-option-disabled;
      background-color: ${e.colors.action.disabledBackground};
      color: ${e.colors.action.disabledText};
      cursor: not-allowed;
    `,singleValue:a.css`
      label: grafana-select-single-value;
      color: ${e.components.input.text};
      grid-area: 1 / 1 / 2 / 3;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      box-sizing: border-box;
      max-width: 100%;
    `,valueContainer:a.css`
      label: grafana-select-value-container;
      align-items: center;
      display: grid;
      position: relative;
      box-sizing: border-box;
      flex: 1 1 0%;
      outline: none;
      overflow: hidden;
    `,valueContainerMulti:a.css`
      label: grafana-select-value-container-multi;
      flex-wrap: wrap;
      display: flex;
    `,loadingMessage:a.css`
      label: grafana-select-loading-message;
      padding: ${e.spacing(1)};
      text-align: center;
      width: 100%;
    `,multiValueContainer:a.css`
      label: grafana-select-multi-value-container;
      display: flex;
      align-items: center;
      line-height: 1;
      background: ${e.colors.background.secondary};
      border-radius: ${e.shape.borderRadius()};
      margin: ${e.spacing(.25,1,.25,0)};
      padding: ${e.spacing(.25,0,.25,1)};
      color: ${e.colors.text.primary};
      font-size: ${e.typography.size.sm};

      &:hover {
        background: ${e.colors.emphasize(e.colors.background.secondary)};
      }
    `,multiValueRemove:a.css`
      label: grafana-select-multi-value-remove;
      margin: ${e.spacing(0,.5)};
      cursor: pointer;
      svg {
        margin-bottom: 0;
      }
    `,singleValueRemove:a.css`
      cursor: pointer;
      &:hover {
        color: ${e.colors.text.primary};
      }
    `})));function jl(){return jl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jl.apply(this,arguments)}const Ml=({innerProps:e,children:t})=>{const r=w(),o=Al(r);return n().createElement("div",jl({},e,{className:o.multiValueContainer}),t)},Nl=({children:e,innerProps:t})=>{const r=w(),o=Al(r);return n().createElement(ho,jl({},t,{name:"times",size:"sm",className:o.multiValueRemove}))};function Rl(){return Rl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rl.apply(this,arguments)}const Ll=e=>{const{isDisabled:t,isFocused:r,children:o,selectProps:{invalid:i=!1}}=e,s=w(),l=$l(s,r,t,i);return n().createElement(gs.SelectContainer,Rl({},e,{className:(0,a.cx)(l.wrapper,e.className)}),o)},$l=f(((e,t,r,n)=>{const o=me({theme:e,invalid:n});return{wrapper:(0,a.cx)(o.wrapper,M(e,n),t&&a.css`
            ${I(e.v1)}
          `,r&&o.inputDisabled,a.css`
          position: relative;
          box-sizing: border-box;
          /* The display property is set by the styles prop in SelectBase because it's dependant on the width prop  */
          flex-direction: row;
          flex-wrap: wrap;
          align-items: stretch;
          justify-content: space-between;

          min-height: 32px;
          height: auto;
          max-width: 100%;

          /* Input padding is applied to the InputControl so the menu is aligned correctly */
          padding: 0;
          cursor: ${r?"not-allowed":"pointer"};
        `)}}));var Vl=v(19672),zl=v(60042),Fl=v.n(zl);const ql=({children:e})=>{const[t,o]=(0,r.useState)(!1),[i,s]=(0,r.useState)(!1),l=(0,r.useRef)(null),c=(0,r.useRef)(null),u=O(Bl);return(0,r.useEffect)((()=>{const e=new IntersectionObserver((e=>{e.forEach((e=>{e.target===l.current?o(!e.isIntersecting):e.target===c.current&&s(!e.isIntersecting)}))}));return[l,c].forEach((t=>{t.current&&e.observe(t.current)})),()=>e.disconnect()}),[]),n().createElement(n().Fragment,null,n().createElement("div",{className:(0,a.cx)(u.scrollIndicator,u.scrollTopIndicator,{[u.scrollIndicatorVisible]:t})},n().createElement(ce,{className:Fl()(u.scrollIcon,u.scrollTopIcon),name:"angle-up"})),n().createElement("div",{className:u.scrollContent},n().createElement("div",{ref:l}),e,n().createElement("div",{ref:c})),n().createElement("div",{className:(0,a.cx)(u.scrollIndicator,u.scrollBottomIndicator,{[u.scrollIndicatorVisible]:i})},n().createElement(ce,{className:Fl()(u.scrollIcon,u.scrollBottomIcon),name:"angle-down"})))},Bl=e=>({scrollContent:(0,a.css)({flex:1,position:"relative"}),scrollIndicator:(0,a.css)({height:e.spacing(6),left:0,opacity:0,pointerEvents:"none",position:"absolute",right:0,transition:e.transitions.create("opacity"),zIndex:1}),scrollTopIndicator:(0,a.css)({background:`linear-gradient(0deg, transparent, ${e.colors.background.canvas})`,top:0}),scrollBottomIndicator:(0,a.css)({background:`linear-gradient(180deg, transparent, ${e.colors.background.canvas})`,bottom:0}),scrollIndicatorVisible:(0,a.css)({opacity:1}),scrollIcon:(0,a.css)({left:"50%",position:"absolute",transform:"translateX(-50%)"}),scrollTopIcon:(0,a.css)({top:0}),scrollBottomIcon:(0,a.css)({bottom:0})});function Hl(){return Hl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hl.apply(this,arguments)}const Wl=({autoHide:e=!1,autoHideTimeout:t=200,setScrollTop:o,className:i,testId:s,autoHeightMin:l="0",autoHeightMax:c="100%",hideTracksWhenNotNeeded:u=!1,hideHorizontalTrack:d,hideVerticalTrack:p,scrollRefCallback:f,showScrollIndicators:h=!1,updateAfterMountMs:m,scrollTop:g,onScroll:v,children:b})=>{const y=(0,r.useRef)(null),w=O(Ul);function x(e,t,r){return r.style&&t&&(r.style.display="none"),n().createElement("div",Hl({},r,{className:e}))}(0,r.useEffect)((()=>{y.current&&f&&f(y.current.view)}),[y,f]),(0,r.useEffect)((()=>{y.current&&null!=g&&y.current.scrollTop(g)}),[g]),(0,r.useEffect)((()=>{m&&setTimeout((()=>{const e=y.current;(null==e?void 0:e.update)&&e.update()}),m)}),[m]);const _=(0,r.useCallback)((e=>x("track-horizontal",d,e)),[d]),E=(0,r.useCallback)((e=>x("track-vertical",p,e)),[p]),S=(0,r.useCallback)((e=>n().createElement("div",Hl({},e,{className:"thumb-horizontal"}))),[]),k=(0,r.useCallback)((e=>n().createElement("div",Hl({},e,{className:"thumb-vertical"}))),[]),P=(0,r.useCallback)((e=>n().createElement("div",Hl({},e,{className:"scrollbar-view"}))),[]),C=(0,r.useCallback)((()=>{y.current&&o&&o(y.current.getValues())}),[o]);return n().createElement(Vl.ZP,{"data-testid":s,ref:y,className:(0,a.cx)(w.customScrollbar,i,{[w.scrollbarWithScrollIndicators]:h}),onScrollStop:C,autoHeight:!0,autoHide:e,autoHideTimeout:t,hideTracksWhenNotNeeded:u,autoHeightMax:c,autoHeightMin:l,renderTrackHorizontal:_,renderTrackVertical:E,renderThumbHorizontal:S,renderThumbVertical:k,renderView:P,onScroll:v},h?n().createElement(ql,null,b):b)},Ul=e=>({customScrollbar:a.css`
      // Fix for Firefox. For some reason sometimes .view container gets a height of its content, but in order to
      // make scroll working it should fit outer container size (scroll appears only when inner container size is
      // greater than outer one).
      display: flex;
      flex-grow: 1;
      .scrollbar-view {
        display: flex;
        flex-grow: 1;
        flex-direction: column;
      }
      .track-vertical {
        border-radius: ${e.shape.borderRadius(2)};
        width: ${e.spacing(1)} !important;
        right: 0px;
        bottom: ${e.spacing(.25)};
        top: ${e.spacing(.25)};
      }
      .track-horizontal {
        border-radius: ${e.shape.borderRadius(2)};
        height: ${e.spacing(1)} !important;
        right: ${e.spacing(.25)};
        bottom: ${e.spacing(.25)};
        left: ${e.spacing(.25)};
      }
      .thumb-vertical {
        background: ${e.colors.action.focus};
        border-radius: ${e.shape.borderRadius(2)};
        opacity: 0;
      }
      .thumb-horizontal {
        background: ${e.colors.action.focus};
        border-radius: ${e.shape.borderRadius(2)};
        opacity: 0;
      }
      &:hover {
        .thumb-vertical,
        .thumb-horizontal {
          opacity: 1;
          transition: opacity 0.3s ease-in-out;
        }
      }
    `,scrollbarWithScrollIndicators:a.css`
      .scrollbar-view {
        position: static !important;
      }
    `});function Ql(){return Ql=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(this,arguments)}const Gl=({children:e,maxHeight:t,innerRef:r,innerProps:o})=>{const i=w(),a=Al(i);return n().createElement("div",Ql({},o,{className:a.menu,style:{maxHeight:t},"aria-label":"Select options menu"}),n().createElement(Wl,{scrollRefCallback:r,autoHide:!1,autoHeightMax:"inherit",hideHorizontalTrack:!0},e))};Gl.displayName="SelectMenu";const Xl=({children:e,data:r,innerProps:o,innerRef:i,isFocused:s,isSelected:l,renderOptionLabel:c})=>{const u=w(),d=Al(u),p=r.icon?(0,t.toIconName)(r.icon):void 0;return n().createElement("div",Ql({ref:i,className:(0,a.cx)(d.option,s&&d.optionFocused,l&&d.optionSelected,r.isDisabled&&d.optionDisabled)},o,{"aria-label":"Select option",title:r.title}),p&&n().createElement(ce,{name:p,className:d.optionIcon}),r.imgUrl&&n().createElement("img",{className:d.optionImage,src:r.imgUrl,alt:r.label||r.value}),n().createElement("div",{className:d.optionBody},n().createElement("span",null,c?c(r):e),r.description&&n().createElement("div",{className:d.optionDescription},r.description),r.component&&n().createElement(r.component,null)))};Xl.displayName="SelectMenuOptions";const Kl=f((e=>({header:a.css`
      display: flex;
      align-items: center;
      justify-content: flex-start;
      justify-items: center;
      cursor: pointer;
      padding: 7px 10px;
      width: 100%;
      border-bottom: 1px solid ${e.colors.background.secondary};

      &:hover {
        color: ${e.colors.text.maxContrast};
      }
    `,label:a.css`
      flex-grow: 1;
    `,icon:a.css`
      padding-right: 2px;
    `})));class Yl extends r.PureComponent{componentDidMount(){if(this.props.data.expanded)this.setState({expanded:!0});else if(this.props.selectProps&&this.props.selectProps.value){const{value:e}=this.props.selectProps.value;e&&this.props.options.some((t=>t.value===e))&&this.setState({expanded:!0})}}componentDidUpdate(e){""!==e.selectProps.inputValue&&this.setState({expanded:!0})}render(){const{children:e,label:t,theme:r}=this.props,{expanded:o}=this.state,i=Kl(r);return n().createElement("div",null,n().createElement("div",{className:i.header,onClick:this.onToggleChildren},n().createElement("span",{className:i.label},t),n().createElement(ce,{className:i.icon,name:o?"angle-up":"angle-down"})," "),o&&e)}constructor(...e){super(...e),this.state={expanded:!1},this.onToggleChildren=()=>{this.setState((e=>({expanded:!e.expanded})))}}}const Jl=y(Yl);function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zl.apply(this,arguments)}function ec(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}function tc(e,t){return tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tc(e,t)}function rc(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,tc(e,t)}function nc(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const oc=n().createContext(null);var ic="unmounted",ac="exited",sc="entering",lc="entered",cc="exiting",uc=function(e){function t(t,r){var n;n=e.call(this,t,r)||this;var o,i=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?i?(o=ac,n.appearStatus=sc):o=lc:o=t.unmountOnExit||t.mountOnEnter?ic:ac,n.state={status:o},n.nextCallback=null,n}rc(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ic?{status:ac}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==sc&&r!==lc&&(t=sc):r!==sc&&r!==lc||(t=cc)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===sc?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===ac&&this.setState({status:ic})},r.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,o=this.props.nodeRef?[n]:[be().findDOMNode(this),n],i=o[0],a=o[1],s=this.getTimeouts(),l=n?s.appear:s.enter;e||r?(this.props.onEnter(i,a),this.safeSetState({status:sc},(function(){t.props.onEntering(i,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:lc},(function(){t.props.onEntered(i,a)}))}))}))):this.safeSetState({status:lc},(function(){t.props.onEntered(i)}))},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:be().findDOMNode(this);t?(this.props.onExit(n),this.safeSetState({status:cc},(function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:ac},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:ac},(function(){e.props.onExited(n)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:be().findDOMNode(this),n=null==e&&!this.props.addEndListener;if(r&&!n){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===ic)return null;var t=this.props,r=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,ec(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return n().createElement(oc.Provider,{value:null},"function"==typeof r?r(e,o):n().cloneElement(n().Children.only(r),o))},t}(n().Component);function dc(){}uc.contextType=oc,uc.propTypes={},uc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:dc,onEntering:dc,onEntered:dc,onExit:dc,onExiting:dc,onExited:dc},uc.UNMOUNTED=ic,uc.EXITED=ac,uc.ENTERING=sc,uc.ENTERED=lc,uc.EXITING=cc;const pc=uc;var fc=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return n=t,void((r=e).classList?r.classList.remove(n):"string"==typeof r.className?r.className=nc(r.className,n):r.setAttribute("class",nc(r.className&&r.className.baseVal||"",n)));var r,n}))},hc=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,r){var n=t.resolveArguments(e,r),o=n[0],i=n[1];t.removeClasses(o,"exit"),t.addClass(o,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var n=t.resolveArguments(e,r),o=n[0],i=n[1]?"appear":"enter";t.addClass(o,i,"active"),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var n=t.resolveArguments(e,r),o=n[0],i=n[1]?"appear":"enter";t.removeClasses(o,i),t.addClass(o,i,"done"),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"appear"),t.removeClasses(r,"enter"),t.addClass(r,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.resolveArguments(e)[0];t.addClass(r,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"exit"),t.addClass(r,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,r){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,r]},t.getClassNames=function(e){var r=t.props.classNames,n="string"==typeof r,o=n?(n&&r?r+"-":"")+e:r[e];return{baseClassName:o,activeClassName:n?o+"-active":r[e+"Active"],doneClassName:n?o+"-done":r[e+"Done"]}},t}rc(t,e);var r=t.prototype;return r.addClass=function(e,t,r){var n=this.getClassNames(t)[r+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===r&&o&&(n+=" "+o),"active"===r&&e&&e.scrollTop,n&&(this.appliedClasses[t][r]=n,function(e,t){e&&t&&t.split(" ").forEach((function(t){return n=t,void((r=e).classList?r.classList.add(n):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,n)||("string"==typeof r.className?r.className=r.className+" "+n:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+n)));var r,n}))}(e,n))},r.removeClasses=function(e,t){var r=this.appliedClasses[t],n=r.base,o=r.active,i=r.done;this.appliedClasses[t]={},n&&fc(e,n),o&&fc(e,o),i&&fc(e,i)},r.render=function(){var e=this.props,t=(e.classNames,ec(e,["classNames"]));return n().createElement(pc,Zl({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(n().Component);hc.defaultProps={classNames:""},hc.propTypes={};const mc=hc,gc=f((e=>({enter:a.css`
      label: enter;
      opacity: 0;
    `,enterActive:a.css`
      label: enterActive;
      opacity: 1;
      transition: opacity ${e}ms ease-out;
    `,exit:a.css`
      label: exit;
      opacity: 1;
    `,exitActive:a.css`
      label: exitActive;
      opacity: 0;
      transition: opacity ${e}ms ease-out;
    `})));function vc(e){const{visible:t,children:r,duration:o=250}=e,i=gc(o);return n().createElement(mc,{in:t,mountOnEnter:!0,unmountOnExit:!0,timeout:o,classNames:i},r)}const bc=f(((e,t,r)=>({enter:a.css`
      label: enter;
      ${t}: 0;
      opacity: 0;
    `,enterActive:a.css`
      label: enterActive;
      ${t}: ${r}px;
      opacity: 1;
      transition: opacity ${e}ms ease-out, ${t} ${e}ms ease-out;
    `,exit:a.css`
      label: exit;
      ${t}: ${r}px;
      opacity: 1;
    `,exitActive:a.css`
      label: exitActive;
      opacity: 0;
      ${t}: 0;
      transition: opacity ${e}ms ease-out, ${t} ${e}ms ease-out;
    `})));function yc(e){const{visible:t,children:r,duration:o=250,horizontal:i,size:a}=e,s=bc(o,i?"width":"height",a);return n().createElement(mc,{in:t,mountOnEnter:!0,unmountOnExit:!0,timeout:o,classNames:s},r)}function wc(){return wc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wc.apply(this,arguments)}const Oc=e=>({singleValue:a.css`
    label: singleValue;
    color: ${e.components.input.text};
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    box-sizing: border-box;
    max-width: 100%;
    grid-area: 1 / 1 / 2 / 3;
  `,spinnerWrapper:a.css`
    width: 16px;
    height: 16px;
    display: inline-block;
    margin-right: 10px;
    position: relative;
    vertical-align: middle;
    overflow: hidden;
  `,spinnerIcon:a.css`
    width: 100%;
    height: 100%;
    position: absolute;
  `,disabled:a.css`
    color: ${e.colors.text.disabled};
  `,isOpen:a.css`
    color: ${e.colors.text.disabled};
  `}),xc=e=>{const{children:t,data:o,isDisabled:i}=e,s=O(Oc),l=function(e,t={}){const{duration:n=250,delay:o=250}=t,[i,a]=(0,r.useState)(e),s=(0,r.useRef)();return(0,r.useEffect)((()=>{let t;if(e)t=setTimeout((()=>{s.current=new Date,a(e)}),o);else{const r=s.current?Date.now()-s.current.valueOf():0,o=()=>{s.current=void 0,a(e)};r>=n?o():t=setTimeout(o,n-r)}return()=>{t&&(clearTimeout(t),t=void 0)}}),[e,n,o]),i}(o.loading||!1,{delay:250,duration:750});var c;return n().createElement(gs.SingleValue,wc({},e,{className:(0,a.cx)(s.singleValue,i&&s.disabled,e.selectProps.menuIsOpen&&s.isOpen)}),o.imgUrl?n().createElement(_c,{loading:l,imgUrl:o.imgUrl,styles:s,alt:null!==(c=o.label)&&void 0!==c?c:o.value}):n().createElement(yc,{horizontal:!0,size:16,visible:l,duration:150},n().createElement("div",{className:s.spinnerWrapper},n().createElement(pe,{className:s.spinnerIcon,inline:!0}))),!o.hideText&&t)},_c=e=>n().createElement("div",{className:e.styles.spinnerWrapper},n().createElement(vc,{duration:150,visible:e.loading},n().createElement(pe,{className:e.styles.spinnerIcon,inline:!0})),n().createElement(vc,{duration:150,visible:!e.loading},n().createElement("img",{className:e.styles.spinnerIcon,src:e.imgUrl,alt:e.alt})));class Ec extends r.Component{render(){const{children:e}=this.props,{selectProps:t}=this.props;if(t&&Array.isArray(e)&&Array.isArray(e[0])&&void 0!==t.maxVisibleValues&&(!t.showAllSelectedWhenOpen||!t.menuIsOpen)){const[r,...n]=e,o=r.slice(0,t.maxVisibleValues);return this.renderContainer([o,...n])}return this.renderContainer(e)}renderContainer(e){const{isMulti:t,theme:r}=this.props,o=Al(r),i=(0,a.cx)(o.valueContainer,t&&o.valueContainerMulti);return n().createElement("div",{className:i},e)}}const Sc=y(Ec);function kc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){kc(e,t,r[t])}))}return e}function Cc(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function Tc(e){return{clearIndicator:()=>({}),container:()=>({}),control:()=>({}),dropdownIndicator:()=>({}),group:()=>({}),groupHeading:()=>({}),indicatorsContainer:()=>({}),indicatorSeparator:()=>({}),input:function(e){return Cc(Pc({},e),{color:"inherit",margin:0,padding:0,zIndex:1})},loadingIndicator:()=>({}),loadingMessage:()=>({}),menu:()=>({}),menuList:({maxHeight:e})=>({maxHeight:e}),multiValue:()=>({}),multiValueLabel:()=>({}),multiValueRemove:()=>({}),noOptionsMessage:()=>({}),option:()=>({}),placeholder:t=>Cc(Pc({},t),{color:e.colors.text.disabled}),singleValue:()=>({}),valueContainer:()=>({})}}const Dc=(e,t)=>{for(const r of t)if("options"in r){let t=Dc(e,r.options);if(t)return t}else if("value"in r&&r.value===e)return r;return null};function Ic(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ac(){return Ac=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ac.apply(this,arguments)}function jc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ic(e,t,r[t])}))}return e}const Mc=e=>{const{children:t,innerProps:r,selectProps:{menuIsOpen:o,onMenuClose:i,onMenuOpen:a},isFocused:s,isMulti:l,getValue:c,innerRef:u}=e,d=e.selectProps;return d.renderControl?n().createElement(d.renderControl,{isOpen:o,value:l?c():c()[0],ref:u,onClick:o?i:a,onBlur:i,disabled:!!d.disabled,invalid:!!d.invalid}):n().createElement(Il,{ref:u,innerProps:r,prefix:d.prefix,focused:s,invalid:!!d.invalid,disabled:!!d.disabled},t)};function Nc({allowCustomValue:e=!1,allowCreateWhileLoading:t=!1,"aria-label":o,autoFocus:i=!1,backspaceRemovesValue:a=!0,cacheOptions:s,className:l,closeMenuOnSelect:c=!0,components:u,defaultOptions:d,defaultValue:p,disabled:f=!1,filterOption:h,formatCreateLabel:m,getOptionLabel:g,getOptionValue:v,inputValue:b,invalid:y,isClearable:O=!1,id:x,isLoading:_=!1,isMulti:E=!1,inputId:S,isOpen:k,isOptionDisabled:P,isSearchable:C=!0,loadOptions:T,loadingMessage:D="Loading options...",maxMenuHeight:I=300,minMenuHeight:A,maxVisibleValues:j,menuPlacement:M="auto",menuPosition:N,menuShouldPortal:R=!0,noOptionsMessage:L="No options found",onBlur:$,onChange:V,onCloseMenu:z,onCreateOption:F,onInputChange:q,onKeyDown:B,onOpenMenu:H,onFocus:W,openMenuOnFocus:U=!1,options:Q=[],placeholder:G="Choose",prefix:X,renderControl:K,showAllSelectedWhenOpen:Y=!0,tabSelectsValue:J=!0,value:Z,width:ee,isValidNewOption:te,formatOptionLabel:re}){const ne=w(),oe=Al(ne),ie=(0,r.useRef)(null),[ae,se]=(0,r.useState)(!1),le=function(e,t){return(0,r.useMemo)((()=>Cc(Pc({},Tc(e)),{menuPortal:t=>Cc(Pc({},t),{zIndex:e.zIndex.portal}),menu:({top:t,bottom:r,position:n})=>({top:t,bottom:r,position:n,minWidth:"100%",zIndex:e.zIndex.dropdown}),container:()=>({width:t?e.spacing(t):"100%",display:"auto"===t?"inline-flex":"flex"}),option:(e,t)=>Cc(Pc({},e),{opacity:t.isDisabled?.5:1})})),[e,t])}(ne,ee);(0,r.useEffect)((()=>{if(T&&k&&ie.current&&ie.current.controlRef&&"auto"===M){const e=window.innerHeight-ie.current.controlRef.getBoundingClientRect().bottom;se(e<I)}}),[I,M,T,k]);const ue=(0,r.useCallback)(((e,t)=>{if(E&&null==e)return V([],t);V(e,t)}),[E,V]);let de=hl;const fe={};let he,me={};var ge;if(E&&T)he=Z;else if(E&&Z&&Array.isArray(Z)&&!T)he=Z.map((e=>Dc(null!==(ge=e.value)&&void 0!==ge?ge:e,Q)));else if(T){const e=p||Z;he=e?[e]:[]}else he=((e,t)=>{if(Array.isArray(e)){const t=e.filter(Boolean);return(null==t?void 0:t.length)?t:void 0}if("object"==typeof e)return[e];if("string"==typeof e||"number"==typeof e){const r=Dc(e,t);if(r)return[r]}})(Z,Q);const ve={"aria-label":o,autoFocus:i,backspaceRemovesValue:a,captureMenuScroll:!1,closeMenuOnSelect:c,defaultValue:p,disabled:f,filterOption:h,getOptionLabel:g,getOptionValue:v,inputValue:b,invalid:y,isClearable:O,id:x,isDisabled:f,isLoading:_,isMulti:E,inputId:S,isOptionDisabled:P,isSearchable:C,maxMenuHeight:I,minMenuHeight:A,maxVisibleValues:j,menuIsOpen:k,menuPlacement:"auto"===M&&ae?"top":M,menuPosition:N,menuShouldBlockScroll:!0,menuPortalTarget:R&&"undefined"!=typeof document?document.body:void 0,menuShouldScrollIntoView:!1,onBlur:$,onChange:ue,onInputChange:q,onKeyDown:B,onMenuClose:z,onMenuOpen:H,onFocus:W,formatOptionLabel:re,openMenuOnFocus:U,options:Q,placeholder:G,prefix:X,renderControl:K,showAllSelectedWhenOpen:Y,tabSelectsValue:J,value:E?he:null==he?void 0:he[0]};return e&&(de=kl,fe.allowCreateWhileLoading=t,fe.formatCreateLabel=null!=m?m:Rc,fe.onCreateOption=F,fe.isValidNewOption=te),T&&(de=e?El:bl,me={loadOptions:T,cacheOptions:s,defaultOptions:d}),n().createElement(n().Fragment,null,n().createElement(de,Ac({ref:ie,components:jc({MenuList:Gl,Group:Jl,ValueContainer:Sc,IndicatorsContainer(e){const{selectProps:t}=e,{value:r,showAllSelectedWhenOpen:o,maxVisibleValues:i,menuIsOpen:a}=t;if(void 0!==i){const t=r.length,s=[...e.children];return s.splice(-1,0,(e=>{const{maxVisibleValues:t,selectedValuesCount:r,menuIsOpen:o,showAllSelectedWhenOpen:i}=e;return!(void 0!==t&&r>t)||i&&o?null:n().createElement("span",{key:"excess-values",id:"excess-values"},"(+",r-t,")")})({maxVisibleValues:i,selectedValuesCount:t,showAllSelectedWhenOpen:o,menuIsOpen:a})),n().createElement(Cl,Ac({},e),s)}return n().createElement(Cl,Ac({},e))},IndicatorSeparator:()=>n().createElement(n().Fragment,null),Control:Mc,Option:Xl,ClearIndicator(e){const{clearValue:t}=e;return n().createElement(ce,{name:"times",role:"button","aria-label":"select-clear-value",className:oe.singleValueRemove,onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),t()}})},LoadingIndicator:()=>n().createElement(pe,{inline:!0}),LoadingMessage:()=>n().createElement("div",{className:oe.loadingMessage},D),NoOptionsMessage:()=>n().createElement("div",{className:oe.loadingMessage,"aria-label":"No options provided"},L),DropdownIndicator:e=>n().createElement(Pl,{isOpen:e.selectProps.menuIsOpen}),SingleValue:e=>n().createElement(xc,Ac({},e,{disabled:f})),SelectContainer:Ll,MultiValueContainer:Ml,MultiValueRemove:Nl},u),styles:le,className:l},ve,fe,me)))}function Rc(e){return n().createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},n().createElement("div",null,e),n().createElement("div",{style:{flexGrow:1}}),n().createElement("div",{className:"muted small",style:{display:"flex",gap:"8px",alignItems:"center"}},"Hit enter to add"))}function Lc(){return Lc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lc.apply(this,arguments)}function $c(e){return n().createElement(Nc,Lc({},e))}function Vc(){return Vc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vc.apply(this,arguments)}function zc(e){var{label:t}=e,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["label"]);const i=w(),[a]=(0,r.useState)((()=>Math.random().toString(16).slice(2))),s=Bc(i),l={SelectContainer:Fc,ValueContainer:qc,SingleValue:qc};return n().createElement("div",{className:s.root},t&&n().createElement("label",{className:s.label,htmlFor:a},t,":"," "),n().createElement($c,Vc({openMenuOnFocus:!0,inputId:a},o,{components:l})))}const Fc=e=>{const{children:t}=e,r=w(),o=Bc(r);return n().createElement(Ll,Vc({},e,{className:(0,a.cx)(e.className,o.container)}),t)},qc=e=>{const{className:t,children:r}=e,o=w(),i=Bc(o);return n().createElement("div",{className:(0,a.cx)(t,i.valueContainer)},r)},Bc=f((e=>({root:(0,a.css)({display:"flex",fontSize:12,alignItems:"center"}),label:(0,a.css)({color:e.colors.text.secondary,whiteSpace:"nowrap"}),container:(0,a.css)({background:"none",borderColor:"transparent"}),valueContainer:(0,a.css)({display:"flex",alignItems:"center",flex:"initial",color:e.colors.text.secondary,fontSize:12})}))),Hc=({grow:e,shrink:t})=>n().createElement("div",{style:{display:"block",flexGrow:e,flexShrink:t}}),Wc=e=>{const t=w(),r=Gc(t,e);return n().createElement("span",{className:(0,a.cx)(r.wrapper)})};var Uc,Qc;Wc.defaultProps={v:0,h:0,layout:"block"};const Gc=f(((e,t)=>({wrapper:(0,a.css)([{paddingRight:e.spacing(null!==(Uc=t.h)&&void 0!==Uc?Uc:0),paddingBottom:e.spacing(null!==(Qc=t.v)&&void 0!==Qc?Qc:0)},"inline"===t.layout&&{display:"inline-block"},"block"===t.layout&&{display:"block"}])})));const Xc=e=>{var{children:t}=e,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["children"]);const i=O((0,r.useCallback)((e=>Zc(e,o)),[o]));return n().createElement("div",{className:i.root},t)};var Kc,Yc,Jc;const Zc=(e,t)=>({root:(0,a.css)({display:"flex",flexDirection:null!==(Kc=t.direction)&&void 0!==Kc?Kc:"row",flexWrap:null===(Yc=t.wrap)||void 0===Yc||Yc?"wrap":void 0,alignItems:t.alignItems,gap:e.spacing(null!==(Jc=t.gap)&&void 0!==Jc?Jc:2),flexGrow:t.flexGrow})}),eu=({children:e})=>n().createElement(Xc,{gap:.5,direction:"column"},e),tu=[{label:"$__interval",sortValue:"$__interval"},{label:"$__rate_interval",sortValue:"$__rate_interval"},{label:"$__range",sortValue:"$__range"},{label:"1m",sortValue:"00:01:00"},{label:"5m",sortValue:"00:05:00"},{label:"10m",sortValue:"00:10:00"},{label:"30m",sortValue:"00:30:00"},{label:"1h",sortValue:"01:00:00"},{label:"1d",sortValue:"24:00:00"}],ru=[{label:"absent_over_time",insertText:"absent_over_time",detail:"absent_over_time(series_selector[d])",documentation:"returns 1 if the given lookbehind window `d` doesn't contain raw samples. Otherwise it returns an empty result. See also `present_over_time`."},{label:"aggr_over_time",insertText:"aggr_over_time",detail:'aggr_over_time(("rollup_func1", "rollup_func2", ...), series_selector[d])',documentation:'calculates all the listed `rollup_func*` for raw samples on the given lookbehind window `d`. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). `rollup_func*` can contain any rollup function. For instance, `aggr_over_time(("min_over_time", "max_over_time", "rate"), m[d])` would calculate `min_over_time` for `m[d]`.'},{label:"ascent_over_time",insertText:"ascent_over_time",detail:"ascent_over_time(series_selector[d])",documentation:"calculates ascent of raw sample values on the given lookbehind window `d`. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Useful for tracking height gains in GPS tracking. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"avg_over_time",insertText:"avg_over_time",detail:"avg_over_time(series_selector[d])",documentation:"calculates the average value over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). See also `median_over_time`."},{label:"changes",insertText:"changes",detail:"changes(series_selector[d])",documentation:"calculates the number of times the raw samples changed on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Unlike `changes()` in Prometheus it takes into account the change from the last sample before the given lookbehind window `d`. See [this article](https://medium.com/@romanhavronenko/victoriametrics-promql-compliance-d4318203f51e) for details. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"changes_prometheus",insertText:"changes_prometheus",detail:"changes_prometheus(series_selector[d])",documentation:"calculates the number of times the raw samples changed on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). It doesn't take into account the change from the last sample before the given lookbehind window `d` in the same way as Prometheus does. See [this article](https://medium.com/@romanhavronenko/victoriametrics-promql-compliance-d4318203f51e) for details. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"count_eq_over_time",insertText:"count_eq_over_time",detail:"count_eq_over_time(series_selector[d], eq)",documentation:"calculates the number of raw samples on the given lookbehind window `d`, which are equal to `eq`. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"count_gt_over_time",insertText:"count_gt_over_time",detail:"count_gt_over_time(series_selector[d], gt)",documentation:"calculates the number of raw samples on the given lookbehind window `d`, which are bigger than `gt`. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"count_le_over_time",insertText:"count_le_over_time",detail:"count_le_over_time(series_selector[d], le)",documentation:"calculates the number of raw samples on the given lookbehind window `d`, which don't exceed `le`. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"count_ne_over_time",insertText:"count_ne_over_time",detail:"count_ne_over_time(series_selector[d], ne)",documentation:"calculates the number of raw samples on the given lookbehind window `d`, which aren't equal to `ne`. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"count_over_time",insertText:"count_over_time",detail:"count_over_time(series_selector[d])",documentation:"calculates the number of raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"decreases_over_time",insertText:"decreases_over_time",detail:"decreases_over_time(series_selector[d])",documentation:"calculates the number of raw sample value decreases over the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"default_rollup",insertText:"default_rollup",detail:"default_rollup(series_selector[d])",documentation:"returns the last raw sample value on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering)."},{label:"delta",insertText:"delta",detail:"delta(series_selector[d])",documentation:"calculates the difference between the last sample before the given lookbehind window `d` and the last sample at the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). The behaviour of `delta()` function in MetricsQL is slightly different to the behaviour of `delta()` function in Prometheus. See [this article](https://medium.com/@romanhavronenko/victoriametrics-promql-compliance-d4318203f51e) for details. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"delta_prometheus",insertText:"delta_prometheus",detail:"delta_prometheus(series_selector[d])",documentation:"calculates the difference between the first and the last samples at the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). The behaviour of `delta_prometheus()` is close to the behaviour of `delta()` function in Prometheus. See [this article](https://medium.com/@romanhavronenko/victoriametrics-promql-compliance-d4318203f51e) for details. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"deriv",insertText:"deriv",detail:"deriv(series_selector[d])",documentation:"calculates per-second derivative over the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). The derivative is calculated using linear regression. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"deriv_fast",insertText:"deriv_fast",detail:"deriv_fast(series_selector[d])",documentation:"calculates per-second derivative using the first and the last raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"descent_over_time",insertText:"descent_over_time",detail:"descent_over_time(series_selector[d])",documentation:"calculates descent of raw sample values on the given lookbehind window `d`. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Useful for tracking height loss in GPS tracking. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"distinct_over_time",insertText:"distinct_over_time",detail:"distinct_over_time(series_selector[d])",documentation:"returns the number of distinct raw sample values on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"duration_over_time",insertText:"duration_over_time",detail:"duration_over_time(series_selector[d], max_interval)",documentation:"returns the duration in seconds when time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering) were present over the given lookbehind window `d`. It is expected that intervals between adjacent samples per each series don't exceed the `max_interval`. Otherwise such intervals are considered as gaps and aren't counted. See also `lifetime`."},{label:"first_over_time",insertText:"first_over_time",detail:"first_over_time(series_selector[d])",documentation:"returns the first raw sample value on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). See also `last_over_time`."},{label:"geomean_over_time",insertText:"geomean_over_time",detail:"geomean_over_time(series_selector[d])",documentation:"calculates [geometric mean](https://en.wikipedia.org/wiki/Geometric_mean) over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"histogram_over_time",insertText:"histogram_over_time",detail:"histogram_over_time(series_selector[d])",documentation:"calculates [VictoriaMetrics histogram](https://godoc.org/github.com/VictoriaMetrics/metrics#Histogram) over raw samples on the given lookbehind window `d`. It is calculated individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). The resulting histograms are useful to pass to `histogram_quantile``."},{label:"hoeffding_bound_lower",insertText:"hoeffding_bound_lower",detail:"hoeffding_bound_lower(phi, series_selector[d])",documentation:"calculates lower [Hoeffding bound](https://en.wikipedia.org/wiki/Hoeffding%27s_inequality) for the given `phi` in the range `[0...1]`. See also `hoeffding_bound_upper`."},{label:"hoeffding_bound_upper",insertText:"hoeffding_bound_upper",detail:"hoeffding_bound_upper(phi, series_selector[d])",documentation:"calculates upper [Hoeffding bound](https://en.wikipedia.org/wiki/Hoeffding%27s_inequality) for the given `phi` in the range `[0...1]`. See also `hoeffding_bound_lower`."},{label:"holt_winters",insertText:"holt_winters",detail:"holt_winters(series_selector[d], sf, tf)",documentation:"calculates Holt-Winters value (aka [double exponential smoothing](https://en.wikipedia.org/wiki/Exponential_smoothing#Double_exponential_smoothing)) for raw samples over the given lookbehind window `d` using the given smoothing factor `sf` and the given trend factor `tf`. Both `sf` and `tf` must be in the range `[0...1]`. It is expected that the [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering) returns time series of [gauge type](https://docs.victoriametrics.com/keyConcepts.html#gauge)."},{label:"idelta",insertText:"idelta",detail:"idelta(series_selector[d])",documentation:"calculates the difference between the last two raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"ideriv",insertText:"ideriv",detail:"ideriv(series_selector[d])",documentation:"calculates the per-second derivative based on the last two raw samples over the given lookbehind window `d`. The derivative is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"increase",insertText:"increase",detail:"increase(series_selector[d])",documentation:"calculates the increase over the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). It is expected that the `series_selector` returns time series of [counter type](https://docs.victoriametrics.com/keyConcepts.html#counter). Unlike Prometheus it takes into account the last sample before the given lookbehind window `d` when calculating the result. See [this article](https://medium.com/@romanhavronenko/victoriametrics-promql-compliance-d4318203f51e) for details. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"increase_prometheus",insertText:"increase_prometheus",detail:"increase_prometheus(series_selector[d])",documentation:"calculates the increase over the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). It is expected that the `series_selector` returns time series of [counter type](https://docs.victoriametrics.com/keyConcepts.html#counter). It doesn't take into account the last sample before the given lookbehind window `d` when calculating the result in the same way as Prometheus does. See [this article](https://medium.com/@romanhavronenko/victoriametrics-promql-compliance-d4318203f51e) for details. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"increase_pure",insertText:"increase_pure",detail:"increase_pure(series_selector[d])",documentation:"works the same as `increase` ignores the first value in a series if it is too big."},{label:"increases_over_time",insertText:"increases_over_time",detail:"increases_over_time(series_selector[d])",documentation:"calculates the number of raw sample value increases over the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"integrate",insertText:"integrate",detail:"integrate(series_selector[d])",documentation:"calculates the integral over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"irate",insertText:"irate",detail:"irate(series_selector[d])",documentation:'calculates the "instant" per-second increase rate over the last two raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). It is expected that the `series_selector` returns time series of [counter type](https://docs.victoriametrics.com/keyConcepts.html#counter). Metric names are stripped from the resulting rollups. Add `keep_metric_names`.'},{label:"lag",insertText:"lag",detail:"lag(series_selector[d])",documentation:"returns the duration in seconds between the last sample on the given lookbehind window `d` and the timestamp of the current point. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"last_over_time",insertText:"last_over_time",detail:"last_over_time(series_selector[d])",documentation:"returns the last raw sample value on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). See also `first_over_time`."},{label:"lifetime",insertText:"lifetime",detail:"lifetime(series_selector[d])",documentation:"returns the duration in seconds between the last and the first sample on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"max_over_time",insertText:"max_over_time",detail:"max_over_time(series_selector[d])",documentation:"calculates the maximum value over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). See also `tmax_over_time`."},{label:"median_over_time",insertText:"median_over_time",detail:"median_over_time(series_selector[d])",documentation:"calculates median value over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). See also `avg_over_time`."},{label:"min_over_time",insertText:"min_over_time",detail:"min_over_time(series_selector[d])",documentation:"calculates the minimum value over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). See also `tmin_over_time`."},{label:"mode_over_time",insertText:"mode_over_time",detail:"mode_over_time(series_selector[d])",documentation:"calculates [mode](https://en.wikipedia.org/wiki/Mode_(statistics)) for raw samples on the given lookbehind window `d`. It is calculated individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). It is expected that raw sample values are discrete."},{label:"predict_linear",insertText:"predict_linear",detail:"predict_linear(series_selector[d], t)",documentation:"calculates the value `t` seconds in the future using linear interpolation over raw samples on the given lookbehind window `d`. The predicted value is calculated individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering)."},{label:"present_over_time",insertText:"present_over_time",detail:"present_over_time(series_selector[d])",documentation:"returns 1 if there is at least a single raw sample on the given lookbehind window `d`. Otherwise an empty result is returned. Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"quantile_over_time",insertText:"quantile_over_time",detail:"quantile_over_time(phi, series_selector[d])",documentation:"calculates `phi`-quantile over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). The `phi` value must be in the range `[0...1]`. See also `quantiles_over_time`."},{label:"quantiles_over_time",insertText:"quantiles_over_time",detail:'quantiles_over_time("phiLabel", phi1, ..., phiN, series_selector[d])',documentation:'calculates `phi*`-quantiles over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). The function returns individual series per each `phi*` with `{phiLabel="phi*"}` label. `phi*` values must be in the range `[0...1]`. See also `quantile_over_time`.'},{label:"range_over_time",insertText:"range_over_time",detail:"range_over_time(series_selector[d])",documentation:"calculates value range over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). E.g. it calculates `max_over_time(series_selector[d]) - min_over_time(series_selector[d])`. Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"rate",insertText:"rate",detail:"rate(series_selector[d])",documentation:"calculates the average per-second increase rate over the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). It is expected that the `series_selector` returns time series of [counter type](https://docs.victoriametrics.com/keyConcepts.html#counter). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"rate_over_sum",insertText:"rate_over_sum",detail:"rate_over_sum(series_selector[d])",documentation:"calculates per-second rate over the sum of raw samples on the given lookbehind window `d`. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"resets",insertText:"resets",detail:"resets(series_selector[d])",documentation:"returns the number of [counter](https://docs.victoriametrics.com/keyConcepts.html#counter) resets over the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). It is expected that the `series_selector` returns time series of [counter type](https://docs.victoriametrics.com/keyConcepts.html#counter). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"rollup",insertText:"rollup",detail:"rollup(series_selector[d])",documentation:"calculates `min`, `max` and `avg` values for raw samples on the given lookbehind window `d`. These values are calculated individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering)."},{label:"rollup_candlestick",insertText:"rollup_candlestick",detail:"rollup_candlestick(series_selector[d])",documentation:"calculates `open`, `high`, `low` and `close` values (aka OHLC) over raw samples on the given lookbehind window `d`. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). This function is useful for financial applications."},{label:"rollup_delta",insertText:"rollup_delta",detail:"rollup_delta(series_selector[d])",documentation:"calculates differences between adjacent raw samples on the given lookbehind window `d` and returns `min`, `max` and `avg` values for the calculated differences. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"rollup_deriv",insertText:"rollup_deriv",detail:"rollup_deriv(series_selector[d])",documentation:"calculates per-second derivatives for adjacent raw samples on the given lookbehind window `d` and returns `min`, `max` and `avg` values for the calculated per-second derivatives. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"rollup_increase",insertText:"rollup_increase",detail:"rollup_increase(series_selector[d])",documentation:"calculates increases for adjacent raw samples on the given lookbehind window `d` and returns `min`, `max` and `avg` values for the calculated increases. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"rollup_rate",insertText:"rollup_rate",detail:"rollup_rate(series_selector[d])",documentation:"calculates per-second change rates for adjacent raw samples on the given lookbehind window `d` and returns `min`, `max` and `avg` values for the calculated per-second change rates. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"rollup_scrape_interval",insertText:"rollup_scrape_interval",detail:"rollup_scrape_interval(series_selector[d])",documentation:"calculates the interval in seconds between adjacent raw samples on the given lookbehind window `d` and returns `min`, `max` and `avg` values for the calculated interval. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"scrape_interval",insertText:"scrape_interval",detail:"scrape_interval(series_selector[d])",documentation:"calculates the average interval in seconds between raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"share_gt_over_time",insertText:"share_gt_over_time",detail:"share_gt_over_time(series_selector[d], gt)",documentation:"returns share (in the range `[0...1]`) of raw samples on the given lookbehind window `d`, which are bigger than `gt`. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"share_le_over_time",insertText:"share_le_over_time",detail:"share_le_over_time(series_selector[d], le)",documentation:"returns share (in the range `[0...1]`) of raw samples on the given lookbehind window `d`, which are smaller or equal to `le`. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"stale_samples_over_time",insertText:"stale_samples_over_time",detail:"stale_samples_over_time(series_selector[d])",documentation:"calculates the number of [staleness markers](https://docs.victoriametrics.com/vmagent.html#prometheus-staleness-markers) on the given lookbehind window `d` per each time series matching the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"stddev_over_time",insertText:"stddev_over_time",detail:"stddev_over_time(series_selector[d])",documentation:"calculates standard deviation over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"stdvar_over_time",insertText:"stdvar_over_time",detail:"stdvar_over_time(series_selector[d])",documentation:"calculates standard variance over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"sum_over_time",insertText:"sum_over_time",detail:"sum_over_time(series_selector[d])",documentation:"calculates the sum of raw sample values on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"sum2_over_time",insertText:"sum2_over_time",detail:"sum2_over_time(series_selector[d])",documentation:"calculates the sum of squares for raw sample values on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"timestamp",insertText:"timestamp",detail:"timestamp(series_selector[d])",documentation:"returns the timestamp in seconds for the last raw sample on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"timestamp_with_name",insertText:"timestamp_with_name",detail:"timestamp_with_name(series_selector[d])",documentation:"returns the timestamp in seconds for the last raw sample on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are preserved in the resulting rollups. See also `timestamp`."},{label:"tfirst_over_time",insertText:"tfirst_over_time",detail:"tfirst_over_time(series_selector[d])",documentation:"returns the timestamp in seconds for the first raw sample on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"tlast_change_over_time",insertText:"tlast_change_over_time",detail:"tlast_change_over_time(series_selector[d])",documentation:"returns the timestamp in seconds for the last change per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering) on the given lookbehind window `d`. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"tlast_over_time",insertText:"tlast_over_time",detail:"tlast_over_time(series_selector[d])",documentation:"is an alias for `timestamp`."},{label:"tmax_over_time",insertText:"tmax_over_time",detail:"tmax_over_time(series_selector[d])",documentation:"returns the timestamp in seconds for the raw sample with the maximum value on the given lookbehind window `d`. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"tmin_over_time",insertText:"tmin_over_time",detail:"tmin_over_time(series_selector[d])",documentation:"returns the timestamp in seconds for the raw sample with the minimum value on the given lookbehind window `d`. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"zscore_over_time",insertText:"zscore_over_time",detail:"zscore_over_time(series_selector[d])",documentation:"calculates returns [z-score](https://en.wikipedia.org/wiki/Standard_score) for raw samples on the given lookbehind window `d`. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"abs",insertText:"abs",detail:"abs(q)",documentation:"calculates the absolute value for every point of every time series returned by `q`."},{label:"absent",insertText:"absent",detail:"absent(q)",documentation:"returns 1 if `q` has no points. Otherwise returns an empty result."},{label:"acos",insertText:"acos",detail:"acos(q)",documentation:"returns [inverse cosine](https://en.wikipedia.org/wiki/Inverse_trigonometric_functions) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"acosh",insertText:"acosh",detail:"acosh(q)",documentation:"returns [inverse hyperbolic cosine](https://en.wikipedia.org/wiki/Inverse_hyperbolic_functions#Inverse_hyperbolic_cosine) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"asin",insertText:"asin",detail:"asin(q)",documentation:"returns [inverse sine](https://en.wikipedia.org/wiki/Inverse_trigonometric_functions) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"asinh",insertText:"asinh",detail:"asinh(q)",documentation:"returns [inverse hyperbolic sine](https://en.wikipedia.org/wiki/Inverse_hyperbolic_functions#Inverse_hyperbolic_sine) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"atan",insertText:"atan",detail:"atan(q)",documentation:"returns [inverse tangent](https://en.wikipedia.org/wiki/Inverse_trigonometric_functions) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"atanh",insertText:"atanh",detail:"atanh(q)",documentation:"returns [inverse hyperbolic tangent](https://en.wikipedia.org/wiki/Inverse_hyperbolic_functions#Inverse_hyperbolic_tangent) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"bitmap_and",insertText:"bitmap_and",detail:"bitmap_and(q, mask)",documentation:"- calculates bitwise `v & mask` for every `v` point of every time series returned from `q`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"bitmap_or",insertText:"bitmap_or",detail:"bitmap_or(q, mask)",documentation:"calculates bitwise `v | mask` for every `v` point of every time series returned from `q`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"bitmap_xor",insertText:"bitmap_xor",detail:"bitmap_xor(q, mask)",documentation:"calculates bitwise `v ^ mask` for every `v` point of every time series returned from `q`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"buckets_limit",insertText:"buckets_limit",detail:"buckets_limit(limit, buckets)",documentation:"limits the number of [histogram buckets](https://valyala.medium.com/improving-histogram-usability-for-prometheus-and-grafana-bc7e5df0e350) to the given `limit`. See also `prometheus_buckets`."},{label:"ceil",insertText:"ceil",detail:"ceil(q)",documentation:"rounds every point for every time series returned by `q` to the upper nearest integer. See also `floor`."},{label:"clamp",insertText:"clamp",detail:"clamp(q, min, max)",documentation:"clamps every point for every time series returned by `q` with the given `min` and `max` values. See also `clamp_min`."},{label:"clamp_max",insertText:"clamp_max",detail:"clamp_max(q, max)",documentation:"clamps every point for every time series returned by `q` with the given `max` value. See also `clamp`."},{label:"clamp_min",insertText:"clamp_min",detail:"clamp_min(q, min)",documentation:"clamps every point for every time series returned by `q` with the given `min` value. See also `clamp`."},{label:"cos",insertText:"cos",detail:"cos(q)",documentation:"returns `cos(v)` for every `v` point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"cosh",insertText:"cosh",detail:"cosh(q)",documentation:"returns [hyperbolic cosine](https://en.wikipedia.org/wiki/Hyperbolic_functions) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"day_of_month",insertText:"day_of_month",detail:"day_of_month(q)",documentation:"returns the day of month for every point of every time series returned by `q`. It is expected that `q` returns unix timestamps. The returned values are in the range `[1...31]`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"day_of_week",insertText:"day_of_week",detail:"day_of_week(q)",documentation:"returns the day of week for every point of every time series returned by `q`. It is expected that `q` returns unix timestamps. The returned values are in the range `[0...6]`, where `0` means Sunday and `6` means Saturday. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"days_in_month",insertText:"days_in_month",detail:"days_in_month(q)",documentation:"returns the number of days in the month identified by every point of every time series returned by `q`. It is expected that `q` returns unix timestamps. The returned values are in the range `[28...31]`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"deg",insertText:"deg",detail:"deg(q)",documentation:"converts [Radians to degrees](https://en.wikipedia.org/wiki/Radian#Conversions) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"end",insertText:"end",detail:"end()",documentation:"returns the unix timestamp in seconds for the last point. See also `start`."},{label:"exp",insertText:"exp",detail:"exp(q)",documentation:"calculates the `e^v` for every point `v` of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"floor",insertText:"floor",detail:"floor(q)",documentation:"rounds every point for every time series returned by `q` to the lower nearest integer. See also `ceil`."},{label:"histogram_avg",insertText:"histogram_avg",detail:"histogram_avg(buckets)",documentation:"calculates the average value for the given `buckets`. It can be used for calculating the average over the given time range across multiple time series. For example, `histogram_avg(sum(histogram_over_time(response_time_duration_seconds[5m])) by (vmrange,job))` would return the average response time per each `job` over the last 5 minutes."},{label:"histogram_quantile",insertText:"histogram_quantile",detail:"histogram_quantile(phi, buckets)",documentation:"calculates `phi`-quantile over the given [histogram buckets](https://valyala.medium.com/improving-histogram-usability-for-prometheus-and-grafana-bc7e5df0e350). `phi` must be in the range `[0...1]`. For example, `histogram_quantile(0.5, sum(rate(http_request_duration_seconds_bucket[5m]) by (le))` would return median request duration for all the requests during the last 5 minutes. It accepts optional third arg - `boundsLabel`. In this case it returns `lower` and `upper` bounds for the estimated percentile. See [this issue for details](https://github.com/prometheus/prometheus/issues/5706). This function is supported by PromQL (except of the `boundLabel` arg). See also `histogram_quantiles`."},{label:"histogram_quantiles",insertText:"histogram_quantiles",detail:'histogram_quantiles("phiLabel", phi1, ..., phiN, buckets)',documentation:"calculates the given `phi*`-quantiles over the given [histogram buckets](https://valyala.medium.com/improving-histogram-usability-for-prometheus-and-grafana-bc7e5df0e350). Argument `phi*` must be in the range `[0...1]`. For example, `histogram_quantiles('le', 0.3, 0.5, sum(rate(http_request_duration_seconds_bucket[5m]) by (le))`. Each calculated quantile is returned in a separate time series with the corresponding `{phiLabel=\"phi*\"}` label. See also `histogram_quantile`."},{label:"histogram_share",insertText:"histogram_share",detail:"histogram_share(le, buckets)",documentation:"calculates the share (in the range `[0...1]`) for `buckets` that fall below `le`. Useful for calculating SLI and SLO. This is inverse to `histogram_quantile`."},{label:"histogram_stddev",insertText:"histogram_stddev",detail:"histogram_stddev(buckets)",documentation:"calculates standard deviation for the given `buckets`."},{label:"histogram_stdvar",insertText:"histogram_stdvar",detail:"histogram_stdvar(buckets)",documentation:"calculates standard variance for the given `buckets`. It can be used for calculating standard deviation over the given time range across multiple time series. For example, `histogram_stdvar(sum(histogram_over_time(temperature[24])) by (vmrange,country))` would return standard deviation for the temperature per each country over the last 24 hours."},{label:"hour",insertText:"hour",detail:"hour(q)",documentation:"returns the hour for every point of every time series returned by `q`. It is expected that `q` returns unix timestamps. The returned values are in the range `[0...23]`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"interpolate",insertText:"interpolate",detail:"interpolate(q)",documentation:"fills gaps with linearly interpolated values calculated from the last and the next non-empty points per each time series returned by `q`. See also `keep_last_value`."},{label:"keep_last_value",insertText:"keep_last_value",detail:"keep_last_value(q)",documentation:"fills gaps with the value of the last non-empty point in every time series returned by `q`. See also `keep_next_value`."},{label:"keep_next_value",insertText:"keep_next_value",detail:"keep_next_value(q)",documentation:"fills gaps with the value of the next non-empty point in every time series returned by `q`. See also `keep_last_value`."},{label:"limit_offset",insertText:"limit_offset",detail:"limit_offset(limit, offset, q)",documentation:"skips `offset` time series from series returned by `q` and then returns up to `limit` of the remaining time series per each group. This allows implementing simple paging for `q` time series. See also `limitk`."},{label:"ln",insertText:"ln",detail:"ln(q)",documentation:"calculates `ln(v)` for every point `v` of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"log2",insertText:"log2",detail:"log2(q)",documentation:"calculates `log2(v)` for every point `v` of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"log10",insertText:"log10",detail:"log10(q)",documentation:"calculates `log10(v)` for every point `v` of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"minute",insertText:"minute",detail:"minute(q)",documentation:"returns the minute for every point of every time series returned by `q`. It is expected that `q` returns unix timestamps. The returned values are in the range `[0...59]`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"month",insertText:"month",detail:"month(q)",documentation:"returns the month for every point of every time series returned by `q`. It is expected that `q` returns unix timestamps. The returned values are in the range `[1...12]`, where `1` means January and `12` means December. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"now",insertText:"now",detail:"now()",documentation:"returns the current timestamp as a floating-point value in seconds. See also `time`."},{label:"pi",insertText:"pi",detail:"pi()",documentation:"returns [Pi number](https://en.wikipedia.org/wiki/Pi)."},{label:"rad",insertText:"rad",detail:"rad(q)",documentation:"converts [degrees to Radians](https://en.wikipedia.org/wiki/Radian#Conversions) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"prometheus_buckets",insertText:"prometheus_buckets",detail:"prometheus_buckets(buckets)",documentation:"converts [VictoriaMetrics histogram buckets](https://valyala.medium.com/improving-histogram-usability-for-prometheus-and-grafana-bc7e5df0e350) with `vmrange` labels to Prometheus histogram buckets with `le` labels. This may be useful for building heatmaps in Grafana. See also `histogram_quantile`."},{label:"rand",insertText:"rand",detail:"rand(seed)",documentation:"returns pseudo-random numbers on the range `[0...1]` with even distribution. Optional `seed` can be used as a seed for pseudo-random number generator. See also `rand_normal`."},{label:"rand_exponential",insertText:"rand_exponential",detail:"rand_exponential(seed)",documentation:"returns pseudo-random numbers with [exponential distribution](https://en.wikipedia.org/wiki/Exponential_distribution). Optional `seed` can be used as a seed for pseudo-random number generator. See also `rand`."},{label:"rand_normal",insertText:"rand_normal",detail:"rand_normal(seed)",documentation:"returns pseudo-random numbers with [normal distribution](https://en.wikipedia.org/wiki/Normal_distribution). Optional `seed` can be used as a seed for pseudo-random number generator. See also `rand`."},{label:"range_avg",insertText:"range_avg",detail:"range_avg(q)",documentation:"calculates the avg value across points per each time series returned by `q`."},{label:"range_first",insertText:"range_first",detail:"range_first(q)",documentation:"returns the value for the first point per each time series returned by `q`."},{label:"range_last",insertText:"range_last",detail:"range_last(q)",documentation:"returns the value for the last point per each time series returned by `q`."},{label:"range_max",insertText:"range_max",detail:"range_max(q)",documentation:"calculates the max value across points per each time series returned by `q`."},{label:"range_median",insertText:"range_median",detail:"range_median(q)",documentation:"calculates the median value across points per each time series returned by `q`."},{label:"range_min",insertText:"range_min",detail:"range_min(q)",documentation:"calculates the min value across points per each time series returned by `q`."},{label:"range_quantile",insertText:"range_quantile",detail:"range_quantile(phi, q)",documentation:"returns `phi`-quantile across points per each time series returned by `q`. `phi` must be in the range `[0...1]`."},{label:"range_sum",insertText:"range_sum",detail:"range_sum(q)",documentation:"calculates the sum of points per each time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"remove_resets",insertText:"remove_resets",detail:"remove_resets(q)",documentation:"removes counter resets from time series returned by `q`."},{label:"round",insertText:"round",detail:"round(q, nearest)",documentation:"round every point of every time series returned by `q` to the `nearest` multiple. If `nearest` is missing then the rounding is performed to the nearest integer. See also `floor`."},{label:"ru",insertText:"ru",detail:"ru(free, max)",documentation:"calculates resource utilization in the range `[0%...100%]` for the given `free` and `max` resources. For instance, `ru(node_memory_MemFree_bytes, node_memory_MemTotal_bytes)` returns memory utilization over [node_exporter](https://github.com/prometheus/node_exporter) metrics."},{label:"running_avg",insertText:"running_avg",detail:"running_avg(q)",documentation:"calculates the running avg per each time series returned by `q`."},{label:"running_max",insertText:"running_max",detail:"running_max(q)",documentation:"calculates the running max per each time series returned by `q`."},{label:"running_min",insertText:"running_min",detail:"running_min(q)",documentation:"calculates the running min per each time series returned by `q`."},{label:"running_sum",insertText:"running_sum",detail:"running_sum(q)",documentation:"calculates the running sum per each time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"scalar",insertText:"scalar",detail:"scalar(q)",documentation:"returns `q` if `q` contains only a single time series. Otherwise it returns nothing."},{label:"sgn",insertText:"sgn",detail:"sgn(q)",documentation:"returns `1` if `v>0`, `-1` if `v<0` and `0` if `v==0` for every point `v` of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"sin",insertText:"sin",detail:"sin(q)",documentation:"returns `sin(v)` for every `v` point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"sinh",insertText:"sinh",detail:"sinh(q)",documentation:"returns [hyperbolic sine](https://en.wikipedia.org/wiki/Hyperbolic_functions) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"tan",insertText:"tan",detail:"tan(q)",documentation:"returns `tan(v)` for every `v` point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"tanh",insertText:"tanh",detail:"tanh(q)",documentation:"returns [hyperbolic tangent](https://en.wikipedia.org/wiki/Hyperbolic_functions) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"smooth_exponential",insertText:"smooth_exponential",detail:"smooth_exponential(q, sf)",documentation:"smooths points per each time series returned by `q` using [exponential moving average](https://en.wikipedia.org/wiki/Moving_average#Exponential_moving_average) with the given smooth factor `sf`."},{label:"sort",insertText:"sort",detail:"sort(q)",documentation:"sorts series in ascending order by the last point in every time series returned by `q`. See also `sort_desc`."},{label:"sort_by_label",insertText:"sort_by_label",detail:"sort_by_label(q, label1, ... labelN)",documentation:'sorts series in ascending order by the given set of labels. For example, `sort_by_label(foo, "bar")` would sort `foo` series by values of the label `bar` in these series. See also `sort_by_label_desc`.'},{label:"sort_by_label_desc",insertText:"sort_by_label_desc",detail:"sort_by_label_desc(q, label1, ... labelN)",documentation:'sorts series in descending order by the given set of labels. For example, `sort_by_label(foo, "bar")` would sort `foo` series by values of the label `bar` in these series. See also `sort_by_label`.'},{label:"sort_by_label_numeric",insertText:"sort_by_label_numeric",detail:"sort_by_label_numeric(q, label1, ... labelN)",documentation:'sorts series in ascending order by the given set of labels using [numeric sort](https://www.gnu.org/software/coreutils/manual/html_node/Version-sort-is-not-the-same-as-numeric-sort.html). For example, if `foo` series have `bar` label with values `1`, `101`, `15` and `2`, then `sort_by_label_numeric(foo, "bar")` would return series in the following order of `bar` label values: `1`, `2`, `15` and `101`.'},{label:"sort_by_label_numeric_desc",insertText:"sort_by_label_numeric_desc",detail:"sort_by_label_numeric_desc(q, label1, ... labelN)",documentation:'sorts series in descending order by the given set of labels using [numeric sort](https://www.gnu.org/software/coreutils/manual/html_node/Version-sort-is-not-the-same-as-numeric-sort.html). For example, if `foo` series have `bar` label with values `1`, `101`, `15` and `2`, then `sort_by_label_numeric(foo, "bar")` would return series in the following order of `bar` label values: `101`, `15`, `2` and `1`.'},{label:"sort_desc",insertText:"sort_desc",detail:"sort_desc(q)",documentation:"sorts series in descending order by the last point in every time series returned by `q`. See also `sort`."},{label:"sqrt",insertText:"sqrt",detail:"sqrt(q)",documentation:"calculates square root for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"start",insertText:"start",detail:"start()",documentation:"returns unix timestamp in seconds for the first point. See also `end`."},{label:"step",insertText:"step",detail:"step()",documentation:"returns the step in seconds (aka interval) between the returned points. It is known as `step` query arg passed to [/api/v1/query_range](https://docs.victoriametrics.com/keyConcepts.html#range-query)."},{label:"time",insertText:"time",detail:"time()",documentation:"returns unix timestamp for every returned point."},{label:"timezone_offset",insertText:"timezone_offset",detail:"timezone_offset(tz)",documentation:'returns offset in seconds for the given timezone `tz` relative to UTC. This can be useful when combining with datetime-related functions. For example, `day_of_week(time()+timezone_offset("America/Los_Angeles"))` would return weekdays for `America/Los_Angeles` time zone. Special `Local` time zone can be used for returning an offset for the time zone set on the host where VictoriaMetrics runs. See [the list of supported timezones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones).'},{label:"ttf",insertText:"ttf",detail:"ttf(free)",documentation:"estimates the time in seconds needed to exhaust `free` resources. For instance, `ttf(node_filesystem_avail_byte)` returns the time to storage space exhaustion. This function may be useful for capacity planning."},{label:"union",insertText:"union",detail:"union(q1, ..., qN)",documentation:"returns a union of time series returned from `q1`, ..., `qN`. The `union` function name can be skipped - the following queries are equivalent: `union(q1, q2)` and `(q1, q2)`. It is expected that each `q*` query returns time series with unique sets of labels. Otherwise only the first time series out of series with identical set of labels is returned. Use `alias` functions for giving unique labelsets per each `q*` query:"},{label:"vector",insertText:"vector",detail:"vector(q)",documentation:"returns `q`, e.g. it does nothing in MetricsQL."},{label:"year",insertText:"year",detail:"year(q)",documentation:"returns the year for every point of every time series returned by `q`. It is expected that `q` returns unix timestamps. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"alias",insertText:"alias",detail:'alias(q, "name")',documentation:'sets the given `name` to all the time series returned by `q`. For example, `alias(up, "foobar")` would rename `up` series to `foobar` series.'},{label:"drop_common_labels",insertText:"drop_common_labels",detail:"drop_common_labels(q1, ...., qN)",documentation:'drops common `label="value"` pairs among time series returned from `q1, ..., qN`.'},{label:"label_copy",insertText:"label_copy",detail:'label_copy(q, "src_label1", "dst_label1", ..., "src_labelN", "dst_labelN")',documentation:"copies label values from `src_label*` to `dst_label*` for all the time series returned by `q`. If `src_label` is empty, then the corresponding `dst_label` is left untouched."},{label:"label_del",insertText:"label_del",detail:'label_del(q, "label1", ..., "labelN")',documentation:"deletes the given `label*` labels from all the time series returned by `q`."},{label:"label_graphite_group",insertText:"label_graphite_group",detail:"label_graphite_group(q, groupNum1, ... groupNumN)",documentation:'replaces metric names returned from `q` with the given Graphite group values concatenated via `.` char. For example, `label_graphite_group({__graphite__="foo*.bar.*"}, 0, 2)` would substitute `foo<any_value>.bar.<other_value>` metric names with `foo<any_value>.<other_value>`. This function is useful for aggregating Graphite metrics with `aggregate functions`. For example, the following query would return per-app memory usage:'},{label:"label_join",insertText:"label_join",detail:'label_join(q, "dst_label", "separator", "src_label1", ..., "src_labelN")',documentation:'joins `src_label*` values with the given `separator` and stores the result in `dst_label`. This is performed individually per each time series returned by `q`. For example, `label_join(up{instance="xxx",job="yyy"}, "foo", "-", "instance", "job")` would store `xxx-yyy` label value into `foo` label.'},{label:"label_keep",insertText:"label_keep",detail:'label_keep(q, "label1", ..., "labelN")',documentation:"deletes all the labels except of the listed `label*` labels in all the time series returned by `q`."},{label:"label_lowercase",insertText:"label_lowercase",detail:'label_lowercase(q, "label1", ..., "labelN")',documentation:"lowercases values for the given `label*` labels in all the time series returned by `q`."},{label:"label_map",insertText:"label_map",detail:'label_map(q, "label", "src_value1", "dst_value1", ..., "src_valueN", "dst_valueN")',documentation:"maps `label` values from `src_*` to `dst*` for all the time series returned by `q`."},{label:"label_match",insertText:"label_match",detail:'label_match(q, "label", "regexp")',documentation:"drops time series from `q` with `label` not matching the given `regexp`. This function can be useful after `rollup`."},{label:"label_mismatch",insertText:"label_mismatch",detail:'label_mismatch(q, "label", "regexp")',documentation:"drops time series from `q` with `label` matching the given `regexp`. This function can be useful after `rollup`."},{label:"label_move",insertText:"label_move",detail:'label_move(q, "src_label1", "dst_label1", ..., "src_labelN", "dst_labelN")',documentation:"moves label values from `src_label*` to `dst_label*` for all the time series returned by `q`. If `src_label` is empty, then the corresponding `dst_label` is left untouched."},{label:"label_replace",insertText:"label_replace",detail:'label_replace(q, "dst_label", "replacement", "src_label", "regex")',documentation:'applies the given `regex` to `src_label` and stores the `replacement` in `dst_label` if the given `regex` matches `src_label`. The `replacement` may contain references to regex captures such as `$1`, `$2`, etc. These references are substituted by the corresponding regex captures. For example, `label_replace(up{job="node-exporter"}, "foo", "bar-$1", "job", "node-(.+)")` would store `bar-exporter` label value into `foo` label.'},{label:"label_set",insertText:"label_set",detail:'label_set(q, "label1", "value1", ..., "labelN", "valueN")',documentation:'sets `{label1="value1", ..., labelN="valueN"}` labels to all the time series returned by `q`.'},{label:"label_transform",insertText:"label_transform",detail:'label_transform(q, "label", "regexp", "replacement")',documentation:"substitutes all the `regexp` occurrences by the given `replacement` in the given `label`."},{label:"label_uppercase",insertText:"label_uppercase",detail:'label_uppercase(q, "label1", ..., "labelN")',documentation:"uppercases values for the given `label*` labels in all the time series returned by `q`."},{label:"label_value",insertText:"label_value",detail:'label_value(q, "label")',documentation:'returns number values for the given `label` for every time series returned by `q`. For example, if `label_value(foo, "bar")` is applied to `foo{bar="1.234"}`, then it will return a time series `foo{bar="1.234"}` with `1.234` value.'},{label:"any",insertText:"any",detail:"any(q) by (group_labels)",documentation:"returns a single series per `group_labels` out of time series returned by `q`. See also `group`."},{label:"avg",insertText:"avg",detail:"avg(q) by (group_labels)",documentation:"returns the average value per `group_labels` for time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"bottomk",insertText:"bottomk",detail:"bottomk(k, q)",documentation:"returns up to `k` points with the smallest values across all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp. See also `topk`."},{label:"bottomk_avg",insertText:"bottomk_avg",detail:'bottomk_avg(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q` with the smallest averages. If an optional `other_label=other_value` arg is set, then the sum of the remaining time series is returned with the given label. For example, `bottomk_avg(3, sum(process_resident_memory_bytes) by (job), "job=other")` would return up to 3 time series with the smallest averages plus a time series with `{job="other"}` label with the sum of the remaining series if any. See also `topk_avg`.'},{label:"bottomk_last",insertText:"bottomk_last",detail:'bottomk_last(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q` with the smallest last values. If an optional `other_label=other_value` arg is set, then the sum of the remaining time series is returned with the given label. For example, `bottomk_max(3, sum(process_resident_memory_bytes) by (job), "job=other")` would return up to 3 time series with the smallest maximums plus a time series with `{job="other"}` label with the sum of the remaining series if any. See also `topk_last`.'},{label:"bottomk_max",insertText:"bottomk_max",detail:'bottomk_max(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q` with the smallest maximums. If an optional `other_label=other_value` arg is set, then the sum of the remaining time series is returned with the given label. For example, `bottomk_max(3, sum(process_resident_memory_bytes) by (job), "job=other")` would return up to 3 time series with the smallest maximums plus a time series with `{job="other"}` label with the sum of the remaining series if any. See also `topk_max`.'},{label:"bottomk_median",insertText:"bottomk_median",detail:'bottomk_median(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q with the smallest medians. If an optional`other_label=other_value`arg is set, then the sum of the remaining time series is returned with the given label. For example,`bottomk_median(3, sum(process_resident_memory_bytes) by (job), "job=other")`would return up to 3 time series with the smallest medians plus a time series with`{job="other"}\\` label with the sum of the remaining series if any. See also `topk_median`.'},{label:"bottomk_min",insertText:"bottomk_min",detail:'bottomk_min(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q` with the smallest minimums. If an optional `other_label=other_value` arg is set, then the sum of the remaining time series is returned with the given label. For example, `bottomk_min(3, sum(process_resident_memory_bytes) by (job), "job=other")` would return up to 3 time series with the smallest minimums plus a time series with `{job="other"}` label with the sum of the remaining series if any. See also `topk_min`.'},{label:"count",insertText:"count",detail:"count(q) by (group_labels)",documentation:"returns the number of non-empty points per `group_labels` for time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"count_values",insertText:"count_values",detail:'count_values("label", q)',documentation:"counts the number of points with the same value and stores the counts in a time series with an additional `label`, which contains each initial value. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"distinct",insertText:"distinct",detail:"distinct(q)",documentation:"calculates the number of unique values per each group of points with the same timestamp."},{label:"geomean",insertText:"geomean",detail:"geomean(q)",documentation:"calculates geometric mean per each group of points with the same timestamp."},{label:"group",insertText:"group",detail:"group(q) by (group_labels)",documentation:"returns `1` per each `group_labels` for time series returned by `q`. See also `any`."},{label:"histogram",insertText:"histogram",detail:"histogram(q)",documentation:"calculates [VictoriaMetrics histogram](https://valyala.medium.com/improving-histogram-usability-for-prometheus-and-grafana-bc7e5df0e350) per each group of points with the same timestamp. Useful for visualizing big number of time series via a heatmap. See [this article](https://medium.com/@valyala/improving-histogram-usability-for-prometheus-and-grafana-bc7e5df0e350) for more details."},{label:"limitk",insertText:"limitk",detail:"limitk(k, q) by (group_labels)",documentation:"returns up to `k` time series per each `group_labels` out of time series returned by `q`. The returned set of time series remain the same across calls. See also `limit_offset`."},{label:"mad",insertText:"mad",detail:"mad(q) by (group_labels)",documentation:"returns the [Median absolute deviation](https://en.wikipedia.org/wiki/Median_absolute_deviation) per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp. See also `outliers_mad`."},{label:"max",insertText:"max",detail:"max(q) by (group_labels)",documentation:"returns the maximum value per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"median",insertText:"median",detail:"median(q) by (group_labels)",documentation:"returns the median value per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"min",insertText:"min",detail:"min(q) by (group_labels)",documentation:"returns the minimum value per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"mode",insertText:"mode",detail:"mode(q) by (group_labels)",documentation:"returns [mode](https://en.wikipedia.org/wiki/Mode_(statistics)) per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"outliers_mad",insertText:"outliers_mad",detail:"outliers_mad(tolerance, q)",documentation:"returns time series from `q` with at least a single point outside [Median absolute deviation](https://en.wikipedia.org/wiki/Median_absolute_deviation) (aka MAD) multiplied by `tolerance`. E.g. it returns time series with at least a single point below `median(q) - mad(q)` or a single point above `median(q) + mad(q)`. See also `outliersk`."},{label:"outliersk",insertText:"outliersk",detail:"outliersk(k, q)",documentation:"returns up to `k` time series with the biggest standard deviation (aka outliers) out of time series returned by `q`. See also `outliers_mad`."},{label:"quantile",insertText:"quantile",detail:"quantile(phi, q) by (group_labels)",documentation:"calculates `phi`-quantile per each `group_labels` for all the time series returned by `q`. `phi` must be in the range `[0...1]`. The aggregate is calculated individually per each group of points with the same timestamp. See also `quantiles`."},{label:"quantiles",insertText:"quantiles",detail:'quantiles("phiLabel", phi1, ..., phiN, q)',documentation:'calculates `phi*`-quantiles for all the time series returned by `q` and return them in time series with `{phiLabel="phi*"}` label. `phi*` must be in the range `[0...1]`. The aggregate is calculated individually per each group of points with the same timestamp. See also `quantile`.'},{label:"stddev",insertText:"stddev",detail:"stddev(q) by (group_labels)",documentation:"calculates standard deviation per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"stdvar",insertText:"stdvar",detail:"stdvar(q) by (group_labels)",documentation:"calculates standard variance per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"sum",insertText:"sum",detail:"sum(q) by (group_labels)",documentation:"returns the sum per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"sum2",insertText:"sum2",detail:"sum2(q) by (group_labels)",documentation:"calculates the sum of squares per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"topk",insertText:"topk",detail:"topk(k, q)",documentation:"returns up to `k` points with the biggest values across all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp. See also `bottomk`."},{label:"topk_avg",insertText:"topk_avg",detail:'topk_avg(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q` with the biggest averages. If an optional `other_label=other_value` arg is set, then the sum of the remaining time series is returned with the given label. For example, `topk_avg(3, sum(process_resident_memory_bytes) by (job), "job=other")` would return up to 3 time series with the biggest averages plus a time series with `{job="other"}` label with the sum of the remaining series if any. See also `bottomk_avg`.'},{label:"topk_last",insertText:"topk_last",detail:'topk_last(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q` with the biggest last values. If an optional `other_label=other_value` arg is set, then the sum of the remaining time series is returned with the given label. For example, `topk_max(3, sum(process_resident_memory_bytes) by (job), "job=other")` would return up to 3 time series with the biggest maximums plus a time series with `{job="other"}` label with the sum of the remaining series if any. See also `bottomk_last`.'},{label:"topk_max",insertText:"topk_max",detail:'topk_max(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q` with the biggest maximums. If an optional `other_label=other_value` arg is set, then the sum of the remaining time series is returned with the given label. For example, `topk_max(3, sum(process_resident_memory_bytes) by (job), "job=other")` would return up to 3 time series with the biggest maximums plus a time series with `{job="other"}` label with the sum of the remaining series if any. See also `bottomk_max`.'},{label:"topk_median",insertText:"topk_median",detail:'topk_median(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q` with the biggest medians. If an optional `other_label=other_value` arg is set, then the sum of the remaining time series is returned with the given label. For example, `topk_median(3, sum(process_resident_memory_bytes) by (job), "job=other")` would return up to 3 time series with the biggest medians plus a time series with `{job="other"}` label with the sum of the remaining series if any. See also `bottomk_median`.'},{label:"topk_min",insertText:"topk_min",detail:'topk_min(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q` with the biggest minimums. If an optional `other_label=other_value` arg is set, then the sum of the remaining time series is returned with the given label. For example, `topk_min(3, sum(process_resident_memory_bytes) by (job), "job=other")` would return up to 3 time series with the biggest minimums plus a time series with `{job="other"}` label with the sum of the remaining series if any. See also `bottomk_min`.'},{label:"zscore",insertText:"zscore",detail:"zscore(q) by (group_labels)",documentation:"returns [z-score](https://en.wikipedia.org/wiki/Standard_score) values per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp. Useful for detecting anomalies in the group of related time series."},{insertText:"count_scalar",label:"count_scalar",detail:"count_scalar(v instant-vector)",documentation:"Returns the number of elements in a time series vector as a scalar. This is in contrast to the `count()` aggregation operator, which always returns a vector (an empty one if the input vector is empty) and allows grouping by labels via a `by` clause."}],nu=(ru.map((e=>e.label)),{comment:{pattern:/#.*/},"context-aggregation":{pattern:/((by|without)\s*)\([^)]*\)/,lookbehind:!0,inside:{"label-key":{pattern:/[^(),\s][^,)]*[^),\s]*/,alias:"attr-name"},punctuation:/[()]/}},"context-labels":{pattern:/\{[^}]*(?=}?)/,greedy:!0,inside:{comment:{pattern:/#.*/},"label-key":{pattern:/[a-z_]\w*(?=\s*(=|!=|=~|!~))/,alias:"attr-name",greedy:!0},"label-value":{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0,alias:"attr-value"},punctuation:/[{]/}},function:new RegExp(`\\b(?:${ru.map((e=>e.label)).join("|")})(?=\\s*\\()`,"i"),"context-range":[{pattern:/\[[^\]]*(?=])/,inside:{"range-duration":{pattern:/\b\d+[smhdwy]\b/i,alias:"number"}}},{pattern:/(offset\s+)\w+/,lookbehind:!0,inside:{"range-duration":{pattern:/\b\d+[smhdwy]\b/i,alias:"number"}}}],idList:{pattern:/\d+(\|\d+)+/,alias:"number"},number:/\b-?\d+((\.\d*)?([eE][+-]?\d+)?)?\b/,operator:new RegExp(`/[-+*/=%^~]|&&?|\\|?\\||!=?|<(?:=>?|<|>)?|>[>=]?|\\b(?:${["by","group_left","group_right","ignoring","on","offset","without"].join("|")})\\b`,"i"),punctuation:/[{};()`,.]/}),ou=nu;var iu,au,su=v(55980),lu=v(26407),cu=v.n(lu);function uu(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function du(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){uu(i,n,o,a,s,"next",e)}function s(e){uu(i,n,o,a,s,"throw",e)}a(void 0)}))}}function pu({onChange:e,index:o,operationIndex:i,value:a,query:s,datasource:l}){const[c,u]=(0,r.useState)({});return n().createElement($c,{inputId:Su(i,o),autoFocus:""===a||void 0,openMenuOnFocus:!0,onOpenMenu:du((function*(){u({isLoading:!0});const e=yield function(e,t){return fu.apply(this,arguments)}(s,l);u({options:e,isLoading:void 0})})),isLoading:c.isLoading,allowCustomValue:!0,noOptionsMessage:"No labels found",loadingMessage:"Loading labels",options:c.options,value:(0,t.toOption)(a),onChange:t=>e(o,t.value)})}function fu(){return fu=du((function*(e,t){let r=e.labels;"prometheus"===t.type&&(r=[{label:"__name__",op:"=",value:e.metric},...e.labels]);const n=Yu.renderLabels(r),o=yield t.languageProvider.fetchSeriesLabels(n);return Object.keys(o).map((e=>({label:e,value:e})))})),fu.apply(this,arguments)}function hu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){hu(e,t,r[t])}))}return e}function gu(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function vu(e,t,r){const n=xu(e,t),o=e.id+"(";return r&&n.push(r),o+n.join(", ")+")"}function bu(e,t,r){const n=xu(e,t),o=e.id+"(";return r&&n.unshift(r),o+n.join(", ")+")"}function yu(e,t,r,n){if(t.params.length<2)throw`Cannot render a function with params of length [${t.params.length}]`;var o,i;let a=null!==(i=(null!==(o=e.params)&&void 0!==o?o:[])[0])&&void 0!==i?i:"5m";const s=xu(gu(mu({},e),{params:e.params.slice(1)}),gu(mu({},t),{params:t.params.slice(1),defaultParams:t.defaultParams.slice(1)})),l=e.id+"(";return r&&(n?s.push(`${r}[${a}]`):s.unshift(`${r}[${a}]`)),l+s.join(", ")+")"}function wu(e,t,r){return yu(e,t,r,!1)}function Ou(e,t,r){return yu(e,t,r,!0)}function xu(e,t,r){var n;return(null!==(n=e.params)&&void 0!==n?n:[]).map(((e,r)=>"string"===t.params[r].type?'"'+e+'"':e))}function _u(e,t){const r={id:e.id,params:e.defaultParams};return gu(mu({},t),{operations:[...t.operations,r]})}function Eu(e){return(0,su.capitalize)(e.replace(/_/g," "))}function Su(e,t){return`operations.${e}.param.${t}`}function ku(e=!1){const t={name:"Range",type:"string",options:[{label:"$__interval",value:"$__interval"},{label:"1m",value:"1m"},{label:"5m",value:"5m"},{label:"10m",value:"10m"},{label:"1h",value:"1h"},{label:"24h",value:"24h"}]};return e&&t.options.unshift({label:"$__rate_interval",value:"$__rate_interval"}),t}function Pu(e,t={}){var r,n;return[mu({id:e,name:Eu(e),params:[{name:"By label",type:"string",restParam:!0,optional:!0}],defaultParams:[],alternativesKey:"plain aggregations",category:iu.Aggregations,renderer:vu,paramChangedHandler:(n=`__${e}_by`,function(e,t,r){return t.params.length===r.params.length?gu(mu({},t),{id:n}):t}),explainHandler:Du(e,""),addOperationHandler:_u},t),mu({id:`__${e}_by`,name:`${Eu(e)} by`,params:[{name:"Label",type:"string",restParam:!0,optional:!0,editor:pu}],defaultParams:[""],alternativesKey:"aggregations by",category:iu.Aggregations,renderer:(r=e,function(e,t,n){return`${r} by(${e.params.join(", ")}) (${n})`}),paramChangedHandler:Au(e),explainHandler:Du(e,"by"),addOperationHandler:_u,hideFromList:!0},t),mu({id:`__${e}_without`,name:`${Eu(e)} without`,params:[{name:"Label",type:"string",restParam:!0,optional:!0,editor:pu}],defaultParams:[""],alternativesKey:"aggregations by",category:iu.Aggregations,renderer:Tu(e),paramChangedHandler:Au(e),explainHandler:Du(e,"without"),addOperationHandler:_u,hideFromList:!0},t)]}function Cu(e,t,r={}){const n=Pu(e,r);return n[0].params.unshift(...t.params),n[1].params.unshift(...t.params),n[2].params.unshift(...t.params),n[0].defaultParams=t.defaultParams,n[1].defaultParams=[...t.defaultParams,""],n[2].defaultParams=[...t.defaultParams,""],n[1].renderer=Iu(e),n[2].renderer=Iu(e),n}function Tu(e){return function(t,r,n){return`${e} without(${t.params.join(", ")}) (${n})`}}function Du(e,t){return function(r){const n=r.params.map((e=>`\`${e}\``)).join(" and "),o=cu()("label",r.params.length);switch(t){case"by":return`Calculates ${e} over dimensions while preserving ${o} ${n}.`;case"without":return`Calculates ${e} over the dimensions ${n}. All other labels are preserved.`;default:return`Calculates ${e} over the dimensions.`}}}function Iu(e){return function(t,r,n){const o=r.params.findIndex((e=>e.restParam)),i=t.params.slice(0,o),a=t.params.slice(o);return`${e} by(${a.join(", ")}) (${i.map(((e,t)=>"string"===r.params[t].type?`"${e}"`:e)).join(", ")}, ${n})`}}function Au(e){return function(t,r,n){return r.params.length<n.params.length?gu(mu({},r),{id:e}):r}}!function(e){e.Aggregations="Aggregations",e.RangeFunctions="Range functions",e.Functions="Functions",e.BinaryOps="Binary operations",e.Trigonometric="Trigonometric",e.Time="Time Functions"}(iu||(iu={})),function(e){e.Abs="abs",e.Absent="absent",e.AbsentOverTime="absent_over_time",e.Acos="acos",e.Acosh="acosh",e.Asin="asin",e.Asinh="asinh",e.Atan="atan",e.Atanh="atanh",e.Avg="avg",e.AvgOverTime="avg_over_time",e.BottomK="bottomk",e.Ceil="ceil",e.Changes="changes",e.Clamp="clamp",e.ClampMax="clamp_max",e.ClampMin="clamp_min",e.Cos="cos",e.Cosh="cosh",e.Count="count",e.CountOverTime="count_over_time",e.CountScalar="count_scalar",e.CountValues="count_values",e.DayOfMonth="day_of_month",e.DayOfWeek="day_of_week",e.DaysInMonth="days_in_month",e.Deg="deg",e.Delta="delta",e.Deriv="deriv",e.DropCommonLabels="drop_common_labels",e.Exp="exp",e.Floor="floor",e.Group="group",e.HistogramQuantile="histogram_quantile",e.HoltWinters="holt_winters",e.Hour="hour",e.Idelta="idelta",e.Increase="increase",e.Irate="irate",e.LabelJoin="label_join",e.LabelReplace="label_replace",e.Last="last",e.LastOverTime="last_over_time",e.Ln="ln",e.Log10="log10",e.Log2="log2",e.Max="max",e.MaxOverTime="max_over_time",e.Min="min",e.MinOverTime="min_over_time",e.Minute="minute",e.Month="month",e.Pi="pi",e.PredictLinear="predict_linear",e.Present="present",e.PresentOverTime="present_over_time",e.Quantile="quantile",e.QuantileOverTime="quantile_over_time",e.Rad="rad",e.Rate="rate",e.Resets="resets",e.Round="round",e.Scalar="scalar",e.Sgn="sgn",e.Sin="sin",e.Sinh="sinh",e.Sort="sort",e.SortDesc="sort_desc",e.Sqrt="sqrt",e.Stddev="stddev",e.StddevOverTime="stddev_over_time",e.Sum="sum",e.SumOverTime="sum_over_time",e.Tan="tan",e.Tanh="tanh",e.Time="time",e.Timestamp="timestamp",e.TopK="topk",e.Vector="vector",e.Year="year",e.Addition="__addition",e.Subtraction="__subtraction",e.MultiplyBy="__multiply_by",e.DivideBy="__divide_by",e.Modulo="__modulo",e.Exponent="__exponent",e.NestedQuery="__nested_query",e.EqualTo="__equal_to",e.NotEqualTo="__not_equal_to",e.GreaterThan="__greater_than",e.LessThan="__less_than",e.GreaterOrEqual="__greater_or_equal",e.LessOrEqual="__less_or_equal"}(au||(au={}));const ju=[{id:au.Addition,name:"Add scalar",sign:"+"},{id:au.Subtraction,name:"Subtract scalar",sign:"-"},{id:au.MultiplyBy,name:"Multiply by scalar",sign:"*"},{id:au.DivideBy,name:"Divide by scalar",sign:"/"},{id:au.Modulo,name:"Modulo by scalar",sign:"%"},{id:au.Exponent,name:"Exponent",sign:"^"},{id:au.EqualTo,name:"Equal to",sign:"==",comparison:!0},{id:au.NotEqualTo,name:"Not equal to",sign:"!=",comparison:!0},{id:au.GreaterThan,name:"Greater than",sign:">",comparison:!0},{id:au.LessThan,name:"Less than",sign:"<",comparison:!0},{id:au.GreaterOrEqual,name:"Greater or equal to",sign:">=",comparison:!0},{id:au.LessOrEqual,name:"Less or equal to",sign:"<=",comparison:!0}],Mu=ju.reduce(((e,t)=>(e[t.sign]={id:t.id,comparison:t.comparison},e)),{}),Nu=ju.map((e=>{const t=[{name:"Value",type:"number"}],r=[2];return e.comparison&&(t.push({name:"Bool",type:"boolean",description:"If checked comparison will return 0 or 1 for the value rather than filtering."}),r.push(!1)),{id:e.id,name:e.name,params:t,defaultParams:r,alternativesKey:"binary scalar operations",category:iu.BinaryOps,renderer:Ru(e.sign),addOperationHandler:_u}}));function Ru(e){return function(t,r,n){let o=t.params[0],i="";return 2===t.params.length&&(i=t.params[1]?" bool":""),`${n} ${e}${i} ${o}`}}function Lu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Lu(e,t,r[t])}))}return e}function Vu(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function zu(e){var t,r,n,o,i,a;return Vu($u({},e),{id:e.id,name:null!==(t=e.name)&&void 0!==t?t:Eu(e.id),params:null!==(r=e.params)&&void 0!==r?r:[],defaultParams:null!==(n=e.defaultParams)&&void 0!==n?n:[],category:null!==(o=e.category)&&void 0!==o?o:iu.Functions,renderer:null!==(i=e.renderer)&&void 0!==i?i:e.params?bu:vu,addOperationHandler:null!==(a=e.addOperationHandler)&&void 0!==a?a:_u})}function Fu(e,t=!1){return{id:e,name:Eu(e),params:[ku(t)],defaultParams:[t?"$__rate_interval":"$__interval"],alternativesKey:"range function",category:iu.RangeFunctions,renderer:Bu,addOperationHandler:Hu,changeTypeHandler:qu}}function qu(e,t){return("$__rate_interval"===e.params[0]&&"$__rate_interval"!==t.defaultParams[0]||"$__interval"===e.params[0]&&"$__interval"!==t.defaultParams[0])&&(e.params=t.defaultParams),e}function Bu(e,t,r){var n,o;let i=null!==(o=(null!==(n=e.params)&&void 0!==n?n:[])[0])&&void 0!==o?o:"5m";return`${t.id}(${r}[${i}])`}function Hu(e,t,r){const n={id:e.id,params:e.defaultParams};return t.operations.length>0&&r.getOperationDef(t.operations[0].id).addOperationHandler===Hu?Vu($u({},t),{operations:[n,...t.operations.slice(1)]}):Vu($u({},t),{operations:[n,...t.operations]})}function Wu(e,t){var r;return Vu($u({},t),{binaryQueries:[...null!==(r=t.binaryQueries)&&void 0!==r?r:[],{operator:"/",query:t}]})}function Uu(e,t,r){if("string"!=typeof e.params[1])throw"The separator must be a string";const n=`"${e.params[1]}"`;return`${e.id}(${r}, "${e.params[0]}", ${n}, "${e.params.slice(2).join(n)}")`}function Qu(e,t){const r={id:e.id,params:e.defaultParams};return Vu($u({},t),{operations:[...t.operations,r]})}function Gu(e){return{id:e,name:Eu(e),params:[ku()],defaultParams:["$__interval"],alternativesKey:"overtime function",category:iu.RangeFunctions,renderer:Xu,addOperationHandler:Hu}}function Xu(e,t,r){var n,o;let i=null!==(o=(null!==(n=e.params)&&void 0!==n?n:[])[0])&&void 0!==o?o:"$__interval";return`${t.id}(${r}[${i}])`}class Ku extends class{setOperationCategories(e){this.categories=e}getOperationsForCategory(e){return this.operationsRegistry.list().filter((t=>t.category===e&&!t.hideFromList))}getAlternativeOperations(e){return this.operationsRegistry.list().filter((t=>t.alternativesKey&&t.alternativesKey===e))}getCategories(){return this.categories}getOperationDef(e){return this.operationsRegistry.getIfExists(e)}renderOperations(e,t){for(const r of t){const t=this.operationsRegistry.getIfExists(r.id);if(!t)throw new Error(`Could not find operation ${r.id} in the registry`);e=t.renderer(r,t,e)}return e}renderBinaryQueries(e,t){if(t)for(const r of t)e=`${this.renderBinaryQuery(e,r)}`;return e}renderBinaryQuery(e,t){let r=e+` ${t.operator} `;return t.vectorMatches&&(r+=`${t.vectorMatchesType}(${t.vectorMatches}) `),r+this.renderQuery(t.query,!0)}renderLabels(e){if(0===e.length)return"";let t="{";for(const r of e)"{"!==t&&(t+=", "),t+=`${r.label}${r.op}"${r.value}"`;return t+"}"}renderQuery(e,t){var r,n,o;let i=`${null!==(o=e.metric)&&void 0!==o?o:""}${this.renderLabels(e.labels)}`;return i=this.renderOperations(i,e.operations),!t&&this.hasBinaryOp(e)&&Boolean(null===(r=e.binaryQueries)||void 0===r?void 0:r.length)&&(i=`(${i})`),i=this.renderBinaryQueries(i,e.binaryQueries),t&&(this.hasBinaryOp(e)||Boolean(null===(n=e.binaryQueries)||void 0===n?void 0:n.length))&&(i=`(${i})`),i}hasBinaryOp(e){return void 0!==e.operations.find((e=>{const t=this.getOperationDef(e.id);return(null==t?void 0:t.category)===iu.BinaryOps}))}constructor(e){this.categories=[],this.operationsRegistry=new t.Registry(e)}}{getQueryPatterns(){return[{name:"Rate then sum",operations:[{id:"rate",params:["$__rate_interval"]},{id:"sum",params:[]}]},{name:"Rate then sum by(label) then avg",operations:[{id:"rate",params:["$__rate_interval"]},{id:"__sum_by",params:[""]},{id:"avg",params:[]}]},{name:"Histogram quantile on rate",operations:[{id:"rate",params:["$__rate_interval"]},{id:"__sum_by",params:["le"]},{id:"histogram_quantile",params:[.95]}]},{name:"Histogram quantile on increase ",operations:[{id:"increase",params:["$__rate_interval"]},{id:"__max_by",params:["le"]},{id:"histogram_quantile",params:[.95]}]}]}constructor(){super((()=>{const e=[{id:au.HistogramQuantile,name:"Histogram quantile",params:[{name:"Quantile",type:"number",options:[.99,.95,.9,.75,.5,.25]}],defaultParams:[.9],category:iu.Functions,renderer:vu,addOperationHandler:_u},{id:au.LabelReplace,name:"Label replace",params:[{name:"Destination label",type:"string"},{name:"Replacement",type:"string"},{name:"Source label",type:"string"},{name:"Regex",type:"string"}],category:iu.Functions,defaultParams:["","$1","","(.*)"],renderer:bu,addOperationHandler:_u},{id:au.Ln,name:"Ln",params:[],defaultParams:[],category:iu.Functions,renderer:vu,addOperationHandler:_u},Fu(au.Changes),Fu(au.Rate,!0),Fu(au.Irate),Fu(au.Increase,!0),Fu(au.Idelta),Fu(au.Delta),zu({id:au.HoltWinters,params:[ku(),{name:"Smoothing Factor",type:"number"},{name:"Trend Factor",type:"number"}],defaultParams:["$__interval",.5,.5],alternativesKey:"range function",category:iu.RangeFunctions,renderer:wu,addOperationHandler:Hu,changeTypeHandler:qu}),zu({id:au.PredictLinear,params:[ku(),{name:"Seconds from now",type:"number"}],defaultParams:["$__interval",60],alternativesKey:"range function",category:iu.RangeFunctions,renderer:wu,addOperationHandler:Hu,changeTypeHandler:qu}),zu({id:au.QuantileOverTime,params:[ku(),{name:"Quantile",type:"number"}],defaultParams:["$__interval",.5],alternativesKey:"overtime function",category:iu.RangeFunctions,renderer:Ou,addOperationHandler:Hu,changeTypeHandler:qu}),...Nu,{id:au.NestedQuery,name:"Binary operation with query",params:[],defaultParams:[],category:iu.BinaryOps,renderer:(e,t,r)=>r,addOperationHandler:Wu},zu({id:au.Absent}),zu({id:au.Acos,category:iu.Trigonometric}),zu({id:au.Acosh,category:iu.Trigonometric}),zu({id:au.Asin,category:iu.Trigonometric}),zu({id:au.Asinh,category:iu.Trigonometric}),zu({id:au.Atan,category:iu.Trigonometric}),zu({id:au.Atanh,category:iu.Trigonometric}),zu({id:au.Ceil}),zu({id:au.Clamp,name:"Clamp",params:[{name:"Minimum Scalar",type:"number"},{name:"Maximum Scalar",type:"number"}],defaultParams:[1,1]}),zu({id:au.ClampMax,params:[{name:"Maximum Scalar",type:"number"}],defaultParams:[1]}),zu({id:au.ClampMin,params:[{name:"Minimum Scalar",type:"number"}],defaultParams:[1]}),zu({id:au.Cos,category:iu.Trigonometric}),zu({id:au.Cosh,category:iu.Trigonometric}),zu({id:au.DayOfMonth,category:iu.Time}),zu({id:au.DayOfWeek,category:iu.Time}),zu({id:au.DaysInMonth,category:iu.Time}),zu({id:au.Deg}),Fu(au.Deriv),zu({id:au.Exp}),zu({id:au.Floor}),zu({id:au.Group}),zu({id:au.Hour}),zu({id:au.LabelJoin,params:[{name:"Destination Label",type:"string",editor:pu},{name:"Separator",type:"string"},{name:"Source Label",type:"string",restParam:!0,optional:!0,editor:pu}],defaultParams:["",",",""],renderer:Uu,addOperationHandler:Qu}),zu({id:au.Log10}),zu({id:au.Log2}),zu({id:au.Minute}),zu({id:au.Month}),zu({id:au.Pi,renderer:e=>`${e.id}()`}),zu({id:au.Quantile,params:[{name:"Value",type:"number"}],defaultParams:[1],renderer:vu}),zu({id:au.Rad}),Fu(au.Resets),zu({id:au.Round,category:iu.Functions,params:[{name:"To Nearest",type:"number"}],defaultParams:[1]}),zu({id:au.Scalar}),zu({id:au.Sgn}),zu({id:au.Sin,category:iu.Trigonometric}),zu({id:au.Sinh,category:iu.Trigonometric}),zu({id:au.Sort}),zu({id:au.SortDesc}),zu({id:au.Sqrt}),zu({id:au.Stddev}),zu({id:au.Tan,category:iu.Trigonometric}),zu({id:au.Tanh,category:iu.Trigonometric}),zu({id:au.Time,renderer:e=>`${e.id}()`}),zu({id:au.Timestamp}),zu({id:au.Vector,params:[{name:"Value",type:"number"}],defaultParams:[1],renderer:e=>`${e.id}(${e.params[0]})`}),zu({id:au.Year}),...Pu(au.Sum),...Pu(au.Avg),...Pu(au.Min),...Pu(au.Max),...Pu(au.Count),...Cu(au.TopK,{params:[{name:"K-value",type:"number"}],defaultParams:[5]}),...Cu(au.BottomK,{params:[{name:"K-value",type:"number"}],defaultParams:[5]}),...Cu(au.CountValues,{params:[{name:"Identifier",type:"string"}],defaultParams:["count"]}),Gu(au.SumOverTime),Gu(au.AvgOverTime),Gu(au.MinOverTime),Gu(au.MaxOverTime),Gu(au.CountOverTime),Gu(au.LastOverTime),Gu(au.PresentOverTime),Gu(au.AbsentOverTime),Gu(au.StddevOverTime)];for(const t of e){const e=ru.find((e=>e.insertText===t.id));e&&(t.documentation=e.documentation)}return e})),this.setOperationCategories([iu.Aggregations,iu.RangeFunctions,iu.Functions,iu.BinaryOps,iu.Trigonometric,iu.Time])}}const Yu=new Ku,Ju=1024;let Zu=0;class ed{constructor(e,t){this.from=e,this.to=t}}class td{constructor(e={}){this.id=Zu++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=nd.match(e)),t=>{let r=e(t);return void 0===r?null:[this,r]}}}td.closedBy=new td({deserialize:e=>e.split(" ")}),td.openedBy=new td({deserialize:e=>e.split(" ")}),td.group=new td({deserialize:e=>e.split(" ")}),td.contextHash=new td({perNode:!0}),td.lookAhead=new td({perNode:!0}),td.mounted=new td({perNode:!0});const rd=Object.create(null);class nd{constructor(e,t,r,n=0){this.name=e,this.props=t,this.id=r,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):rd,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),n=new nd(e.name||"",t,e.id,r);if(e.props)for(let r of e.props)if(Array.isArray(r)||(r=r(n)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[r[0].id]=r[1]}return n}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(td.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let n of r.split(" "))t[n]=e[r];return e=>{for(let r=e.prop(td.group),n=-1;n<(r?r.length:0);n++){let o=t[n<0?e.name:r[n]];if(o)return o}}}}nd.none=new nd("",Object.create(null),0,8);class od{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let n=null;for(let t of e){let e=t(r);e&&(n||(n=Object.assign({},r.props)),n[e[0].id]=e[1])}t.push(n?new nd(r.name,n,r.id,r.flags):r)}return new od(t)}}const id=new WeakMap,ad=new WeakMap;var sd;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(sd||(sd={}));class ld{constructor(e,t,r,n,o){if(this.type=e,this.children=t,this.positions=r,this.length=n,this.props=null,o&&o.length){this.props=Object.create(null);for(let[e,t]of o)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=this.prop(td.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let r=e.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new yd(this.topNode,e)}cursorAt(e,t=0,r=0){let n=id.get(this)||this.topNode,o=new yd(n);return o.moveTo(e,t),id.set(this,o._tree),o}get topNode(){return new hd(this,0,0,null)}resolve(e,t=0){let r=fd(id.get(this)||this.topNode,e,t,!1);return id.set(this,r),r}resolveInner(e,t=0){let r=fd(ad.get(this)||this.topNode,e,t,!0);return ad.set(this,r),r}iterate(e){let{enter:t,leave:r,from:n=0,to:o=this.length}=e;for(let i=this.cursor((e.mode||0)|sd.IncludeAnonymous);;){let e=!1;if(i.from<=o&&i.to>=n&&(i.type.isAnonymous||!1!==t(i))){if(i.firstChild())continue;e=!0}for(;e&&r&&!i.type.isAnonymous&&r(i),!i.nextSibling();){if(!i.parent())return;e=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:_d(nd.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,r)=>new ld(this.type,e,t,r,this.propValues)),e.makeTree||((e,t,r)=>new ld(nd.none,e,t,r)))}static build(e){return function(e){var t;let{buffer:r,nodeSet:n,maxBufferLength:o=Ju,reused:i=[],minRepeatType:a=n.types.length}=e,s=Array.isArray(r)?new cd(r,r.length):r,l=n.types,c=0,u=0;function d(e,t,r,m,g){let{id:v,start:b,end:y,size:w}=s,O=u;for(;w<0;){if(s.next(),-1==w){let t=i[v];return r.push(t),void m.push(b-e)}if(-3==w)return void(c=v);if(-4==w)return void(u=v);throw new RangeError(`Unrecognized record size: ${w}`)}let x,_,E=l[v],S=b-e;if(y-b<=o&&(_=function(e,t){let r=s.fork(),n=0,i=0,l=0,c=r.end-o,u={size:0,start:0,skip:0};e:for(let o=r.pos-e;r.pos>o;){let e=r.size;if(r.id==t&&e>=0){u.size=n,u.start=i,u.skip=l,l+=4,n+=4,r.next();continue}let s=r.pos-e;if(e<0||s<o||r.start<c)break;let d=r.id>=a?4:0,p=r.start;for(r.next();r.pos>s;){if(r.size<0){if(-3!=r.size)break e;d+=4}else r.id>=a&&(d+=4);r.next()}i=p,n+=e,l+=d}return(t<0||n==e)&&(u.size=n,u.start=i,u.skip=l),u.size>4?u:void 0}(s.pos-t,g))){let t=new Uint16Array(_.size-_.skip),r=s.pos-_.size,o=t.length;for(;s.pos>r;)o=h(_.start,t,o);x=new ud(t,y-_.start,n),S=_.start-e}else{let e=s.pos-w;s.next();let t=[],r=[],n=v>=a?v:-1,i=0,l=y;for(;s.pos>e;)n>=0&&s.id==n&&s.size>=0?(s.end<=l-o&&(p(t,r,b,i,s.end,l,n,O),i=t.length,l=s.end),s.next()):d(b,e,t,r,n);if(n>=0&&i>0&&i<t.length&&p(t,r,b,i,b,l,n,O),t.reverse(),r.reverse(),n>-1&&i>0){let e=function(e){return(t,r,n)=>{let o,i,a=0,s=t.length-1;if(s>=0&&(o=t[s])instanceof ld){if(!s&&o.type==e&&o.length==n)return o;(i=o.prop(td.lookAhead))&&(a=r[s]+o.length+i)}return f(e,t,r,n,a)}}(E);x=_d(E,t,r,0,t.length,0,y-b,e,e)}else x=f(E,t,r,y-b,O-y)}r.push(x),m.push(S)}function p(e,t,r,o,i,a,s,l){let c=[],u=[];for(;e.length>o;)c.push(e.pop()),u.push(t.pop()+r-i);e.push(f(n.types[s],c,u,a-i,l-a)),t.push(i-r)}function f(e,t,r,n,o=0,i){if(c){let e=[td.contextHash,c];i=i?[e].concat(i):[e]}if(o>25){let e=[td.lookAhead,o];i=i?[e].concat(i):[e]}return new ld(e,t,r,n,i)}function h(e,t,r){let{id:n,start:o,end:i,size:l}=s;if(s.next(),l>=0&&n<a){let a=r;if(l>4){let n=s.pos-(l-4);for(;s.pos>n;)r=h(e,t,r)}t[--r]=a,t[--r]=i-e,t[--r]=o-e,t[--r]=n}else-3==l?c=n:-4==l&&(u=n);return r}let m=[],g=[];for(;s.pos>0;)d(e.start||0,e.bufferStart||0,m,g,-1);let v=null!==(t=e.length)&&void 0!==t?t:m.length?g[0]+m[0].length:0;return new ld(l[e.topID],m.reverse(),g.reverse(),v)}(e)}}ld.empty=new ld(nd.none,[],[],0);class cd{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new cd(this.buffer,this.index)}}class ud{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return nd.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],n=this.set.types[t],o=n.name;if(/\W/.test(o)&&!n.isError&&(o=JSON.stringify(o)),r==(e+=4))return o;let i=[];for(;e<r;)i.push(this.childString(e)),e=this.buffer[e+3];return o+"("+i.join(",")+")"}findChild(e,t,r,n,o){let{buffer:i}=this,a=-1;for(let s=e;s!=t&&!(dd(o,n,i[s+1],i[s+2])&&(a=s,r>0));s=i[s+3]);return a}slice(e,t,r,n){let o=this.buffer,i=new Uint16Array(t-e);for(let n=e,a=0;n<t;)i[a++]=o[n++],i[a++]=o[n++]-r,i[a++]=o[n++]-r,i[a++]=o[n++]-e;return new ud(i,n-r,this.set)}}function dd(e,t,r,n){switch(e){case-2:return r<t;case-1:return n>=t&&r<t;case 0:return r<t&&n>t;case 1:return r<=t&&n>t;case 2:return n>t;case 4:return!0}}function pd(e,t){let r=e.childBefore(t);for(;r;){let t=r.lastChild;if(!t||t.to!=r.to)break;t.type.isError&&t.from==t.to?(e=r,r=t.prevSibling):r=t}return e}function fd(e,t,r,n){for(var o;e.from==e.to||(r<1?e.from>=t:e.from>t)||(r>-1?e.to<=t:e.to<t);){let t=!n&&e instanceof hd&&e.index<0?null:e.parent;if(!t)return e;e=t}let i=n?0:sd.IgnoreOverlays;if(n)for(let n=e,a=n.parent;a;n=a,a=n.parent)n instanceof hd&&n.index<0&&(null===(o=a.enter(t,r,i))||void 0===o?void 0:o.from)!=n.from&&(e=a);for(;;){let n=e.enter(t,r,i);if(!n)return e;e=n}}class hd{constructor(e,t,r,n){this._tree=e,this.from=t,this.index=r,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,n,o=0){for(let i=this;;){for(let{children:a,positions:s}=i._tree,l=t>0?a.length:-1;e!=l;e+=t){let l=a[e],c=s[e]+i.from;if(dd(n,r,c,c+l.length))if(l instanceof ud){if(o&sd.ExcludeBuffers)continue;let a=l.findChild(0,l.buffer.length,t,r-c,n);if(a>-1)return new bd(new vd(i,l,e,c),null,a)}else if(o&sd.IncludeAnonymous||!l.type.isAnonymous||wd(l)){let a;if(!(o&sd.IgnoreMounts)&&l.props&&(a=l.prop(td.mounted))&&!a.overlay)return new hd(a.tree,c,e,i);let s=new hd(l,c,e,i);return o&sd.IncludeAnonymous||!s.type.isAnonymous?s:s.nextChild(t<0?l.children.length-1:0,t,r,n)}}if(o&sd.IncludeAnonymous||!i.type.isAnonymous)return null;if(e=i.index>=0?i.index+t:t<0?-1:i._parent._tree.children.length,i=i._parent,!i)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let n;if(!(r&sd.IgnoreOverlays)&&(n=this._tree.prop(td.mounted))&&n.overlay){let r=e-this.from;for(let{from:e,to:o}of n.overlay)if((t>0?e<=r:e<r)&&(t<0?o>=r:o>r))return new hd(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new yd(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return fd(this,e,t,!1)}resolveInner(e,t=0){return fd(this,e,t,!0)}enterUnfinishedNodesBefore(e){return pd(this,e)}getChild(e,t=null,r=null){let n=md(this,e,t,r);return n.length?n[0]:null}getChildren(e,t=null,r=null){return md(this,e,t,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return gd(this,e)}}function md(e,t,r,n){let o=e.cursor(),i=[];if(!o.firstChild())return i;if(null!=r)for(;!o.type.is(r);)if(!o.nextSibling())return i;for(;;){if(null!=n&&o.type.is(n))return i;if(o.type.is(t)&&i.push(o.node),!o.nextSibling())return null==n?i:[]}}function gd(e,t,r=t.length-1){for(let n=e.parent;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(t[r]&&t[r]!=n.name)return!1;r--}}return!0}class vd{constructor(e,t,r,n){this.parent=e,this.buffer=t,this.index=r,this.start=n}}class bd{constructor(e,t,r){this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t,r){let{buffer:n}=this.context,o=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,r);return o<0?null:new bd(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&sd.ExcludeBuffers)return null;let{buffer:n}=this.context,o=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new bd(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new bd(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new bd(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new yd(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,n=this.index+4,o=r.buffer[this.index+3];if(o>n){let i=r.buffer[this.index+1],a=r.buffer[this.index+2];e.push(r.slice(n,o,i,a)),t.push(0)}return new ld(this.type,e,t,this.to-this.from)}resolve(e,t=0){return fd(this,e,t,!1)}resolveInner(e,t=0){return fd(this,e,t,!0)}enterUnfinishedNodesBefore(e){return pd(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,r=null){let n=md(this,e,t,r);return n.length?n[0]:null}getChildren(e,t=null,r=null){return md(this,e,t,r)}get node(){return this}matchContext(e){return gd(this,e)}}class yd{constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof hd)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:r,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=r+n.buffer[e+1],this.to=r+n.buffer[e+2],!0}yield(e){return!!e&&(e instanceof hd?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:n}=this.buffer,o=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,r);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?!(r&sd.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&sd.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&sd.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let e=r<0?0:this.stack[r]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(e)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(n.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:r}=n)}else({index:t,_parent:r}=this._tree);for(;r;({index:t,_parent:r}=r))if(t>-1)for(let n=t+e,o=e<0?-1:r._tree.children.length;n!=o;n+=e){let e=r._tree.children[n];if(this.mode&sd.IncludeAnonymous||e instanceof ud||!e.type.isAnonymous||wd(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let n=this.index,o=this.stack.length;o>=0;){for(let i=e;i;i=i._parent)if(i.index==n){if(n==this.index)return i;t=i,r=o+1;break e}n=this.stack[--o]}for(let e=r;e<this.stack.length;e++)t=new bd(this.buffer,t,this.stack[e]);return this.bufferNode=new bd(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let n=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(n=!0)}for(;n&&t&&t(this),n=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,n=!0}}}matchContext(e){if(!this.buffer)return gd(this.node,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let n=e.length-1,o=this.stack.length-1;n>=0;o--){if(o<0)return gd(this.node,e,n);let i=r[t.buffer[this.stack[o]]];if(!i.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}}function wd(e){return e.children.some((e=>e instanceof ud||!e.type.isAnonymous||wd(e)))}const Od=new WeakMap;function xd(e,t){if(!e.isAnonymous||t instanceof ud||t.type!=e)return 1;let r=Od.get(t);if(null==r){r=1;for(let n of t.children){if(n.type!=e||!(n instanceof ld)){r=1;break}r+=xd(e,n)}Od.set(t,r)}return r}function _d(e,t,r,n,o,i,a,s,l){let c=0;for(let r=n;r<o;r++)c+=xd(e,t[r]);let u=Math.ceil(1.5*c/8),d=[],p=[];return function t(r,n,o,a,s){for(let c=o;c<a;){let o=c,f=n[c],h=xd(e,r[c]);for(c++;c<a;c++){let t=xd(e,r[c]);if(h+t>=u)break;h+=t}if(c==o+1){if(h>u){let e=r[o];t(e.children,e.positions,0,e.children.length,n[o]+s);continue}d.push(r[o])}else{let t=n[c-1]+r[c-1].length-f;d.push(_d(e,r,n,o,c,f,t,null,l))}p.push(f+s-i)}}(t,r,n,o,0),(s||l)(d,p,a)}class Ed{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new td({perNode:!0});class Sd{constructor(e,t,r,n,o,i,a,s,l,c=0,u){this.p=e,this.stack=t,this.state=r,this.reducePos=n,this.pos=o,this.score=i,this.buffer=a,this.bufferBase=s,this.curContext=l,this.lookAhead=c,this.parent=u}toString(){return`[${this.stack.filter(((e,t)=>t%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let n=e.parser.context;return new Sd(e,[],t,r,r,0,[],0,n?new kd(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let t=e>>19,r=65535&e,{parser:n}=this.p,o=n.dynamicPrecedence(r);if(o&&(this.score+=o),0==t)return this.pushState(n.getGoto(this.state,r,!0),this.reducePos),r<n.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),void this.reduceContext(r,this.reducePos);let i=this.stack.length-3*(t-1)-(262144&e?6:0),a=this.stack[i-2],s=this.stack[i-1],l=this.bufferBase+this.buffer.length-s;if(r<n.minRepeatTerm||131072&e){let e=n.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,a,e,l+4,!0)}if(262144&e)this.state=this.stack[i];else{let e=this.stack[i-3];this.state=n.getGoto(e,r,!0)}for(;this.stack.length>i;)this.stack.pop();this.reduceContext(r,a)}storeNode(e,t,r,n=4,o=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,n=this.buffer.length;if(0==n&&e.parent&&(n=e.bufferBase-e.parent.bufferBase,e=e.parent),n>0&&0==e.buffer[n-4]&&e.buffer[n-1]>-1){if(t==r)return;if(e.buffer[n-2]>=t)return void(e.buffer[n-2]=r)}}if(o&&this.pos!=r){let o=this.buffer.length;if(o>0&&0!=this.buffer[o-4])for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,n>4&&(n-=4);this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=r,this.buffer[o+3]=n}else this.buffer.push(e,t,r,n)}shift(e,t,r){let n=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){let o=e,{parser:i}=this.p;(r>this.pos||t<=i.maxNode)&&(this.pos=r,i.stateFlag(o,1)||(this.reducePos=r)),this.pushState(o,n),this.shiftContext(t,n),t<=i.maxNode&&this.buffer.push(t,n,r,4)}else this.pos=r,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,r,4)}apply(e,t,r){65536&e?this.reduce(e):this.shift(e,t,r)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let n=this.pos;this.reducePos=this.pos=n+e.length,this.pushState(t,n),this.buffer.push(r,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),n=e.bufferBase+t;for(;e&&n==e.bufferBase;)e=e.parent;return new Sd(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,n,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new Cd(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==(65536&r))return!0;if(0==r)return!1;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let r=[];for(let n,o=0;o<t.length;o+=2)(n=t[o+1])!=this.state&&this.p.parser.hasAction(n,e)&&r.push(t[o],n);if(this.stack.length<120)for(let e=0;r.length<8&&e<t.length;e+=2){let n=t[e+1];r.some(((e,t)=>1&t&&e==n))||r.push(t[e],n)}t=r}let r=[];for(let e=0;e<t.length&&r.length<4;e+=2){let n=t[e+1];if(n==this.state)continue;let o=this.split();o.pushState(n,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[e],this.pos),o.score-=200,r.push(o)}return r}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(0==(65536&e))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let r=e>>19,n=65535&e,o=this.stack.length-3*r;if(o<0||t.getGoto(this.stack[o],n,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new kd(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class kd{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var Pd;!function(e){e[e.Insert=200]="Insert",e[e.Delete=190]="Delete",e[e.Reduce=100]="Reduce",e[e.MaxNext=4]="MaxNext",e[e.MaxInsertStackDepth=300]="MaxInsertStackDepth",e[e.DampenInsertStackDepth=120]="DampenInsertStackDepth"}(Pd||(Pd={}));class Cd{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,r=e>>19;0==r?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(r-1);let n=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=n}}class Td{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Td(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new Td(this.stack,this.pos,this.index)}}class Dd{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Id=new Dd;class Ad{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Id,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,n=this.rangeIndex,o=this.pos+e;for(;o<r.from;){if(!n)return null;let e=this.ranges[--n];o-=r.from-e.to,r=e}for(;t<0?o>r.to:o>=r.to;){if(n==this.ranges.length-1)return null;let e=this.ranges[++n];o+=e.from-r.to,r=e}return o}peek(e){let t,r,n=this.chunkOff+e;if(n>=0&&n<this.chunk.length)t=this.pos+e,r=this.chunk.charCodeAt(n);else{let n=this.resolveOffset(e,1);if(null==n)return-1;if(t=n,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,n=this.range;for(;n.to<=t;)n=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>n.to&&(this.chunk2=this.chunk2.slice(0,n.to-t)),r=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),r}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(null==r||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Id,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let n of this.ranges){if(n.from>=t)break;n.to>e&&(r+=this.input.read(Math.max(n.from,e),Math.min(n.to,t)))}return r}}class jd{constructor(e,t){this.data=e,this.id=t}token(e,t){!function(e,t,r,n){let o=0,i=1<<n,{parser:a}=r.p,{dialect:s}=a;e:for(;0!=(i&e[o]);){let r=e[o+1];for(let n=o+3;n<r;n+=2)if((e[n+1]&i)>0){let r=e[n];if(s.allows(r)&&(-1==t.token.value||t.token.value==r||a.overrides(r,t.token.value))){t.acceptToken(r);break}}for(let n=t.next,i=0,a=e[o+2];i<a;){let s=i+a>>1,l=r+s+(s<<1),c=e[l],u=e[l+1];if(n<c)a=s;else{if(!(n>=u)){o=e[l+2],t.advance();continue e}i=s+1}}break}}(this.data,e,t,this.id)}}function Md(e,t=Uint16Array){if("string"!=typeof e)return e;let r=null;for(let n=0,o=0;n<e.length;){let i=0;for(;;){let t=e.charCodeAt(n++),r=!1;if(126==t){i=65535;break}t>=92&&t--,t>=34&&t--;let o=t-32;if(o>=46&&(o-=46,r=!0),i+=o,r)break;i*=46}r?r[o++]=i:r=new t(i)}return r}jd.prototype.contextual=jd.prototype.fallback=jd.prototype.extend=!1;const Nd="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let Rd=null;var Ld,$d;function Vd(e,t,r){let n=e.cursor(sd.IncludeAnonymous);for(n.moveTo(t);;)if(!(r<0?n.childBefore(t):n.childAfter(t)))for(;;){if((r<0?n.to<t:n.from>t)&&!n.type.isError)return r<0?Math.max(0,Math.min(n.to-1,t-25)):Math.min(e.length,Math.max(n.from+1,t+25));if(r<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return r<0?0:e.length}}!function(e){e[e.Margin=25]="Margin"}(Ld||(Ld={}));class zd{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Vd(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Vd(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],n=this.index[t];if(n==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=r.children[n],i=this.start[t]+r.positions[n];if(i>e)return this.nextStart=i,null;if(o instanceof ld){if(i==e){if(i<this.safeFrom)return null;let e=i+o.length;if(e<=this.safeTo){let t=o.prop(td.lookAhead);if(!t||e+t<this.fragment.to)return o}}this.index[t]++,i+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(i),this.index.push(0))}else this.index[t]++,this.nextStart=i+o.length}}}class Fd{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map((e=>new Dd))}getActions(e){let t=0,r=null,{parser:n}=e.p,{tokenizers:o}=n,i=n.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,s=0;for(let n=0;n<o.length;n++){if(0==(1<<n&i))continue;let l=o[n],c=this.tokens[n];if((!r||l.fallback)&&((l.contextual||c.start!=e.pos||c.mask!=i||c.context!=a)&&(this.updateCachedToken(c,l,e),c.mask=i,c.context=a),c.lookAhead>c.end+25&&(s=Math.max(c.lookAhead,s)),0!=c.value)){let n=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!l.extend&&(r=c,t>n))break}}for(;this.actions.length>t;)this.actions.pop();return s&&e.setLookAhead(s),r||e.pos!=this.stream.end||(r=new Dd,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Dd,{pos:r,p:n}=e;return t.start=r,t.end=Math.min(r+1,n.stream.end),t.value=r==n.stream.end?n.parser.eofTerm:0,t}updateCachedToken(e,t,r){if(t.token(this.stream.reset(r.pos,e),r),e.value>-1){let{parser:t}=r.p;for(let n=0;n<t.specialized.length;n++)if(t.specialized[n]==e.value){let o=t.specializers[n](this.stream.read(e.start,e.end),r);if(o>=0&&r.p.parser.dialect.allows(o>>1)){0==(1&o)?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=Math.min(r.p.stream.end,r.pos+1)}putAction(e,t,r,n){for(let t=0;t<n;t+=3)if(this.actions[t]==e)return n;return this.actions[n++]=e,this.actions[n++]=t,this.actions[n++]=r,n}addActions(e,t,r,n){let{state:o}=e,{parser:i}=e.p,{data:a}=i;for(let e=0;e<2;e++)for(let s=i.stateSlot(o,e?2:1);;s+=3){if(65535==a[s]){if(1!=a[s+1]){0==n&&2==a[s+1]&&(n=this.putAction(Ud(a,s+2),t,r,n));break}s=Ud(a,s+2)}a[s]==t&&(n=this.putAction(Ud(a,s+1),t,r,n))}return n}}!function(e){e[e.Distance=5]="Distance",e[e.MaxRemainingPerStep=3]="MaxRemainingPerStep",e[e.MinBufferLengthPrune=500]="MinBufferLengthPrune",e[e.ForceReduceLimit=10]="ForceReduceLimit",e[e.CutDepth=15e3]="CutDepth",e[e.CutTo=9e3]="CutTo"}($d||($d={}));class qd{constructor(e,t,r,n){this.parser=e,this.input=t,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new Ad(t,n),this.tokens=new Fd(e,this.stream),this.topTerm=e.top[1];let{from:o}=n[0];this.stacks=[Sd.start(this,e.top[0],o)],this.fragments=r.length&&this.stream.end-o>4*e.bufferLength?new zd(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,r=this.stacks,n=this.minStackPos,o=this.stacks=[];for(let i=0;i<r.length;i++){let a=r[i];for(;;){if(this.tokens.mainToken=null,a.pos>n)o.push(a);else{if(this.advanceStack(a,o,r))continue;{e||(e=[],t=[]),e.push(a);let r=this.tokens.getMainToken(a);t.push(r.value,r.end)}}break}}if(!o.length){let t=e&&function(e){let t=null;for(let r of e){let e=r.p.stoppedAt;(r.pos==r.p.stream.end||null!=e&&r.pos>e)&&r.p.parser.stateFlag(r.state,2)&&(!t||t.score<r.score)&&(t=r)}return t}(e);if(t)return this.stackToTree(t);if(this.parser.strict)throw Nd&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&e){let r=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,o);if(r)return this.stackToTree(r.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(o.length>e)for(o.sort(((e,t)=>t.score-e.score));o.length>e;)o.pop();o.some((e=>e.reducePos>n))&&this.recovering--}else if(o.length>1)e:for(let e=0;e<o.length-1;e++){let t=o[e];for(let r=e+1;r<o.length;r++){let n=o[r];if(t.sameState(n)||t.buffer.length>500&&n.buffer.length>500){if(!((t.score-n.score||t.buffer.length-n.buffer.length)>0)){o.splice(e--,1);continue e}o.splice(r--,1)}}}this.minStackPos=o[0].pos;for(let e=1;e<o.length;e++)o[e].pos<this.minStackPos&&(this.minStackPos=o[e].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let n=e.pos,{parser:o}=this,i=Nd?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&n>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,r=t?e.curContext.hash:0;for(let a=this.fragments.nodeAt(n);a;){let n=this.parser.nodeSet.types[a.type.id]==a.type?o.getGoto(e.state,a.type.id):-1;if(n>-1&&a.length&&(!t||(a.prop(td.contextHash)||0)==r))return e.useNode(a,n),Nd&&console.log(i+this.stackID(e)+` (via reuse of ${o.getName(a.type.id)})`),!0;if(!(a instanceof ld)||0==a.children.length||a.positions[0]>0)break;let s=a.children[0];if(!(s instanceof ld&&0==a.positions[0]))break;a=s}}let a=o.stateSlot(e.state,4);if(a>0)return e.reduce(a),Nd&&console.log(i+this.stackID(e)+` (via always-reduce ${o.getName(65535&a)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let s=this.tokens.getActions(e);for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=a==s.length||!r,p=d?e:e.split();if(p.apply(l,c,u),Nd&&console.log(i+this.stackID(p)+` (via ${0==(65536&l)?"shift":`reduce of ${o.getName(65535&l)}`} for ${o.getName(c)} @ ${n}${p==e?"":", split"})`),d)return!0;p.pos>n?t.push(p):r.push(p)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return Bd(e,t),!0}}runRecovery(e,t,r){let n=null,o=!1;for(let i=0;i<e.length;i++){let a=e[i],s=t[i<<1],l=t[1+(i<<1)],c=Nd?this.stackID(a)+" -> ":"";if(a.deadEnd){if(o)continue;if(o=!0,a.restart(),Nd&&console.log(c+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))continue}let u=a.split(),d=c;for(let e=0;u.forceReduce()&&e<10&&(Nd&&console.log(d+this.stackID(u)+" (via force-reduce)"),!this.advanceFully(u,r));e++)Nd&&(d=this.stackID(u)+" -> ");for(let e of a.recoverByInsert(s))Nd&&console.log(c+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,r);this.stream.end>a.pos?(l==a.pos&&(l++,s=0),a.recoverByDelete(s,l),Nd&&console.log(c+this.stackID(a)+` (via recover-delete ${this.parser.getName(s)})`),Bd(a,r)):(!n||n.score<a.score)&&(n=a)}return n}stackToTree(e){return e.close(),ld.build({buffer:Td.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Rd||(Rd=new WeakMap)).get(e);return t||Rd.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Bd(e,t){for(let r=0;r<t.length;r++){let n=t[r];if(n.pos==e.pos&&n.sameState(e))return void(t[r].score<e.score&&(t[r]=e))}t.push(e)}class Hd{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||0==this.disabled[e]}}class Wd extends class{startParse(e,t,r){return"string"==typeof e&&(e=new Ed(e)),r=r?r.length?r.map((e=>new ed(e.from,e.to))):[new ed(0,0)]:[new ed(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let n=this.startParse(e,t,r);for(;;){let e=n.advance();if(e)return e}}}{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let r=0;r<e.repeatNodeCount;r++)t.push("");let r=Object.keys(e.topRules).map((t=>e.topRules[t][1])),n=[];for(let e=0;e<t.length;e++)n.push([]);function o(e,t,r){n[e].push([t,t.deserialize(String(r))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];"string"==typeof e&&(e=td[e]);for(let r=1;r<t.length;){let n=t[r++];if(n>=0)o(n,e,t[r++]);else{let i=t[r+-n];for(let a=-n;a>0;a--)o(t[r++],e,i);r++}}}this.nodeSet=new od(t.map(((t,o)=>nd.define({name:o>=this.minRepeatTerm?void 0:t,id:o,props:n[o],top:r.indexOf(o)>-1,error:0==o,skipped:e.skippedNodes&&e.skippedNodes.indexOf(o)>-1})))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Ju;let i=Md(e.tokenData);if(this.context=e.context,this.specialized=new Uint16Array(e.specialized?e.specialized.length:0),this.specializers=[],e.specialized)for(let t=0;t<e.specialized.length;t++)this.specialized[t]=e.specialized[t].term,this.specializers[t]=e.specialized[t].get;this.states=Md(e.states,Uint32Array),this.data=Md(e.stateData),this.goto=Md(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map((e=>"number"==typeof e?new jd(i,e):e)),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let n=new qd(this,e,t,r);for(let o of this.wrappers)n=o(n,e,t,r);return n}getGoto(e,t,r=!1){let n=this.goto;if(t>=n[0])return-1;for(let o=n[t+1];;){let t=n[o++],i=1&t,a=n[o++];if(i&&r)return a;for(let r=o+(t>>1);o<r;o++)if(n[o]==e)return a;if(i)return-1}}hasAction(e,t){let r=this.data;for(let n=0;n<2;n++)for(let o,i=this.stateSlot(e,n?2:1);;i+=3){if(65535==(o=r[i])){if(1!=r[i+1]){if(2==r[i+1])return Ud(r,i+2);break}o=r[i=Ud(r,i+2)]}if(o==t||0==o)return Ud(r,i+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let r=this.stateSlot(e,1);;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])return!1;r=Ud(this.data,r+2)}if(t==Ud(this.data,r+1))return!0}}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])break;r=Ud(this.data,r+2)}if(0==(1&this.data[r+2])){let e=this.data[r+1];t.some(((t,r)=>1&r&&t==e))||t.push(this.data[r],e)}}return t}overrides(e,t){let r=Qd(this.data,this.tokenPrecTable,t);return r<0||Qd(this.data,this.tokenPrecTable,e)<r}configure(e){let t=Object.assign(Object.create(Wd.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map((t=>{let r=e.tokenizers.find((e=>e.from==t));return r?r.to:t}))),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map((()=>!1));if(e)for(let n of e.split(" ")){let e=t.indexOf(n);e>=0&&(r[e]=!0)}let n=null;for(let e=0;e<t.length;e++)if(!r[e])for(let r,o=this.dialects[t[e]];65535!=(r=this.data[o++]);)(n||(n=new Uint8Array(this.maxTerm+1)))[r]=1;return new Hd(e,r,n)}static deserialize(e){return new Wd(e)}}function Ud(e,t){return e[t]|e[t+1]<<16}function Qd(e,t,r){for(let n,o=t;65535!=(n=e[o]);o++)if(n==r)return o-t;return-1}const Gd=1024;let Xd=0;class Kd{constructor(e={}){this.id=Xd++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=Jd.match(e)),t=>{let r=e(t);return void 0===r?null:[this,r]}}}Kd.closedBy=new Kd({deserialize:e=>e.split(" ")}),Kd.openedBy=new Kd({deserialize:e=>e.split(" ")}),Kd.group=new Kd({deserialize:e=>e.split(" ")}),Kd.contextHash=new Kd({perNode:!0}),Kd.lookAhead=new Kd({perNode:!0}),Kd.mounted=new Kd({perNode:!0});const Yd=Object.create(null);class Jd{constructor(e,t,r,n=0){this.name=e,this.props=t,this.id=r,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):Yd,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),n=new Jd(e.name||"",t,e.id,r);if(e.props)for(let r of e.props)if(Array.isArray(r)||(r=r(n)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[r[0].id]=r[1]}return n}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(Kd.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let n of r.split(" "))t[n]=e[r];return e=>{for(let r=e.prop(Kd.group),n=-1;n<(r?r.length:0);n++){let o=t[n<0?e.name:r[n]];if(o)return o}}}}Jd.none=new Jd("",Object.create(null),0,8);const Zd=new WeakMap,ep=new WeakMap;var tp;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(tp||(tp={}));class rp{constructor(e,t,r,n,o){if(this.type=e,this.children=t,this.positions=r,this.length=n,this.props=null,o&&o.length){this.props=Object.create(null);for(let[e,t]of o)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=this.prop(Kd.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let r=e.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new fp(this.topNode,e)}cursorAt(e,t=0,r=0){let n=Zd.get(this)||this.topNode,o=new fp(n);return o.moveTo(e,t),Zd.set(this,o._tree),o}get topNode(){return new lp(this,0,0,null)}resolve(e,t=0){let r=sp(Zd.get(this)||this.topNode,e,t,!1);return Zd.set(this,r),r}resolveInner(e,t=0){let r=sp(ep.get(this)||this.topNode,e,t,!0);return ep.set(this,r),r}iterate(e){let{enter:t,leave:r,from:n=0,to:o=this.length}=e;for(let i=this.cursor((e.mode||0)|tp.IncludeAnonymous);;){let e=!1;if(i.from<=o&&i.to>=n&&(i.type.isAnonymous||!1!==t(i))){if(i.firstChild())continue;e=!0}for(;e&&r&&!i.type.isAnonymous&&r(i),!i.nextSibling();){if(!i.parent())return;e=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:vp(Jd.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,r)=>new rp(this.type,e,t,r,this.propValues)),e.makeTree||((e,t,r)=>new rp(Jd.none,e,t,r)))}static build(e){return function(e){var t;let{buffer:r,nodeSet:n,maxBufferLength:o=Gd,reused:i=[],minRepeatType:a=n.types.length}=e,s=Array.isArray(r)?new np(r,r.length):r,l=n.types,c=0,u=0;function d(e,t,r,m,g){let{id:v,start:b,end:y,size:w}=s,O=u;for(;w<0;){if(s.next(),-1==w){let t=i[v];return r.push(t),void m.push(b-e)}if(-3==w)return void(c=v);if(-4==w)return void(u=v);throw new RangeError(`Unrecognized record size: ${w}`)}let x,_,E=l[v],S=b-e;if(y-b<=o&&(_=function(e,t){let r=s.fork(),n=0,i=0,l=0,c=r.end-o,u={size:0,start:0,skip:0};e:for(let o=r.pos-e;r.pos>o;){let e=r.size;if(r.id==t&&e>=0){u.size=n,u.start=i,u.skip=l,l+=4,n+=4,r.next();continue}let s=r.pos-e;if(e<0||s<o||r.start<c)break;let d=r.id>=a?4:0,p=r.start;for(r.next();r.pos>s;){if(r.size<0){if(-3!=r.size)break e;d+=4}else r.id>=a&&(d+=4);r.next()}i=p,n+=e,l+=d}return(t<0||n==e)&&(u.size=n,u.start=i,u.skip=l),u.size>4?u:void 0}(s.pos-t,g))){let t=new Uint16Array(_.size-_.skip),r=s.pos-_.size,o=t.length;for(;s.pos>r;)o=h(_.start,t,o);x=new op(t,y-_.start,n),S=_.start-e}else{let e=s.pos-w;s.next();let t=[],r=[],n=v>=a?v:-1,i=0,l=y;for(;s.pos>e;)n>=0&&s.id==n&&s.size>=0?(s.end<=l-o&&(p(t,r,b,i,s.end,l,n,O),i=t.length,l=s.end),s.next()):d(b,e,t,r,n);if(n>=0&&i>0&&i<t.length&&p(t,r,b,i,b,l,n,O),t.reverse(),r.reverse(),n>-1&&i>0){let e=function(e){return(t,r,n)=>{let o,i,a=0,s=t.length-1;if(s>=0&&(o=t[s])instanceof rp){if(!s&&o.type==e&&o.length==n)return o;(i=o.prop(Kd.lookAhead))&&(a=r[s]+o.length+i)}return f(e,t,r,n,a)}}(E);x=vp(E,t,r,0,t.length,0,y-b,e,e)}else x=f(E,t,r,y-b,O-y)}r.push(x),m.push(S)}function p(e,t,r,o,i,a,s,l){let c=[],u=[];for(;e.length>o;)c.push(e.pop()),u.push(t.pop()+r-i);e.push(f(n.types[s],c,u,a-i,l-a)),t.push(i-r)}function f(e,t,r,n,o=0,i){if(c){let e=[Kd.contextHash,c];i=i?[e].concat(i):[e]}if(o>25){let e=[Kd.lookAhead,o];i=i?[e].concat(i):[e]}return new rp(e,t,r,n,i)}function h(e,t,r){let{id:n,start:o,end:i,size:l}=s;if(s.next(),l>=0&&n<a){let a=r;if(l>4){let n=s.pos-(l-4);for(;s.pos>n;)r=h(e,t,r)}t[--r]=a,t[--r]=i-e,t[--r]=o-e,t[--r]=n}else-3==l?c=n:-4==l&&(u=n);return r}let m=[],g=[];for(;s.pos>0;)d(e.start||0,e.bufferStart||0,m,g,-1);let v=null!==(t=e.length)&&void 0!==t?t:m.length?g[0]+m[0].length:0;return new rp(l[e.topID],m.reverse(),g.reverse(),v)}(e)}}rp.empty=new rp(Jd.none,[],[],0);class np{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new np(this.buffer,this.index)}}class op{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return Jd.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],n=this.set.types[t],o=n.name;if(/\W/.test(o)&&!n.isError&&(o=JSON.stringify(o)),r==(e+=4))return o;let i=[];for(;e<r;)i.push(this.childString(e)),e=this.buffer[e+3];return o+"("+i.join(",")+")"}findChild(e,t,r,n,o){let{buffer:i}=this,a=-1;for(let s=e;s!=t&&!(ip(o,n,i[s+1],i[s+2])&&(a=s,r>0));s=i[s+3]);return a}slice(e,t,r,n){let o=this.buffer,i=new Uint16Array(t-e);for(let n=e,a=0;n<t;)i[a++]=o[n++],i[a++]=o[n++]-r,i[a++]=o[n++]-r,i[a++]=o[n++]-e;return new op(i,n-r,this.set)}}function ip(e,t,r,n){switch(e){case-2:return r<t;case-1:return n>=t&&r<t;case 0:return r<t&&n>t;case 1:return r<=t&&n>t;case 2:return n>t;case 4:return!0}}function ap(e,t){let r=e.childBefore(t);for(;r;){let t=r.lastChild;if(!t||t.to!=r.to)break;t.type.isError&&t.from==t.to?(e=r,r=t.prevSibling):r=t}return e}function sp(e,t,r,n){for(var o;e.from==e.to||(r<1?e.from>=t:e.from>t)||(r>-1?e.to<=t:e.to<t);){let t=!n&&e instanceof lp&&e.index<0?null:e.parent;if(!t)return e;e=t}let i=n?0:tp.IgnoreOverlays;if(n)for(let n=e,a=n.parent;a;n=a,a=n.parent)n instanceof lp&&n.index<0&&(null===(o=a.enter(t,r,i))||void 0===o?void 0:o.from)!=n.from&&(e=a);for(;;){let n=e.enter(t,r,i);if(!n)return e;e=n}}class lp{constructor(e,t,r,n){this._tree=e,this.from=t,this.index=r,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,n,o=0){for(let i=this;;){for(let{children:a,positions:s}=i._tree,l=t>0?a.length:-1;e!=l;e+=t){let l=a[e],c=s[e]+i.from;if(ip(n,r,c,c+l.length))if(l instanceof op){if(o&tp.ExcludeBuffers)continue;let a=l.findChild(0,l.buffer.length,t,r-c,n);if(a>-1)return new pp(new dp(i,l,e,c),null,a)}else if(o&tp.IncludeAnonymous||!l.type.isAnonymous||hp(l)){let a;if(!(o&tp.IgnoreMounts)&&l.props&&(a=l.prop(Kd.mounted))&&!a.overlay)return new lp(a.tree,c,e,i);let s=new lp(l,c,e,i);return o&tp.IncludeAnonymous||!s.type.isAnonymous?s:s.nextChild(t<0?l.children.length-1:0,t,r,n)}}if(o&tp.IncludeAnonymous||!i.type.isAnonymous)return null;if(e=i.index>=0?i.index+t:t<0?-1:i._parent._tree.children.length,i=i._parent,!i)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let n;if(!(r&tp.IgnoreOverlays)&&(n=this._tree.prop(Kd.mounted))&&n.overlay){let r=e-this.from;for(let{from:e,to:o}of n.overlay)if((t>0?e<=r:e<r)&&(t<0?o>=r:o>r))return new lp(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new fp(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return sp(this,e,t,!1)}resolveInner(e,t=0){return sp(this,e,t,!0)}enterUnfinishedNodesBefore(e){return ap(this,e)}getChild(e,t=null,r=null){let n=cp(this,e,t,r);return n.length?n[0]:null}getChildren(e,t=null,r=null){return cp(this,e,t,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return up(this,e)}}function cp(e,t,r,n){let o=e.cursor(),i=[];if(!o.firstChild())return i;if(null!=r)for(;!o.type.is(r);)if(!o.nextSibling())return i;for(;;){if(null!=n&&o.type.is(n))return i;if(o.type.is(t)&&i.push(o.node),!o.nextSibling())return null==n?i:[]}}function up(e,t,r=t.length-1){for(let n=e.parent;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(t[r]&&t[r]!=n.name)return!1;r--}}return!0}class dp{constructor(e,t,r,n){this.parent=e,this.buffer=t,this.index=r,this.start=n}}class pp{constructor(e,t,r){this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t,r){let{buffer:n}=this.context,o=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,r);return o<0?null:new pp(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&tp.ExcludeBuffers)return null;let{buffer:n}=this.context,o=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new pp(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new pp(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new pp(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new fp(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,n=this.index+4,o=r.buffer[this.index+3];if(o>n){let i=r.buffer[this.index+1],a=r.buffer[this.index+2];e.push(r.slice(n,o,i,a)),t.push(0)}return new rp(this.type,e,t,this.to-this.from)}resolve(e,t=0){return sp(this,e,t,!1)}resolveInner(e,t=0){return sp(this,e,t,!0)}enterUnfinishedNodesBefore(e){return ap(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,r=null){let n=cp(this,e,t,r);return n.length?n[0]:null}getChildren(e,t=null,r=null){return cp(this,e,t,r)}get node(){return this}matchContext(e){return up(this,e)}}class fp{constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof lp)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:r,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=r+n.buffer[e+1],this.to=r+n.buffer[e+2],!0}yield(e){return!!e&&(e instanceof lp?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:n}=this.buffer,o=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,r);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?!(r&tp.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&tp.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&tp.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let e=r<0?0:this.stack[r]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(e)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(n.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:r}=n)}else({index:t,_parent:r}=this._tree);for(;r;({index:t,_parent:r}=r))if(t>-1)for(let n=t+e,o=e<0?-1:r._tree.children.length;n!=o;n+=e){let e=r._tree.children[n];if(this.mode&tp.IncludeAnonymous||e instanceof op||!e.type.isAnonymous||hp(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let n=this.index,o=this.stack.length;o>=0;){for(let i=e;i;i=i._parent)if(i.index==n){if(n==this.index)return i;t=i,r=o+1;break e}n=this.stack[--o]}for(let e=r;e<this.stack.length;e++)t=new pp(this.buffer,t,this.stack[e]);return this.bufferNode=new pp(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let n=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(n=!0)}for(;n&&t&&t(this),n=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,n=!0}}}matchContext(e){if(!this.buffer)return up(this.node,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let n=e.length-1,o=this.stack.length-1;n>=0;o--){if(o<0)return up(this.node,e,n);let i=r[t.buffer[this.stack[o]]];if(!i.isAnonymous){if(e[n]&&e[n]!=i.name)return!1;n--}}return!0}}function hp(e){return e.children.some((e=>e instanceof op||!e.type.isAnonymous||hp(e)))}const mp=new WeakMap;function gp(e,t){if(!e.isAnonymous||t instanceof op||t.type!=e)return 1;let r=mp.get(t);if(null==r){r=1;for(let n of t.children){if(n.type!=e||!(n instanceof rp)){r=1;break}r+=gp(e,n)}mp.set(t,r)}return r}function vp(e,t,r,n,o,i,a,s,l){let c=0;for(let r=n;r<o;r++)c+=gp(e,t[r]);let u=Math.ceil(1.5*c/8),d=[],p=[];return function t(r,n,o,a,s){for(let c=o;c<a;){let o=c,f=n[c],h=gp(e,r[c]);for(c++;c<a;c++){let t=gp(e,r[c]);if(h+t>=u)break;h+=t}if(c==o+1){if(h>u){let e=r[o];t(e.children,e.positions,0,e.children.length,n[o]+s);continue}d.push(r[o])}else{let t=n[c-1]+r[c-1].length-f;d.push(vp(e,r,n,o,c,f,t,null,l))}p.push(f+s-i)}}(t,r,n,o,0),(s||l)(d,p,a)}new Kd({perNode:!0});let bp=0;class yp{constructor(e,t,r){this.set=e,this.base=t,this.modified=r,this.id=bp++}static define(e){if(null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new yp([],null,[]);if(t.set.push(t),e)for(let r of e.set)t.set.push(r);return t}static defineModifier(){let e=new Op;return t=>t.modified.indexOf(e)>-1?t:Op.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let wp=0;class Op{constructor(){this.instances=[],this.id=wp++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find((r=>r.base==e&&function(e,t){return e.length==t.length&&e.every(((e,r)=>e==t[r]))}(t,r.modified)));if(r)return r;let n=[],o=new yp(n,e,t);for(let e of t)e.instances.push(o);let i=xp(t);for(let t of e.set)for(let e of i)n.push(Op.get(t,e));return o}}function xp(e){let t=[e];for(let r=0;r<e.length;r++)for(let n of xp(e.slice(0,r).concat(e.slice(r+1))))t.push(n);return t}const _p=new Kd;class Ep{constructor(e,t,r,n){this.tags=e,this.mode=t,this.context=r,this.next=n}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Ep.empty=new Ep([],2,null);const Sp=yp.define,kp=Sp(),Pp=Sp(),Cp=Sp(Pp),Tp=Sp(Pp),Dp=Sp(),Ip=Sp(Dp),Ap=Sp(Dp),jp=Sp(),Mp=Sp(jp),Np=Sp(),Rp=Sp(),Lp=Sp(),$p=Sp(Lp),Vp=Sp(),zp={comment:kp,lineComment:Sp(kp),blockComment:Sp(kp),docComment:Sp(kp),name:Pp,variableName:Sp(Pp),typeName:Cp,tagName:Sp(Cp),propertyName:Tp,attributeName:Sp(Tp),className:Sp(Pp),labelName:Sp(Pp),namespace:Sp(Pp),macroName:Sp(Pp),literal:Dp,string:Ip,docString:Sp(Ip),character:Sp(Ip),attributeValue:Sp(Ip),number:Ap,integer:Sp(Ap),float:Sp(Ap),bool:Sp(Dp),regexp:Sp(Dp),escape:Sp(Dp),color:Sp(Dp),url:Sp(Dp),keyword:Np,self:Sp(Np),null:Sp(Np),atom:Sp(Np),unit:Sp(Np),modifier:Sp(Np),operatorKeyword:Sp(Np),controlKeyword:Sp(Np),definitionKeyword:Sp(Np),moduleKeyword:Sp(Np),operator:Rp,derefOperator:Sp(Rp),arithmeticOperator:Sp(Rp),logicOperator:Sp(Rp),bitwiseOperator:Sp(Rp),compareOperator:Sp(Rp),updateOperator:Sp(Rp),definitionOperator:Sp(Rp),typeOperator:Sp(Rp),controlOperator:Sp(Rp),punctuation:Lp,separator:Sp(Lp),bracket:$p,angleBracket:Sp($p),squareBracket:Sp($p),paren:Sp($p),brace:Sp($p),content:jp,heading:Mp,heading1:Sp(Mp),heading2:Sp(Mp),heading3:Sp(Mp),heading4:Sp(Mp),heading5:Sp(Mp),heading6:Sp(Mp),contentSeparator:Sp(jp),list:Sp(jp),quote:Sp(jp),emphasis:Sp(jp),strong:Sp(jp),link:Sp(jp),monospace:Sp(jp),strikethrough:Sp(jp),inserted:Sp(),deleted:Sp(),changed:Sp(),invalid:Sp(),meta:Vp,documentMeta:Sp(Vp),annotation:Sp(Vp),processingInstruction:Sp(Vp),definition:yp.defineModifier(),constant:yp.defineModifier(),function:yp.defineModifier(),standard:yp.defineModifier(),local:yp.defineModifier(),special:yp.defineModifier()},Fp=(function(e,t){let r=Object.create(null);for(let t of e)if(Array.isArray(t.tag))for(let e of t.tag)r[e.id]=t.class;else r[t.tag.id]=t.class;let{scope:n,all:o=null}={}}([{tag:zp.link,class:"tok-link"},{tag:zp.heading,class:"tok-heading"},{tag:zp.emphasis,class:"tok-emphasis"},{tag:zp.strong,class:"tok-strong"},{tag:zp.keyword,class:"tok-keyword"},{tag:zp.atom,class:"tok-atom"},{tag:zp.bool,class:"tok-bool"},{tag:zp.url,class:"tok-url"},{tag:zp.labelName,class:"tok-labelName"},{tag:zp.inserted,class:"tok-inserted"},{tag:zp.deleted,class:"tok-deleted"},{tag:zp.literal,class:"tok-literal"},{tag:zp.string,class:"tok-string"},{tag:zp.number,class:"tok-number"},{tag:[zp.regexp,zp.escape,zp.special(zp.string)],class:"tok-string2"},{tag:zp.variableName,class:"tok-variableName"},{tag:zp.local(zp.variableName),class:"tok-variableName tok-local"},{tag:zp.definition(zp.variableName),class:"tok-variableName tok-definition"},{tag:zp.special(zp.variableName),class:"tok-variableName2"},{tag:zp.definition(zp.propertyName),class:"tok-propertyName tok-definition"},{tag:zp.typeName,class:"tok-typeName"},{tag:zp.namespace,class:"tok-namespace"},{tag:zp.className,class:"tok-className"},{tag:zp.macroName,class:"tok-macroName"},{tag:zp.propertyName,class:"tok-propertyName"},{tag:zp.operator,class:"tok-operator"},{tag:zp.comment,class:"tok-comment"},{tag:zp.meta,class:"tok-meta"},{tag:zp.invalid,class:"tok-invalid"},{tag:zp.punctuation,class:"tok-punctuation"}]),{inf:147,nan:148,bool:1,ignoring:2,on:3,group_left:4,group_right:5,offset:6}),qp={avg:8,atan2:7,bottomk:9,count:10,count_values:11,group:12,max:13,min:14,quantile:15,stddev:16,stdvar:17,sum:18,topk:19,by:20,without:21,and:22,or:23,unless:24,start:25,end:26},Bp=function(e){let t=Object.create(null);for(let r in e){let n=e[r];Array.isArray(n)||(n=[n]);for(let e of r.split(" "))if(e){let r=[],o=2,i=e;for(let t=0;;){if("..."==i&&t>0&&t+3==e.length){o=1;break}let n=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(i);if(!n)throw new RangeError("Invalid path: "+e);if(r.push("*"==n[0]?"":'"'==n[0][0]?JSON.parse(n[0]):n[0]),t+=n[0].length,t==e.length)break;let a=e[t++];if(t==e.length&&"!"==a){o=0;break}if("/"!=a)throw new RangeError("Invalid path: "+e);i=e.slice(t)}let a=r.length-1,s=r[a];if(!s)throw new RangeError("Invalid path: "+e);let l=new Ep(n,o,a>0?r.slice(0,a):null);t[s]=l.sort(t[s])}}return _p.add(t)}({LineComment:zp.comment,LabelName:zp.labelName,StringLiteral:zp.string,NumberLiteral:zp.number,Duration:zp.number,"Abs Absent AbsentOverTime Acos Acosh Asin Asinh Atan Atanh AvgOverTime Ceil Changes Clamp ClampMax ClampMin Cos Cosh CountOverTime DaysInMonth DayOfMonth DayOfWeek DayOfYear Deg Delta Deriv Exp Floor HistogramQuantile HoltWinters Hour Idelta Increase Irate LabelReplace LabelJoin LastOverTime Ln Log10 Log2 MaxOverTime MinOverTime Minute Month Pi PredictLinear PresentOverTime QuantileOverTime Rad Rate Resets Round Scalar Sgn Sin Sinh Sort SortDesc Sqrt StddevOverTime StdvarOverTime SumOverTime Tan Tanh Time Timestamp Vector Year":zp.function(zp.variableName),"Avg Bottomk Count Count_values Group Max Min Quantile Stddev Stdvar Sum Topk":zp.operatorKeyword,"By Without Bool On Ignoring GroupLeft GroupRight Offset Start End":zp.modifier,"And Unless Or":zp.logicOperator,"Sub Add Mul Mod Div Atan2 Eql Neq Lte Lss Gte Gtr EqlRegex EqlSingle NeqRegex Pow At":zp.operator,UnaryOp:zp.arithmeticOperator,"( )":zp.paren,"[ ]":zp.squareBracket,"{ }":zp.brace,"⚠":zp.invalid}),Hp={__proto__:null,absent_over_time:309,absent:311,abs:313,acos:315,acosh:317,asin:319,asinh:321,atan:323,atanh:325,avg_over_time:327,ceil:329,changes:331,clamp:333,clamp_max:335,clamp_min:337,cos:339,cosh:341,count_over_time:343,days_in_month:345,day_of_month:347,day_of_week:349,day_of_year:351,deg:353,delta:355,deriv:357,exp:359,floor:361,histogram_quantile:363,holt_winters:365,hour:367,idelta:369,increase:371,irate:373,label_replace:375,label_join:377,last_over_time:379,ln:381,log10:383,log2:385,max_over_time:387,min_over_time:389,minute:391,month:393,pi:395,predict_linear:397,present_over_time:399,quantile_over_time:401,rad:403,rate:405,resets:407,round:409,scalar:411,sgn:413,sin:415,sinh:417,sort:419,sort_desc:421,sqrt:423,stddev_over_time:425,stdvar_over_time:427,sum_over_time:429,tan:431,tanh:433,timestamp:435,time:437,vector:439,year:441},Wp=Wd.deserialize({version:14,states:"6bOYQPOOO'OQPOOOOQO'#C{'#C{O'TQPO'#CzQ'`QQOOOOQO'#De'#DeO'ZQPO'#DdOOQO'#FO'#FOO(mQPO'#FUOYQPO'#FQOYQPO'#FTOOQO'#FW'#FWO.lQSO'#FXO.tQQO'#FVOOQO'#FV'#FVOOQO'#Cy'#CyOOQO'#Df'#DfOOQO'#Dh'#DhOOQO'#Di'#DiOOQO'#Dj'#DjOOQO'#Dk'#DkOOQO'#Dl'#DlOOQO'#Dm'#DmOOQO'#Dn'#DnOOQO'#Do'#DoOOQO'#Dp'#DpOOQO'#Dq'#DqOOQO'#Dr'#DrOOQO'#Ds'#DsOOQO'#Dt'#DtOOQO'#Du'#DuOOQO'#Dv'#DvOOQO'#Dw'#DwOOQO'#Dx'#DxOOQO'#Dy'#DyOOQO'#Dz'#DzOOQO'#D{'#D{OOQO'#D|'#D|OOQO'#D}'#D}OOQO'#EO'#EOOOQO'#EP'#EPOOQO'#EQ'#EQOOQO'#ER'#EROOQO'#ES'#ESOOQO'#ET'#ETOOQO'#EU'#EUOOQO'#EV'#EVOOQO'#EW'#EWOOQO'#EX'#EXOOQO'#EY'#EYOOQO'#EZ'#EZOOQO'#E['#E[OOQO'#E]'#E]OOQO'#E^'#E^OOQO'#E_'#E_OOQO'#E`'#E`OOQO'#Ea'#EaOOQO'#Eb'#EbOOQO'#Ec'#EcOOQO'#Ed'#EdOOQO'#Ee'#EeOOQO'#Ef'#EfOOQO'#Eg'#EgOOQO'#Eh'#EhOOQO'#Ei'#EiOOQO'#Ej'#EjOOQO'#Ek'#EkOOQO'#El'#ElOOQO'#Em'#EmOOQO'#En'#EnOOQO'#Eo'#EoOOQO'#Ep'#EpOOQO'#Eq'#EqOOQO'#Er'#ErOOQO'#Es'#EsOOQO'#Et'#EtOOQO'#Eu'#EuOOQO'#Ev'#EvOOQO'#Ew'#EwOOQO'#Ex'#ExOOQO'#Ey'#EyOOQO'#Ez'#EzOOQO'#E{'#E{QOQPOOO0_QPO'#C|O0dQPO'#DRO'ZQPO,59fO0kQQO,59fO2XQPO,59oO2XQPO,59oO2XQPO,59oO2XQPO,59oO2XQPO,59oO8WQQO,5;hO8]QQO,5;kO8eQPO,5;zOOQO,5:O,5:OOOQO,5;j,5;jO8|QQO,5;lO9TQQO,5;oO:kQPO'#FZO:yQPO,5;sOOQO'#FY'#FYOOQO,5;s,5;sOOQO,5;q,5;qO;RQSO'#C}OOQO,59h,59hO;ZQPO,59mO;cQQO'#DSOOQO,59m,59mOOQO1G/Q1G/QO0_QPO'#DWOAcQPO'#DVOAmQPO'#DVOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOAwQSO1G1SOOQO1G1V1G1VOBPQQO1G1VOBUQPO'#FOOOQO'#Fb'#FbOOQO1G1f1G1fOBaQPO1G1fOOQO1G1W1G1WOOQO'#F['#F[OBfQPO,5;uOBkQSO1G1_OOQO1G1_1G1_OOQO'#DP'#DPOBsQPO,59iOOQO'#DO'#DOOOQO,59i,59iOYQPO,59nOOQO1G/X1G/XOOQO,59r,59rOHnQPO,59qOHuQPO,59qOJ^QQO7+$uOJnQQO7+$uOLSQQO7+$uOLjQQO7+$uONRQQO7+$uOOQO7+&n7+&nONlQQO7+&tOOQO7+&q7+&qONtQPO7+'QOOQO1G1a1G1aOOQO1G1`1G1`OOQO7+&y7+&yONyQSO1G/TOOQO1G/T1G/TO! RQQO1G/YOOQO1G/]1G/]O! ]QPO1G/]OOQO<<J`<<J`O!'RQPO<<J`OOQO<<Jl<<JlOOQO1G/U1G/UOOQO7+$o7+$oOOQO7+$w7+$wOOQOAN?zAN?z",stateData:"!'W~O$[OSkOS~OWQOXQOYQOZQO[QO]QO^QO_QO`QOaQObQOcQO!ZZO#u_O$XVO$YVO$]XO$``O$aaO$bbO$ccO$ddO$eeO$ffO$ggO$hhO$iiO$jjO$kkO$llO$mmO$nnO$ooO$ppO$qqO$rrO$ssO$ttO$uuO$vvO$wwO$xxO$yyO$zzO${{O$||O$}}O%O!OO%P!PO%Q!QO%R!RO%S!SO%T!TO%U!UO%V!VO%W!WO%X!XO%Y!YO%Z!ZO%[![O%]!]O%^!^O%_!_O%`!`O%a!aO%b!bO%c!cO%d!dO%e!eO%f!fO%g!gO%h!hO%i!iO%j!jO%k!kO%l!lO%m!mO%n!nO%o!oO%p!pO%q!qO%r!rO%s!sO%t!tO%wWO%xWO%yVO%{[O~O!ZZO~Od!vOe!vO$]!wO~OU#QOV!zOf!}Og#OOh!}Ox!zO{!zO|!zO}!zO!O!{O!P!{O!Q!|O!R!|O!S!|O!T!|O!U!|O!V!|O$T#RO%u#PO~O$X#TO$Y#TO%y#TOW#xXX#xXY#xXZ#xX[#xX]#xX^#xX_#xX`#xXa#xXb#xXc#xX!Z#xX#u#xX$X#xX$Y#xX$]#xX$`#xX$a#xX$b#xX$c#xX$d#xX$e#xX$f#xX$g#xX$h#xX$i#xX$j#xX$k#xX$l#xX$m#xX$n#xX$o#xX$p#xX$q#xX$r#xX$s#xX$t#xX$u#xX$v#xX$w#xX$x#xX$y#xX$z#xX${#xX$|#xX$}#xX%O#xX%P#xX%Q#xX%R#xX%S#xX%T#xX%U#xX%V#xX%W#xX%X#xX%Y#xX%Z#xX%[#xX%]#xX%^#xX%_#xX%`#xX%a#xX%b#xX%c#xX%d#xX%e#xX%f#xX%g#xX%h#xX%i#xX%j#xX%k#xX%l#xX%m#xX%n#xX%o#xX%p#xX%q#xX%r#xX%s#xX%t#xX%w#xX%x#xX%y#xX%{#xX~Ot#WO%|#ZO~O%{[OU#yXV#yXf#yXg#yXh#yXx#yX{#yX|#yX}#yX!O#yX!P#yX!Q#yX!R#yX!S#yX!T#yX!U#yX!V#yX$T#yX$W#yX%u#yX$_#yX$^#yX~O$]#]O~O$_#aO~PYOd!vOe!vOUnaVnafnagnahnaxna{na|na}na!Ona!Pna!Qna!Rna!Sna!Tna!Una!Vna$Tna$Wna%una$_na$^na~OP#eOQ#cOR#cOWyPXyPYyPZyP[yP]yP^yP_yP`yPayPbyPcyP!ZyP#uyP$XyP$YyP$]yP$`yP$ayP$byP$cyP$dyP$eyP$fyP$gyP$hyP$iyP$jyP$kyP$lyP$myP$nyP$oyP$pyP$qyP$ryP$syP$tyP$uyP$vyP$wyP$xyP$yyP$zyP${yP$|yP$}yP%OyP%PyP%QyP%RyP%SyP%TyP%UyP%VyP%WyP%XyP%YyP%ZyP%[yP%]yP%^yP%_yP%`yP%ayP%byP%cyP%dyP%eyP%fyP%gyP%hyP%iyP%jyP%kyP%lyP%myP%nyP%oyP%pyP%qyP%ryP%syP%tyP%wyP%xyP%yyP%{yP~O#q#kO~O!P#mO#q#lO~Oi#oOj#oO$XVO$YVO%w#nO%x#nO%yVO~O$_#rO~P'`Ox!zOU#waV#waf#wag#wah#wa{#wa|#wa}#wa!O#wa!P#wa!Q#wa!R#wa!S#wa!T#wa!U#wa!V#wa$T#wa$W#wa%u#wa$_#wa$^#wa~O!V#sO$P#sO$Q#sO$R#sO~O$^#uO%|#vO~Ot#wO$_#zO~O$^#{O$_#|O~O$^vX$_vX~P'`OWyXXyXYyXZyX[yX]yX^yX_yX`yXayXbyXcyX!ZyX#uyX$XyX$YyX$]yX$`yX$ayX$byX$cyX$dyX$eyX$fyX$gyX$hyX$iyX$jyX$kyX$lyX$myX$nyX$oyX$pyX$qyX$ryX$syX$tyX$uyX$vyX$wyX$xyX$yyX$zyX${yX$|yX$}yX%OyX%PyX%QyX%RyX%SyX%TyX%UyX%VyX%WyX%XyX%YyX%ZyX%[yX%]yX%^yX%_yX%`yX%ayX%byX%cyX%dyX%eyX%fyX%gyX%hyX%iyX%jyX%kyX%lyX%myX%nyX%oyX%pyX%qyX%ryX%syX%tyX%wyX%xyX%yyX%{yX~OS$OOT$OO~P;mOQ#cOR#cO~P;mO%v$VO%z$WO~O#q$XO~O$X#TO$Y#TO%y#TO~O$]$YO~O#u$ZO~Ot#WO%|$]O~O$^$^O$_$_O~OWyaXyaYyaZya[ya]ya^ya_ya`yaayabyacya!Zya#uya$Xya$Yya$`ya$aya$bya$cya$dya$eya$fya$gya$hya$iya$jya$kya$lya$mya$nya$oya$pya$qya$rya$sya$tya$uya$vya$wya$xya$yya$zya${ya$|ya$}ya%Oya%Pya%Qya%Rya%Sya%Tya%Uya%Vya%Wya%Xya%Yya%Zya%[ya%]ya%^ya%_ya%`ya%aya%bya%cya%dya%eya%fya%gya%hya%iya%jya%kya%lya%mya%nya%oya%pya%qya%rya%sya%tya%wya%xya%yya%{ya~O$]#]O~PB{OS$bOT$bO$]ya~PB{Ox!zOUwqfwqgwqhwq!Owq!Pwq!Qwq!Rwq!Swq!Twq!Uwq!Vwq$Twq$Wwq%uwq$_wq$^wq~OVwq{wq|wq}wq~PISOV!zO{!zO|!zO}!zO~PISOV!zOx!zO{!zO|!zO}!zO!O!{O!P!{OUwqfwqgwqhwq$Twq$Wwq%uwq$_wq$^wq~O!Qwq!Rwq!Swq!Twq!Uwq!Vwq~PKOO!Q!|O!R!|O!S!|O!T!|O!U!|O!V!|O~PKOOV!zOf!}Oh!}Ox!zO{!zO|!zO}!zO!O!{O!P!{O!Q!|O!R!|O!S!|O!T!|O!U!|O!V!|O~OUwqgwq$Twq$Wwq%uwq$_wq$^wq~PMQO#q$dO%v$cO~O$_$eO~Ot#wO$_$gO~O$^vi$_vi~P'`O$]#]OWyiXyiYyiZyi[yi]yi^yi_yi`yiayibyicyi!Zyi#uyi$Xyi$Yyi$`yi$ayi$byi$cyi$dyi$eyi$fyi$gyi$hyi$iyi$jyi$kyi$lyi$myi$nyi$oyi$pyi$qyi$ryi$syi$tyi$uyi$vyi$wyi$xyi$yyi$zyi${yi$|yi$}yi%Oyi%Pyi%Qyi%Ryi%Syi%Tyi%Uyi%Vyi%Wyi%Xyi%Yyi%Zyi%[yi%]yi%^yi%_yi%`yi%ayi%byi%cyi%dyi%eyi%fyi%gyi%hyi%iyi%jyi%kyi%lyi%myi%nyi%oyi%pyi%qyi%ryi%syi%tyi%wyi%xyi%yyi%{yi~O%v$iO~O",goto:"(v$VPPPPPPPPPPPPPPPPPPPPPPPPPPPPP$W$v%S%`%f%r%uP%{&U$vP&X&hPPPPPPPPPPP$v&r'OP'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O$vP'[$v$vP$v$v'k$v'w(W(g(j(pPPP$vP(sQSOQ#UXQ#VYQ#`!wQ$Q#fQ$R#gQ$S#hQ$T#iQ$U#jR$`#{e_OXY!w#f#g#h#i#j#{eROXY!w#f#g#h#i#j#{Q!xRR#b!yQ#^!vQ#}#cQ$a$OR$h$bR#x#]Q#y#]R$f$^Q!yRQ#SUR#b!xR#_!wQ#f!zQ#g!{Q#h!|Q#i!}R#j#OY#d!z!{!|!}#OR$P#eeUOXY!w#f#g#h#i#j#{eTOXY!w#f#g#h#i#j#{d_OXY!w#f#g#h#i#j#{R#p#ReYOXY!w#f#g#h#i#j#{d]OXY!w#f#g#h#i#j#{R!uPd^OXY!w#f#g#h#i#j#{R#[]R#X[Q#Y[R$[#uR#t#WR#q#R",nodeNames:"⚠ Bool Ignoring On GroupLeft GroupRight Offset Atan2 Avg Bottomk Count CountValues Group Max Min Quantile Stddev Stdvar Sum Topk By Without And Or Unless Start End LineComment PromQL Expr AggregateExpr AggregateOp AggregateModifier GroupingLabels GroupingLabelList GroupingLabel LabelName FunctionCallBody FunctionCallArgs BinaryExpr Pow BinModifiers OnOrIgnoring Mul Div Mod Add Sub Eql Gte Gtr Lte Lss Neq FunctionCall FunctionIdentifier AbsentOverTime Identifier Absent Abs Acos Acosh Asin Asinh Atan Atanh AvgOverTime Ceil Changes Clamp ClampMax ClampMin Cos Cosh CountOverTime DaysInMonth DayOfMonth DayOfWeek DayOfYear Deg Delta Deriv Exp Floor HistogramQuantile HoltWinters Hour Idelta Increase Irate LabelReplace LabelJoin LastOverTime Ln Log10 Log2 MaxOverTime MinOverTime Minute Month Pi PredictLinear PresentOverTime QuantileOverTime Rad Rate Resets Round Scalar Sgn Sin Sinh Sort SortDesc Sqrt StddevOverTime StdvarOverTime SumOverTime Tan Tanh Timestamp Time Vector Year MatrixSelector Duration NumberLiteral OffsetExpr ParenExpr StringLiteral SubqueryExpr UnaryExpr UnaryOp VectorSelector MetricIdentifier LabelMatchers LabelMatchList LabelMatcher MatchOp EqlSingle EqlRegex NeqRegex StepInvariantExpr At AtModifierPreprocessors MetricName",maxTerm:228,propSources:[Bp],skippedNodes:[0,27],repeatNodeCount:0,tokenData:"1R~RwX^#lpq#lqr$ars$tst%huv%swx%xxy&gyz&lz{&q{|&v|}&}}!O'S!O!P'Z!P!Q(Z!Q!R(`!R![)W![!]-r!^!_.n!_!`.{!`!a/b!b!c/o!c!}/t!}#O0[#P#Q0a#Q#R0f#R#S/t#S#T0k#T#o/t#o#p0w#q#r0|#y#z#l$f$g#l#BY#BZ#l$IS$I_#l$I|$JO#l$JT$JU#l$KV$KW#l&FU&FV#l~#qY$[~X^#lpq#l#y#z#l$f$g#l#BY#BZ#l$IS$I_#l$I|$JO#l$JT$JU#l$KV$KW#l&FU&FV#l~$dQ!_!`$j#r#s$o~$oO!V~~$tO$R~~$yU#u~OY$tZr$trs%]s#O$t#O#P%b#P~$t~%bO#u~~%ePO~$t~%mQk~OY%hZ~%h~%xO}~~%}U#u~OY%xZw%xwx%]x#O%x#O#P&a#P~%x~&dPO~%x~&lO$]~~&qO$_~~&vO{~R&}O%xP!OQ~'SO$^~R'ZO%wP!PQP'^P!Q!['aP'fR%yP!Q!['a!g!h'o#X#Y'oP'rR{|'{}!O'{!Q![(RP(OP!Q![(RP(WP%yP!Q![(R~(`O|~R(eZ%yP!O!P'a!Q![)W!g!h'o#W#X){#X#Y'o#[#]*d#a#b*x#g#h+l#k#l+}#l#m-W#m#n,iR)]Y%yP!O!P'a!Q![)W!g!h'o#W#X){#X#Y'o#[#]*d#a#b*x#g#h+l#k#l+}#m#n,iQ*QP#qQ!Q![*TQ*WS!Q![*T#[#]*d#a#b*x#g#h+lQ*iP#qQ!Q![*lQ*oR!Q![*l#a#b*x#g#h+lQ*}Q#qQ!Q![+T#g#h+gQ+WR!Q![+T#a#b+a#g#h+lQ+dP#g#h+gQ+lO#qQQ+qP#qQ!Q![+tQ+wQ!Q![+t#a#b+aQ,SP#qQ!Q![,VQ,YT!Q![,V#W#X){#[#]*d#a#b*x#g#h+lQ,nP#qQ!Q![,qQ,tU!Q![,q#W#X){#[#]*d#a#b*x#g#h+l#k#l+}P-ZR!Q![-d!c!i-d#T#Z-dP-iR%yP!Q![-d!c!i-d#T#Z-dV-yT%zS!ZR!Q![.Y![!].Y!c!}.Y#R#S.Y#T#o.YR._T!ZR!Q![.Y![!].Y!c!}.Y#R#S.Y#T#o.Y~.sP!U~!_!`.v~.{O!T~~/QQ$PP!_!`/W#r#s/]Q/]O!QQ~/bO$Q~~/gP!S~!_!`/j~/oO!R~~/tO$T~V/{T!ZRtS!Q![/t![!].Y!c!}/t#R#S/t#T#o/t~0aO%u~~0fO%v~~0kOx~~0nRO#S0k#S#T%]#T~0k~0|O%{~~1RO%|~",tokenizers:[0,1,2],topRules:{PromQL:[0,28],MetricName:[1,145]},specialized:[{term:57,get:(e,t)=>((e,t)=>Fp[e.toLowerCase()]||-1)(e)<<1},{term:57,get:(e,t)=>((e,t)=>qp[e.toLowerCase()]||-1)(e)<<1|1},{term:57,get:e=>Hp[e]||-1}],tokenPrec:0}),Up=126,Qp=129,Gp=133,Xp=134,Kp=136,Yp=137;function Jp(e){return e.firstChild?Jp(e.firstChild):e}function Zp(e,t){var r;return{text:rf(e,t),from:t.from,to:t.to,parentType:null===(r=t.parent)||void 0===r?void 0:r.name}}const ef=/\$(\w+)|\[\[([\s\S]+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::([^\}]+))?}/g,tf=[(e,t)=>`$${e}`,(e,t)=>`[[${e}${t?`:${t}`:""}]]`,(e,t)=>`\${${e}${t?`:${t}`:""}}`];function rf(e,t){return t?function(e){return e.replace(/__V_(\d)__(.+?)__V__(?:__F__(\w+)__F__)?/g,((e,t,r,n)=>tf[parseInt(t,10)](r,n)))}(e.substring(t.from,t.to)):""}function nf(e,t,r,n){const o=[parseFloat(rf(t,r))];return e.comparison&&o.push(n),{id:e.id,params:o}}function of(e,t,r){if(t.type.id===r||t.name===r)return[rf(e,t)];const n=[];let o=0,i=t.childAfter(o);for(;i;)n.push(...of(e,i,r)),o=i.to,i=t.childAfter(o);return n}function af(e){const t=function(e){return e.replace(ef,((e,t,r,n,o,i,a)=>{const s=n||a;let l=t,c="0";return r&&(l=r,c="1"),o&&(l=o,c="2"),`__V_${c}__`+l+"__V__"+(s?"__F__"+s+"__F__":"")}))}(e),r=Wp.parse(t).topNode,n={query:{metric:"",labels:[],operations:[]},errors:[]};try{sf(t,r,n)}catch(e){console.error(e),e instanceof Error&&n.errors.push({text:e.message})}return 0===(o=n.query).labels.length&&0===o.operations.length&&!o.metric&&(n.errors=[]),n;var o}function sf(e,t,r){const n=r.query;switch(t.type.id){case Xp:n.metric=rf(e,t);break;case Yp:{n.labels.push(function(e,t){return{label:rf(e,t.getChild(36)),op:rf(e,t.getChild(138)),value:rf(e,t.getChild(Qp)).replace(/"/g,"")}}(e,t));const o=t.getChild("⚠");o&&r.errors.push(Zp(e,o));break}case 54:!function(e,t,r){const n=r.query,o=rf(e,t.getChild(55)),i=t.getChild(37).getChild(38),a=[];let s="";if(lf.includes(o)||o.endsWith("_over_time")){let r=rf(e,t).match(/\[(.+)\]/);(null==r?void 0:r[1])&&(s=r[1],a.push(r[1]))}const l={id:o,params:a};if(n.operations.unshift(l),i){if(rf(e,i)===s+"]")return;cf(e,i,r,l)}}(e,t,r);break;case 30:!function(e,t,r){const n=r.query;let o=rf(e,t.getChild(31));const i=t.getChild(32),a=[];i&&(i.getChild("By")&&o&&(o=`__${o}_by`),i.getChild(21)&&(o=`__${o}_without`),a.push(...of(e,i,35)));const s=t.getChild(37).getChild(38),l={id:o,params:[]};n.operations.unshift(l),cf(e,s,r,l),l.params.push(...a)}(e,t,r);break;case 39:!function(e,t,r){const n=r.query,o=t.firstChild,i=rf(e,o.nextSibling),a=function(e,t){if(t){if(t.getChild("Bool"))return{isBool:!0,isMatcher:!1};{var r;const n=t.getChild(42);if(!n)return;return{isMatcher:!0,isBool:!1,matches:rf(e,null===(r=n.getChild(33))||void 0===r?void 0:r.getChild(34)),matchType:n.getChild(3)?"on":"ignoring"}}}}(e,t.getChild(41)),s=t.lastChild,l=Mu[i],c=o.getChild(Up),u=s.getChild(Up),d=s.getChild(39);if(c||sf(e,o,r),u)n.operations.push(nf(l,e,s,!!(null==a?void 0:a.isBool)));else if(d){const t=Jp(s);(null==t?void 0:t.type.id)===Up&&n.operations.push(nf(l,e,t,!!(null==a?void 0:a.isBool))),sf(e,s,r)}else{n.binaryQueries=n.binaryQueries||[];const t={operator:i,query:{metric:"",labels:[],operations:[]}};(null==a?void 0:a.isMatcher)&&(t.vectorMatchesType=a.matchType,t.vectorMatches=a.matches),n.binaryQueries.push(t),sf(e,s,{query:t.query,errors:r.errors})}}(e,t,r);break;case 0:if(function(e){var t,r,n;return 29===(null===(t=e.prevSibling)||void 0===t?void 0:t.type.id)&&(null===(r=e.prevSibling)||void 0===r||null===(n=r.firstChild)||void 0===n?void 0:n.type.id)===Gp}(t))break;r.errors.push(Zp(e,t));break;default:{128===t.type.id&&r.errors.push(Zp(e,t));let n=t.firstChild;for(;n;)sf(e,n,r),n=n.nextSibling}}}const lf=["changes","rate","irate","increase","delta"];function cf(e,t,r,n){if(t)switch(t.type.id){case 29:case 38:{let o=t.firstChild;for(;o;)cf(e,o,r,n),o=o.nextSibling;break}case Up:n.params.push(parseFloat(rf(e,t)));break;case Qp:n.params.push(rf(e,t).replace(/"/g,""));break;default:sf(e,t,r)}}function uf({feedbackUrl:e}){const t=O(df);return i.config.feedbackLinksEnabled?n().createElement(Xc,{gap:1},n().createElement("a",{href:e,className:t.link,title:"This query builder is new, please let us know how we can improve it",target:"_blank",rel:"noreferrer noopener",onClick:()=>(0,i.reportInteraction)("grafana_feedback_link_clicked",{link:e})},n().createElement(ce,{name:"comment-alt-message"})," Give feedback")):null}function df(e){return{link:(0,a.css)({color:e.colors.text.secondary,fontSize:e.typography.bodySmall.fontSize,":hover":{color:e.colors.text.link}})}}const pf=["#D32D20","#1E72B8","#B240A2","#705DA0","#466803","#497A3C","#3D71AA","#B15415","#890F02","#6E6E6E","#0A437C","#6D1F62","#584477","#4C7A3F","#2F4F4F","#BF1B00","#7662B1","#8A2EB8","#517A00","#000000","#3F6833","#2F575E","#99440A","#AE561A","#0E4AB4","#58140C","#052B51","#511749","#3F2B5B"],ff=["#FF7368","#459EE7","#E069CF","#9683C6","#6C8E29","#76AC68","#6AA4E2","#E7823D","#AF3528","#9B9B9B","#3069A2","#934588","#7E6A9D","#88C477","#557575","#E54126","#A694DD","#B054DE","#8FC426","#262626","#658E59","#557D84","#BF6A30","#FF9B53","#3470DA","#7E3A32","#2B5177","#773D6F","#655181"];function hf(e){return{color:pf[e],borderColor:ff[e]}}function mf(){return mf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mf.apply(this,arguments)}const gf=(0,r.forwardRef)(((e,t)=>{var{name:o,onClick:i,icon:s,className:l,colorIndex:c}=e,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["name","onClick","icon","className","colorIndex"]);const d=(0,r.useContext)(g).v1,p=vf(d,o,c),f=(0,a.cx)(p.wrapper,l,{[p.hover]:void 0!==i});return i?n().createElement("button",mf({},u,{className:f,onClick:e=>{e.preventDefault(),e.stopPropagation(),null==i||i(o,e)},ref:t}),s&&n().createElement(ce,{name:s}),o):n().createElement("span",mf({},u,{className:f,ref:t}),s&&n().createElement(ce,{name:s}),o)}));gf.displayName="Tag";const vf=(e,t,r)=>{let n;return n=void 0===r?function(e=""){const t=function(e){let t=5381;for(let r=0;r<e.length;r++)t=(t<<5)+t+e.charCodeAt(r);return t}(e.toLowerCase());return hf(Math.abs(t%pf.length))}(t):hf(r),{wrapper:a.css`
      appearance: none;
      border-style: none;
      font-weight: ${e.typography.weight.semibold};
      font-size: ${e.typography.size.sm};
      line-height: ${e.typography.lineHeight.xs};
      vertical-align: baseline;
      background-color: ${n.color};
      color: ${e.palette.gray98};
      white-space: nowrap;
      text-shadow: none;
      padding: 3px 6px;
      border-radius: ${e.border.radius.md};
    `,hover:a.css`
      &:hover {
        opacity: 0.85;
        cursor: pointer;
      }
    `}},bf=n().forwardRef((({children:e,active:t=!1,disabled:r=!1,size:o="md",onChange:i,onClick:a,id:s,name:l,description:c,fullWidth:u,"aria-label":d},p)=>{const f=w(),h=yf(f,o,u);return n().createElement(n().Fragment,null,n().createElement("input",{type:"radio",className:h.radio,onChange:i,onClick:a,disabled:r,id:s,checked:t,name:l,"aria-label":d,ref:p}),n().createElement("label",{className:h.radioLabel,htmlFor:s,title:c},e))}));bf.displayName="RadioButton";const yf=f(((e,t,r)=>{const{fontSize:n,height:o,padding:i}=R(t,e),s=e.colors.text.secondary,l=e.colors.text.primary,c=o*e.spacing.gridSize-4-2;return{radio:a.css`
      position: absolute;
      opacity: 0;
      z-index: -1000;

      &:checked + label {
        color: ${e.colors.text.primary};
        font-weight: ${e.typography.fontWeightMedium};
        background: ${e.colors.action.selected};
        z-index: 3;
      }

      &:focus + label,
      &:focus-visible + label {
        ${A(e)};
      }

      &:focus:not(:focus-visible) + label {
        ${{outline:"none",boxShadow:"none"}}
      }

      &:disabled + label {
        color: ${e.colors.text.disabled};
        cursor: not-allowed;
      }
    `,radioLabel:a.css`
      display: inline-block;
      position: relative;
      font-size: ${n};
      height: ${c}px;
      // Deduct border from line-height for perfect vertical centering on windows and linux
      line-height: ${c}px;
      color: ${s};
      padding: ${e.spacing(0,i)};
      border-radius: ${e.shape.borderRadius()};
      background: ${e.colors.background.primary};
      cursor: pointer;
      z-index: 1;
      flex: ${r?"1 0 0":"none"};
      text-align: center;
      user-select: none;
      white-space: nowrap;

      &:hover {
        color: ${l};
      }
    `}}));function wf({options:e,value:o,onChange:i,onClick:s,disabled:l,disabledOptions:c,size:u="md",id:d,className:p,fullWidth:f=!1,autoFocus:h=!1}){const m=(0,r.useCallback)((e=>()=>{i&&i(e.value)}),[i]),g=(0,r.useCallback)((e=>()=>{s&&s(e.value)}),[s]),v=null!=d?d:(0,su.uniqueId)("radiogroup-"),b=(0,r.useRef)(v),y=O(Of),w=(0,r.useRef)(null);return(0,r.useEffect)((()=>{h&&w.current&&w.current.focus()}),[h]),n().createElement("div",{className:(0,a.cx)(y.radioGroup,f&&y.fullWidth,p)},e.map(((e,r)=>{const i=c&&e.value&&c.includes(e.value),a=e.icon?(0,t.toIconName)(e.icon):void 0;return n().createElement(bf,{size:u,disabled:i||l,active:o===e.value,key:`o.label-${r}`,"aria-label":e.ariaLabel,onChange:m(e),onClick:g(e),id:`option-${e.value}-${v}`,name:b.current,description:e.description,fullWidth:f,ref:o===e.value?w:void 0},a&&n().createElement(ce,{name:a,className:y.icon}),e.imgUrl&&n().createElement("img",{src:e.imgUrl,alt:e.label,className:y.img}),e.label," ",e.component?n().createElement(e.component,null):null)})))}wf.displayName="RadioButtonGroup";const Of=e=>({radioGroup:(0,a.css)({display:"inline-flex",flexDirection:"row",flexWrap:"nowrap",border:`1px solid ${e.components.input.borderColor}`,borderRadius:e.shape.borderRadius(),padding:"2px"}),fullWidth:(0,a.css)({display:"flex"}),icon:a.css`
      margin-right: 6px;
    `,img:a.css`
      width: ${e.spacing(2)};
      height: ${e.spacing(2)};
      margin-right: ${e.spacing(1)};
    `});var xf;!function(e){e.Code="code",e.Builder="builder"}(xf||(xf={}));const _f=[{label:"Builder",value:xf.Builder,component:()=>n().createElement(gf,{className:(0,a.css)({fontSize:10,padding:"1px 5px",verticalAlign:"text-bottom"}),name:"Beta",colorIndex:1})},{label:"Code",value:xf.Code}];function Ef({mode:e,onChange:t}){return n().createElement("div",{"data-testid":"QueryEditorModeToggle"},n().createElement(wf,{options:_f,size:"sm",value:e,onChange:t}))}function Sf(){return Sf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sf.apply(this,arguments)}function kf(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const Pf=n().forwardRef(((e,o)=>{var{value:i,checked:s,disabled:l,onChange:c,id:u}=e,d=kf(e,["value","checked","disabled","onChange","id"]);s&&(0,t.deprecationWarning)("Switch","checked prop","value");const p=w(),f=Tf(p),h=(0,r.useRef)(u||(0,su.uniqueId)("switch-"));return n().createElement("div",{className:(0,a.cx)(f.switch)},n().createElement("input",Sf({type:"checkbox",disabled:l,checked:i,onChange:e=>{null==c||c(e)},id:h.current},d,{ref:o})),n().createElement("label",{htmlFor:h.current}))}));Pf.displayName="Switch";const Cf=n().forwardRef(((e,t)=>{var{transparent:r,className:o,showLabel:i,label:s,value:l,id:c}=e,u=kf(e,["transparent","className","showLabel","label","value","id"]);const d=w(),p=Tf(d,r);return n().createElement("div",{className:(0,a.cx)(p.inlineContainer,o)},i&&n().createElement("label",{htmlFor:c,className:(0,a.cx)(p.inlineLabel,l&&p.inlineLabelEnabled,"inline-switch-label")},s),n().createElement(Pf,Sf({},u,{id:c,label:s,ref:t,value:l})))}));Cf.displayName="Switch";const Tf=f(((e,t)=>({switch:a.css`
      width: 32px;
      height: 16px;
      position: relative;

      input {
        opacity: 0;
        left: -100vw;
        z-index: -1000;
        position: absolute;

        &:disabled + label {
          background: ${e.colors.action.disabledBackground};
          cursor: not-allowed;
        }

        &:checked + label {
          background: ${e.colors.primary.main};
          border-color: ${e.colors.primary.main};

          &:hover {
            background: ${e.colors.primary.shade};
          }

          &::after {
            transform: translate3d(18px, -50%, 0);
            background: ${e.colors.primary.contrastText};
          }
        }

        &:focus + label,
        &:focus-visible + label {
          ${A(e)}
        }

        &:focus:not(:focus-visible) + label {
          ${{outline:"none",boxShadow:"none"}}
        }
      }

      label {
        width: 100%;
        height: 100%;
        cursor: pointer;
        border: none;
        border-radius: 50px;
        background: ${e.components.input.background};
        border: 1px solid ${e.components.input.borderColor};
        transition: all 0.3s ease;

        &:hover {
          border-color: ${e.components.input.borderHover};
        }

        &::after {
          position: absolute;
          display: block;
          content: '';
          width: 12px;
          height: 12px;
          border-radius: 6px;
          background: ${e.colors.text.secondary};
          box-shadow: ${e.shadows.z1};
          top: 50%;
          transform: translate3d(2px, -50%, 0);
          transition: transform 0.2s cubic-bezier(0.19, 1, 0.22, 1);
        }
      }
    `,inlineContainer:a.css`
      padding: ${e.spacing(0,1)};
      height: ${e.spacing(e.components.height.md)};
      display: inline-flex;
      align-items: center;
      background: ${t?"transparent":e.components.input.background};
      border: 1px solid ${t?"transparent":e.components.input.borderColor};
      border-radius: ${e.shape.borderRadius()};

      &:hover {
        border: 1px solid ${t?"transparent":e.components.input.borderHover};

        .inline-switch-label {
          color: ${e.colors.text.primary};
        }
      }
    `,inlineLabel:a.css`
      cursor: pointer;
      padding-right: ${e.spacing(1)};
      color: ${e.colors.text.secondary};
      white-space: nowrap;
    `,inlineLabelEnabled:a.css`
      color: ${e.colors.text.primary};
    `})));function Df(){return Df=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Df.apply(this,arguments)}function If(e){var{label:t}=e,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["label"]);const i=t.replace(" ","-"),a=(0,r.useRef)((0,su.uniqueId)(`switch-${i}`)),s=O(Af);return n().createElement(Xc,{gap:1},n().createElement("label",{htmlFor:a.current,className:s.switchLabel},t),n().createElement(Pf,Df({},o,{id:a.current})))}const Af=e=>({switchLabel:(0,a.css)({color:e.colors.text.secondary,cursor:"pointer",fontSize:e.typography.bodySmall.fontSize,"&:hover":{color:e.colors.text.primary}})}),jf=new class{get(e){return window.localStorage[e]}set(e,t){window.localStorage[e]=t}getBool(e,t){return void 0===t||this.exists(e)?"true"===window.localStorage[e]:t}getObject(e,t){let r=t;if(this.exists(e)){const n=window.localStorage[e];try{r=JSON.parse(n)}catch(r){console.error(`Error parsing store object: ${e}. Returning default: ${t}. [${r}]`)}}return r}setObject(e,t){let r;try{r=JSON.stringify(t)}catch(t){throw new Error(`Could not stringify object: ${e}. [${t}]`)}try{this.set(e,r)}catch(t){const r=new Error(`Could not save item in localStorage: ${e}. [${t}]`);throw t instanceof Error&&(r.name=t.name),r}return!0}exists(e){return void 0!==window.localStorage[e]}delete(e){window.localStorage.removeItem(e)}};function Mf(e,t=!1){const[n,o]=(0,r.useState)(function(e,t=!1){const r=jf.get(e);return void 0===r?t:Boolean(parseInt(r,10))}(e,t));return{flag:n,setFlag:(0,r.useCallback)((t=>{!function(e,t){jf.set(e,t?"1":"0")}(e,t),o(t)}),[e])}}var Nf,Rf;function Lf(e){return"values"in e}function $f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){$f(e,t,r[t])}))}return e}function zf(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}!function(e){e.timeSeriesQuery="timeSeriesQuery"}(Nf||(Nf={})),function(e){e.Auto="__auto",e.Verbose="__verbose",e.Custom="__custom"}(Rf||(Rf={}));const Ff="PrometheusQueryEditorModeDefault";function qf(e,t,r){""===e.expr&&jf.set(Ff,t),r(zf(Vf({},e),{editorMode:t}))}function Bf(e){if(null!=e&&""!==e)return xf.Code;const t=jf.get(Ff);switch(t){case xf.Builder:case xf.Code:return t;default:return xf.Builder}}function Hf(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Wf(e){return!!e&&!!e[Ih]}function Uf(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===Ah}(e)||Array.isArray(e)||!!e[Dh]||!!e.constructor[Dh]||Jf(e)||Zf(e))}function Qf(e,t,r){void 0===r&&(r=!1),0===Gf(e)?(r?Object.keys:jh)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function Gf(e){var t=e[Ih];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Jf(e)?2:Zf(e)?3:0}function Xf(e,t){return 2===Gf(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Kf(e,t,r){var n=Gf(e);2===n?e.set(t,r):3===n?(e.delete(t),e.add(r)):e[t]=r}function Yf(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Jf(e){return kh&&e instanceof Map}function Zf(e){return Ph&&e instanceof Set}function eh(e){return e.o||e.t}function th(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Mh(e);delete t[Ih];for(var r=jh(t),n=0;n<r.length;n++){var o=r[n],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function rh(e,t){return void 0===t&&(t=!1),oh(e)||Wf(e)||!Uf(e)||(Gf(e)>1&&(e.set=e.add=e.clear=e.delete=nh),Object.freeze(e),t&&Qf(e,(function(e,t){return rh(t,!0)}),!0)),e}function nh(){Hf(2)}function oh(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function ih(e){var t=Nh[e];return t||Hf(18,e),t}function ah(){return Eh}function sh(e,t){t&&(ih("Patches"),e.u=[],e.s=[],e.v=t)}function lh(e){ch(e),e.p.forEach(dh),e.p=null}function ch(e){e===Eh&&(Eh=e.l)}function uh(e){return Eh={p:[],l:Eh,h:e,m:!0,_:0}}function dh(e){var t=e[Ih];0===t.i||1===t.i?t.j():t.O=!0}function ph(e,t){t._=t.p.length;var r=t.p[0],n=void 0!==e&&e!==r;return t.h.g||ih("ES5").S(t,e,n),n?(r[Ih].P&&(lh(t),Hf(4)),Uf(e)&&(e=fh(t,e),t.l||mh(t,e)),t.u&&ih("Patches").M(r[Ih].t,e,t.u,t.s)):e=fh(t,r,[]),lh(t),t.u&&t.v(t.u,t.s),e!==Th?e:void 0}function fh(e,t,r){if(oh(t))return t;var n=t[Ih];if(!n)return Qf(t,(function(o,i){return hh(e,n,t,o,i,r)}),!0),t;if(n.A!==e)return t;if(!n.P)return mh(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=4===n.i||5===n.i?n.o=th(n.k):n.o;Qf(3===n.i?new Set(o):o,(function(t,i){return hh(e,n,o,t,i,r)})),mh(e,o,!1),r&&e.u&&ih("Patches").R(n,r,e.u,e.s)}return n.o}function hh(e,t,r,n,o,i){if(Wf(o)){var a=fh(e,o,i&&t&&3!==t.i&&!Xf(t.D,n)?i.concat(n):void 0);if(Kf(r,n,a),!Wf(a))return;e.m=!1}if(Uf(o)&&!oh(o)){if(!e.h.F&&e._<1)return;fh(e,o),t&&t.A.l||mh(e,o)}}function mh(e,t,r){void 0===r&&(r=!1),e.h.F&&e.m&&rh(t,r)}function gh(e,t){var r=e[Ih];return(r?eh(r):e)[t]}function vh(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function bh(e){e.P||(e.P=!0,e.l&&bh(e.l))}function yh(e){e.o||(e.o=th(e.t))}function wh(e,t,r){var n=Jf(t)?ih("MapSet").N(t,r):Zf(t)?ih("MapSet").T(t,r):e.g?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:ah(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=n,i=Rh;r&&(o=[n],i=Lh);var a=Proxy.revocable(o,i),s=a.revoke,l=a.proxy;return n.k=l,n.j=s,l}(t,r):ih("ES5").J(t,r);return(r?r.A:ah()).p.push(n),n}function Oh(e){return Wf(e)||Hf(22,e),function e(t){if(!Uf(t))return t;var r,n=t[Ih],o=Gf(t);if(n){if(!n.P&&(n.i<4||!ih("ES5").K(n)))return n.t;n.I=!0,r=xh(t,o),n.I=!1}else r=xh(t,o);return Qf(r,(function(t,o){n&&function(e,t){return 2===Gf(e)?e.get(t):e[t]}(n.t,t)===o||Kf(r,t,e(o))})),3===o?new Set(r):r}(e)}function xh(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return th(e)}var _h,Eh,Sh="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),kh="undefined"!=typeof Map,Ph="undefined"!=typeof Set,Ch="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Th=Sh?Symbol.for("immer-nothing"):((_h={})["immer-nothing"]=!0,_h),Dh=Sh?Symbol.for("immer-draftable"):"__$immer_draftable",Ih=Sh?Symbol.for("immer-state"):"__$immer_state",Ah=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),jh="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Mh=Object.getOwnPropertyDescriptors||function(e){var t={};return jh(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},Nh={},Rh={get:function(e,t){if(t===Ih)return e;var r=eh(e);if(!Xf(r,t))return function(e,t,r){var n,o=vh(t,r);return o?"value"in o?o.value:null===(n=o.get)||void 0===n?void 0:n.call(e.k):void 0}(e,r,t);var n=r[t];return e.I||!Uf(n)?n:n===gh(e.t,t)?(yh(e),e.o[t]=wh(e.A.h,n,e)):n},has:function(e,t){return t in eh(e)},ownKeys:function(e){return Reflect.ownKeys(eh(e))},set:function(e,t,r){var n=vh(eh(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=gh(eh(e),t),i=null==o?void 0:o[Ih];if(i&&i.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(Yf(r,o)&&(void 0!==r||Xf(e.t,t)))return!0;yh(e),bh(e)}return e.o[t]===r&&"number"!=typeof r&&(void 0!==r||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==gh(e.t,t)||t in e.t?(e.D[t]=!1,yh(e),bh(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=eh(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){Hf(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Hf(12)}},Lh={};Qf(Rh,(function(e,t){Lh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Lh.deleteProperty=function(e,t){return Lh.set.call(this,e,t,void 0)},Lh.set=function(e,t,r){return Rh.set.call(this,e[0],t,r,e[0])};var $h=function(){function e(e){var t=this;this.g=Ch,this.F=!0,this.produce=function(e,r,n){if("function"==typeof e&&"function"!=typeof r){var o=r;r=e;var i=t;return function(e){var t=this;void 0===e&&(e=o);for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return i.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(a))}))}}var a;if("function"!=typeof r&&Hf(6),void 0!==n&&"function"!=typeof n&&Hf(7),Uf(e)){var s=uh(t),l=wh(t,e,void 0),c=!0;try{a=r(l),c=!1}finally{c?lh(s):ch(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return sh(s,n),ph(e,s)}),(function(e){throw lh(s),e})):(sh(s,n),ph(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=r(e))&&(a=e),a===Th&&(a=void 0),t.F&&rh(a,!0),n){var u=[],d=[];ih("Patches").M(e,a,u,d),n(u,d)}return a}Hf(21,e)},this.produceWithPatches=function(e,r){if("function"==typeof e)return function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return t.produceWithPatches(r,(function(t){return e.apply(void 0,[t].concat(o))}))};var n,o,i=t.produce(e,r,(function(e,t){n=e,o=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,n,o]})):[i,n,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Uf(e)||Hf(8),Wf(e)&&(e=Oh(e));var t=uh(this),r=wh(this,e,void 0);return r[Ih].C=!0,ch(t),r},t.finishDraft=function(e,t){var r=(e&&e[Ih]).A;return sh(r,t),ph(void 0,r)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Ch&&Hf(20),this.g=e},t.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var o=ih("Patches").$;return Wf(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),Vh=new $h,zh=Vh.produce;Vh.produceWithPatches.bind(Vh),Vh.setAutoFreeze.bind(Vh),Vh.setUseProxies.bind(Vh),Vh.applyPatches.bind(Vh),Vh.createDraft.bind(Vh),Vh.finishDraft.bind(Vh);const Fh=zh;var qh=v(13129),Bh=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Hh=function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},Wh=Object.defineProperty,Uh=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Qh=Object.prototype.hasOwnProperty,Gh=Object.prototype.propertyIsEnumerable,Xh=function(e,t,r){return t in e?Wh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Kh=function(e,t){for(var r in t||(t={}))Qh.call(t,r)&&Xh(e,r,t[r]);if(Uh)for(var n=0,o=Uh(t);n<o.length;n++)r=o[n],Gh.call(t,r)&&Xh(e,r,t[r]);return e};function Yh(e){return Uf(e)?Fh(e,(function(){})):e}function Jh(e,t){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return Kh(Kh({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(t){return t.type===e},r}function Zh(e){var t,r={},n=[],o={addCase:function(e,t){var n="string"==typeof e?e:e.type;if(n in r)throw new Error("addCase cannot be called with two reducers for the same action type");return r[n]=t,o},addMatcher:function(e,t){return n.push({matcher:e,reducer:t}),o},addDefaultCase:function(e){return t=e,o}};return e(o),[r,n,t]}function em(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var r,n="function"==typeof e.initialState?e.initialState:Yh(e.initialState),o=e.reducers||{},i=Object.keys(o),a={},s={},l={};function c(){var t="function"==typeof e.extraReducers?Zh(e.extraReducers):[e.extraReducers],r=t[0],o=void 0===r?{}:r,i=t[1],a=void 0===i?[]:i,l=t[2],c=void 0===l?void 0:l,u=Kh(Kh({},o),s);return function(e,t,r,n){void 0===r&&(r=[]);var o,i="function"==typeof t?Zh(t):[t,r,n],a=i[0],s=i[1],l=i[2];if(function(e){return"function"==typeof e}(e))o=function(){return Yh(e())};else{var c=Yh(e);o=function(){return c}}function u(e,t){void 0===e&&(e=o());var r=Hh([a[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===r.filter((function(e){return!!e})).length&&(r=[l]),r.reduce((function(e,r){if(r){var n;if(Wf(e))return void 0===(n=r(e,t))?e:n;if(Uf(e))return Fh(e,(function(e){return r(e,t)}));if(void 0===(n=r(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}return e}),e)}return u.getInitialState=o,u}(n,u,a,c)}return i.forEach((function(e){var r,n,i=o[e],c=function(e,t){return e+"/"+t}(t,e);"reducer"in i?(r=i.reducer,n=i.prepare):r=i,a[e]=r,s[c]=r,l[e]=n?Jh(c,n):Jh(c)})),{name:t,reducer:function(e,t){return r||(r=c()),r(e,t)},actions:l,caseReducers:a,getInitialState:function(){return r||(r=c()),r.getInitialState()}}}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,function(e){function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=e.apply(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o}Bh(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Hh([void 0],e[0].concat(this)))):new(t.bind.apply(t,Hh([void 0],e.concat(this))))}}(Array),Object.assign;var tm="listenerMiddleware";Jh(tm+"/add"),Jh(tm+"/removeAll"),Jh(tm+"/remove"),function(){function e(e,t){var r=o[e];return r?r.enumerable=t:o[e]=r={configurable:!0,enumerable:t,get:function(){var t=this[Ih];return Rh.get(t,e)},set:function(t){var r=this[Ih];Rh.set(r,e,t)}},r}function t(e){for(var t=e.length-1;t>=0;t--){var o=e[t][Ih];if(!o.P)switch(o.i){case 5:n(o)&&bh(o);break;case 4:r(o)&&bh(o)}}}function r(e){for(var t=e.t,r=e.k,n=jh(r),o=n.length-1;o>=0;o--){var i=n[o];if(i!==Ih){var a=t[i];if(void 0===a&&!Xf(t,i))return!0;var s=r[i],l=s&&s[Ih];if(l?l.t!==a:!Yf(s,a))return!0}}var c=!!t[Ih];return n.length!==jh(t).length+(c?0:1)}function n(e){var t=e.k;if(t.length!==e.t.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);if(r&&!r.get)return!0;for(var n=0;n<t.length;n++)if(!t.hasOwnProperty(n))return!0;return!1}var o={};!function(e,t){Nh[e]||(Nh[e]=t)}("ES5",{J:function(t,r){var n=Array.isArray(t),o=function(t,r){if(t){for(var n=Array(r.length),o=0;o<r.length;o++)Object.defineProperty(n,""+o,e(o,!0));return n}var i=Mh(r);delete i[Ih];for(var a=jh(i),s=0;s<a.length;s++){var l=a[s];i[l]=e(l,t||!!i[l].enumerable)}return Object.create(Object.getPrototypeOf(r),i)}(n,t),i={i:n?5:4,A:r?r.A:ah(),P:!1,I:!1,D:{},l:r,t,k:o,o:null,O:!1,C:!1};return Object.defineProperty(o,Ih,{value:i,writable:!0}),o},S:function(e,r,o){o?Wf(r)&&r[Ih].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var r=t[Ih];if(r){var o=r.t,i=r.k,a=r.D,s=r.i;if(4===s)Qf(i,(function(t){t!==Ih&&(void 0!==o[t]||Xf(o,t)?a[t]||e(i[t]):(a[t]=!0,bh(r)))})),Qf(o,(function(e){void 0!==i[e]||Xf(i,e)||(a[e]=!1,bh(r))}));else if(5===s){if(n(r)&&(bh(r),a.length=!0),i.length<o.length)for(var l=i.length;l<o.length;l++)a[l]=!1;else for(var c=o.length;c<i.length;c++)a[c]=!0;for(var u=Math.min(i.length,o.length),d=0;d<u;d++)i.hasOwnProperty(d)||(a[d]=!0),void 0===a[d]&&e(i[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?r(e):n(e)}})}();const rm=({children:e})=>{const t=O(nm);return n().createElement("div",{className:t.root},n().createElement(Xc,{gap:2},e))},nm=e=>({root:(0,a.css)({padding:e.spacing(1),backgroundColor:e.colors.background.secondary,borderRadius:e.shape.borderRadius(1)})});var om=v(35295),im=v.n(om),am=v(93342),sm=v.n(am),lm=v(27388);function cm(e,t,r,n="="){if(!t||!r)throw new Error("Need label to add to query.");const o=function(e){const t=Wp.parse(e),r=[];return t.iterate({enter:({to:t,from:n,type:o})=>{if(o.id===Gp){const o=af(e.substring(n,t));return r.push({query:o.query,from:n,to:t}),!1}}}),r}(e);if(!o.length)return e;const i=function(e,t,r){return{label:e,op:r,value:t===1/0?"+Inf":t.toString()}}(t,r,n);return function(e,t,r){const n=new Ku;let o="",i=0;for(let a=0;a<t.length;a++){const s=t[a],l=a===t.length-1,c=e.substring(i,s.from),u=l?e.substring(s.to):"";um(s.query.labels,r)||s.query.labels.push(r),o+=c+n.renderQuery(s.query)+u,i=s.to}return o}(e,o,i)}function um(e,t){return e.find((e=>e.label===t.label&&e.value===t.value))}function dm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const pm=/\{[^}]*?(\}|$)/,fm=/\b(\w+)(!?=~?)("[^"\n]*?")/g;function hm(e,t=1){if(!e.match(pm)){if(e.match(/^[A-Za-z:][\w:]*$/))return{selector:`{__name__="${e}"}`,labelKeys:["__name__"]};throw new Error("Query must contain a selector: "+e)}const r=e.slice(0,t),n=r.lastIndexOf("{"),o=r.lastIndexOf("}");if(-1===n)throw new Error("Not inside selector, missing open brace: "+r);if(o>-1&&o>n)throw new Error("Not inside selector, previous selector already closed: "+r);const i=e.slice(t),a=i.indexOf("}")+t,s=i.indexOf("{"),l=s+t;if(-1===a)throw new Error("Not inside selector, missing closing brace in suffix: "+i);if(s>-1&&l<a)throw new Error("Not inside selector, next selector opens before this one closed: "+i);const c=e.slice(n,a),u={};c.replace(fm,((r,n,o,i)=>{const a=e.indexOf(r),s=a+n.length+o.length+1,l=a+n.length+o.length+i.length-1;return(t<s||t>l)&&(u[n]={value:i,operator:o}),""}));const d=e.slice(0,n).match(/[A-Za-z:][\w:]*$/);d&&(u.__name__={value:`"${d[0]}"`,operator:"="});const p=Object.keys(u).sort(),f=p.map((e=>`${e}${u[e].operator}${u[e].value}`)).join(",");return{labelKeys:p,selector:["{",f,"}"].join("")}}function mm(e){return gm(e/1e3)}function gm(e){return Math.floor(e/60)}function vm(e){return e.slice(0,Im)}function bm(e){return e&&e.length>=Im?`, limited to the first ${Im} received items`:""}const ym=/[*+?()|\\.\[\]{}^$]/g;function wm(e){return e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/"/g,'\\"')}function Om(e){return wm(e.replace(ym,"\\$&"))}const xm={"=":t.AbstractLabelOperator.Equal,"!=":t.AbstractLabelOperator.NotEqual,"=~":t.AbstractLabelOperator.EqualRegEx,"!~":t.AbstractLabelOperator.NotEqualRegEx},_m=(0,su.invert)(xm);function Em(e){const t=e.labelMatchers.map((e=>{const t=_m[e.operator];return t?`${e.name}${t}"${e.value}"`:""})).filter((e=>""!==e)).join(", ");return t?`{${t}}`:""}function Sm(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function km(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Sm(i,n,o,a,s,"next",e)}function s(e){Sm(i,n,o,a,s,"throw",e)}a(void 0)}))}}function Pm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Pm(e,t,r[t])}))}return e}function Tm(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const Dm=["job","instance"],Im=1e4,Am=e=>({label:e}),jm=e=>(e.kind="function",e);function Mm(e,t){if(!t[e])return;const{type:r,help:n}=t[e];return`${r.toUpperCase()}: ${n}`}const Nm=/(="|!="|=~"|!~"|\{|\[|\(|\+|-|\/|\*|%|\^|\band\b|\bor\b|\bunless\b|==|>=|!=|<=|>|<|=|~|,)/;class Rm extends t.LanguageProvider{cleanText(e){return e.split(Nm).pop().trimLeft().replace(/"$/,"").replace(/^"/,"")}get syntax(){return ou}loadMetricsMetadata(){var e=this;return km((function*(){e.metricsMetadata=function(e){if(!e)return e;const t={},r={};for(const n in e){const o=e[n][0];t[n]=o,"histogram"===o.type&&(r[`${n}_bucket`]={type:"counter",help:`Cumulative counters for the observation buckets (${o.help})`},r[`${n}_count`]={type:"counter",help:`Count of events that have been observed for the histogram metric (${o.help})`},r[`${n}_sum`]={type:"counter",help:`Total sum of all observed values for the histogram metric (${o.help})`}),"summary"===o.type&&(r[`${n}_count`]={type:"counter",help:`Count of events that have been observed for the base metric (${o.help})`},r[`${n}_sum`]={type:"counter",help:`Total sum of all observed values for the base metric (${o.help})`})}return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){dm(e,t,r[t])}))}return e}({},t,r,{ALERTS:{type:"counter",help:"Time series showing pending and firing alerts. The sample value is set to 1 as long as the alert is in the indicated active (pending or firing) state."}})}(yield e.request("/api/v1/metadata",{},{},{showErrorAlert:!1}))}))()}getLabelKeys(){return this.labelKeys}getRangeCompletionItems(){return{context:"context-range",suggestions:[{label:"Range vector",items:[...tu]}]}}importFromAbstractQuery(e){return function(e){return{refId:e.refId,expr:Em(e),range:!0}}(e)}exportToAbstractQuery(e){const r=e.expr;if(!r||0===r.length)return{refId:e.refId,labelMatchers:[]};const n=sm().tokenize(r,ou),o=function(e){const t=[];for(let r in e)if(e[r]instanceof am.Token){let n=e[r];if("context-labels"===n.type){let e="",r="",o="",i=n.content;for(let n in i)if("string"==typeof i[n]){let e;e=i[n],"="!==e&&"!="!==e&&"=~"!==e&&"!~"!==e||(o=e)}else if(i[n]instanceof am.Token)switch(i[n].type){case"label-key":e=i[n].content;break;case"label-value":r=i[n].content,r=r.substring(1,r.length-1);const a=xm[o];a&&t.push({name:e,operator:a,value:r})}}}return t}(n),i=function(e,t){let r="";for(let e in t)if("string"==typeof t[e]){r=t[e];break}return r}(0,n);return i&&i.length>0&&o.push({name:"__name__",operator:t.AbstractLabelOperator.Equal,value:i}),{refId:e.refId,labelMatchers:o}}getSeries(e,t){var r=this;return km((function*(){if(r.datasource.lookupsDisabled)return{};try{return"{}"===e?yield r.fetchDefaultSeries():yield r.fetchSeriesLabels(e,t)}catch(e){return console.error(e),{}}}))()}getLabelValues(e){var t=this;return km((function*(){return yield t.fetchLabelValues(e)}))()}fetchLabels(){var e=this;return km((function*(){const t=e.datasource.getTimeRangeParams();e.labelFetchTs=Date.now().valueOf();const r=yield e.request("/api/v1/labels",[],t);return Array.isArray(r)&&(e.labelKeys=r.slice().sort()),[]}))()}constructor(e,r){super(),this.labelKeys=[],this.labelsCache=new(im())({max:10});var n=this;this.request=function(){var e=km((function*(e,t,r={},o){try{return(yield n.datasource.metadataRequest(e,r,o)).data.data}catch(e){console.error(e)}return t}));return function(t,r){return e.apply(this,arguments)}}();var o=this;this.start=km((function*(){return o.datasource.lookupsDisabled||(yield o.fetchLabels(),o.metrics=(yield o.fetchLabelValues("__name__"))||[],yield o.loadMetricsMetadata(),o.histogramMetrics=(e=>{const t=new Set,r=new RegExp("_bucket($|:)");for(let n=0;n<e.length;n++){const o=e[n];r.test(o)&&t.add(o)}return[...t]})(o.metrics).sort()),[]}));var i=this;this.provideCompletionItems=function(){var e=km((function*({prefix:e,text:t,value:r,labelKey:n,wrapperClasses:o},a={}){const s={suggestions:[]};if(!r)return s;const l=0===r.document.text.length,c=r.document.getTextsAtRange(r.selection),u=1===c.size?c.first().getText():null,d=u?u[r.selection.anchor.offset]:null,p=o.length>3,f=e&&!p,h=!d||")"===d,m=e&&!t.match(/^[\]})\s]+$/)&&h,g=t.match(/[+\-*/^%]/);return o.includes("context-range")?i.getRangeCompletionItems():o.includes("context-labels")?i.getLabelCompletionItems({prefix:e,text:t,value:r,labelKey:n,wrapperClasses:o}):o.includes("context-aggregation")?i.getAggregationCompletionItems(r):l?i.getEmptyCompletionItems(a):f&&h&&!g?i.getBeginningCompletionItems(a):f&&m?i.getTermCompletionItems():s}));return function(t){return e.apply(this,arguments)}}(),this.getBeginningCompletionItems=e=>({suggestions:[...this.getEmptyCompletionItems(e).suggestions,...this.getTermCompletionItems().suggestions]}),this.getEmptyCompletionItems=e=>{const{history:r}=e,n=[];if(r&&r.length){const e=(0,su.chain)(r).map((e=>e.query.expr)).filter().uniq().take(5).map(Am).map((e=>function(e,r){const n=Date.now()-864e5,o=r.filter((t=>t.ts>n&&t.query===e.label)),i=o.length,a=o[0];let s=`Queried ${i} times in the last 24h.`;return a&&(s=`${s} Last queried ${(0,t.dateTime)(a.ts).fromNow()}.`),Tm(Cm({},e),{documentation:s})}(e,r))).value();n.push({searchFunctionType:lm.SearchFunctionType.Prefix,skipSort:!0,label:"History",items:e})}return{suggestions:n}},this.getTermCompletionItems=()=>{const{metrics:e,metricsMetadata:t}=this,r=[];return r.push({searchFunctionType:lm.SearchFunctionType.Prefix,label:"Functions",items:ru.map(jm)}),e&&e.length&&r.push({label:"Metrics",items:e.map((e=>function(e,t){const r={label:e};return t&&t[e]&&(r.documentation=Mm(e,t)),r}(e,t))),searchFunctionType:lm.SearchFunctionType.Fuzzy}),{suggestions:r}};var a=this;this.getAggregationCompletionItems=function(){var e=km((function*(e){const t=[];let r;const n=e.document.getBlocks().reduce(((t,n)=>{if(void 0===t)return"";if(!n)return t;const o=null==n?void 0:n.getText();return e.anchorBlock.key===n.key&&(r=e.selection.anchor.offset+t.length),t+o}),""),o=n.lastIndexOf("(",r);let i=n.lastIndexOf("(",o-1),s=n.indexOf(")",i);if(-1===i){const e=n.indexOf(")",r);s=n.indexOf(")",e+1),i=n.lastIndexOf("(",s)}const l={suggestions:t,context:"context-aggregation"};if(-1===i)return l;const c=n.slice(i+1,s).replace(/\[[^\]]+\]$/,""),u=hm(c,c.length-2).selector,d=yield a.getSeries(u),p=Object.keys(d);if(p.length>0){const e=bm(p);t.push({label:`Labels${e}`,items:p.map(Am),searchFunctionType:lm.SearchFunctionType.Fuzzy})}return l}));return function(t){return e.apply(this,arguments)}}();var s=this;this.getLabelCompletionItems=function(){var e=km((function*({text:e,wrapperClasses:t,labelKey:r,value:n}){if(!n)return{suggestions:[]};const o=[],i=n.anchorBlock.getText(),a=n.selection.anchor.offset,l=i.substr(a),c=i.substr(0,a),u=e.match(/^(=|=~|!=|!~)/),d=l.match(/^"?[,}]|$/),p=c.match(/(=|=~|!=|!~)$/)&&l.match(/^"/);if((!u||!d)&&(!d||u)||p)return{suggestions:o};let f,h;try{h=hm(i,a),f=h.selector}catch(e){f="{}"}const m=f.includes("__name__="),g=h?h.labelKeys:[];let v,b={};if(f&&(b=yield s.getSeries(f,!m)),0===Object.keys(b).length)return console.warn(`Server did not return any values for selector = ${f}`),{suggestions:o};if(e&&u||t.includes("attr-value")){if(r&&b[r]){v="context-label-values";const e=bm(b[r]);o.push({label:`Label values for "${r}"${e}`,items:b[r].map(Am),searchFunctionType:lm.SearchFunctionType.Fuzzy})}}else{const e=b?Object.keys(b):m?null:Dm;if(e){const t=(0,su.difference)(e,g);if(t.length){v="context-labels";const e=t.map((e=>({label:e}))),r={label:`Labels${bm(e)}`,items:e,searchFunctionType:lm.SearchFunctionType.Fuzzy};o.push(r)}}}return{context:v,suggestions:o}}));return function(t){return e.apply(this,arguments)}}();var l=this;this.fetchLabelValues=function(){var e=km((function*(e){const t=l.datasource.getTimeRangeParams(),r=`/api/v1/label/${l.datasource.interpolateString(e)}/values`;return yield l.request(r,[],t)}));return function(t){return e.apply(this,arguments)}}();var c=this;this.fetchSeriesLabels=function(){var e=km((function*(e,t){const r=c.datasource.interpolateString(e),n=c.datasource.getTimeRangeParams(),o=Tm(Cm({},n),{"match[]":r}),i=`/api/v1/series?${new URLSearchParams({"match[]":r,start:gm(parseInt(n.start,10)).toString(),end:gm(parseInt(n.end,10)).toString(),withName:t?"true":"false"}).toString()}`;let a=c.labelsCache.get(i);if(!a){const e=yield c.request("/api/v1/series",[],o),{values:r}=function(e,t=!1){const r={};e.forEach((e=>{const{__name__:n}=e,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["__name__"]);t&&(r.__name__=r.__name__||new Set,r.__name__.has(n)||r.__name__.add(n)),Object.keys(o).forEach((e=>{r[e]||(r[e]=new Set),r[e].has(o[e])||r[e].add(o[e])}))}));const n={};return vm(Object.keys(r)).forEach((e=>{n[e]=vm(Array.from(r[e]))})),{values:n,keys:Object.keys(n)}}(e,t);a=r,c.labelsCache.set(i,a)}return a}));return function(t,r){return e.apply(this,arguments)}}();var u=this;this.fetchSeries=function(){var e=km((function*(e){const t=Tm(Cm({},u.datasource.getTimeRangeParams()),{"match[]":e});return yield u.request("/api/v1/series",{},t)}));return function(t){return e.apply(this,arguments)}}();var d=this;this.fetchDefaultSeries=(0,su.once)(km((function*(){const e=yield Promise.all(Dm.map((e=>d.fetchLabelValues(e))));return Dm.reduce(((t,r,n)=>Tm(Cm({},t),{[r]:e[n]})),{})}))),this.datasource=e,this.histogramMetrics=[],this.timeRange={start:0,end:0},this.metrics=[],Object.assign(this,r)}}const Lm=({children:e})=>n().createElement(Xc,{gap:1},e);function $m(e){let t;const r=n().Children.only(e);return"id"in(null==r?void 0:r.props)?t=r.props.id:"inputId"in r.props&&(t=null==r?void 0:r.props.inputId),"string"==typeof t?t:void 0}function Vm(e,t){if(n().isValidElement(e)||"string"==typeof e||"number"==typeof e)return e;if("function"==typeof e)return e(t);throw new Error(`${e} is not a React element nor a function that returns React element`)}const zm=f((e=>{const t=`\n      font-size: ${e.typography.size.sm};\n      font-weight: ${e.typography.fontWeightMedium};\n      padding: ${e.spacing(.5,1)};\n      color: ${e.colors.error.contrastText};\n      background: ${e.colors.error.main};\n      border-radius: ${e.shape.borderRadius()};\n      position: relative;\n      display: inline-block;\n\n      a {\n        color: ${e.colors.error.contrastText};\n        text-decoration: underline;\n      }\n\n      a:hover {\n        text-decoration: none;\n      }\n    `;return{vertical:a.css`
      ${t}
      margin: ${e.spacing(.5,0,0,0)};

      &:before {
        content: '';
        position: absolute;
        left: 9px;
        top: -5px;
        width: 0;
        height: 0;
        border-width: 0 4px 5px 4px;
        border-color: transparent transparent ${e.colors.error.main} transparent;
        border-style: solid;
      }
    `,horizontal:a.css`
      ${t}
      margin-left: 10px;

      &:before {
        content: '';
        position: absolute;
        left: -5px;
        top: 9px;
        width: 0;
        height: 0;
        border-width: 4px 5px 4px 0;
        border-color: transparent #e02f44 transparent transparent;
        border-style: solid;
      }
    `,fieldValidationMessageIcon:a.css`
      margin-right: ${e.spacing()};
    `}})),Fm=({children:e,horizontal:t,className:r})=>{const o=w(),i=zm(o),s=(0,a.cx)(t?i.horizontal:i.vertical,r);return n().createElement("div",{role:"alert",className:s},n().createElement(ce,{className:i.fieldValidationMessageIcon,name:"exclamation-triangle"}),e)};function qm(){return qm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qm.apply(this,arguments)}const Bm=f((e=>({label:a.css`
      label: Label;
      font-size: ${e.typography.size.sm};
      font-weight: ${e.typography.fontWeightMedium};
      line-height: 1.25;
      margin-bottom: ${e.spacing(.5)};
      color: ${e.colors.text.primary};
      max-width: 480px;
    `,labelContent:a.css`
      display: flex;
      align-items: center;
    `,description:a.css`
      label: Label-description;
      color: ${e.colors.text.secondary};
      font-size: ${e.typography.size.sm};
      font-weight: ${e.typography.fontWeightRegular};
      margin-top: ${e.spacing(.25)};
      display: block;
    `,categories:a.css`
      label: Label-categories;
      display: inline-flex;
      align-items: center;
    `,chevron:a.css`
      margin: 0 ${e.spacing(.25)};
    `}))),Hm=e=>{var{children:t,description:r,className:o,category:i}=e,s=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["children","description","className","category"]);const l=w(),c=Bm(l),u=null==i?void 0:i.map(((e,t)=>n().createElement("span",{className:c.categories,key:`${e}/${t}`},n().createElement("span",null,e),n().createElement(ce,{name:"angle-right",className:c.chevron}))));return n().createElement("div",{className:(0,a.cx)(c.label,o)},n().createElement("label",qm({},s),n().createElement("div",{className:c.labelContent},u,t),r&&n().createElement("span",{className:c.description},r)))};function Wm(){return Wm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wm.apply(this,arguments)}const Um=f((e=>({field:a.css`
      display: flex;
      flex-direction: column;
      margin-bottom: ${e.spacing(2)};
    `,fieldHorizontal:a.css`
      flex-direction: row;
      justify-content: space-between;
      flex-wrap: wrap;
    `,fieldValidationWrapper:a.css`
      margin-top: ${e.spacing(.5)};
    `,fieldValidationWrapperHorizontal:a.css`
      flex: 1 1 100%;
    `,validationMessageHorizontalOverflow:a.css`
      width: 0;
      overflow-x: visible;

      & > * {
        white-space: nowrap;
      }
    `}))),Qm=e=>{var{label:t,description:r,horizontal:o,invalid:i,loading:s,disabled:l,required:c,error:u,children:d,className:p,validationMessageHorizontalOverflow:f,htmlFor:h}=e,m=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["label","description","horizontal","invalid","loading","disabled","required","error","children","className","validationMessageHorizontalOverflow","htmlFor"]);const g=w(),v=Um(g),b=null!=h?h:$m(d),y="string"==typeof t?n().createElement(Hm,{htmlFor:b,description:r},`${t}${c?" *":""}`):t,O=function(e){for(const t in e)void 0===e[t]&&delete e[t];return e}({invalid:i,disabled:l,loading:s});return n().createElement("div",Wm({className:(0,a.cx)(v.field,o&&v.fieldHorizontal,p)},m),y,n().createElement("div",null,n().cloneElement(d,O),i&&u&&!o&&n().createElement("div",{className:(0,a.cx)(v.fieldValidationWrapper,{[v.validationMessageHorizontalOverflow]:!!f})},n().createElement(Fm,null,u))),i&&u&&o&&n().createElement("div",{className:(0,a.cx)(v.fieldValidationWrapper,v.fieldValidationWrapperHorizontal,{[v.validationMessageHorizontalOverflow]:!!f})},n().createElement(Fm,null,u)))};function Gm(){return Gm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gm.apply(this,arguments)}const Xm=t=>{const{label:r,optional:o,tooltip:i,children:a,width:s}=t,l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,["label","optional","tooltip","children","width"]),c=w(),u=Km(c,s),d=(null==l?void 0:l.htmlFor)||(null==e?void 0:$m(a)),p=n().createElement(n().Fragment,null,n().createElement("label",{className:u.label,htmlFor:d},r,o&&n().createElement("span",{className:u.optional}," - optional"),i&&n().createElement(Yt,{placement:"top",content:i,theme:"info"},n().createElement(ce,{name:"info-circle",size:"sm",className:u.icon}))),n().createElement(Wc,{v:.5}));return n().createElement("div",{className:u.root},n().createElement(Qm,Gm({className:u.field,label:p},l),a))},Km=f(((e,t)=>({root:(0,a.css)({minWidth:e.spacing(null!=t?t:0)}),label:(0,a.css)({fontSize:12,fontWeight:e.typography.fontWeightMedium}),optional:(0,a.css)({fontStyle:"italic",color:e.colors.text.secondary}),field:(0,a.css)({marginBottom:0}),icon:(0,a.css)({color:e.colors.text.secondary,marginLeft:e.spacing(1),":hover":{color:e.colors.text.primary}})})));function Ym({items:e,renderItem:t,onChange:r}){return n().createElement(Xc,null,e.map(((o,i)=>n().createElement("div",{key:i},t(o,(t=>((t,n)=>{const o=[...e];o[t]=n,r(o)})(i,t)),(()=>(t=>{const n=[...e];n.splice(t,1),r(n)})(i)))))),n().createElement(or,{onClick:()=>{const t=[...e,{}];r(t)},variant:"secondary",size:"md",icon:"plus","aria-label":"Add",type:"button"}))}const Jm=({children:e})=>{const t=O(Zm);return n().createElement("div",{className:t.root},e)},Zm=()=>({root:(0,a.css)({display:"flex","> *":{"&:not(:first-child)":{marginLeft:-1},"&:first-child":{borderTopRightRadius:0,borderBottomRightRadius:0},"&:last-child":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:first-child):not(:last-child)":{borderRadius:0},position:"relative",zIndex:1,"&:hover":{zIndex:2},"&:focus-within":{zIndex:2}}})});function eg(){return eg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eg.apply(this,arguments)}const tg=e=>{var{className:t}=e,r=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["className"]);const o=w(),i=rg(o);return n().createElement(or,eg({},r,{className:(0,a.cx)(t,i.button)}))},rg=f((e=>({button:(0,a.css)({paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5)})})));function ng(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function og(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ng(i,n,o,a,s,"next",e)}function s(e){ng(i,n,o,a,s,"throw",e)}a(void 0)}))}}function ig(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ag(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ig(e,t,r[t])}))}return e}function sg(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function lg({item:e,defaultOp:o,onChange:i,onDelete:a,onGetLabelNames:l,onGetLabelValues:c}){const[u,d]=(0,r.useState)({}),p=()=>{var t;return null===(t=cg.find((t=>t.label===e.op)))||void 0===t?void 0:t.isMultiValue},f=e=>e?e.indexOf("|")>0?e.split("|"):[e]:[];var h;return n().createElement("div",{"data-testid":"prometheus-dimensions-filter-item"},n().createElement(Jm,null,n().createElement($c,{placeholder:"Select label","aria-label":s.selectors.components.QueryBuilder.labelSelect,inputId:"prometheus-dimensions-filter-item-key",width:"auto",value:e.label?(0,t.toOption)(e.label):null,allowCustomValue:!0,onOpenMenu:og((function*(){d({isLoadingLabelNames:!0});const t=yield l(e);d({labelNames:t,isLoadingLabelNames:void 0})})),isLoading:u.isLoadingLabelNames,options:u.labelNames,onChange:t=>{var r;t.label&&i(sg(ag({},e),{op:null!==(r=e.op)&&void 0!==r?r:o,label:t.label}))}}),n().createElement($c,{"aria-label":s.selectors.components.QueryBuilder.matchOperatorSelect,value:(0,t.toOption)(null!==(h=e.op)&&void 0!==h?h:o),options:cg,width:"auto",onChange:t=>{null!=t.value&&i(sg(ag({},e),{op:t.value}))}}),n().createElement($c,{placeholder:"Select value","aria-label":s.selectors.components.QueryBuilder.valueSelect,inputId:"prometheus-dimensions-filter-item-value",width:"auto",value:p()?f(null==e?void 0:e.value).map(t.toOption):f(null==e?void 0:e.value).map(t.toOption)[0],allowCustomValue:!0,onOpenMenu:og((function*(){d({isLoadingLabelValues:!0});const t=yield c(e);d(sg(ag({},u),{labelValues:t,isLoadingLabelValues:void 0}))})),isMulti:p(),isLoading:u.isLoadingLabelValues,options:(()=>{const r=u.labelValues?[...u.labelValues]:[],n=f(null==e?void 0:e.value).map(t.toOption);return(0,su.uniqBy)([...n,...r],"value")})(),onChange:t=>{if(t.value){var r;i(sg(ag({},e),{value:t.value,op:null!==(r=e.op)&&void 0!==r?r:o}))}else{const r=t.map((e=>e.label)).join("|");var n;i(sg(ag({},e),{value:r,op:null!==(n=e.op)&&void 0!==n?n:o}))}}}),n().createElement(tg,{"aria-label":"remove",icon:"times",variant:"secondary",onClick:a})))}const cg=[{label:"=~",value:"=~",isMultiValue:!0},{label:"=",value:"=",isMultiValue:!1},{label:"!=",value:"!=",isMultiValue:!1},{label:"!~",value:"!~",isMultiValue:!0}];function ug({labelsFilters:e,onChange:t,onGetLabelNames:o,onGetLabelValues:i,error:a}){const[s,l]=(0,r.useState)([{op:"="}]);return(0,r.useEffect)((()=>{e.length>0?l(e):l([{op:"="}])}),[e]),n().createElement(Lm,null,n().createElement(Xm,{label:"Label filters",error:a,invalid:!!a},n().createElement(Ym,{items:s,onChange:r=>{l(r);const n=r.filter((e=>null!=e.label&&null!=e.value));(0,su.isEqual)(n,e)||t(n)},renderItem:(e,t,r)=>n().createElement(lg,{item:e,defaultOp:"=",onChange:t,onDelete:r,onGetLabelNames:o,onGetLabelValues:i})})))}function dg({title:e,stepNumber:r,markdown:o,children:i}){const a=O(pg);return n().createElement("div",{className:a.box},void 0!==r&&n().createElement("div",{className:a.stepNumber},r),n().createElement("div",{className:a.boxInner},e&&n().createElement("div",{className:a.header},n().createElement("span",null,e)),n().createElement("div",{className:a.body},o&&n().createElement("div",{dangerouslySetInnerHTML:{__html:(0,t.renderMarkdown)(o)}}),i)))}const pg=e=>({box:(0,a.css)({background:e.colors.background.secondary,padding:e.spacing(1),borderRadius:e.shape.borderRadius(),position:"relative"}),boxInner:(0,a.css)({marginLeft:e.spacing(4)}),stepNumber:(0,a.css)({fontWeight:e.typography.fontWeightMedium,background:e.colors.secondary.main,width:"20px",height:"20px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"10px",left:"11px",fontSize:e.typography.bodySmall.fontSize}),header:(0,a.css)({paddingBottom:e.spacing(.5),display:"flex",alignItems:"center",fontFamily:e.typography.fontFamilyMonospace}),body:(0,a.css)({color:e.colors.text.secondary,"p:last-child":{margin:0},a:{color:e.colors.text.link,textDecoration:"underline"}})});function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fg.apply(this,arguments)}function hg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mg(e,t){if(e){if("string"==typeof e)return hg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hg(e,t):void 0}}function gg(e){return function(e){if(Array.isArray(e))return hg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||mg(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vg(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||mg(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(this,arguments)}function yg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wg(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Og(e,t){if(e){if("string"==typeof e)return yg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yg(e,t):void 0}}function xg(e){return function(e){if(Array.isArray(e))return yg(e)}(e)||wg(e)||Og(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Eg(Object(r),!0).forEach((function(t){_g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eg(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kg(e){if(Array.isArray(e))return e}function Pg(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Cg(e,t){return kg(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||Og(e,t)||Pg()}function Tg(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Dg(e){return Dg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(e)}function Ig(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ag(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ig(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ig(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jg(e){var t=r.useRef();t.current=e;var n=r.useCallback((function(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(n))}),[]);return n}function Mg(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}var Ng=Mg()?r.useLayoutEffect:r.useEffect;const Rg=Ng;var Lg;function $g(e){return void 0!==e}function Vg(e,t){var n,o,i,a=t||{},s=a.defaultValue,l=a.value,c=a.onChange,u=a.postState,d=function(e){var t=r.useRef(!1),n=Ag(r.useState(e),2),o=n[0],i=n[1];return r.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[o,function(e,r){r&&t.current||i(e)}]}((function(){var t,r=void 0;return $g(l)?(r=l,t=Lg.PROP):$g(s)?(r="function"==typeof s?s():s,t=Lg.PROP):(r="function"==typeof e?e():e,t=Lg.INNER),[r,t,r]})),p=Ag(d,2),f=p[0],h=p[1],m=$g(l)?l:f[0],g=u?u(m):m;n=function(){h((function(e){var t=Ag(e,1)[0];return[l,Lg.PROP,t]}))},o=[l],i=r.useRef(!0),Ng((function(){if(!i.current)return n()}),o),Ng((function(){return i.current=!1,function(){i.current=!0}}),[]);var v=r.useRef(),b=jg((function(e,t){h((function(t){var r=Ag(t,3),n=r[0],o=r[1],i=r[2],a="function"==typeof e?e(n):e;if(a===n)return t;var s=o===Lg.INNER&&v.current!==i?i:n;return[a,Lg.INNER,s]}),t)})),y=jg(c);return Rg((function(){var e=Ag(f,3),t=e[0],r=e[1],n=e[2];t!==n&&r===Lg.INNER&&(y(t,n),v.current=n)}),[f]),[g,b]}!function(e){e[e.INNER=0]="INNER",e[e.PROP=1]="PROP"}(Lg||(Lg={}));var zg={};function Fg(e,t){}const qg=function(e,t){!function(e,t,r){t||zg[r]||(e(!1,r),zg[r]=!0)}(Fg,e,t)};var Bg={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Bg.F1&&t<=Bg.F12)return!1;switch(t){case Bg.ALT:case Bg.CAPS_LOCK:case Bg.CONTEXT_MENU:case Bg.CTRL:case Bg.DOWN:case Bg.END:case Bg.ESC:case Bg.HOME:case Bg.INSERT:case Bg.LEFT:case Bg.MAC_FF_META:case Bg.META:case Bg.NUMLOCK:case Bg.NUM_CENTER:case Bg.PAGE_DOWN:case Bg.PAGE_UP:case Bg.PAUSE:case Bg.PRINT_SCREEN:case Bg.RIGHT:case Bg.SHIFT:case Bg.UP:case Bg.WIN_KEY:case Bg.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Bg.ZERO&&e<=Bg.NINE)return!0;if(e>=Bg.NUM_ZERO&&e<=Bg.NUM_MULTIPLY)return!0;if(e>=Bg.A&&e<=Bg.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Bg.SPACE:case Bg.QUESTION_MARK:case Bg.NUM_PLUS:case Bg.NUM_MINUS:case Bg.NUM_PERIOD:case Bg.NUM_DIVISION:case Bg.SEMICOLON:case Bg.DASH:case Bg.EQUALS:case Bg.COMMA:case Bg.PERIOD:case Bg.SLASH:case Bg.APOSTROPHE:case Bg.SINGLE_QUOTE:case Bg.OPEN_SQUARE_BRACKET:case Bg.BACKSLASH:case Bg.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const Hg=Bg;function Wg(e){return Wg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(e)}var Ug=v(19185);function Qg(e,t,n){var o=r.useRef({});return"value"in o.current&&!n(o.current.condition,t)||(o.current.value=e(),o.current.condition=t),o.current.value}function Gg(e,t){"function"==typeof e?e(t):"object"===Wg(e)&&e&&"current"in e&&(e.current=t)}function Xg(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter((function(e){return e}));return n.length<=1?n[0]:function(e){t.forEach((function(t){Gg(t,e)}))}}function Kg(e,t){var r,n=e.key;return"value"in e&&(r=e.value),null!=n?n:void 0!==r?r:"rc-index-key-".concat(t)}function Yg(e,t){var r=e||{};return{label:r.label||(t?"children":"label"),value:r.value||"value",options:r.options||"options"}}function Jg(e){var t=Sg({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return qg(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}function Zg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ev(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ev(Object(r),!0).forEach((function(t){Zg(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ev(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rv.apply(this,arguments)}function nv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ov(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iv(e,t,r){return t&&ov(e.prototype,t),r&&ov(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function av(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sv(e,t){return sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sv(e,t)}function lv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sv(e,t)}function cv(e){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cv(e)}function uv(e){return uv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(e)}function dv(e,t){if(t&&("object"===uv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return av(e)}function pv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=cv(e);if(t){var o=cv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return dv(this,r)}}var fv=function(e){return+setTimeout(e,16)},hv=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(fv=function(e){return window.requestAnimationFrame(e)},hv=function(e){return window.cancelAnimationFrame(e)});var mv=0,gv=new Map;function vv(e){gv.delete(e)}function bv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=mv+=1;function n(t){if(0===t)vv(r),e();else{var o=fv((function(){n(t-1)}));gv.set(r,o)}}return n(t),r}function yv(e,t){return!!e&&e.contains(t)}function wv(e){return e instanceof HTMLElement?e:be().findDOMNode(e)}function Ov(e,t){"function"==typeof e?e(t):"object"===uv(e)&&e&&"current"in e&&(e.current=t)}function xv(e){var t,r,n=(0,Ug.isMemo)(e)?e.type.type:e.type;return!("function"==typeof n&&!(null===(t=n.prototype)||void 0===t?void 0:t.render)||"function"==typeof e&&!(null===(r=e.prototype)||void 0===r?void 0:r.render))}function _v(e,t,r,n){var o=be().unstable_batchedUpdates?function(e){be().unstable_batchedUpdates(r,e)}:r;return e.addEventListener&&e.addEventListener(t,o,n),{remove:function(){e.removeEventListener&&e.removeEventListener(t,o,n)}}}function Ev(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}bv.cancel=function(e){var t=gv.get(e);return vv(t),hv(t)};var Sv=(0,r.forwardRef)((function(e,t){var n=e.didUpdate,o=e.getContainer,i=e.children,a=(0,r.useRef)(),s=(0,r.useRef)();(0,r.useImperativeHandle)(t,(function(){return{}}));var l=(0,r.useRef)(!1);return!l.current&&Ev()&&(s.current=o(),a.current=s.current.parentNode,l.current=!0),(0,r.useEffect)((function(){null==n||n(e)})),(0,r.useEffect)((function(){return null===s.current.parentNode&&null!==a.current&&a.current.appendChild(s.current),function(){var e,t;null===(e=s.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(s.current)}}),[]),s.current?be().createPortal(i,s.current):null}));const kv=Sv;function Pv(e,t,r){return r?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Cv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cv(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dv(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Iv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit".concat(e)]="webkit".concat(t),r["Moz".concat(e)]="moz".concat(t),r["ms".concat(e)]="MS".concat(t),r["O".concat(e)]="o".concat(t.toLowerCase()),r}var Av,jv,Mv,Nv=(Av=Ev(),jv="undefined"!=typeof window?window:{},Mv={animationend:Iv("Animation","AnimationEnd"),transitionend:Iv("Transition","TransitionEnd")},Av&&("AnimationEvent"in jv||delete Mv.animationend.animation,"TransitionEvent"in jv||delete Mv.transitionend.transition),Mv),Rv={};if(Ev()){var Lv=document.createElement("div");Rv=Lv.style}var $v={};function Vv(e){if($v[e])return $v[e];var t=Nv[e];if(t)for(var r=Object.keys(t),n=r.length,o=0;o<n;o+=1){var i=r[o];if(Object.prototype.hasOwnProperty.call(t,i)&&i in Rv)return $v[e]=t[i],$v[e]}return""}var zv=Vv("animationend"),Fv=Vv("transitionend"),qv=!(!zv||!Fv),Bv=zv||"animationend",Hv=Fv||"transitionend";function Wv(e,t){return e?"object"===uv(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var Uv="none",Qv="appear",Gv="enter",Xv="leave",Kv="none",Yv="prepare",Jv="start",Zv="active",eb="end";function tb(e){var t=r.useRef(!1),n=Tv(r.useState(e),2),o=n[0],i=n[1];return r.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[o,function(e,r){r&&t.current||i(e)}]}const rb=Ev()?r.useLayoutEffect:r.useEffect;var nb=[Yv,Jv,Zv,eb];function ob(e){return e===Zv||e===eb}function ib(e,t,n,o){var i=o.motionEnter,a=void 0===i||i,s=o.motionAppear,l=void 0===s||s,c=o.motionLeave,u=void 0===c||c,d=o.motionDeadline,p=o.motionLeaveImmediately,f=o.onAppearPrepare,h=o.onEnterPrepare,m=o.onLeavePrepare,g=o.onAppearStart,v=o.onEnterStart,b=o.onLeaveStart,y=o.onAppearActive,w=o.onEnterActive,O=o.onLeaveActive,x=o.onAppearEnd,_=o.onEnterEnd,E=o.onLeaveEnd,S=o.onVisibleChanged,k=Tv(tb(),2),P=k[0],C=k[1],T=Tv(tb(Uv),2),D=T[0],I=T[1],A=Tv(tb(null),2),j=A[0],M=A[1],N=(0,r.useRef)(!1),R=(0,r.useRef)(null);function L(){return n()}var $=(0,r.useRef)(!1);function V(e){var t=L();if(!e||e.deadline||e.target===t){var r,n=$.current;D===Qv&&n?r=null==x?void 0:x(t,e):D===Gv&&n?r=null==_?void 0:_(t,e):D===Xv&&n&&(r=null==E?void 0:E(t,e)),D!==Uv&&n&&!1!==r&&(I(Uv,!0),M(null,!0))}}var z=function(e){var t=(0,r.useRef)(),n=(0,r.useRef)(e);n.current=e;var o=r.useCallback((function(e){n.current(e)}),[]);function i(e){e&&(e.removeEventListener(Hv,o),e.removeEventListener(Bv,o))}return r.useEffect((function(){return function(){i(t.current)}}),[]),[function(e){t.current&&t.current!==e&&i(t.current),e&&e!==t.current&&(e.addEventListener(Hv,o),e.addEventListener(Bv,o),t.current=e)},i]}(V),F=Tv(z,1)[0],q=r.useMemo((function(){var e,t,r;switch(D){case Qv:return Zg(e={},Yv,f),Zg(e,Jv,g),Zg(e,Zv,y),e;case Gv:return Zg(t={},Yv,h),Zg(t,Jv,v),Zg(t,Zv,w),t;case Xv:return Zg(r={},Yv,m),Zg(r,Jv,b),Zg(r,Zv,O),r;default:return{}}}),[D]),B=Tv(function(e,t){var n=Tv(tb(Kv),2),o=n[0],i=n[1],a=function(){var e=r.useRef(null);function t(){bv.cancel(e.current)}return r.useEffect((function(){return function(){t()}}),[]),[function r(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var i=bv((function(){o<=1?n({isCanceled:function(){return i!==e.current}}):r(n,o-1)}));e.current=i},t]}(),s=Tv(a,2),l=s[0],c=s[1];return rb((function(){if(o!==Kv&&o!==eb){var e=nb.indexOf(o),r=nb[e+1],n=t(o);!1===n?i(r,!0):l((function(e){function t(){e.isCanceled()||i(r,!0)}!0===n?t():Promise.resolve(n).then(t)}))}}),[e,o]),r.useEffect((function(){return function(){c()}}),[]),[function(){i(Yv,!0)},o]}(D,(function(e){if(e===Yv){var t=q.prepare;return!!t&&t(L())}var r;return W in q&&M((null===(r=q[W])||void 0===r?void 0:r.call(q,L(),null))||null),W===Zv&&(F(L()),d>0&&(clearTimeout(R.current),R.current=setTimeout((function(){V({deadline:!0})}),d))),!0})),2),H=B[0],W=B[1],U=ob(W);$.current=U,rb((function(){C(t);var r,n=N.current;N.current=!0,e&&(!n&&t&&l&&(r=Qv),n&&t&&a&&(r=Gv),(n&&!t&&u||!n&&p&&!t&&u)&&(r=Xv),r&&(I(r),H()))}),[t]),(0,r.useEffect)((function(){(D===Qv&&!l||D===Gv&&!a||D===Xv&&!u)&&I(Uv)}),[l,a,u]),(0,r.useEffect)((function(){return function(){N.current=!1,clearTimeout(R.current)}}),[]),(0,r.useEffect)((function(){void 0!==P&&D===Uv&&(null==S||S(P))}),[P,D]);var Q=j;return q.prepare&&W===Jv&&(Q=tv({transition:"none"},Q)),[D,W,Q,null!=P?P:t]}const ab=function(e){lv(r,e);var t=pv(r);function r(){return nv(this,r),t.apply(this,arguments)}return iv(r,[{key:"render",value:function(){return this.props.children}}]),r}(r.Component),sb=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===uv(e)&&(t=e.transitionSupport);var o=r.forwardRef((function(e,t){var o=e.visible,i=void 0===o||o,a=e.removeOnLeave,s=void 0===a||a,l=e.forceRender,c=e.children,u=e.motionName,d=e.leavedClassName,p=e.eventProps,f=n(e),h=(0,r.useRef)(),m=(0,r.useRef)(),g=Tv(ib(f,i,(function(){try{return h.current instanceof HTMLElement?h.current:wv(m.current)}catch(e){return null}}),e),4),v=g[0],b=g[1],y=g[2],w=g[3],O=r.useRef(w);w&&(O.current=!0);var x,_=r.useCallback((function(e){h.current=e,Ov(t,e)}),[t]),E=tv(tv({},p),{},{visible:i});if(c)if(v!==Uv&&n(e)){var S,k;b===Yv?k="prepare":ob(b)?k="active":b===Jv&&(k="start"),x=c(tv(tv({},E),{},{className:Fl()(Wv(u,v),(S={},Zg(S,Wv(u,"".concat(v,"-").concat(k)),k),Zg(S,u,"string"==typeof u),S)),style:y}),_)}else x=w?c(tv({},E),_):!s&&O.current?c(tv(tv({},E),{},{className:d}),_):l?c(tv(tv({},E),{},{style:{display:"none"}}),_):null;else x=null;return r.isValidElement(x)&&xv(x)&&(x.ref||(x=r.cloneElement(x,{ref:_}))),r.createElement(ab,{ref:m},x)}));return o.displayName="CSSMotion",o}(qv);var lb="add",cb="keep",ub="remove",db="removed";function pb(e){var t;return tv(tv({},t=e&&"object"===uv(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function fb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(pb)}function hb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],n=0,o=t.length,i=fb(e),a=fb(t);i.forEach((function(e){for(var t=!1,i=n;i<o;i+=1){var s=a[i];if(s.key===e.key){n<i&&(r=r.concat(a.slice(n,i).map((function(e){return tv(tv({},e),{},{status:lb})}))),n=i),r.push(tv(tv({},s),{},{status:cb})),n+=1,t=!0;break}}t||r.push(tv(tv({},e),{},{status:ub}))})),n<o&&(r=r.concat(a.slice(n).map((function(e){return tv(tv({},e),{},{status:lb})}))));var s={};r.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var l=Object.keys(s).filter((function(e){return s[e]>1}));return l.forEach((function(e){r=r.filter((function(t){var r=t.key,n=t.status;return r!==e||n!==ub})),r.forEach((function(t){t.key===e&&(t.status=cb)}))})),r}var mb=["component","children","onVisibleChanged","onAllRemoved"],gb=["status"],vb=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sb,n=function(e){lv(o,e);var n=pv(o);function o(){var e;nv(this,o);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=n.call.apply(n,[this].concat(r))).state={keyEntities:[]},e.removeKey=function(t){var r=e.state.keyEntities.map((function(e){return e.key!==t?e:tv(tv({},e),{},{status:db})}));return e.setState({keyEntities:r}),r.filter((function(e){return e.status!==db})).length},e}return iv(o,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,o=this.props,i=o.component,a=o.children,s=o.onVisibleChanged,l=o.onAllRemoved,c=Dv(o,mb),u=i||r.Fragment,d={};return vb.forEach((function(e){d[e]=c[e],delete c[e]})),delete c.keys,r.createElement(u,c,n.map((function(n){var o=n.status,i=Dv(n,gb),c=o===lb||o===cb;return r.createElement(t,rv({},d,{key:i.key,visible:c,eventProps:i,onVisibleChanged:function(t){null==s||s(t,{key:i.key}),t||0===e.removeKey(i.key)&&l&&l()}}),a)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.keys,n=t.keyEntities,o=fb(r);return{keyEntities:hb(n,o).filter((function(e){var t=n.find((function(t){var r=t.key;return e.key===r}));return!t||t.status!==db||e.status!==ub}))}}}]),o}(r.Component);n.defaultProps={component:"div"}}(qv);const bb=sb;function yb(e){var t=e.prefixCls,r=e.motion,n=e.animation,o=e.transitionName;return r||(n?{motionName:"".concat(t,"-").concat(n)}:o?{motionName:o}:null)}function wb(e){var t=e.prefixCls,n=e.visible,o=e.zIndex,i=e.mask,a=e.maskMotion,s=e.maskAnimation,l=e.maskTransitionName;if(!i)return null;var c={};return(a||l||s)&&(c=tv({motionAppear:!0},yb({motion:a,prefixCls:t,transitionName:l,animation:s}))),r.createElement(bb,rv({},c,{visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return r.createElement("div",{style:{zIndex:o},className:Fl()("".concat(t,"-mask"),n)})}))}function Ob(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xb(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ob(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ob(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _b(e){return _b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_b(e)}function Eb(e,t){"function"==typeof e?e(t):"object"===_b(e)&&e&&"current"in e&&(e.current=t)}function Sb(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter((function(e){return e}));return n.length<=1?n[0]:function(e){t.forEach((function(t){Eb(t,e)}))}}function kb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kb(Object(r),!0).forEach((function(t){Tb(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kb(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cb(e){return Cb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(e)}function Tb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Db,Ib={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function Ab(){if(void 0!==Db)return Db;Db="";var e=document.createElement("p").style;for(var t in Ib)t+"Transform"in e&&(Db=t);return Db}function jb(){return Ab()?"".concat(Ab(),"TransitionProperty"):"transitionProperty"}function Mb(){return Ab()?"".concat(Ab(),"Transform"):"transform"}function Nb(e,t){var r=jb();r&&(e.style[r]=t,"transitionProperty"!==r&&(e.style.transitionProperty=t))}function Rb(e,t){var r=Mb();r&&(e.style[r]=t,"transform"!==r&&(e.style.transform=t))}var Lb,$b=/matrix\((.*)\)/,Vb=/matrix3d\((.*)\)/;function zb(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function Fb(e,t,r){var n=r;if("object"!==Cb(t))return void 0!==n?("number"==typeof n&&(n="".concat(n,"px")),void(e.style[t]=n)):Lb(e,t);for(var o in t)t.hasOwnProperty(o)&&Fb(e,o,t[o])}function qb(e,t){var r=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if("number"!=typeof r){var o=e.document;"number"!=typeof(r=o.documentElement[n])&&(r=o.body[n])}return r}function Bb(e){return qb(e)}function Hb(e){return qb(e,!0)}function Wb(e){var t=function(e){var t,r,n,o=e.ownerDocument,i=o.body,a=o&&o.documentElement;return t=e.getBoundingClientRect(),r=Math.floor(t.left),n=Math.floor(t.top),{left:r-=a.clientLeft||i.clientLeft||0,top:n-=a.clientTop||i.clientTop||0}}(e),r=e.ownerDocument,n=r.defaultView||r.parentWindow;return t.left+=Bb(n),t.top+=Hb(n),t}function Ub(e){return null!=e&&e==e.window}function Qb(e){return Ub(e)?e.document:9===e.nodeType?e:e.ownerDocument}var Gb=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),Xb=/^(top|right|bottom|left)$/;function Kb(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function Yb(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function Jb(e,t,r){"static"===Fb(e,"position")&&(e.style.position="relative");var n=-999,o=-999,i=Kb("left",r),a=Kb("top",r),s=Yb(i),l=Yb(a);"left"!==i&&(n=999),"top"!==a&&(o=999);var c="",u=Wb(e);("left"in t||"top"in t)&&(c=function(e){return e.style.transitionProperty||e.style[jb()]}(e)||"",Nb(e,"none")),"left"in t&&(e.style[s]="",e.style[i]="".concat(n,"px")),"top"in t&&(e.style[l]="",e.style[a]="".concat(o,"px")),zb(e);var d=Wb(e),p={};for(var f in t)if(t.hasOwnProperty(f)){var h=Kb(f,r),m="left"===f?n:o,g=u[f]-d[f];p[h]=h===f?m+g:m-g}Fb(e,p),zb(e),("left"in t||"top"in t)&&Nb(e,c);var v={};for(var b in t)if(t.hasOwnProperty(b)){var y=Kb(b,r),w=t[b]-u[b];v[y]=b===y?p[y]+w:p[y]-w}Fb(e,v)}function Zb(e,t){for(var r=0;r<e.length;r++)t(e[r])}function ey(e){return"border-box"===Lb(e,"boxSizing")}"undefined"!=typeof window&&(Lb=window.getComputedStyle?function(e,t,r){var n=r,o="",i=Qb(e);return(n=n||i.defaultView.getComputedStyle(e,null))&&(o=n.getPropertyValue(t)||n[t]),o}:function(e,t){var r=e.currentStyle&&e.currentStyle[t];if(Gb.test(r)&&!Xb.test(t)){var n=e.style,o=n.left,i=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,n.left="fontSize"===t?"1em":r||0,r=n.pixelLeft+"px",n.left=o,e.runtimeStyle.left=i}return""===r?"auto":r});var ty=["margin","border","padding"];function ry(e,t,r){var n,o={},i=e.style;for(n in t)t.hasOwnProperty(n)&&(o[n]=i[n],i[n]=t[n]);for(n in r.call(e),t)t.hasOwnProperty(n)&&(i[n]=o[n])}function ny(e,t,r){var n,o,i,a=0;for(o=0;o<t.length;o++)if(n=t[o])for(i=0;i<r.length;i++){var s;s="border"===n?"".concat(n).concat(r[i],"Width"):n+r[i],a+=parseFloat(Lb(e,s))||0}return a}var oy={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function iy(e,t,r){var n=r;if(Ub(e))return"width"===t?oy.viewportWidth(e):oy.viewportHeight(e);if(9===e.nodeType)return"width"===t?oy.docWidth(e):oy.docHeight(e);var o="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),a=ey(e),s=0;(null==i||i<=0)&&(i=void 0,(null==(s=Lb(e,t))||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===n&&(n=a?1:-1);var l=void 0!==i||a,c=i||s;return-1===n?l?c-ny(e,["border","padding"],o):s:l?1===n?c:c+(2===n?-ny(e,["border"],o):ny(e,["margin"],o)):s+ny(e,ty.slice(n),o)}Zb(["Width","Height"],(function(e){oy["doc".concat(e)]=function(t){var r=t.document;return Math.max(r.documentElement["scroll".concat(e)],r.body["scroll".concat(e)],oy["viewport".concat(e)](r))},oy["viewport".concat(e)]=function(t){var r="client".concat(e),n=t.document,o=n.body,i=n.documentElement[r];return"CSS1Compat"===n.compatMode&&i||o&&o[r]||i}}));var ay={position:"absolute",visibility:"hidden",display:"block"};function sy(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o=t[0];return 0!==o.offsetWidth?n=iy.apply(void 0,t):ry(o,ay,(function(){n=iy.apply(void 0,t)})),n}function ly(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}Zb(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);oy["outer".concat(t)]=function(t,r){return t&&sy(t,e,r?0:1)};var r="width"===e?["Left","Right"]:["Top","Bottom"];oy[e]=function(t,n){var o=n;return void 0!==o?t?(ey(t)&&(o+=ny(t,["padding","border"],r)),Fb(t,e,o)):void 0:t&&sy(t,e,-1)}}));var cy={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:Qb,offset:function(e,t,r){if(void 0===t)return Wb(e);!function(e,t,r){if(r.ignoreShake){var n=Wb(e),o=n.left.toFixed(0),i=n.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(o===a&&i===s)return}r.useCssRight||r.useCssBottom?Jb(e,t,r):r.useCssTransform&&Mb()in document.body.style?function(e,t){var r=Wb(e),n=function(e){var t=window.getComputedStyle(e,null),r=t.getPropertyValue("transform")||t.getPropertyValue(Mb());if(r&&"none"!==r){var n=r.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}(e),o={x:n.x,y:n.y};"left"in t&&(o.x=n.x+t.left-r.left),"top"in t&&(o.y=n.y+t.top-r.top),function(e,t){var r=window.getComputedStyle(e,null),n=r.getPropertyValue("transform")||r.getPropertyValue(Mb());if(n&&"none"!==n){var o,i=n.match($b);i?((o=(i=i[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,o[5]=t.y,Rb(e,"matrix(".concat(o.join(","),")"))):((o=n.match(Vb)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,o[13]=t.y,Rb(e,"matrix3d(".concat(o.join(","),")")))}else Rb(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,o)}(e,t):Jb(e,t,r)}(e,t,r||{})},isWindow:Ub,each:Zb,css:Fb,clone:function(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(r.overflow[t]=e.overflow[t]);return r},mix:ly,getWindowScrollLeft:function(e){return Bb(e)},getWindowScrollTop:function(e){return Hb(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)cy.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};ly(cy,oy);var uy=cy.getParent;function dy(e){if(cy.isWindow(e)||9===e.nodeType)return null;var t,r=cy.getDocument(e).body,n=cy.css(e,"position");if("fixed"!==n&&"absolute"!==n)return"html"===e.nodeName.toLowerCase()?null:uy(e);for(t=uy(e);t&&t!==r&&9!==t.nodeType;t=uy(t))if("static"!==(n=cy.css(t,"position")))return t;return null}var py=cy.getParent;function fy(e,t){for(var r={left:0,right:1/0,top:0,bottom:1/0},n=dy(e),o=cy.getDocument(e),i=o.defaultView||o.parentWindow,a=o.body,s=o.documentElement;n;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===n.clientWidth||n===a||n===s||"visible"===cy.css(n,"overflow")){if(n===a||n===s)break}else{var l=cy.offset(n);l.left+=n.clientLeft,l.top+=n.clientTop,r.top=Math.max(r.top,l.top),r.right=Math.min(r.right,l.left+n.clientWidth),r.bottom=Math.min(r.bottom,l.top+n.clientHeight),r.left=Math.max(r.left,l.left)}n=dy(n)}var c=null;cy.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===cy.css(e,"position")&&(e.style.position="fixed"));var u=cy.getWindowScrollLeft(i),d=cy.getWindowScrollTop(i),p=cy.viewportWidth(i),f=cy.viewportHeight(i),h=s.scrollWidth,m=s.scrollHeight,g=window.getComputedStyle(a);if("hidden"===g.overflowX&&(h=i.innerWidth),"hidden"===g.overflowY&&(m=i.innerHeight),e.style&&(e.style.position=c),t||function(e){if(cy.isWindow(e)||9===e.nodeType)return!1;var t=cy.getDocument(e),r=t.body,n=null;for(n=py(e);n&&n!==r&&n!==t;n=py(n))if("fixed"===cy.css(n,"position"))return!0;return!1}(e))r.left=Math.max(r.left,u),r.top=Math.max(r.top,d),r.right=Math.min(r.right,u+p),r.bottom=Math.min(r.bottom,d+f);else{var v=Math.max(h,u+p);r.right=Math.min(r.right,v);var b=Math.max(m,d+f);r.bottom=Math.min(r.bottom,b)}return r.top>=0&&r.left>=0&&r.bottom>r.top&&r.right>r.left?r:null}function hy(e){var t,r,n;if(cy.isWindow(e)||9===e.nodeType){var o=cy.getWindow(e);t={left:cy.getWindowScrollLeft(o),top:cy.getWindowScrollTop(o)},r=cy.viewportWidth(o),n=cy.viewportHeight(o)}else t=cy.offset(e),r=cy.outerWidth(e),n=cy.outerHeight(e);return t.width=r,t.height=n,t}function my(e,t){var r=t.charAt(0),n=t.charAt(1),o=e.width,i=e.height,a=e.left,s=e.top;return"c"===r?s+=i/2:"b"===r&&(s+=i),"c"===n?a+=o/2:"r"===n&&(a+=o),{left:a,top:s}}function gy(e,t,r,n,o){var i=my(t,r[1]),a=my(e,r[0]),s=[a.left-i.left,a.top-i.top];return{left:Math.round(e.left-s[0]+n[0]-o[0]),top:Math.round(e.top-s[1]+n[1]-o[1])}}function vy(e,t,r){return e.left<r.left||e.left+t.width>r.right}function by(e,t,r){return e.top<r.top||e.top+t.height>r.bottom}function yy(e,t,r){var n=[];return cy.each(e,(function(e){n.push(e.replace(t,(function(e){return r[e]})))})),n}function wy(e,t){return e[t]=-e[t],e}function Oy(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function xy(e,t){e[0]=Oy(e[0],t.width),e[1]=Oy(e[1],t.height)}function _y(e,t,r,n){var o=r.points,i=r.offset||[0,0],a=r.targetOffset||[0,0],s=r.overflow,l=r.source||e;i=[].concat(i),a=[].concat(a);var c={},u=0,d=fy(l,!(!(s=s||{})||!s.alwaysByViewport)),p=hy(l);xy(i,p),xy(a,t);var f=gy(p,t,o,i,a),h=cy.merge(p,f);if(d&&(s.adjustX||s.adjustY)&&n){if(s.adjustX&&vy(f,p,d)){var m=yy(o,/[lr]/gi,{l:"r",r:"l"}),g=wy(i,0),v=wy(a,0);(function(e,t,r){return e.left>r.right||e.left+t.width<r.left})(gy(p,t,m,g,v),p,d)||(u=1,o=m,i=g,a=v)}if(s.adjustY&&by(f,p,d)){var b=yy(o,/[tb]/gi,{t:"b",b:"t"}),y=wy(i,1),w=wy(a,1);(function(e,t,r){return e.top>r.bottom||e.top+t.height<r.top})(gy(p,t,b,y,w),p,d)||(u=1,o=b,i=y,a=w)}u&&(f=gy(p,t,o,i,a),cy.mix(h,f));var O=vy(f,p,d),x=by(f,p,d);if(O||x){var _=o;O&&(_=yy(o,/[lr]/gi,{l:"r",r:"l"})),x&&(_=yy(o,/[tb]/gi,{t:"b",b:"t"})),o=_,i=r.offset||[0,0],a=r.targetOffset||[0,0]}c.adjustX=s.adjustX&&O,c.adjustY=s.adjustY&&x,(c.adjustX||c.adjustY)&&(h=function(e,t,r,n){var o=cy.clone(e),i={width:t.width,height:t.height};return n.adjustX&&o.left<r.left&&(o.left=r.left),n.resizeWidth&&o.left>=r.left&&o.left+i.width>r.right&&(i.width-=o.left+i.width-r.right),n.adjustX&&o.left+i.width>r.right&&(o.left=Math.max(r.right-i.width,r.left)),n.adjustY&&o.top<r.top&&(o.top=r.top),n.resizeHeight&&o.top>=r.top&&o.top+i.height>r.bottom&&(i.height-=o.top+i.height-r.bottom),n.adjustY&&o.top+i.height>r.bottom&&(o.top=Math.max(r.bottom-i.height,r.top)),cy.mix(o,i)}(f,p,d,c))}return h.width!==p.width&&cy.css(l,"width",cy.width(l)+h.width-p.width),h.height!==p.height&&cy.css(l,"height",cy.height(l)+h.height-p.height),cy.offset(l,{left:h.left,top:h.top},{useCssRight:r.useCssRight,useCssBottom:r.useCssBottom,useCssTransform:r.useCssTransform,ignoreShake:r.ignoreShake}),{points:o,offset:i,targetOffset:a,overflow:c}}function Ey(e,t,r){var n=r.target||t,o=hy(n),i=!function(e,t){var r=fy(e,t),n=hy(e);return!r||n.left+n.width<=r.left||n.top+n.height<=r.top||n.left>=r.right||n.top>=r.bottom}(n,r.overflow&&r.overflow.alwaysByViewport);return _y(e,o,r,i)}Ey.__getOffsetParent=dy,Ey.__getVisibleRectForElement=fy;var Sy=v(56141),ky=v.n(Sy),Py=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,n){return e[0]===t&&(r=n,!0)})),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var o=n[r];e.call(t,o[1],o[0])}},t}()}(),Cy="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,Ty=void 0!==v.g&&v.g.Math===Math?v.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Dy="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(Ty):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},Iy=["top","right","bottom","left","width","height","size","weight"],Ay="undefined"!=typeof MutationObserver,jy=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,o=0;function i(){r&&(r=!1,e()),n&&s()}function a(){Dy(i)}function s(){var e=Date.now();if(r){if(e-o<2)return;n=!0}else r=!0,n=!1,setTimeout(a,20);o=e}return s}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Cy&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Ay?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Cy&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;Iy.some((function(e){return!!~r.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),My=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var o=n[r];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},Ny=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Ty},Ry=Fy(0,0,0,0);function Ly(e){return parseFloat(e)||0}function $y(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(t,r){return t+Ly(e["border-"+r+"-width"])}),0)}var Vy="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof Ny(e).SVGGraphicsElement}:function(e){return e instanceof Ny(e).SVGElement&&"function"==typeof e.getBBox};function zy(e){return Cy?Vy(e)?function(e){var t=e.getBBox();return Fy(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return Ry;var n=Ny(e).getComputedStyle(e),o=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var o=n[r],i=e["padding-"+o];t[o]=Ly(i)}return t}(n),i=o.left+o.right,a=o.top+o.bottom,s=Ly(n.width),l=Ly(n.height);if("border-box"===n.boxSizing&&(Math.round(s+i)!==t&&(s-=$y(n,"left","right")+i),Math.round(l+a)!==r&&(l-=$y(n,"top","bottom")+a)),!function(e){return e===Ny(e).document.documentElement}(e)){var c=Math.round(s+i)-t,u=Math.round(l+a)-r;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return Fy(o.left,o.top,s,l)}(e):Ry}function Fy(e,t,r,n){return{x:e,y:t,width:r,height:n}}var qy=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Fy(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=zy(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),By=function(e,t){var r=function(e){var t=e.x,r=e.y,n=e.width,o=e.height,i="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(i.prototype);return My(a,{x:t,y:r,width:n,height:o,top:r,right:t+n,bottom:o+r,left:t}),a}(t);My(this,{target:e,contentRect:r})},Hy=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new Py,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ny(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new qy(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Ny(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new By(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),Wy="undefined"!=typeof WeakMap?new WeakMap:new Py,Uy=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=jy.getInstance(),n=new Hy(t,r,this);Wy.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){Uy.prototype[e]=function(){var t;return(t=Wy.get(this))[e].apply(t,arguments)}}));const Qy=void 0!==Ty.ResizeObserver?Ty.ResizeObserver:Uy;function Gy(e,t){var r=null,n=null,o=new Qy((function(e){var o=xb(e,1)[0].target;if(document.documentElement.contains(o)){var i=o.getBoundingClientRect(),a=i.width,s=i.height,l=Math.floor(a),c=Math.floor(s);r===l&&n===c||Promise.resolve().then((function(){t({width:l,height:c})})),r=l,n=c}}));return e&&o.observe(e),function(){o.disconnect()}}function Xy(e){return"function"!=typeof e?null:e()}function Ky(e){return"object"===_b(e)&&e?e:null}var Yy=function(e,t){var r=e.children,o=e.disabled,i=e.target,a=e.align,s=e.onAlign,l=e.monitorWindowResize,c=e.monitorBufferTime,u=void 0===c?0:c,d=n().useRef({}),p=n().useRef(),f=n().Children.only(r),h=n().useRef({});h.current.disabled=o,h.current.target=i,h.current.align=a,h.current.onAlign=s;var m=function(e,t){var r=n().useRef(!1),o=n().useRef(null);function i(){window.clearTimeout(o.current)}return[function e(n){if(i(),r.current&&!0!==n)o.current=window.setTimeout((function(){r.current=!1,e()}),t);else{if(!1===function(){var e=h.current,t=e.disabled,r=e.target,n=e.align,o=e.onAlign;if(!t&&r){var i,a=p.current,s=Xy(r),l=Ky(r);d.current.element=s,d.current.point=l,d.current.align=n;var c=document.activeElement;return s&&function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var r=e.getBoundingClientRect();if(r.width||r.height)return!0}return!1}(s)?i=Ey(a,s,n):l&&(i=function(e,t,r){var n,o,i=cy.getDocument(e),a=i.defaultView||i.parentWindow,s=cy.getWindowScrollLeft(a),l=cy.getWindowScrollTop(a),c=cy.viewportWidth(a),u=cy.viewportHeight(a),d={left:n="pageX"in t?t.pageX:s+t.clientX,top:o="pageY"in t?t.pageY:l+t.clientY,width:0,height:0},p=n>=0&&n<=s+c&&o>=0&&o<=l+u,f=[r.points[0],"cc"];return _y(e,d,Pb(Pb({},r),{},{points:f}),p)}(a,l,n)),function(e,t){e!==document.activeElement&&function(e,t){return!!e&&e.contains(t)}(t,e)&&"function"==typeof e.focus&&e.focus()}(c,a),o&&i&&o(a,i),!0}return!1}())return;r.current=!0,o.current=window.setTimeout((function(){r.current=!1}),t)}},function(){r.current=!1,i()}]}(0,u),g=xb(m,2),v=g[0],b=g[1],y=n().useRef({cancel:function(){}}),w=n().useRef({cancel:function(){}});n().useEffect((function(){var e=Xy(i),t=Ky(i);p.current!==w.current.element&&(w.current.cancel(),w.current.element=p.current,w.current.cancel=Gy(p.current,v)),d.current.element===e&&function(e,t){return e===t||!(!e||!t)&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY)}(d.current.point,t)&&ky()(d.current.align,a)||(v(),y.current.element!==e&&(y.current.cancel(),y.current.element=e,y.current.cancel=Gy(e,v)))})),n().useEffect((function(){o?b():v()}),[o]);var O=n().useRef(null);return n().useEffect((function(){l?O.current||(O.current=function(e,t,r,n){var o=be().unstable_batchedUpdates?function(e){be().unstable_batchedUpdates(r,e)}:r;return e.addEventListener&&e.addEventListener(t,o,n),{remove:function(){e.removeEventListener&&e.removeEventListener(t,o,n)}}}(window,"resize",v)):O.current&&(O.current.remove(),O.current=null)}),[l]),n().useEffect((function(){return function(){y.current.cancel(),w.current.cancel(),O.current&&O.current.remove(),b()}}),[]),n().useImperativeHandle(t,(function(){return{forceAlign:function(){return v(!0)}}})),n().isValidElement(f)&&(f=n().cloneElement(f,{ref:Sb(f.ref,p)})),f},Jy=n().forwardRef(Yy);Jy.displayName="Align";const Zy=Jy,ew=Ev()?r.useLayoutEffect:r.useEffect;function tw(){tw=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new _(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=w(a,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function p(){}function f(){}var h={};s(h,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(E([])));g&&g!==t&&r.call(g,o)&&(h=g);var v=f.prototype=d.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function n(o,i,a,s){var l=c(e[o],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==uv(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,s(v,"constructor",f),s(f,"constructor",p),p.displayName=s(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(y.prototype),s(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new y(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(v),s(v,a,"Generator"),s(v,o,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=E,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}function rw(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function nw(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){rw(i,n,o,a,s,"next",e)}function s(e){rw(i,n,o,a,s,"throw",e)}a(void 0)}))}}var ow=["measure","alignPre","align",null,"motion"],iw=r.forwardRef((function(e,t){var n=e.visible,o=e.prefixCls,i=e.className,a=e.style,s=e.children,l=e.zIndex,c=e.stretch,u=e.destroyPopupOnHide,d=e.forceRender,p=e.align,f=e.point,h=e.getRootDomNode,m=e.getClassNameFromAlign,g=e.onAlign,v=e.onMouseEnter,b=e.onMouseLeave,y=e.onMouseDown,w=e.onTouchStart,O=e.onClick,x=(0,r.useRef)(),_=(0,r.useRef)(),E=Tv((0,r.useState)(),2),S=E[0],k=E[1],P=function(e){var t=Tv(r.useState({width:0,height:0}),2),n=t[0],o=t[1];return[r.useMemo((function(){var t={};if(e){var r=n.width,o=n.height;-1!==e.indexOf("height")&&o?t.height=o:-1!==e.indexOf("minHeight")&&o&&(t.minHeight=o),-1!==e.indexOf("width")&&r?t.width=r:-1!==e.indexOf("minWidth")&&r&&(t.minWidth=r)}return t}),[e,n]),function(e){o({width:e.offsetWidth,height:e.offsetHeight})}]}(c),C=Tv(P,2),T=C[0],D=C[1],I=function(e,t){var n=Tv(tb(null),2),o=n[0],i=n[1],a=(0,r.useRef)();function s(e){i(e,!0)}function l(){bv.cancel(a.current)}return(0,r.useEffect)((function(){s("measure")}),[e]),(0,r.useEffect)((function(){"measure"===o&&(c&&D(h())),o&&(a.current=bv(nw(tw().mark((function e(){var t,r;return tw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=ow.indexOf(o),(r=ow[t+1])&&-1!==t&&s(r);case 3:case"end":return e.stop()}}),e)})))))}),[o]),(0,r.useEffect)((function(){return function(){l()}}),[]),[o,function(e){l(),a.current=bv((function(){s((function(e){switch(o){case"align":return"motion";case"motion":return"stable"}return e})),null==e||e()}))}]}(n),A=Tv(I,2),j=A[0],M=A[1],N=Tv((0,r.useState)(0),2),R=N[0],L=N[1],$=(0,r.useRef)();function V(){var e;null===(e=x.current)||void 0===e||e.forceAlign()}function z(e,t){var r=m(t);S!==r&&k(r),L((function(e){return e+1})),"align"===j&&(null==g||g(e,t))}ew((function(){"alignPre"===j&&L(0)}),[j]),ew((function(){"align"===j&&(R<2?V():M((function(){var e;null===(e=$.current)||void 0===e||e.call($)})))}),[R]);var F=tv({},yb(e));function q(){return new Promise((function(e){$.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=F[e];F[e]=function(e,r){return M(),null==t?void 0:t(e,r)}})),r.useEffect((function(){F.motionName||"motion"!==j||M()}),[F.motionName,j]),r.useImperativeHandle(t,(function(){return{forceAlign:V,getElement:function(){return _.current}}}));var B=tv(tv({},T),{},{zIndex:l,opacity:"motion"!==j&&"stable"!==j&&n?0:void 0,pointerEvents:n||"stable"===j?void 0:"none"},a),H=!0;!(null==p?void 0:p.points)||"align"!==j&&"stable"!==j||(H=!1);var W=s;return r.Children.count(s)>1&&(W=r.createElement("div",{className:"".concat(o,"-content")},s)),r.createElement(bb,rv({visible:n,ref:_,leavedClassName:"".concat(o,"-hidden")},F,{onAppearPrepare:q,onEnterPrepare:q,removeOnLeave:u,forceRender:d}),(function(e,t){var n=e.className,a=e.style,s=Fl()(o,i,S,n);return r.createElement(Zy,{target:f||h,key:"popup",ref:x,monitorWindowResize:!0,disabled:H,align:p,onAlign:z},r.createElement("div",{ref:t,className:s,onMouseEnter:v,onMouseLeave:b,onMouseDownCapture:y,onTouchStartCapture:w,onClick:O,style:tv(tv({},a),B)},W))}))}));iw.displayName="PopupInner";const aw=iw;var sw=r.forwardRef((function(e,t){var n=e.prefixCls,o=e.visible,i=e.zIndex,a=e.children,s=e.mobile,l=(s=void 0===s?{}:s).popupClassName,c=s.popupStyle,u=s.popupMotion,d=void 0===u?{}:u,p=s.popupRender,f=e.onClick,h=r.useRef();r.useImperativeHandle(t,(function(){return{forceAlign:function(){},getElement:function(){return h.current}}}));var m=tv({zIndex:i},c),g=a;return r.Children.count(a)>1&&(g=r.createElement("div",{className:"".concat(n,"-content")},a)),p&&(g=p(g)),r.createElement(bb,rv({visible:o,ref:h,removeOnLeave:!0},d),(function(e,t){var o=e.className,i=e.style,a=Fl()(n,l,o);return r.createElement("div",{ref:t,className:a,onClick:f,style:tv(tv({},i),m)},g)}))}));sw.displayName="MobilePopupInner";const lw=sw;var cw=["visible","mobile"],uw=r.forwardRef((function(e,t){var n=e.visible,o=e.mobile,i=Dv(e,cw),a=Tv((0,r.useState)(n),2),s=a[0],l=a[1],c=Tv((0,r.useState)(!1),2),u=c[0],d=c[1],p=tv(tv({},i),{},{visible:s});(0,r.useEffect)((function(){l(n),n&&o&&d(function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4)))}())}),[n,o]);var f=u?r.createElement(lw,rv({},p,{mobile:o,ref:t})):r.createElement(aw,rv({},p,{ref:t}));return r.createElement("div",null,r.createElement(wb,p),f)}));uw.displayName="Popup";const dw=uw,pw=r.createContext(null);function fw(){}var hw=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];const mw=(gw=kv,vw=function(e){lv(n,e);var t=pv(n);function n(e){var o,i;return nv(this,n),(o=t.call(this,e)).popupRef=r.createRef(),o.triggerRef=r.createRef(),o.portalContainer=void 0,o.attachId=void 0,o.clickOutsideHandler=void 0,o.touchOutsideHandler=void 0,o.contextMenuOutsideHandler1=void 0,o.contextMenuOutsideHandler2=void 0,o.mouseDownTimeout=void 0,o.focusTime=void 0,o.preClickTime=void 0,o.preTouchTime=void 0,o.delayTimer=void 0,o.hasPopupMouseDown=void 0,o.onMouseEnter=function(e){var t=o.props.mouseEnterDelay;o.fireEvents("onMouseEnter",e),o.delaySetPopupVisible(!0,t,t?null:e)},o.onMouseMove=function(e){o.fireEvents("onMouseMove",e),o.setPoint(e)},o.onMouseLeave=function(e){o.fireEvents("onMouseLeave",e),o.delaySetPopupVisible(!1,o.props.mouseLeaveDelay)},o.onPopupMouseEnter=function(){o.clearDelayTimer()},o.onPopupMouseLeave=function(e){var t;e.relatedTarget&&!e.relatedTarget.setTimeout&&yv(null===(t=o.popupRef.current)||void 0===t?void 0:t.getElement(),e.relatedTarget)||o.delaySetPopupVisible(!1,o.props.mouseLeaveDelay)},o.onFocus=function(e){o.fireEvents("onFocus",e),o.clearDelayTimer(),o.isFocusToShow()&&(o.focusTime=Date.now(),o.delaySetPopupVisible(!0,o.props.focusDelay))},o.onMouseDown=function(e){o.fireEvents("onMouseDown",e),o.preClickTime=Date.now()},o.onTouchStart=function(e){o.fireEvents("onTouchStart",e),o.preTouchTime=Date.now()},o.onBlur=function(e){o.fireEvents("onBlur",e),o.clearDelayTimer(),o.isBlurToHide()&&o.delaySetPopupVisible(!1,o.props.blurDelay)},o.onContextMenu=function(e){e.preventDefault(),o.fireEvents("onContextMenu",e),o.setPopupVisible(!0,e)},o.onContextMenuClose=function(){o.isContextMenuToShow()&&o.close()},o.onClick=function(e){if(o.fireEvents("onClick",e),o.focusTime){var t;if(o.preClickTime&&o.preTouchTime?t=Math.min(o.preClickTime,o.preTouchTime):o.preClickTime?t=o.preClickTime:o.preTouchTime&&(t=o.preTouchTime),Math.abs(t-o.focusTime)<20)return;o.focusTime=0}o.preClickTime=0,o.preTouchTime=0,o.isClickToShow()&&(o.isClickToHide()||o.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!o.state.popupVisible;(o.isClickToHide()&&!r||r&&o.isClickToShow())&&o.setPopupVisible(!o.state.popupVisible,e)},o.onPopupMouseDown=function(){var e;o.hasPopupMouseDown=!0,clearTimeout(o.mouseDownTimeout),o.mouseDownTimeout=window.setTimeout((function(){o.hasPopupMouseDown=!1}),0),o.context&&(e=o.context).onPopupMouseDown.apply(e,arguments)},o.onDocumentClick=function(e){if(!o.props.mask||o.props.maskClosable){var t=e.target,r=o.getRootDomNode(),n=o.getPopupDomNode();yv(r,t)&&!o.isContextMenuOnly()||yv(n,t)||o.hasPopupMouseDown||o.close()}},o.getRootDomNode=function(){var e=o.props.getTriggerDOMNode;if(e)return e(o.triggerRef.current);try{var t=wv(o.triggerRef.current);if(t)return t}catch(e){}return be().findDOMNode(av(o))},o.getPopupClassNameFromAlign=function(e){var t=[],r=o.props,n=r.popupPlacement,i=r.builtinPlacements,a=r.prefixCls,s=r.alignPoint,l=r.getPopupClassNameFromAlign;return n&&i&&t.push(function(e,t,r,n){for(var o=r.points,i=Object.keys(e),a=0;a<i.length;a+=1){var s=i[a];if(Pv(e[s].points,o,n))return"".concat(t,"-placement-").concat(s)}return""}(i,a,e,s)),l&&t.push(l(e)),t.join(" ")},o.getComponent=function(){var e=o.props,t=e.prefixCls,n=e.destroyPopupOnHide,i=e.popupClassName,a=e.onPopupAlign,s=e.popupMotion,l=e.popupAnimation,c=e.popupTransitionName,u=e.popupStyle,d=e.mask,p=e.maskAnimation,f=e.maskTransitionName,h=e.maskMotion,m=e.zIndex,g=e.popup,v=e.stretch,b=e.alignPoint,y=e.mobile,w=e.forceRender,O=e.onPopupClick,x=o.state,_=x.popupVisible,E=x.point,S=o.getPopupAlign(),k={};return o.isMouseEnterToShow()&&(k.onMouseEnter=o.onPopupMouseEnter),o.isMouseLeaveToHide()&&(k.onMouseLeave=o.onPopupMouseLeave),k.onMouseDown=o.onPopupMouseDown,k.onTouchStart=o.onPopupMouseDown,r.createElement(dw,rv({prefixCls:t,destroyPopupOnHide:n,visible:_,point:b&&E,className:i,align:S,onAlign:a,animation:l,getClassNameFromAlign:o.getPopupClassNameFromAlign},k,{stretch:v,getRootDomNode:o.getRootDomNode,style:u,mask:d,zIndex:m,transitionName:c,maskAnimation:p,maskTransitionName:f,maskMotion:h,ref:o.popupRef,motion:s,mobile:y,forceRender:w,onClick:O}),"function"==typeof g?g():g)},o.attachParent=function(e){bv.cancel(o.attachId);var t,r=o.props,n=r.getPopupContainer,i=r.getDocument,a=o.getRootDomNode();n?(a||0===n.length)&&(t=n(a)):t=i(o.getRootDomNode()).body,t?t.appendChild(e):o.attachId=bv((function(){o.attachParent(e)}))},o.getContainer=function(){if(!o.portalContainer){var e=(0,o.props.getDocument)(o.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",o.portalContainer=e}return o.attachParent(o.portalContainer),o.portalContainer},o.setPoint=function(e){o.props.alignPoint&&e&&o.setState({point:{pageX:e.pageX,pageY:e.pageY}})},o.handlePortalUpdate=function(){o.state.prevPopupVisible!==o.state.popupVisible&&o.props.afterPopupVisibleChange(o.state.popupVisible)},o.triggerContextValue={onPopupMouseDown:o.onPopupMouseDown},i="popupVisible"in e?!!e.popupVisible:!!e.defaultPopupVisible,o.state={prevPopupVisible:i,popupVisible:i},hw.forEach((function(e){o["fire".concat(e)]=function(t){o.fireEvents(e,t)}})),o}return iv(n,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=_v(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=_v(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=_v(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=_v(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),bv.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,r=e.popupAlign,n=e.builtinPlacements;return t&&n?function(e,t,r){return tv(tv({},e[t]||{}),r)}(n,t,r):r}},{key:"setPopupVisible",value:function(e,t){var r=this.props.alignPoint,n=this.state.popupVisible;this.clearDelayTimer(),n!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:n}),this.props.onPopupVisibleChange(e)),r&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,r){var n=this,o=1e3*t;if(this.clearDelayTimer(),o){var i=r?{pageX:r.pageX,pageY:r.pageY}:null;this.delayTimer=window.setTimeout((function(){n.setPopupVisible(e,i),n.clearDelayTimer()}),o)}else this.setPopupVisible(e,r)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,r=this.props;return t[e]&&r[e]?this["fire".concat(e)]:t[e]||r[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,r=e.showAction;return-1!==t.indexOf("click")||-1!==r.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,r=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==r.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,r=e.hideAction;return-1!==t.indexOf("click")||-1!==r.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,r=e.showAction;return-1!==t.indexOf("hover")||-1!==r.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,r=e.hideAction;return-1!==t.indexOf("hover")||-1!==r.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,r=e.showAction;return-1!==t.indexOf("focus")||-1!==r.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,r=e.hideAction;return-1!==t.indexOf("focus")||-1!==r.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var r=this.props.children.props[e];r&&r(t);var n=this.props[e];n&&n(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var e=this.state.popupVisible,t=this.props,n=t.children,o=t.forceRender,i=t.alignPoint,a=t.className,s=t.autoDestroy,l=r.Children.only(n),c={key:"trigger"};this.isContextMenuToShow()?c.onContextMenu=this.onContextMenu:c.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(c.onClick=this.onClick,c.onMouseDown=this.onMouseDown,c.onTouchStart=this.onTouchStart):(c.onClick=this.createTwoChains("onClick"),c.onMouseDown=this.createTwoChains("onMouseDown"),c.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(c.onMouseEnter=this.onMouseEnter,i&&(c.onMouseMove=this.onMouseMove)):c.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?c.onMouseLeave=this.onMouseLeave:c.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(c.onFocus=this.onFocus,c.onBlur=this.onBlur):(c.onFocus=this.createTwoChains("onFocus"),c.onBlur=this.createTwoChains("onBlur"));var u=Fl()(l&&l.props&&l.props.className,a);u&&(c.className=u);var d=tv({},c);xv(l)&&(d.ref=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter((function(e){return e}));return n.length<=1?n[0]:function(e){t.forEach((function(t){Ov(t,e)}))}}(this.triggerRef,l.ref));var p,f=r.cloneElement(l,d);return(e||this.popupRef.current||o)&&(p=r.createElement(gw,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!e&&s&&(p=null),r.createElement(pw.Provider,{value:this.triggerContextValue},f,p)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.popupVisible,n={};return void 0!==r&&t.popupVisible!==r&&(n.popupVisible=r,n.prevPopupVisible=t.popupVisible),n}}]),n}(r.Component),vw.contextType=pw,vw.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:function(){return""},getDocument:function(e){return e?e.ownerDocument:window.document},onPopupVisibleChange:fw,afterPopupVisibleChange:fw,onPopupAlign:fw,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},vw);var gw,vw,bw=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],yw=function(e,t){var n=e.prefixCls,o=(e.disabled,e.visible),i=e.children,a=e.popupElement,s=e.containerWidth,l=e.animation,c=e.transitionName,u=e.dropdownStyle,d=e.dropdownClassName,p=e.direction,f=void 0===p?"ltr":p,h=e.placement,m=e.dropdownMatchSelectWidth,g=e.dropdownRender,v=e.dropdownAlign,b=e.getPopupContainer,y=e.empty,w=e.getTriggerDOMNode,O=e.onPopupVisibleChange,x=e.onPopupMouseEnter,_=Tg(e,bw),E="".concat(n,"-dropdown"),S=a;g&&(S=g(a));var k=r.useMemo((function(){return function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(m)}),[m]),P=l?"".concat(E,"-").concat(l):c,C=r.useRef(null);r.useImperativeHandle(t,(function(){return{getPopupElement:function(){return C.current}}}));var T=Sg({minWidth:s},u);return"number"==typeof m?T.width=m:m&&(T.width=s),r.createElement(mw,bg({},_,{showAction:O?["click"]:[],hideAction:O?["click"]:[],popupPlacement:h||("rtl"===f?"bottomRight":"bottomLeft"),builtinPlacements:k,prefixCls:E,popupTransitionName:P,popup:r.createElement("div",{ref:C,onMouseEnter:x},S),popupAlign:v,popupVisible:o,getPopupContainer:b,popupClassName:Fl()(d,_g({},"".concat(E,"-empty"),y)),popupStyle:T,getTriggerDOMNode:w,onPopupVisibleChange:O}),i)},ww=r.forwardRef(yw);ww.displayName="SelectTrigger";const Ow=ww;function xw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ew(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_w(Object(r),!0).forEach((function(t){xw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Sw="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),kw="aria-",Pw="data-";function Cw(e,t){return 0===e.indexOf(t)}function Tw(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===r?{aria:!0,data:!0,attr:!0}:!0===r?{aria:!0}:Ew({},r);var n={};return Object.keys(e).forEach((function(r){(t.aria&&("role"===r||Cw(r,kw))||t.data&&Cw(r,Pw)||t.attr&&Sw.includes(r))&&(n[r]=e[r])})),n}function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dw.apply(this,arguments)}function Iw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Aw(Object(r),!0).forEach((function(t){Iw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rw(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lw.apply(this,arguments)}function $w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return n().Children.forEach(e,(function(e){(null!=e||t.keepEmpty)&&(Array.isArray(e)?r=r.concat($w(e)):(0,Ug.isFragment)(e)&&e.props?r=r.concat($w(e.props.children,t)):r.push(e))})),r}function Vw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zw(Object(r),!0).forEach((function(t){Vw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qw(e){return e instanceof HTMLElement?e:be().findDOMNode(e)}var Bw=new Map,Hw=new Qy((function(e){e.forEach((function(e){var t,r=e.target;null===(t=Bw.get(r))||void 0===t||t.forEach((function(e){return e(r)}))}))}));function Ww(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qw(e,t){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qw(e,t)}function Gw(e){return Gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Gw(e)}function Xw(e){return Xw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xw(e)}function Kw(e,t){if(t&&("object"===Xw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}var Yw=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qw(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gw(n);if(o){var r=Gw(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Kw(this,e)});function a(){return Ww(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){return this.props.children}}])&&Uw(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component),Jw=r.createContext(null);function Zw(e){var t,n,o,i,a=e.children,s=e.disabled,l=r.useRef(null),c=r.useRef(null),u=r.useContext(Jw),d="function"==typeof a,p=d?a(l):a,f=r.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),h=!d&&r.isValidElement(p)&&(t=p,!("function"==typeof(i=(0,Ug.isMemo)(t)?t.type.type:t.type)&&!(null===(n=i.prototype)||void 0===n?void 0:n.render)||"function"==typeof t&&!(null===(o=t.prototype)||void 0===o?void 0:o.render))),m=h?p.ref:null,g=r.useMemo((function(){return Xg(m,l)}),[m,l]),v=r.useRef(e);v.current=e;var b=r.useCallback((function(e){var t=v.current,r=t.onResize,n=t.data,o=e.getBoundingClientRect(),i=o.width,a=o.height,s=e.offsetWidth,l=e.offsetHeight,c=Math.floor(i),d=Math.floor(a);if(f.current.width!==c||f.current.height!==d||f.current.offsetWidth!==s||f.current.offsetHeight!==l){var p={width:c,height:d,offsetWidth:s,offsetHeight:l};f.current=p;var h=s===Math.round(i)?i:s,m=l===Math.round(a)?a:l,g=Fw(Fw({},p),{},{offsetWidth:h,offsetHeight:m});null==u||u(g,e,n),r&&Promise.resolve().then((function(){r(g,e)}))}}),[]);return r.useEffect((function(){var e,t,r=qw(l.current)||qw(c.current);return r&&!s&&(e=r,t=b,Bw.has(e)||(Bw.set(e,new Set),Hw.observe(e)),Bw.get(e).add(t)),function(){return function(e,t){Bw.has(e)&&(Bw.get(e).delete(t),Bw.get(e).size||(Hw.unobserve(e),Bw.delete(e)))}(r,b)}}),[l.current,s]),r.createElement(Yw,{ref:c},h?r.cloneElement(p,{ref:g}):p)}function eO(e){var t=e.children;return("function"==typeof t?[t]:$w(t)).map((function(t,n){var o=(null==t?void 0:t.key)||"".concat("rc-observer-key","-").concat(n);return r.createElement(Zw,Lw({},e,{key:o}),t)}))}eO.Collection=function(e){var t=e.children,n=e.onBatchResize,o=r.useRef(0),i=r.useRef([]),a=r.useContext(Jw),s=r.useCallback((function(e,t,r){o.current+=1;var s=o.current;i.current.push({size:e,element:t,data:r}),Promise.resolve().then((function(){s===o.current&&(null==n||n(i.current),i.current=[])})),null==a||a(e,t,r)}),[n,a]);return r.createElement(Jw.Provider,{value:s},t)};const tO=eO,rO="undefined"!=typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect;var nO=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],oO=void 0;function iO(e,t){var n=e.prefixCls,o=e.invalidate,i=e.item,a=e.renderItem,s=e.responsive,l=e.responsiveDisabled,c=e.registerSize,u=e.itemKey,d=e.className,p=e.style,f=e.children,h=e.display,m=e.order,g=e.component,v=void 0===g?"div":g,b=Rw(e,nO),y=s&&!h;function w(e){c(u,e)}r.useEffect((function(){return function(){w(null)}}),[]);var O,x=a&&i!==oO?a(i):f;o||(O={opacity:y?0:1,height:y?0:oO,overflowY:y?"hidden":oO,order:s?m:oO,pointerEvents:y?"none":oO,position:y?"absolute":oO});var _={};y&&(_["aria-hidden"]=!0);var E=r.createElement(v,Dw({className:Fl()(!o&&n,d),style:jw(jw({},O),p)},_,b,{ref:t}),x);return s&&(E=r.createElement(tO,{onResize:function(e){w(e.offsetWidth)},disabled:l},E)),E}var aO=r.forwardRef(iO);aO.displayName="Item";const sO=aO;var lO=function(e){return+setTimeout(e,16)},cO=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(lO=function(e){return window.requestAnimationFrame(e)},cO=function(e){return window.cancelAnimationFrame(e)});var uO=0,dO=new Map;function pO(e){dO.delete(e)}function fO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=uO+=1;function n(t){if(0===t)pO(r),e();else{var o=lO((function(){n(t-1)}));dO.set(r,o)}}return n(t),r}fO.cancel=function(e){var t=dO.get(e);return pO(t),cO(t)};var hO=["component"],mO=["className"],gO=["className"],vO=function(e,t){var n=r.useContext(OO);if(!n){var o=e.component,i=void 0===o?"div":o,a=Rw(e,hO);return r.createElement(i,Dw({},a,{ref:t}))}var s=n.className,l=Rw(n,mO),c=e.className,u=Rw(e,gO);return r.createElement(OO.Provider,{value:null},r.createElement(sO,Dw({ref:t,className:Fl()(s,c)},l,u)))},bO=r.forwardRef(vO);bO.displayName="RawItem";const yO=bO;var wO=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],OO=r.createContext(null),xO="responsive",_O="invalidate";function EO(e){return"+ ".concat(e.length," ...")}function SO(e,t){var n,o,i,a,s,l,c,u,d,p=e.prefixCls,f=void 0===p?"rc-overflow":p,h=e.data,m=void 0===h?[]:h,g=e.renderItem,v=e.renderRawItem,b=e.itemKey,y=e.itemWidth,w=void 0===y?10:y,O=e.ssr,x=e.style,_=e.className,E=e.maxCount,S=e.renderRest,k=e.renderRawRest,P=e.suffix,C=e.component,T=void 0===C?"div":C,D=e.itemComponent,I=e.onVisibleChange,A=Rw(e,wO),j=(n={},o=r.useRef(!1),a=(i=Nw(r.useState(n),2))[0],s=i[1],r.useEffect((function(){return o.current=!1,function(){o.current=!0}}),[]),l=Nw([a,function(e,t){t&&o.current||s(e)}],2)[1],c=(0,r.useRef)([]),u=0,d=0,function(e){var t=u;return u+=1,c.current.length<t+1&&(c.current[t]=e),[c.current[t],function(e){c.current[t]="function"==typeof e?e(c.current[t]):e,fO.cancel(d),d=fO((function(){l({},!0)}))}]}),M="full"===O,N=Nw(j(null),2),R=N[0],L=N[1],$=R||0,V=Nw(j(new Map),2),z=V[0],F=V[1],q=Nw(j(0),2),B=q[0],H=q[1],W=Nw(j(0),2),U=W[0],Q=W[1],G=Nw(j(0),2),X=G[0],K=G[1],Y=Nw((0,r.useState)(null),2),J=Y[0],Z=Y[1],ee=Nw((0,r.useState)(null),2),te=ee[0],re=ee[1],ne=r.useMemo((function(){return null===te&&M?Number.MAX_SAFE_INTEGER:te||0}),[te,R]),oe=Nw((0,r.useState)(!1),2),ie=oe[0],ae=oe[1],se="".concat(f,"-item"),le=Math.max(B,U),ce=E===xO,ue=m.length&&ce,de=E===_O,pe=ue||"number"==typeof E&&m.length>E,fe=(0,r.useMemo)((function(){var e=m;return ue?e=null===R&&M?m:m.slice(0,Math.min(m.length,$/w)):"number"==typeof E&&(e=m.slice(0,E)),e}),[m,w,R,E,ue]),he=(0,r.useMemo)((function(){return ue?m.slice(ne+1):m.slice(fe.length)}),[m,fe,ue,ne]),me=(0,r.useCallback)((function(e,t){var r;return"function"==typeof b?b(e):null!==(r=b&&(null==e?void 0:e[b]))&&void 0!==r?r:t}),[b]),ge=(0,r.useCallback)(g||function(e){return e},[g]);function ve(e,t,r){(te!==e||void 0!==t&&t!==J)&&(re(e),r||(ae(e<m.length-1),null==I||I(e)),void 0!==t&&Z(t))}function be(e,t){F((function(r){var n=new Map(r);return null===t?n.delete(e):n.set(e,t),n}))}function ye(e){return z.get(me(fe[e],e))}rO((function(){if($&&le&&fe){var e=X,t=fe.length,r=t-1;if(!t)return void ve(0,null);for(var n=0;n<t;n+=1){var o=ye(n);if(M&&(o=o||0),void 0===o){ve(n-1,void 0,!0);break}if(e+=o,0===r&&e<=$||n===r-1&&e+ye(r)<=$){ve(r,null);break}if(e+le>$){ve(n-1,e-o-X+U);break}}P&&ye(0)+X>$&&Z(null)}}),[$,z,U,X,me,fe]);var we=ie&&!!he.length,Oe={};null!==J&&ue&&(Oe={position:"absolute",left:J,top:0});var xe,_e={prefixCls:se,responsive:ue,component:D,invalidate:de},Ee=v?function(e,t){var n=me(e,t);return r.createElement(OO.Provider,{key:n,value:jw(jw({},_e),{},{order:t,item:e,itemKey:n,registerSize:be,display:t<=ne})},v(e,t))}:function(e,t){var n=me(e,t);return r.createElement(sO,Dw({},_e,{order:t,key:n,item:e,renderItem:ge,itemKey:n,registerSize:be,display:t<=ne}))},Se={order:we?ne:Number.MAX_SAFE_INTEGER,className:"".concat(se,"-rest"),registerSize:function(e,t){Q(t),H(U)},display:we};if(k)k&&(xe=r.createElement(OO.Provider,{value:jw(jw({},_e),Se)},k(he)));else{var ke=S||EO;xe=r.createElement(sO,Dw({},_e,Se),"function"==typeof ke?ke(he):ke)}var Pe=r.createElement(T,Dw({className:Fl()(!de&&f,_),style:x,ref:t},A),fe.map(Ee),pe?xe:null,P&&r.createElement(sO,Dw({},_e,{responsive:ce,responsiveDisabled:!ue,order:ne,className:"".concat(se,"-suffix"),registerSize:function(e,t){K(t)},display:!0,style:Oe}),P));return ce&&(Pe=r.createElement(tO,{onResize:function(e,t){L(t.clientWidth)},disabled:!ue},Pe)),Pe}var kO=r.forwardRef(SO);kO.displayName="Overflow",kO.Item=yO,kO.RESPONSIVE=xO,kO.INVALIDATE=_O;const PO=kO,CO=function(e){var t,n=e.className,o=e.customizeIcon,i=e.customizeIconProps,a=e.onMouseDown,s=e.onClick,l=e.children;return t="function"==typeof o?o(i):o,r.createElement("span",{className:n,onMouseDown:function(e){e.preventDefault(),a&&a(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},void 0!==t?t:r.createElement("span",{className:Fl()(n.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},l))};var TO=function(e,t){var n,o,i=e.prefixCls,a=e.id,s=e.inputElement,l=e.disabled,c=e.tabIndex,u=e.autoFocus,d=e.autoComplete,p=e.editable,f=e.activeDescendantId,h=e.value,m=e.maxLength,g=e.onKeyDown,v=e.onMouseDown,b=e.onChange,y=e.onPaste,w=e.onCompositionStart,O=e.onCompositionEnd,x=e.open,_=e.attrs,E=s||r.createElement("input",null),S=E,k=S.ref,P=S.props,C=P.onKeyDown,T=P.onChange,D=P.onMouseDown,I=P.onCompositionStart,A=P.onCompositionEnd,j=P.style;return E.props,r.cloneElement(E,Sg(Sg(Sg({type:"search"},P),{},{id:a,ref:Xg(t,k),disabled:l,tabIndex:c,autoComplete:d||"off",autoFocus:u,className:Fl()("".concat(i,"-selection-search-input"),null===(n=E)||void 0===n||null===(o=n.props)||void 0===o?void 0:o.className),role:"combobox","aria-expanded":x,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":f},_),{},{value:p?h:"",maxLength:m,readOnly:!p,unselectable:p?null:"on",style:Sg(Sg({},j),{},{opacity:p?null:0}),onKeyDown:function(e){g(e),C&&C(e)},onMouseDown:function(e){v(e),D&&D(e)},onChange:function(e){b(e),T&&T(e)},onCompositionStart:function(e){w(e),I&&I(e)},onCompositionEnd:function(e){O(e),A&&A(e)},onPaste:y}))},DO=r.forwardRef(TO);DO.displayName="Input";const IO=DO;function AO(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var jO="undefined"!=typeof window&&window.document&&window.document.documentElement;function MO(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var NO=function(e){e.preventDefault(),e.stopPropagation()};const RO=function(e){var t,n,o=e.id,i=e.prefixCls,a=e.values,s=e.open,l=e.searchValue,c=e.inputRef,u=e.placeholder,d=e.disabled,p=e.mode,f=e.showSearch,h=e.autoFocus,m=e.autoComplete,g=e.activeDescendantId,v=e.tabIndex,b=e.removeIcon,y=e.maxTagCount,w=e.maxTagTextLength,O=e.maxTagPlaceholder,x=void 0===O?function(e){return"+ ".concat(e.length," ...")}:O,_=e.tagRender,E=e.onToggleOpen,S=e.onRemove,k=e.onInputChange,P=e.onInputPaste,C=e.onInputKeyDown,T=e.onInputMouseDown,D=e.onInputCompositionStart,I=e.onInputCompositionEnd,A=r.useRef(null),j=Cg((0,r.useState)(0),2),M=j[0],N=j[1],R=Cg((0,r.useState)(!1),2),L=R[0],$=R[1],V="".concat(i,"-selection"),z=s||"tags"===p?l:"",F="tags"===p||f&&(s||L);function q(e,t,n,o,i){return r.createElement("span",{className:Fl()("".concat(V,"-item"),_g({},"".concat(V,"-item-disabled"),n)),title:"string"==typeof e||"number"==typeof e?e.toString():void 0},r.createElement("span",{className:"".concat(V,"-item-content")},t),o&&r.createElement(CO,{className:"".concat(V,"-item-remove"),onMouseDown:NO,onClick:i,customizeIcon:b},"×"))}t=function(){N(A.current.scrollWidth)},n=[z],jO?r.useLayoutEffect(t,n):r.useEffect(t,n);var B=r.createElement("div",{className:"".concat(V,"-search"),style:{width:M},onFocus:function(){$(!0)},onBlur:function(){$(!1)}},r.createElement(IO,{ref:c,open:s,prefixCls:i,id:o,inputElement:null,disabled:d,autoFocus:h,autoComplete:m,editable:F,activeDescendantId:g,value:z,onKeyDown:C,onMouseDown:T,onChange:k,onPaste:P,onCompositionStart:D,onCompositionEnd:I,tabIndex:v,attrs:Tw(e,!0)}),r.createElement("span",{ref:A,className:"".concat(V,"-search-mirror"),"aria-hidden":!0},z," ")),H=r.createElement(PO,{prefixCls:"".concat(V,"-overflow"),data:a,renderItem:function(e){var t=e.disabled,n=e.label,o=e.value,i=!d&&!t,a=n;if("number"==typeof w&&("string"==typeof n||"number"==typeof n)){var l=String(a);l.length>w&&(a="".concat(l.slice(0,w),"..."))}var c=function(t){t&&t.stopPropagation(),S(e)};return"function"==typeof _?function(e,t,n,o,i){return r.createElement("span",{onMouseDown:function(e){NO(e),E(!s)}},_({label:t,value:e,disabled:n,closable:o,onClose:i}))}(o,a,t,i,c):q(n,a,t,i,c)},renderRest:function(e){var t="function"==typeof x?x(e):x;return q(t,t,!1)},suffix:B,itemKey:MO,maxCount:y});return r.createElement(r.Fragment,null,H,!a.length&&!z&&r.createElement("span",{className:"".concat(V,"-placeholder")},u))},LO=function(e){var t=e.inputElement,n=e.prefixCls,o=e.id,i=e.inputRef,a=e.disabled,s=e.autoFocus,l=e.autoComplete,c=e.activeDescendantId,u=e.mode,d=e.open,p=e.values,f=e.placeholder,h=e.tabIndex,m=e.showSearch,g=e.searchValue,v=e.activeValue,b=e.maxLength,y=e.onInputKeyDown,w=e.onInputMouseDown,O=e.onInputChange,x=e.onInputPaste,_=e.onInputCompositionStart,E=e.onInputCompositionEnd,S=Cg(r.useState(!1),2),k=S[0],P=S[1],C="combobox"===u,T=C||m,D=p[0],I=g||"";C&&v&&!k&&(I=v),r.useEffect((function(){C&&P(!1)}),[C,v]);var A=!("combobox"!==u&&!d&&!m||!I),j=!D||"string"!=typeof D.label&&"number"!=typeof D.label?void 0:D.label.toString();return r.createElement(r.Fragment,null,r.createElement("span",{className:"".concat(n,"-selection-search")},r.createElement(IO,{ref:i,prefixCls:n,id:o,open:d,inputElement:t,disabled:a,autoFocus:s,autoComplete:l,editable:T,activeDescendantId:c,value:I,onKeyDown:y,onMouseDown:w,onChange:function(e){P(!0),O(e)},onPaste:x,onCompositionStart:_,onCompositionEnd:E,tabIndex:h,attrs:Tw(e,!0),maxLength:C?b:void 0})),!C&&D&&!A&&r.createElement("span",{className:"".concat(n,"-selection-item"),title:j},D.label),function(){if(D)return null;var e=A?{visibility:"hidden"}:void 0;return r.createElement("span",{className:"".concat(n,"-selection-placeholder"),style:e},f)}())};function $O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=r.useRef(null),n=r.useRef(null);function o(r){(r||null===t.current)&&(t.current=r),window.clearTimeout(n.current),n.current=window.setTimeout((function(){t.current=null}),e)}return r.useEffect((function(){return function(){window.clearTimeout(n.current)}}),[]),[function(){return t.current},o]}var VO=function(e,t){var n=(0,r.useRef)(null),o=(0,r.useRef)(!1),i=e.prefixCls,a=e.open,s=e.mode,l=e.showSearch,c=e.tokenWithEnter,u=e.onSearch,d=e.onSearchSubmit,p=e.onToggleOpen,f=e.onInputKeyDown,h=e.domRef;r.useImperativeHandle(t,(function(){return{focus:function(){n.current.focus()},blur:function(){n.current.blur()}}}));var m=Cg($O(0),2),g=m[0],v=m[1],b=(0,r.useRef)(null),y=function(e){!1!==u(e,!0,o.current)&&p(!0)},w={inputRef:n,onInputKeyDown:function(e){var t,r=e.which;r!==Hg.UP&&r!==Hg.DOWN||e.preventDefault(),f&&f(e),r!==Hg.ENTER||"tags"!==s||o.current||a||null==d||d(e.target.value),t=r,[Hg.ESC,Hg.SHIFT,Hg.BACKSPACE,Hg.TAB,Hg.WIN_KEY,Hg.ALT,Hg.META,Hg.WIN_KEY_RIGHT,Hg.CTRL,Hg.SEMICOLON,Hg.EQUALS,Hg.CAPS_LOCK,Hg.CONTEXT_MENU,Hg.F1,Hg.F2,Hg.F3,Hg.F4,Hg.F5,Hg.F6,Hg.F7,Hg.F8,Hg.F9,Hg.F10,Hg.F11,Hg.F12].includes(t)||p(!0)},onInputMouseDown:function(){v(!0)},onInputChange:function(e){var t=e.target.value;if(c&&b.current&&/[\r\n]/.test(b.current)){var r=b.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(r,b.current)}b.current=null,y(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");b.current=t},onInputCompositionStart:function(){o.current=!0},onInputCompositionEnd:function(e){o.current=!1,"combobox"!==s&&y(e.target.value)}},O="multiple"===s||"tags"===s?r.createElement(RO,bg({},e,w)):r.createElement(LO,bg({},e,w));return r.createElement("div",{ref:h,className:"".concat(i,"-selector"),onClick:function(e){e.target!==n.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){n.current.focus()})):n.current.focus())},onMouseDown:function(e){var t=g();e.target===n.current||t||e.preventDefault(),("combobox"===s||l&&t)&&a||(a&&u("",!0,!1),p())}},O)},zO=r.forwardRef(VO);zO.displayName="Selector";const FO=zO;var qO=r.createContext(null);function BO(){return r.useContext(qO)}var HO=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],WO=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function UO(e){return"tags"===e||"multiple"===e}var QO=r.forwardRef((function(e,t){var n,o,i=e.id,a=e.prefixCls,s=e.className,l=e.showSearch,c=e.tagRender,u=e.direction,d=e.omitDomProps,p=e.displayValues,f=e.onDisplayValuesChange,h=e.emptyOptions,m=e.notFoundContent,g=void 0===m?"Not Found":m,v=e.onClear,b=e.mode,y=e.disabled,w=e.loading,O=e.getInputElement,x=e.getRawInputElement,_=e.open,E=e.defaultOpen,S=e.onDropdownVisibleChange,k=e.activeValue,P=e.onActiveValueChange,C=e.activeDescendantId,T=e.searchValue,D=e.onSearch,I=e.onSearchSplit,A=e.tokenSeparators,j=e.allowClear,M=e.showArrow,N=e.inputIcon,R=e.clearIcon,L=e.OptionList,$=e.animation,V=e.transitionName,z=e.dropdownStyle,F=e.dropdownClassName,q=e.dropdownMatchSelectWidth,B=e.dropdownRender,H=e.dropdownAlign,W=e.placement,U=e.getPopupContainer,Q=e.showAction,G=void 0===Q?[]:Q,X=e.onFocus,K=e.onBlur,Y=e.onKeyUp,J=e.onKeyDown,Z=e.onMouseDown,ee=Tg(e,HO),te=UO(b),re=(void 0!==l?l:te)||"combobox"===b,ne=Sg({},ee);WO.forEach((function(e){delete ne[e]})),null==d||d.forEach((function(e){delete ne[e]}));var oe=Cg(r.useState(!1),2),ie=oe[0],ae=oe[1];r.useEffect((function(){ae(function(){if("undefined"==typeof navigator||"undefined"==typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null==e?void 0:e.substr(0,4)))}())}),[]);var se=r.useRef(null),le=r.useRef(null),ce=r.useRef(null),ue=r.useRef(null),de=r.useRef(null),pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=Cg(r.useState(!1),2),n=t[0],o=t[1],i=r.useRef(null),a=function(){window.clearTimeout(i.current)};return r.useEffect((function(){return a}),[]),[n,function(t,r){a(),i.current=window.setTimeout((function(){o(t),r&&r()}),e)},a]}(),fe=Cg(pe,3),he=fe[0],me=fe[1],ge=fe[2];r.useImperativeHandle(t,(function(){var e,t;return{focus:null===(e=ue.current)||void 0===e?void 0:e.focus,blur:null===(t=ue.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=de.current)||void 0===t?void 0:t.scrollTo(e)}}}));var ve=r.useMemo((function(){var e;if("combobox"!==b)return T;var t=null===(e=p[0])||void 0===e?void 0:e.value;return"string"==typeof t||"number"==typeof t?String(t):""}),[T,b,p]),be="combobox"===b&&"function"==typeof O&&O()||null,ye="function"==typeof x&&x(),we=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Qg((function(){return Xg.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,r){return e===t[r]}))}))}(le,null==ye||null===(n=ye.props)||void 0===n?void 0:n.ref),Oe=Cg(Vg(void 0,{defaultValue:E,value:_}),2),xe=Oe[0],_e=Oe[1],Ee=xe,Se=!g&&h;(y||Se&&Ee&&"combobox"===b)&&(Ee=!1);var ke=!Se&&Ee,Pe=r.useCallback((function(e){var t=void 0!==e?e:!Ee;Ee===t||y||(_e(t),null==S||S(t))}),[y,Ee,_e,S]),Ce=r.useMemo((function(){return(A||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[A]),Te=function(e,t,r){var n=!0,o=e;null==P||P(null);var i=r?null:function(e,t){if(!t||!t.length)return null;var r=!1,n=function e(t,n){var o,i=kg(o=n)||wg(o)||Og(o)||Pg(),a=i[0],s=i.slice(1);if(!a)return[t];var l=t.split(a);return r=r||l.length>1,l.reduce((function(t,r){return[].concat(xg(t),xg(e(r,s)))}),[]).filter((function(e){return e}))}(e,t);return r?n:null}(e,A);return"combobox"!==b&&i&&(o="",null==I||I(i),Pe(!1),n=!1),D&&ve!==o&&D(o,{source:t?"typing":"effect"}),n};r.useEffect((function(){Ee||te||"combobox"===b||Te("",!1,!1)}),[Ee]),r.useEffect((function(){xe&&y&&_e(!1),y&&me(!1)}),[y]);var De=Cg($O(),2),Ie=De[0],Ae=De[1],je=r.useRef(!1),Me=[];r.useEffect((function(){return function(){Me.forEach((function(e){return clearTimeout(e)})),Me.splice(0,Me.length)}}),[]);var Ne,Re=Cg(r.useState(null),2),Le=Re[0],$e=Re[1],Ve=Cg(r.useState({}),2)[1];Rg((function(){if(ke){var e,t=Math.ceil(null===(e=se.current)||void 0===e?void 0:e.offsetWidth);Le===t||Number.isNaN(t)||$e(t)}}),[ke]),ye&&(Ne=function(e){Pe(e)}),function(e,t,n,o){var i=r.useRef(null);i.current={open:t,triggerOpen:n,customizedTrigger:o},r.useEffect((function(){function e(e){var t,r;if(!(null===(t=i.current)||void 0===t?void 0:t.customizedTrigger)){var n=e.target;n.shadowRoot&&e.composed&&(n=e.composedPath()[0]||n),i.current.open&&[se.current,null===(r=ce.current)||void 0===r?void 0:r.getPopupElement()].filter((function(e){return e})).every((function(e){return!e.contains(n)&&e!==n}))&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",e),function(){return window.removeEventListener("mousedown",e)}}),[])}(0,ke,Pe,!!ye);var ze,Fe,qe=r.useMemo((function(){return Sg(Sg({},e),{},{notFoundContent:g,open:Ee,triggerOpen:ke,id:i,showSearch:re,multiple:te,toggleOpen:Pe})}),[e,g,ke,Ee,i,re,te,Pe]),Be=void 0!==M?M:w||!te&&"combobox"!==b;Be&&(ze=r.createElement(CO,{className:Fl()("".concat(a,"-arrow"),_g({},"".concat(a,"-arrow-loading"),w)),customizeIcon:N,customizeIconProps:{loading:w,searchValue:ve,open:Ee,focused:he,showSearch:re}})),!y&&j&&(p.length||ve)&&(Fe=r.createElement(CO,{className:"".concat(a,"-clear"),onMouseDown:function(){null==v||v(),f([],{type:"clear",values:p}),Te("",!1,!1)},customizeIcon:R},"×"));var He,We=r.createElement(L,{ref:de}),Ue=Fl()(a,s,(_g(o={},"".concat(a,"-focused"),he),_g(o,"".concat(a,"-multiple"),te),_g(o,"".concat(a,"-single"),!te),_g(o,"".concat(a,"-allow-clear"),j),_g(o,"".concat(a,"-show-arrow"),Be),_g(o,"".concat(a,"-disabled"),y),_g(o,"".concat(a,"-loading"),w),_g(o,"".concat(a,"-open"),Ee),_g(o,"".concat(a,"-customize-input"),be),_g(o,"".concat(a,"-show-search"),re),o)),Qe=r.createElement(Ow,{ref:ce,disabled:y,prefixCls:a,visible:ke,popupElement:We,containerWidth:Le,animation:$,transitionName:V,dropdownStyle:z,dropdownClassName:F,direction:u,dropdownMatchSelectWidth:q,dropdownRender:B,dropdownAlign:H,placement:W,getPopupContainer:U,empty:h,getTriggerDOMNode:function(){return le.current},onPopupVisibleChange:Ne,onPopupMouseEnter:function(){Ve({})}},ye?r.cloneElement(ye,{ref:we}):r.createElement(FO,bg({},e,{domRef:le,prefixCls:a,inputElement:be,ref:ue,id:i,showSearch:re,mode:b,activeDescendantId:C,tagRender:c,values:p,open:Ee,onToggleOpen:Pe,activeValue:k,searchValue:ve,onSearch:Te,onSearchSubmit:function(e){e&&e.trim()&&D(e,{source:"submit"})},onRemove:function(e){var t=p.filter((function(t){return t!==e}));f(t,{type:"remove",values:[e]})},tokenWithEnter:Ce})));return He=ye?Qe:r.createElement("div",bg({className:Ue},ne,{ref:se,onMouseDown:function(e){var t,r=e.target,n=null===(t=ce.current)||void 0===t?void 0:t.getPopupElement();if(n&&n.contains(r)){var o=setTimeout((function(){var e,t=Me.indexOf(o);-1!==t&&Me.splice(t,1),ge(),ie||n.contains(document.activeElement)||null===(e=ue.current)||void 0===e||e.focus()}));Me.push(o)}for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];null==Z||Z.apply(void 0,[e].concat(a))},onKeyDown:function(e){var t,r=Ie(),n=e.which;if(n===Hg.ENTER&&("combobox"!==b&&e.preventDefault(),Ee||Pe(!0)),Ae(!!ve),n===Hg.BACKSPACE&&!r&&te&&!ve&&p.length){for(var o=xg(p),i=null,a=o.length-1;a>=0;a-=1){var s=o[a];if(!s.disabled){o.splice(a,1),i=s;break}}i&&f(o,{type:"remove",values:[i]})}for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];Ee&&de.current&&(t=de.current).onKeyDown.apply(t,[e].concat(c)),null==J||J.apply(void 0,[e].concat(c))},onKeyUp:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o;Ee&&de.current&&(o=de.current).onKeyUp.apply(o,[e].concat(r)),null==Y||Y.apply(void 0,[e].concat(r))},onFocus:function(){me(!0),y||(X&&!je.current&&X.apply(void 0,arguments),G.includes("focus")&&Pe(!0)),je.current=!0},onBlur:function(){me(!1,(function(){je.current=!1,Pe(!1)})),y||(ve&&("tags"===b?D(ve,{source:"submit"}):"multiple"===b&&D("",{source:"blur"})),K&&K.apply(void 0,arguments))}}),he&&!Ee&&r.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(p.map((function(e){var t=e.label,r=e.value;return["number","string"].includes(Dg(t))?t:r})).join(", "))),Qe,ze,Fe),r.createElement(qO.Provider,{value:qe},He)}));const GO=QO;function XO(e,t){return AO(e).join("").toUpperCase().includes(t)}var KO=0,YO=Mg();function JO(e){var t=Cg(r.useState(),2),n=t[0],o=t[1];return r.useEffect((function(){var e;o("rc_select_".concat((YO?(e=KO,KO+=1):e="TEST_OR_SSR",e)))}),[]),e||n}var ZO=["children","value"],ex=["children"];function tx(e){var t=e.key,r=e.props,n=r.children,o=r.value;return Sg({key:t,value:void 0!==o?o:t,children:n},Tg(r,ZO))}function rx(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return $w(e).map((function(e,n){if(!r.isValidElement(e)||!e.type)return null;var o=e.type.isSelectOptGroup,i=e.key,a=e.props,s=a.children,l=Tg(a,ex);return t||!o?tx(e):Sg(Sg({key:"__RC_SELECT_GRP__".concat(null===i?n:i,"__"),label:i},l),{},{options:rx(s)})})).filter((function(e){return e}))}function nx(e,t,n,o,i){return r.useMemo((function(){var r=e;!e&&(r=rx(t));var a=new Map,s=new Map,l=function(e,t,r){r&&"string"==typeof r&&e.set(t[r],t)};return function e(t){for(var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=0;c<t.length;c+=1){var u=t[c];!u[n.options]||r?(a.set(u[n.value],u),l(s,u,n.label),l(s,u,o),l(s,u,i)):e(u[n.options],!0)}}(r),{options:r,valueOptions:a,labelOptions:s}}),[e,t,n,o,i])}function ox(e){var t=r.useRef();t.current=e;var n=r.useCallback((function(){return t.current.apply(t,arguments)}),[]);return n}var ix=function(){return null};ix.isSelectOptGroup=!0;const ax=ix;var sx=function(){return null};sx.isSelectOption=!0;const lx=sx;function cx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ux(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cx(Object(r),!0).forEach((function(t){dx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cx(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dx(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var px=r.forwardRef((function(e,t){var n=e.height,o=e.offset,i=e.children,a=e.prefixCls,s=e.onInnerResize,l={},c={display:"flex",flexDirection:"column"};return void 0!==o&&(l={height:n,position:"relative",overflow:"hidden"},c=ux(ux({},c),{},{transform:"translateY(".concat(o,"px)"),position:"absolute",left:0,right:0,top:0})),r.createElement("div",{style:l},r.createElement(tO,{onResize:function(e){e.offsetHeight&&s&&s()}},r.createElement("div",{style:c,className:Fl()(dx({},"".concat(a,"-holder-inner"),a)),ref:t},i)))}));px.displayName="Filler";const fx=px;var hx=function(e){return+setTimeout(e,16)},mx=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(hx=function(e){return window.requestAnimationFrame(e)},mx=function(e){return window.cancelAnimationFrame(e)});var gx=0,vx=new Map;function bx(e){vx.delete(e)}function yx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=gx+=1;function n(t){if(0===t)bx(r),e();else{var o=hx((function(){n(t-1)}));vx.set(r,o)}}return n(t),r}function wx(e){return wx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wx(e)}function Ox(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _x(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ex(e,t){return Ex=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ex(e,t)}function Sx(e,t){if(t&&("object"===wx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function kx(e){return kx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},kx(e)}function Px(e){return"touches"in e?e.touches[0].pageY:e.pageY}yx.cancel=function(e){var t=vx.get(e);return bx(t),mx(t)};var Cx=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ex(e,t)}(s,e);var t,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=kx(o);if(i){var r=kx(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Sx(this,e)});function s(){var e;xx(this,s);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).moveRaf=null,e.scrollbarRef=r.createRef(),e.thumbRef=r.createRef(),e.visibleTimeout=null,e.state={dragging:!1,pageY:null,startTop:null,visible:!1},e.delayHidden=function(){clearTimeout(e.visibleTimeout),e.setState({visible:!0}),e.visibleTimeout=setTimeout((function(){e.setState({visible:!1})}),2e3)},e.onScrollbarTouchStart=function(e){e.preventDefault()},e.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.patchEvents=function(){window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp),e.thumbRef.current.addEventListener("touchmove",e.onMouseMove),e.thumbRef.current.addEventListener("touchend",e.onMouseUp)},e.removeEvents=function(){var t;window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp),null===(t=e.scrollbarRef.current)||void 0===t||t.removeEventListener("touchstart",e.onScrollbarTouchStart),e.thumbRef.current&&(e.thumbRef.current.removeEventListener("touchstart",e.onMouseDown),e.thumbRef.current.removeEventListener("touchmove",e.onMouseMove),e.thumbRef.current.removeEventListener("touchend",e.onMouseUp)),yx.cancel(e.moveRaf)},e.onMouseDown=function(t){var r=e.props.onStartMove;e.setState({dragging:!0,pageY:Px(t),startTop:e.getTop()}),r(),e.patchEvents(),t.stopPropagation(),t.preventDefault()},e.onMouseMove=function(t){var r=e.state,n=r.dragging,o=r.pageY,i=r.startTop,a=e.props.onScroll;if(yx.cancel(e.moveRaf),n){var s=i+(Px(t)-o),l=e.getEnableScrollRange(),c=e.getEnableHeightRange(),u=c?s/c:0,d=Math.ceil(u*l);e.moveRaf=yx((function(){a(d)}))}},e.onMouseUp=function(){var t=e.props.onStopMove;e.setState({dragging:!1}),t(),e.removeEvents()},e.getSpinHeight=function(){var t=e.props,r=t.height,n=r/t.count*10;return n=Math.max(n,20),n=Math.min(n,r/2),Math.floor(n)},e.getEnableScrollRange=function(){var t=e.props;return t.scrollHeight-t.height||0},e.getEnableHeightRange=function(){return e.props.height-e.getSpinHeight()||0},e.getTop=function(){var t=e.props.scrollTop,r=e.getEnableScrollRange(),n=e.getEnableHeightRange();return 0===t||0===r?0:t/r*n},e.showScroll=function(){var t=e.props,r=t.height;return t.scrollHeight>r},e}return t=s,(n=[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var e=this.state,t=e.dragging,n=e.visible,o=this.props.prefixCls,i=this.getSpinHeight(),a=this.getTop(),s=this.showScroll(),l=s&&n;return r.createElement("div",{ref:this.scrollbarRef,className:Fl()("".concat(o,"-scrollbar"),Ox({},"".concat(o,"-scrollbar-show"),s)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:l?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},r.createElement("div",{ref:this.thumbRef,className:Fl()("".concat(o,"-scrollbar-thumb"),Ox({},"".concat(o,"-scrollbar-thumb-moving"),t)),style:{width:"100%",height:i,top:a,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}])&&_x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component);function Tx(e){var t=e.children,n=e.setRef,o=r.useCallback((function(e){n(e)}),[]);return r.cloneElement(t,{ref:o})}function Dx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const Ix=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maps=void 0,this.maps=Object.create(null)}var t,r;return t=e,(r=[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}])&&Dx(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ax(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jx(e){return jx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jx(e)}function Mx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nx(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rx(e){return Rx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rx(e)}const Lx="object"===("undefined"==typeof navigator?"undefined":Rx(navigator))&&/Firefox/i.test(navigator.userAgent),$x=function(e,t){var n=(0,r.useRef)(!1),o=(0,r.useRef)(null);function i(){clearTimeout(o.current),n.current=!0,o.current=setTimeout((function(){n.current=!1}),50)}var a=(0,r.useRef)({top:e,bottom:t});return a.current.top=e,a.current.bottom=t,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e<0&&a.current.top||e>0&&a.current.bottom;return t&&r?(clearTimeout(o.current),n.current=!1):r&&!n.current||i(),!n.current&&r}};var Vx=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange"];function zx(){return zx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zx.apply(this,arguments)}function Fx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fx(Object(r),!0).forEach((function(t){Bx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fx(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bx(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wx(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ux=[],Qx={overflowY:"auto",overflowAnchor:"none"};function Gx(e,t){var n=e.prefixCls,o=void 0===n?"rc-virtual-list":n,i=e.className,a=e.height,s=e.itemHeight,l=e.fullHeight,c=void 0===l||l,u=e.style,d=e.data,p=e.children,f=e.itemKey,h=e.virtual,m=e.component,g=void 0===m?"div":m,v=e.onScroll,b=e.onVisibleChange,y=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Vx),w=!(!1===h||!a||!s),O=w&&d&&s*d.length>a,x=Hx((0,r.useState)(0),2),_=x[0],E=x[1],S=Hx((0,r.useState)(!1),2),k=S[0],P=S[1],C=Fl()(o,i),T=d||Ux,D=(0,r.useRef)(),I=(0,r.useRef)(),A=(0,r.useRef)(),j=r.useCallback((function(e){return"function"==typeof f?f(e):null==e?void 0:e[f]}),[f]),M={getKey:j};function N(e){E((function(t){var r=function(e){var t=e;return Number.isNaN(Y.current)||(t=Math.min(t,Y.current)),Math.max(t,0)}("function"==typeof e?e(t):e);return D.current.scrollTop=r,r}))}var R=(0,r.useRef)({start:0,end:T.length}),L=(0,r.useRef)(),$=Hx(function(e,t,n){var o=Mx(r.useState(e),2),i=o[0],a=o[1],s=Mx(r.useState(null),2),l=s[0],c=s[1];return r.useEffect((function(){var r=function(e,t,r){var n,o,i=e.length,a=t.length;if(0===i&&0===a)return null;i<a?(n=e,o=t):(n=t,o=e);var s={__EMPTY_ITEM__:!0};function l(e){return void 0!==e?r(e):s}for(var c=null,u=1!==Math.abs(i-a),d=0;d<o.length;d+=1){var p=l(n[d]);if(p!==l(o[d])){c=d,u=u||p!==l(o[d+1]);break}}return null===c?null:{index:c,multiple:u}}(i||[],e||[],t);void 0!==(null==r?void 0:r.index)&&(null==n||n(r.index),c(e[r.index])),a(e)}),[e]),[l]}(T,j),1)[0];L.current=$;var V=function(e,t,n){var o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ax(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ax(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r.useState(0),2),i=o[0],a=o[1],s=(0,r.useRef)(new Map),l=(0,r.useRef)(new Ix),c=(0,r.useRef)();function u(){yx.cancel(c.current)}function d(){u(),c.current=yx((function(){s.current.forEach((function(e,t){if(e&&e.offsetParent){var r=qw(e),n=r.offsetHeight;l.current.get(t)!==n&&l.current.set(t,r.offsetHeight)}})),a((function(e){return e+1}))}))}return(0,r.useEffect)((function(){return u}),[]),[function(t,r){var n=e(t);s.current.get(n);r?(s.current.set(n,r),d()):s.current.delete(n)},d,l.current,i]}(j),z=Hx(V,4),F=z[0],q=z[1],B=z[2],H=z[3],W=r.useMemo((function(){if(!w)return{scrollHeight:void 0,start:0,end:T.length-1,offset:void 0};var e;if(!O)return{scrollHeight:(null===(e=I.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:T.length-1,offset:void 0};for(var t,r,n,o=0,i=T.length,l=0;l<i;l+=1){var c=T[l],u=j(c),d=B.get(u),p=o+(void 0===d?s:d);p>=_&&void 0===t&&(t=l,r=o),p>_+a&&void 0===n&&(n=l),o=p}return void 0===t&&(t=0,r=0),void 0===n&&(n=T.length-1),{scrollHeight:o,start:t,end:n=Math.min(n+1,T.length),offset:r}}),[O,w,_,T,H,a]),U=W.scrollHeight,Q=W.start,G=W.end,X=W.offset;R.current.start=Q,R.current.end=G;var K=U-a,Y=(0,r.useRef)(K);Y.current=K;var J=_<=0,Z=_>=K,ee=$x(J,Z),te=function(e,t,n,o){var i=(0,r.useRef)(0),a=(0,r.useRef)(null),s=(0,r.useRef)(null),l=(0,r.useRef)(!1),c=$x(t,n);return[function(t){if(e){yx.cancel(a.current);var r=t.deltaY;i.current+=r,s.current=r,c(r)||(Lx||t.preventDefault(),a.current=yx((function(){var e,t=l.current?10:1;e=i.current*t,N((function(t){return t+e})),i.current=0})))}},function(t){e&&(l.current=t.detail===s.current)}]}(w,J,Z),re=Hx(te,2),ne=re[0],oe=re[1];!function(e,t,n){var o,i=(0,r.useRef)(!1),a=(0,r.useRef)(0),s=(0,r.useRef)(null),l=(0,r.useRef)(null),c=function(e){if(i.current){var t=Math.ceil(e.touches[0].pageY),r=a.current-t;a.current=t,n(r)&&e.preventDefault(),clearInterval(l.current),l.current=setInterval((function(){(!n(r*=.9333333333333333,!0)||Math.abs(r)<=.1)&&clearInterval(l.current)}),16)}},u=function(){i.current=!1,o()},d=function(e){o(),1!==e.touches.length||i.current||(i.current=!0,a.current=Math.ceil(e.touches[0].pageY),s.current=e.target,s.current.addEventListener("touchmove",c),s.current.addEventListener("touchend",u))};o=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",u))},Rg((function(){return e&&t.current.addEventListener("touchstart",d),function(){var e;null===(e=t.current)||void 0===e||e.removeEventListener("touchstart",d),o(),clearInterval(l.current)}}),[e])}(w,D,(function(e,t){return!ee(e,t)&&(ne({preventDefault:function(){},deltaY:e}),!0)})),Rg((function(){function e(e){w&&e.preventDefault()}return D.current.addEventListener("wheel",ne),D.current.addEventListener("DOMMouseScroll",oe),D.current.addEventListener("MozMousePixelScroll",e),function(){D.current&&(D.current.removeEventListener("wheel",ne),D.current.removeEventListener("DOMMouseScroll",oe),D.current.removeEventListener("MozMousePixelScroll",e))}}),[w]);var ie=function(e,t,n,o,i,a,s,l){var c=r.useRef();return function(r){if(null!=r){if(yx.cancel(c.current),"number"==typeof r)s(r);else if(r&&"object"===jx(r)){var l,u=r.align;l="index"in r?r.index:t.findIndex((function(e){return i(e)===r.key}));var d=r.offset,p=void 0===d?0:d;!function r(d,f){if(!(d<0)&&e.current){var h=e.current.clientHeight,m=!1,g=f;if(h){for(var v=f||u,b=0,y=0,w=0,O=Math.min(t.length,l),x=0;x<=O;x+=1){var _=i(t[x]);y=b;var E=n.get(_);b=w=y+(void 0===E?o:E),x===l&&void 0===E&&(m=!0)}var S=null;switch(v){case"top":S=y-p;break;case"bottom":S=w-h+p;break;default:var k=e.current.scrollTop;y<k?g="top":w>k+h&&(g="bottom")}null!==S&&S!==e.current.scrollTop&&s(S)}c.current=yx((function(){m&&a(),r(d-1,g)}))}}(3)}}else null===(f=A.current)||void 0===f||f.delayHidden();var f}}(D,T,B,s,j,q,N);r.useImperativeHandle(t,(function(){return{scrollTo:ie}})),Rg((function(){if(b){var e=T.slice(Q,G+1);b(e,T)}}),[Q,G,T]);var ae=function(e,t,n,o,i,a){var s=a.getKey;return e.slice(t,n+1).map((function(e,n){var a=i(e,t+n,{}),l=s(e);return r.createElement(Tx,{key:l,setRef:function(t){return o(e,t)}},a)}))}(T,Q,G,F,p,M),se=null;return a&&(se=qx(Bx({},c?"height":"maxHeight",a),Qx),w&&(se.overflowY="hidden",k&&(se.pointerEvents="none"))),r.createElement("div",zx({style:qx(qx({},u),{},{position:"relative"}),className:C},y),r.createElement(g,{className:"".concat(o,"-holder"),style:se,ref:D,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==_&&N(t),null==v||v(e)}},r.createElement(fx,{prefixCls:o,height:U,offset:X,onInnerResize:q,ref:I},ae)),w&&r.createElement(Cx,{ref:A,prefixCls:o,scrollTop:_,height:a,scrollHeight:U,count:T.length,onScroll:function(e){N(e)},onStartMove:function(){P(!0)},onStopMove:function(){P(!1)}}))}var Xx=r.forwardRef(Gx);Xx.displayName="List";const Kx=Xx,Yx=r.createContext(null);var Jx=["disabled","title","children","style","className"];function Zx(e){return"string"==typeof e||"number"==typeof e}var e_=function(e,t){var n=BO(),o=n.prefixCls,i=n.id,a=n.open,s=n.multiple,l=n.mode,c=n.searchValue,u=n.toggleOpen,d=n.notFoundContent,p=n.onPopupScroll,f=r.useContext(Yx),h=f.flattenOptions,m=f.onActiveValue,g=f.defaultActiveFirstOption,v=f.onSelect,b=f.menuItemSelectedIcon,y=f.rawValues,w=f.fieldNames,O=f.virtual,x=f.listHeight,_=f.listItemHeight,E="".concat(o,"-item"),S=Qg((function(){return h}),[a,h],(function(e,t){return t[0]&&e[1]!==t[1]})),k=r.useRef(null),P=function(e){e.preventDefault()},C=function(e){k.current&&k.current.scrollTo("number"==typeof e?{index:e}:e)},T=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=S.length,n=0;n<r;n+=1){var o=(e+n*t+r)%r,i=S[o],a=i.group,s=i.data;if(!a&&!s.disabled)return o}return-1},D=Cg(r.useState((function(){return T(0)})),2),I=D[0],A=D[1],j=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];A(e);var r={source:t?"keyboard":"mouse"},n=S[e];n?m(n.value,e,r):m(null,-1,r)};(0,r.useEffect)((function(){j(!1!==g?T(0):-1)}),[S.length,c]);var M=r.useCallback((function(e){return y.has(e)&&"combobox"!==l}),[l,xg(y).toString()]);(0,r.useEffect)((function(){var e,t=setTimeout((function(){if(!s&&a&&1===y.size){var e=Array.from(y)[0],t=S.findIndex((function(t){return t.data.value===e}));-1!==t&&(j(t),C(t))}}));return a&&(null===(e=k.current)||void 0===e||e.scrollTo(void 0)),function(){return clearTimeout(t)}}),[a,c]);var N=function(e){void 0!==e&&v(e,{selected:!y.has(e)}),s||u(!1)};if(r.useImperativeHandle(t,(function(){return{onKeyDown:function(e){var t=e.which,r=e.ctrlKey;switch(t){case Hg.N:case Hg.P:case Hg.UP:case Hg.DOWN:var n=0;if(t===Hg.UP?n=-1:t===Hg.DOWN?n=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&r&&(t===Hg.N?n=1:t===Hg.P&&(n=-1)),0!==n){var o=T(I+n,n);C(o),j(o,!0)}break;case Hg.ENTER:var i=S[I];i&&!i.data.disabled?N(i.value):N(void 0),a&&e.preventDefault();break;case Hg.ESC:u(!1),a&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){C(e)}}})),0===S.length)return r.createElement("div",{role:"listbox",id:"".concat(i,"_list"),className:"".concat(E,"-empty"),onMouseDown:P},d);var R=Object.keys(w).map((function(e){return w[e]})),L=function(e){return e.label},$=function(e){var t=S[e];if(!t)return null;var n=t.data||{},o=n.value,a=t.group,s=Tw(n,!0),l=L(t);return t?r.createElement("div",bg({"aria-label":"string"!=typeof l||a?null:l},s,{key:e,role:a?"presentation":"option",id:"".concat(i,"_list_").concat(e),"aria-selected":M(o)}),o):null};return r.createElement(r.Fragment,null,r.createElement("div",{role:"listbox",id:"".concat(i,"_list"),style:{height:0,width:0,overflow:"hidden"}},$(I-1),$(I),$(I+1)),r.createElement(Kx,{itemKey:"key",ref:k,data:S,height:x,itemHeight:_,fullHeight:!1,onMouseDown:P,onScroll:p,virtual:O},(function(e,t){var n,o=e.group,i=e.groupOption,a=e.data,s=e.label,l=e.value,c=a.key;if(o){var u,d=null!==(u=a.title)&&void 0!==u?u:Zx(s)?s.toString():void 0;return r.createElement("div",{className:Fl()(E,"".concat(E,"-group")),title:d},void 0!==s?s:c)}var p,f,h=a.disabled,m=a.title,g=(a.children,a.style),v=a.className,y=Tg(a,Jx),w=(p=R,f=Ew({},y),Array.isArray(p)&&p.forEach((function(e){delete f[e]})),f),O=M(l),x="".concat(E,"-option"),_=Fl()(E,x,v,(_g(n={},"".concat(x,"-grouped"),i),_g(n,"".concat(x,"-active"),I===t&&!h),_g(n,"".concat(x,"-disabled"),h),_g(n,"".concat(x,"-selected"),O),n)),S=L(e),k=!b||"function"==typeof b||O,P="number"==typeof S?S:S||l,C=Zx(P)?P.toString():void 0;return void 0!==m&&(C=m),r.createElement("div",bg({},Tw(w),{"aria-selected":O,className:_,title:C,onMouseMove:function(){I===t||h||j(t)},onClick:function(){h||N(l)},style:g}),r.createElement("div",{className:"".concat(x,"-content")},P),r.isValidElement(b)||O,k&&r.createElement(CO,{className:"".concat(E,"-option-state"),customizeIcon:b,customizeIconProps:{isSelected:O}},O?"✓":null))})))},t_=r.forwardRef(e_);t_.displayName="OptionList";const r_=t_;var n_=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],o_=["inputValue"],i_=r.forwardRef((function(e,t){var n=e.id,o=e.mode,i=e.prefixCls,a=void 0===i?"rc-select":i,s=e.backfill,l=e.fieldNames,c=e.inputValue,u=e.searchValue,d=e.onSearch,p=e.autoClearSearchValue,f=void 0===p||p,h=e.onSelect,m=e.onDeselect,g=e.dropdownMatchSelectWidth,v=void 0===g||g,b=e.filterOption,y=e.filterSort,w=e.optionFilterProp,O=e.optionLabelProp,x=e.options,_=e.children,E=e.defaultActiveFirstOption,S=e.menuItemSelectedIcon,k=e.virtual,P=e.listHeight,C=void 0===P?200:P,T=e.listItemHeight,D=void 0===T?20:T,I=e.value,A=e.defaultValue,j=e.labelInValue,M=e.onChange,N=Tg(e,n_),R=JO(n),L=UO(o),$=!(x||!_),V=r.useMemo((function(){return(void 0!==b||"combobox"!==o)&&b}),[b,o]),z=r.useMemo((function(){return Yg(l,$)}),[JSON.stringify(l),$]),F=Cg(Vg("",{value:void 0!==u?u:c,postState:function(e){return e||""}}),2),q=F[0],B=F[1],H=nx(x,_,z,w,O),W=H.valueOptions,U=H.labelOptions,Q=H.options,G=r.useCallback((function(e){return AO(e).map((function(e){var t,r,n,o,i;!function(e){return!e||"object"!==Dg(e)}(e)?(n=e.key,r=e.label,t=null!==(i=e.value)&&void 0!==i?i:n):t=e;var a,s=W.get(t);return s&&(void 0===r&&(r=null==s?void 0:s[O||z.label]),void 0===n&&(n=null!==(a=null==s?void 0:s.key)&&void 0!==a?a:t),o=null==s?void 0:s.disabled),{label:r,value:t,key:n,disabled:o}}))}),[z,O,W]),X=Cg(Vg(A,{value:I}),2),K=X[0],Y=X[1],J=r.useMemo((function(){var e,t=G(K);return"combobox"!==o||(null===(e=t[0])||void 0===e?void 0:e.value)?t:[]}),[K,G,o]),Z=function(e,t){var n=r.useRef({values:new Map,options:new Map});return[r.useMemo((function(){var r=n.current,o=r.values,i=r.options,a=e.map((function(e){var t;return void 0===e.label?Sg(Sg({},e),{},{label:null===(t=o.get(e.value))||void 0===t?void 0:t.label}):e})),s=new Map,l=new Map;return a.forEach((function(e){s.set(e.value,e),l.set(e.value,t.get(e.value)||i.get(e.value))})),n.current.values=s,n.current.options=l,a}),[e,t]),r.useCallback((function(e){return t.get(e)||n.current.options.get(e)}),[t])]}(J,W),ee=Cg(Z,2),te=ee[0],re=ee[1],ne=r.useMemo((function(){if(!o&&1===te.length){var e=te[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return te.map((function(e){var t;return Sg(Sg({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[o,te]),oe=r.useMemo((function(){return new Set(te.map((function(e){return e.value})))}),[te]);r.useEffect((function(){if("combobox"===o){var e,t=null===(e=te[0])||void 0===e?void 0:e.value;null!=t&&B(String(t))}}),[te]);var ie=ox((function(e,t){var r,n=null!=t?t:e;return _g(r={},z.value,e),_g(r,z.label,n),r})),ae=r.useMemo((function(){if("tags"!==o)return Q;var e=xg(Q);return xg(te).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var r=t.value;(function(e){return W.has(e)})(r)||e.push(ie(r,t.label))})),e}),[ie,Q,W,te,o]),se=function(e,t,n,o,i){return r.useMemo((function(){if(!n||!1===o)return e;var r=t.options,a=t.label,s=t.value,l=[],c="function"==typeof o,u=n.toUpperCase(),d=c?o:function(e,t){return i?XO(t[i],u):t[r]?XO(t["children"!==a?a:"label"],u):XO(t[s],u)},p=c?function(e){return Jg(e)}:function(e){return e};return e.forEach((function(e){if(e[r])if(d(n,p(e)))l.push(e);else{var t=e[r].filter((function(e){return d(n,p(e))}));t.length&&l.push(Sg(Sg({},e),{},_g({},r,t)))}else d(n,p(e))&&l.push(e)})),l}),[e,o,i,n,t])}(ae,z,q,V,w),le=r.useMemo((function(){return"tags"!==o||!q||se.some((function(e){return e[w||"value"]===q}))?se:[ie(q)].concat(xg(se))}),[ie,w,o,se,q]),ce=r.useMemo((function(){return y?xg(le).sort((function(e,t){return y(e,t)})):le}),[le,y]),ue=r.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.fieldNames,n=t.childrenAsData,o=[],i=Yg(r,!1),a=i.label,s=i.value,l=i.options;function c(e,t){e.forEach((function(e){var r=e[a];if(t||!(l in e)){var i=e[s];o.push({key:Kg(e,o.length),groupOption:t,data:e,label:r,value:i})}else{var u=r;void 0===u&&n&&(u=e.label),o.push({key:Kg(e,o.length),group:!0,data:e,label:u}),c(e[l],!0)}}))}return c(e,!1),o}(ce,{fieldNames:z,childrenAsData:$})}),[ce,z,$]),de=function(e){var t=G(e);if(Y(t),M&&(t.length!==te.length||t.some((function(e,t){var r;return(null===(r=te[t])||void 0===r?void 0:r.value)!==(null==e?void 0:e.value)})))){var r=j?t:t.map((function(e){return e.value})),n=t.map((function(e){return Jg(re(e.value))}));M(L?r:r[0],L?n:n[0])}},pe=Cg(r.useState(null),2),fe=pe[0],he=pe[1],me=Cg(r.useState(0),2),ge=me[0],ve=me[1],be=void 0!==E?E:"combobox"!==o,ye=r.useCallback((function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.source,i=void 0===n?"keyboard":n;ve(t),s&&"combobox"===o&&null!==e&&"keyboard"===i&&he(String(e))}),[s,o]),we=function(e,t){var r=function(){var t,r=re(e);return[j?{label:null==r?void 0:r[z.label],value:e,key:null!==(t=null==r?void 0:r.key)&&void 0!==t?t:e}:e,Jg(r)]};if(t&&h){var n=Cg(r(),2),o=n[0],i=n[1];h(o,i)}else if(!t&&m){var a=Cg(r(),2),s=a[0],l=a[1];m(s,l)}},Oe=ox((function(e,t){var r,n=!L||t.selected;r=n?L?[].concat(xg(te),[e]):[e]:te.filter((function(t){return t.value!==e})),de(r),we(e,n),"combobox"===o?he(""):UO&&!f||(B(""),he(""))})),xe=r.useMemo((function(){var e=!1!==k&&!1!==v;return Sg(Sg({},H),{},{flattenOptions:ue,onActiveValue:ye,defaultActiveFirstOption:be,onSelect:Oe,menuItemSelectedIcon:S,rawValues:oe,fieldNames:z,virtual:e,listHeight:C,listItemHeight:D,childrenAsData:$})}),[H,ue,ye,be,Oe,S,oe,z,k,v,C,D,$]);return r.createElement(Yx.Provider,{value:xe},r.createElement(GO,bg({},N,{id:R,prefixCls:a,ref:t,omitDomProps:o_,mode:o,displayValues:ne,onDisplayValuesChange:function(e,t){de(e),"remove"!==t.type&&"clear"!==t.type||t.values.forEach((function(e){we(e.value,!1)}))},searchValue:q,onSearch:function(e,t){if(B(e),he(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===o&&de(e),null==d||d(e));else{var r=(e||"").trim();if(r){var n=Array.from(new Set([].concat(xg(oe),[r])));de(n),we(r,!0),B("")}}},onSearchSplit:function(e){var t=e;"tags"!==o&&(t=e.map((function(e){var t=U.get(e);return null==t?void 0:t.value})).filter((function(e){return void 0!==e})));var r=Array.from(new Set([].concat(xg(oe),xg(t))));de(r),r.forEach((function(e){we(e,!0)}))},dropdownMatchSelectWidth:v,OptionList:r_,emptyOptions:!ue.length,activeValue:fe,activeDescendantId:"".concat(R,"_list_").concat(ge)})))})),a_=i_;function s_(e,t){var r=new Set;return e.forEach((function(e){t.has(e)||r.add(e)})),r}function l_(e){var t=e||{},r=t.disabled,n=t.disableCheckbox,o=t.checkable;return!(!r&&!n)||!1===o}function c_(e,t,r,n){var o,i=[];o=n||l_;var a,s=new Set(e.filter((function(e){var t=!!r[e];return t||i.push(e),t}))),l=new Map,c=0;return Object.keys(r).forEach((function(e){var t=r[e],n=t.level,o=l.get(n);o||(o=new Set,l.set(n,o)),o.add(t),c=Math.max(c,n)})),qg(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),a=!0===t?function(e,t,r,n){for(var o=new Set(e),i=new Set,a=0;a<=r;a+=1)(t.get(a)||new Set).forEach((function(e){var t=e.key,r=e.node,i=e.children,a=void 0===i?[]:i;o.has(t)&&!n(r)&&a.filter((function(e){return!n(e.node)})).forEach((function(e){o.add(e.key)}))}));for(var s=new Set,l=r;l>=0;l-=1)(t.get(l)||new Set).forEach((function(e){var t=e.parent,r=e.node;if(!n(r)&&e.parent&&!s.has(e.parent.key))if(n(e.parent.node))s.add(t.key);else{var a=!0,l=!1;(t.children||[]).filter((function(e){return!n(e.node)})).forEach((function(e){var t=e.key,r=o.has(t);a&&!r&&(a=!1),l||!r&&!i.has(t)||(l=!0)})),a&&o.add(t.key),l&&i.add(t.key),s.add(t.key)}}));return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(s_(i,o))}}(s,l,c,o):function(e,t,r,n,o){for(var i=new Set(e),a=new Set(t),s=0;s<=n;s+=1)(r.get(s)||new Set).forEach((function(e){var t=e.key,r=e.node,n=e.children,s=void 0===n?[]:n;i.has(t)||a.has(t)||o(r)||s.filter((function(e){return!o(e.node)})).forEach((function(e){i.delete(e.key)}))}));a=new Set;for(var l=new Set,c=n;c>=0;c-=1)(r.get(c)||new Set).forEach((function(e){var t=e.parent,r=e.node;if(!o(r)&&e.parent&&!l.has(e.parent.key))if(o(e.parent.node))l.add(t.key);else{var n=!0,s=!1;(t.children||[]).filter((function(e){return!o(e.node)})).forEach((function(e){var t=e.key,r=i.has(t);n&&!r&&(n=!1),s||!r&&!a.has(t)||(s=!0)})),n||i.delete(t.key),s&&a.add(t.key),l.add(t.key)}}));return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(s_(a,i))}}(s,t.halfCheckedKeys,l,c,o),a}a_.Option=lx,a_.OptGroup=ax;const u_=r.createContext(null);function d_(e){return d_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d_(e)}var p_="__RC_CASCADER_SPLIT__",f_="SHOW_PARENT",h_="SHOW_CHILD";function m_(e){return e.join(p_)}function g_(e){return e.map(m_)}function v_(e,t){var r,n;return null!==(r=e.isLeaf)&&void 0!==r?r:!(null===(n=e[t.children])||void 0===n?void 0:n.length)}function b_(e){var t=e.parentElement;if(t){var r=e.offsetTop-t.offsetTop;r-t.scrollTop<0?t.scrollTo({top:r}):r+e.offsetHeight-t.scrollTop>t.offsetHeight&&t.scrollTo({top:r+e.offsetHeight-t.offsetHeight})}}function y_(e,t,r){var n=new Set(e),o=t();return e.filter((function(e){var t=o[e],i=t?t.parent:null,a=t?t.children:null;return r===h_?!(a&&a.some((function(e){return e.key&&n.has(e.key)}))):!(i&&!i.node.disabled&&n.has(i.key))}))}function w_(e,t,r){for(var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t,i=[],a=function(t){var a,s,l,c=e[t],u=null===(a=o)||void 0===a?void 0:a.findIndex((function(e){var t=e[r.value];return n?String(t)===String(c):t===c})),d=-1!==u?null===(s=o)||void 0===s?void 0:s[u]:null;i.push({value:null!==(l=null==d?void 0:d[r.value])&&void 0!==l?l:c,index:u,option:d}),o=null==d?void 0:d[r.children]},s=0;s<e.length;s+=1)a(s);return i}function O_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function __(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x_(Object(r),!0).forEach((function(t){O_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E_(e){return E_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E_(e)}function S_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P_(Object(r),!0).forEach((function(t){k_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T_.apply(this,arguments)}function D_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j_(e,t){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},j_(e,t)}function M_(e){return M_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M_(e)}function N_(e,t){if(t&&("object"===E_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A_(e)}var R_=r.createContext(null),L_=function(e){for(var t=e.prefixCls,n=e.level,o=e.isStart,i=e.isEnd,a="".concat(t,"-indent-unit"),s=[],l=0;l<n;l+=1){var c;s.push(r.createElement("span",{key:l,className:Fl()(a,(c={},k_(c,"".concat(a,"-start"),o[l]),k_(c,"".concat(a,"-end"),i[l]),c))}))}return r.createElement("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},s)};const $_=r.memo(L_);var V_=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],z_="open",F_="close",q_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j_(e,t)}(s,e);var t,n,o,i,a=(o=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=M_(o);if(i){var r=M_(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return N_(this,e)});function s(){var e;D_(this,s);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={dragNodeHighlight:!1},e.selectHandle=void 0,e.onSelectorClick=function(t){(0,e.props.context.onNodeClick)(t,U_(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){(0,e.props.context.onNodeDoubleClick)(t,U_(e.props))},e.onSelect=function(t){if(!e.isDisabled()){var r=e.props.context.onNodeSelect;t.preventDefault(),r(t,U_(e.props))}},e.onCheck=function(t){if(!e.isDisabled()){var r=e.props,n=r.disableCheckbox,o=r.checked,i=e.props.context.onNodeCheck;if(e.isCheckable()&&!n){t.preventDefault();var a=!o;i(t,U_(e.props),a)}}},e.onMouseEnter=function(t){(0,e.props.context.onNodeMouseEnter)(t,U_(e.props))},e.onMouseLeave=function(t){(0,e.props.context.onNodeMouseLeave)(t,U_(e.props))},e.onContextMenu=function(t){(0,e.props.context.onNodeContextMenu)(t,U_(e.props))},e.onDragStart=function(t){var r=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),r(t,A_(e));try{t.dataTransfer.setData("text/plain","")}catch(e){}},e.onDragEnter=function(t){var r=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),r(t,A_(e))},e.onDragOver=function(t){var r=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),r(t,A_(e))},e.onDragLeave=function(t){var r=e.props.context.onNodeDragLeave;t.stopPropagation(),r(t,A_(e))},e.onDragEnd=function(t){var r=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),r(t,A_(e))},e.onDrop=function(t){var r=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),r(t,A_(e))},e.onExpand=function(t){var r=e.props,n=r.loading,o=r.context.onNodeExpand;n||o(t,U_(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?z_:F_},e.hasChildren=function(){var t=e.props.eventKey;return!!((e.props.context.keyEntities[t]||{}).children||[]).length},e.isLeaf=function(){var t=e.props,r=t.isLeaf,n=t.loaded,o=e.props.context.loadData,i=e.hasChildren();return!1!==r&&(r||!o&&!i||o&&n&&!i)},e.isDisabled=function(){var t=e.props.disabled;return!(!e.props.context.disabled&&!t)},e.isCheckable=function(){var t=e.props.checkable,r=e.props.context.checkable;return!(!r||!1===t)&&r},e.syncLoadData=function(t){var r=t.expanded,n=t.loading,o=t.loaded,i=e.props.context,a=i.loadData,s=i.onNodeLoad;n||a&&r&&!e.isLeaf()&&(e.hasChildren()||o||s(U_(e.props)))},e.isDraggable=function(){var t=e.props,r=t.data,n=t.context.draggable;return!(!n||n.nodeDraggable&&!n.nodeDraggable(r))},e.renderDragHandler=function(){var t=e.props.context,n=t.draggable,o=t.prefixCls;return(null==n?void 0:n.icon)?r.createElement("span",{className:"".concat(o,"-draggable-icon")},n.icon):null},e.renderSwitcherIconDom=function(t){var r=e.props.switcherIcon,n=e.props.context.switcherIcon,o=r||n;return"function"==typeof o?o(C_(C_({},e.props),{},{isLeaf:t})):o},e.renderSwitcher=function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var o=e.renderSwitcherIconDom(!0);return!1!==o?r.createElement("span",{className:Fl()("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},o):null}var i=Fl()("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?z_:F_)),a=e.renderSwitcherIconDom(!1);return!1!==a?r.createElement("span",{onClick:e.onExpand,className:i},a):null},e.renderCheckbox=function(){var t=e.props,n=t.checked,o=t.halfChecked,i=t.disableCheckbox,a=e.props.context.prefixCls,s=e.isDisabled(),l=e.isCheckable();if(!l)return null;var c="boolean"!=typeof l?l:null;return r.createElement("span",{className:Fl()("".concat(a,"-checkbox"),n&&"".concat(a,"-checkbox-checked"),!n&&o&&"".concat(a,"-checkbox-indeterminate"),(s||i)&&"".concat(a,"-checkbox-disabled")),onClick:e.onCheck},c)},e.renderIcon=function(){var t=e.props.loading,n=e.props.context.prefixCls;return r.createElement("span",{className:Fl()("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})},e.renderSelector=function(){var t,n,o=e.state.dragNodeHighlight,i=e.props,a=i.title,s=i.selected,l=i.icon,c=i.loading,u=i.data,d=e.props.context,p=d.prefixCls,f=d.showIcon,h=d.icon,m=d.loadData,g=d.titleRender,v=e.isDisabled(),b="".concat(p,"-node-content-wrapper");if(f){var y=l||h;t=y?r.createElement("span",{className:Fl()("".concat(p,"-iconEle"),"".concat(p,"-icon__customize"))},"function"==typeof y?y(e.props):y):e.renderIcon()}else m&&c&&(t=e.renderIcon());n="function"==typeof a?a(u):g?g(u):a;var w=r.createElement("span",{className:"".concat(p,"-title")},n);return r.createElement("span",{ref:e.setSelectHandle,title:"string"==typeof a?a:"",className:Fl()("".concat(b),"".concat(b,"-").concat(e.getNodeState()||"normal"),!v&&(s||o)&&"".concat(p,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},t,w,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,r=t.disabled,n=t.eventKey,o=e.props.context,i=o.draggable,a=o.dropLevelOffset,s=o.dropPosition,l=o.prefixCls,c=o.indent,u=o.dropIndicatorRender,d=o.dragOverNodeKey,p=o.direction;return r||!1===i||d!==n?null:u({dropPosition:s,dropLevelOffset:a,indent:c,prefixCls:l,direction:p})},e}return t=s,n=[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,t=this.props.context.selectable;return"boolean"==typeof e?e:t}},{key:"render",value:function(){var e,t=this.props,n=t.eventKey,o=t.className,i=t.style,a=t.dragOver,s=t.dragOverGapTop,l=t.dragOverGapBottom,c=t.isLeaf,u=t.isStart,d=t.isEnd,p=t.expanded,f=t.selected,h=t.checked,m=t.halfChecked,g=t.loading,v=t.domRef,b=t.active,y=(t.data,t.onMouseMove),w=t.selectable,O=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,V_),x=this.props.context,_=x.prefixCls,E=x.filterTreeNode,S=x.keyEntities,k=x.dropContainerKey,P=x.dropTargetKey,C=x.draggingNodeKey,T=this.isDisabled(),D=Tw(O,{aria:!0,data:!0}),I=(S[n]||{}).level,A=d[d.length-1],j=this.isDraggable(),M=!T&&j,N=C===n,R=void 0!==w?{"aria-selected":!!w}:void 0;return r.createElement("div",T_({ref:v,className:Fl()(o,"".concat(_,"-treenode"),(e={},k_(e,"".concat(_,"-treenode-disabled"),T),k_(e,"".concat(_,"-treenode-switcher-").concat(p?"open":"close"),!c),k_(e,"".concat(_,"-treenode-checkbox-checked"),h),k_(e,"".concat(_,"-treenode-checkbox-indeterminate"),m),k_(e,"".concat(_,"-treenode-selected"),f),k_(e,"".concat(_,"-treenode-loading"),g),k_(e,"".concat(_,"-treenode-active"),b),k_(e,"".concat(_,"-treenode-leaf-last"),A),k_(e,"".concat(_,"-treenode-draggable"),M),k_(e,"dragging",N),k_(e,"drop-target",P===n),k_(e,"drop-container",k===n),k_(e,"drag-over",!T&&a),k_(e,"drag-over-gap-top",!T&&s),k_(e,"drag-over-gap-bottom",!T&&l),k_(e,"filter-node",E&&E(U_(this.props))),e)),style:i,draggable:M,"aria-grabbed":N,onDragStart:M?this.onDragStart:void 0,onDragEnter:j?this.onDragEnter:void 0,onDragOver:j?this.onDragOver:void 0,onDragLeave:j?this.onDragLeave:void 0,onDrop:j?this.onDrop:void 0,onDragEnd:j?this.onDragEnd:void 0,onMouseMove:y},R,D),r.createElement($_,{prefixCls:_,level:I,isStart:u,isEnd:d}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}],n&&I_(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(r.Component),B_=function(e){return r.createElement(R_.Consumer,null,(function(t){return r.createElement(q_,T_({},e,{context:t}))}))};function H_(e,t){return null!=e?e:t}function W_(e,t,r){var n,o=("object"===E_(r)?r:{externalGetKey:r})||{},i=o.childrenPropName,a=o.externalGetKey,s=function(e){var t=e||{},r=t.title||"title";return{title:r,_title:t._title||[r],key:t.key||"key",children:t.children||"children"}}(o.fieldNames),l=s.key,c=s.children,u=i||c;a?"string"==typeof a?n=function(e){return e[a]}:"function"==typeof a&&(n=function(e){return a(e)}):n=function(e,t){return H_(e[l],t)},function r(o,i,a,s){var l,c=o?o[u]:e,d=o?function(e,t){return"".concat(e,"-").concat(t)}(a.pos,i):"0",p=o?[].concat(function(e){if(Array.isArray(e))return S_(e)}(l=s)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(l)||function(e,t){if(e){if("string"==typeof e)return S_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S_(e,t):void 0}}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[o]):[];if(o){var f=n(o,d),h={node:o,index:i,pos:d,key:f,parentPos:a.node?a.pos:null,level:a.level+1,nodes:p};t(h)}c&&c.forEach((function(e,t){r(e,t,{node:o,pos:d,level:a?a.level+1:-1},p)}))}(null)}function U_(e){var t=e.data,r=e.expanded,n=e.selected,o=e.checked,i=e.loaded,a=e.loading,s=e.halfChecked,l=e.dragOver,c=e.dragOverGapTop,u=e.dragOverGapBottom,d=e.pos,p=e.active,f=e.eventKey,h=C_(C_({},t),{},{expanded:r,selected:n,checked:o,loaded:i,loading:a,halfChecked:s,dragOver:l,dragOverGapTop:c,dragOverGapBottom:u,pos:d,active:p,key:f});return"props"in h||Object.defineProperty(h,"props",{get:function(){return qg(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),h}B_.displayName="TreeNode",B_.defaultProps={title:"---"},B_.isTreeNode=1;function Q_(e){var t=r.useRef();t.current=e;var n=r.useCallback((function(){return t.current.apply(t,arguments)}),[]);return n}var G_="__rc_cascader_search_mark__",X_=function(e,t,r){var n=r.label;return t.some((function(t){return String(t[n]).toLowerCase().includes(e.toLowerCase())}))},K_=function(e,t,r,n){return t.map((function(e){return e[n.label]})).join(" / ")};function Y_(e){var t,n=e.prefixCls,o=e.checked,i=e.halfChecked,a=e.disabled,s=e.onClick,l=r.useContext(u_).checkable,c="boolean"!=typeof l?l:null;return r.createElement("span",{className:Fl()("".concat(n),(t={},O_(t,"".concat(n,"-checked"),o),O_(t,"".concat(n,"-indeterminate"),!o&&i),O_(t,"".concat(n,"-disabled"),a),t)),onClick:s},c)}var J_="__cascader_fix_label__";function Z_(e){var t=e.prefixCls,n=e.multiple,o=e.options,i=e.activeValue,a=e.prevValuePath,s=e.onToggleOpen,l=e.onSelect,c=e.onActive,u=e.checkedSet,d=e.halfCheckedSet,p=e.loadingKeys,f=e.isSelectable,h="".concat(t,"-menu"),m="".concat(t,"-menu-item"),g=r.useContext(u_),v=g.fieldNames,b=g.changeOnSelect,y=g.expandTrigger,w=g.expandIcon,O=g.loadingIcon,x=g.dropdownMenuColumnStyle,_="hover"===y,E=r.useMemo((function(){return o.map((function(e){var t,r=e.disabled,n=e[G_],o=null!==(t=e[J_])&&void 0!==t?t:e[v.label],i=e[v.value],s=v_(e,v),l=n?n.map((function(e){return e[v.value]})):[].concat(gg(a),[i]),c=m_(l);return{disabled:r,label:o,value:i,isLeaf:s,isLoading:p.includes(c),checked:u.has(c),halfChecked:d.has(c),option:e,fullPath:l,fullPathKey:c}}))}),[o,u,v,d,p,a]);return r.createElement("ul",{className:h,role:"menu"},E.map((function(e){var o,a,u=e.disabled,d=e.label,p=e.value,h=e.isLeaf,g=e.isLoading,v=e.checked,y=e.halfChecked,E=e.option,S=e.fullPath,k=e.fullPathKey,P=function(){u||_&&h||c(S)},C=function(){f(E)&&l(S,h)};return"string"==typeof E.title?a=E.title:"string"==typeof d&&(a=d),r.createElement("li",{key:k,className:Fl()(m,(o={},O_(o,"".concat(m,"-expand"),!h),O_(o,"".concat(m,"-active"),i===p),O_(o,"".concat(m,"-disabled"),u),O_(o,"".concat(m,"-loading"),g),o)),style:x,role:"menuitemcheckbox",title:a,"aria-checked":v,"data-path-key":k,onClick:function(){P(),n&&!h||C()},onDoubleClick:function(){b&&s(!1)},onMouseEnter:function(){_&&P()},onMouseDown:function(e){e.preventDefault()}},n&&r.createElement(Y_,{prefixCls:"".concat(t,"-checkbox"),checked:v,halfChecked:y,disabled:u,onClick:function(e){e.stopPropagation(),C()}}),r.createElement("div",{className:"".concat(m,"-content")},d),!g&&w&&!h&&r.createElement("div",{className:"".concat(m,"-expand-icon")},w),g&&O&&r.createElement("div",{className:"".concat(m,"-loading-icon")},O))})))}var eE=r.forwardRef((function(e,t){var n,o,i,a,s=BO(),l=s.prefixCls,c=s.multiple,u=s.searchValue,d=s.toggleOpen,p=s.notFoundContent,f=s.direction,h=r.useRef(),m="rtl"===f,g=r.useContext(u_),v=g.options,b=g.values,y=g.halfValues,w=g.fieldNames,O=g.changeOnSelect,x=g.onSelect,_=g.searchOptions,E=g.dropdownPrefixCls,S=g.loadData,k=g.expandTrigger,P=E||l,C=vg(r.useState([]),2),T=C[0],D=C[1];r.useEffect((function(){T.length&&T.forEach((function(e){var t=w_(e.split(p_),v,w,!0).map((function(e){return e.option})),r=t[t.length-1];(!r||r[w.children]||v_(r,w))&&D((function(t){return t.filter((function(t){return t!==e}))}))}))}),[v,T,w]);var I=r.useMemo((function(){return new Set(g_(b))}),[b]),A=r.useMemo((function(){return new Set(g_(y))}),[y]),j=function(){var e=BO(),t=e.multiple,n=e.open,o=r.useContext(u_).values,i=vg(r.useState([]),2),a=i[0],s=i[1];return r.useEffect((function(){if(n&&!t){var e=o[0];s(e||[])}}),[n]),[a,s]}(),M=vg(j,2),N=M[0],R=M[1],L=function(e){R(e),function(e){if(S&&!u){var t=w_(e,v,w).map((function(e){return e.option})),r=t[t.length-1];if(r&&!v_(r,w)){var n=m_(e);D((function(e){return[].concat(gg(e),[n])})),S(t)}}}(e)},$=function(e){var t=e.disabled,r=v_(e,w);return!t&&(r||O||c)},V=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];x(e),!c&&(t||O&&("hover"===k||r))&&d(!1)},z=r.useMemo((function(){return u?_:v}),[u,_,v]),F=r.useMemo((function(){for(var e=[{options:z}],t=z,r=function(r){var n=N[r],o=t.find((function(e){return e[w.value]===n})),i=null==o?void 0:o[w.children];if(!(null==i?void 0:i.length))return"break";t=i,e.push({options:i})},n=0;n<N.length&&"break"!==r(n);n+=1);return e}),[z,N,w]);(function(e,t,n,o,i,a){var s=BO(),l=s.direction,c=s.searchValue,u=s.toggleOpen,d=s.open,p="rtl"===l,f=r.useMemo((function(){for(var e=-1,r=t,i=[],a=[],s=o.length,l=function(t){var s=r.findIndex((function(e){return e[n.value]===o[t]}));if(-1===s)return"break";e=s,i.push(e),a.push(o[t]),r=r[e][n.children]},c=0;c<s&&r&&"break"!==l(c);c+=1);for(var u=t,d=0;d<i.length-1;d+=1)u=u[i[d]][n.children];return[a,e,u]}),[o,n,t]),h=vg(f,3),m=h[0],g=h[1],v=h[2],b=function(e){i(e)},y=function(){if(m.length>1){var e=m.slice(0,-1);b(e)}else u(!1)},w=function(){var e,t=((null===(e=v[g])||void 0===e?void 0:e[n.children])||[]).find((function(e){return!e.disabled}));if(t){var r=[].concat(gg(m),[t[n.value]]);b(r)}};r.useImperativeHandle(e,(function(){return{onKeyDown:function(e){var t=e.which;switch(t){case Hg.UP:case Hg.DOWN:var r=0;t===Hg.UP?r=-1:t===Hg.DOWN&&(r=1),0!==r&&function(e){var t=v.length,r=g;-1===r&&e<0&&(r=t);for(var o=0;o<t;o+=1){var i=v[r=(r+e+t)%t];if(i&&!i.disabled){var a=i[n.value],s=m.slice(0,-1).concat(a);return void b(s)}}}(r);break;case Hg.LEFT:p?w():y();break;case Hg.RIGHT:p?y():w();break;case Hg.BACKSPACE:c||y();break;case Hg.ENTER:if(m.length){var o=v[g],i=(null==o?void 0:o[G_])||[];i.length?a(i.map((function(e){return e[n.value]})),i[i.length-1]):a(m,v[g])}break;case Hg.ESC:u(!1),d&&e.stopPropagation()}},onKeyUp:function(){}}}))})(t,z,w,N,L,(function(e,t){$(t)&&V(e,v_(t,w),!0)})),r.useEffect((function(){for(var e=0;e<N.length;e+=1){var t,r=m_(N.slice(0,e+1)),n=null===(t=h.current)||void 0===t?void 0:t.querySelector('li[data-path-key="'.concat(r.replace(/\\{0,2}"/g,'\\"'),'"]'));n&&b_(n)}}),[N]);var q=!(null===(n=F[0])||void 0===n||null===(o=n.options)||void 0===o?void 0:o.length),B=[(i={},O_(i,w.value,"__EMPTY__"),O_(i,J_,p),O_(i,"disabled",!0),i)],H=__(__({},e),{},{multiple:!q&&c,onSelect:V,onActive:L,onToggleOpen:d,checkedSet:I,halfCheckedSet:A,loadingKeys:T,isSelectable:$}),W=(q?[{options:B}]:F).map((function(e,t){var n=N.slice(0,t),o=N[t];return r.createElement(Z_,fg({key:t},H,{prefixCls:P,options:e.options,prevValuePath:n,activeValue:o}))}));return r.createElement("div",{className:Fl()("".concat(P,"-menus"),(a={},O_(a,"".concat(P,"-menu-empty"),q),O_(a,"".concat(P,"-rtl"),m),a)),ref:h},W)}));const tE=eE;var rE=["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","popupClassName","dropdownClassName","dropdownMenuColumnStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","expandIcon","loadingIcon","children","dropdownMatchSelectWidth","showCheckedStrategy"];function nE(e){return e?function(e){return Array.isArray(e)&&Array.isArray(e[0])}(e)?e:(0===e.length?[]:[e]).map((function(e){return Array.isArray(e)?e:[e]})):[]}var oE=r.forwardRef((function(e,t){var n=e.id,o=e.prefixCls,i=void 0===o?"rc-cascader":o,a=e.fieldNames,s=e.defaultValue,l=e.value,c=e.changeOnSelect,u=e.onChange,d=e.displayRender,p=e.checkable,f=e.searchValue,h=e.onSearch,m=e.showSearch,g=e.expandTrigger,v=e.options,b=e.dropdownPrefixCls,y=e.loadData,w=e.popupVisible,O=e.open,x=e.popupClassName,_=e.dropdownClassName,E=e.dropdownMenuColumnStyle,S=e.popupPlacement,k=e.placement,P=e.onDropdownVisibleChange,C=e.onPopupVisibleChange,T=e.expandIcon,D=void 0===T?">":T,I=e.loadingIcon,A=e.children,j=e.dropdownMatchSelectWidth,M=void 0!==j&&j,N=e.showCheckedStrategy,R=void 0===N?f_:N,L=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,rE),$=JO(n),V=!!p,z=vg(Vg(s,{value:l,postState:nE}),2),F=z[0],q=z[1],B=r.useMemo((function(){return function(e){var t=e||{},r=t.label,n=t.value||"value";return{label:r||"label",value:n,key:n,children:t.children||"children"}}(a)}),[JSON.stringify(a)]),H=r.useMemo((function(){return v||[]}),[v]),W=function(e,t){var n=r.useRef({options:null,info:null}),o=r.useCallback((function(){return n.current.options!==e&&(n.current.options=e,n.current.info=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.initWrapper,n=t.processEntity,o=t.onProcessFinished,i=t.externalGetKey,a=t.childrenPropName,s=t.fieldNames,l=i||(arguments.length>2?arguments[2]:void 0),c={},u={},d={posEntities:c,keyEntities:u};return r&&(d=r(d)||d),W_(e,(function(e){var t=e.node,r=e.index,o=e.pos,i=e.key,a=e.parentPos,s=e.level,l={node:t,nodes:e.nodes,index:r,key:i,pos:o,level:s},p=H_(i,o);c[o]=l,u[p]=l,l.parent=c[a],l.parent&&(l.parent.children=l.parent.children||[],l.parent.children.push(l)),n&&n(l,d)}),{externalGetKey:l,childrenPropName:a,fieldNames:s}),o&&o(d),d}(e,{fieldNames:t,initWrapper:function(e){return __(__({},e),{},{pathKeyEntities:{}})},processEntity:function(e,r){var n=e.nodes.map((function(e){return e[t.value]})).join(p_);r.pathKeyEntities[n]=e,e.key=n}})),n.current.info.pathKeyEntities}),[t,e]);return o}(H,B),U=r.useCallback((function(e){var t=W();return e.map((function(e){return t[e].nodes.map((function(e){return e[B.value]}))}))}),[W,B]),Q=vg(Vg("",{value:f,postState:function(e){return e||""}}),2),G=Q[0],X=Q[1],K=function(e){return r.useMemo((function(){if(!e)return[!1,{}];var t={matchInputWidth:!0,limit:50};return e&&"object"===d_(e)&&(t=__(__({},t),e)),t.limit<=0&&delete t.limit,[!0,t]}),[e])}(m),Y=vg(K,2),J=Y[0],Z=Y[1],ee=function(e,t,n,o,i,a){var s=i.filter,l=void 0===s?X_:s,c=i.render,u=void 0===c?K_:c,d=i.limit,p=void 0===d?50:d,f=i.sort;return r.useMemo((function(){var r=[];return e?(function t(i,s){i.forEach((function(i){if(!(!f&&p>0&&r.length>=p)){var c,d=[].concat(gg(s),[i]),h=i[n.children];h&&0!==h.length&&!a||l(e,d,{label:n.label})&&r.push(__(__({},i),{},(O_(c={},n.label,u(e,d,o,n)),O_(c,G_,d),c))),h&&t(i[n.children],d)}}))}(t,[]),f&&r.sort((function(t,r){return f(t[G_],r[G_],e,n)})),p>0?r.slice(0,p):r):[]}),[e,t,n,o,u,a,l,f,p])}(G,H,B,b||i,Z,c),te=function(e,t){return r.useCallback((function(r){var n=[],o=[];return r.forEach((function(r){w_(r,e,t).every((function(e){return e.option}))?o.push(r):n.push(r)})),[o,n]}),[e,t])}(H,B),re=r.useMemo((function(){var e=vg(te(F),2),t=e[0],r=e[1];if(!V||!F.length)return[t,[],r];var n=c_(g_(t),!0,W()),o=n.checkedKeys,i=n.halfCheckedKeys;return[U(o),U(i),r]}),[V,F,W,U,te]),ne=vg(re,3),oe=ne[0],ie=ne[1],ae=ne[2],se=function(e,t,n,o,i){return r.useMemo((function(){var a=i||function(e){var t=o?e.slice(-1):e;return t.every((function(e){return["string","number"].includes(d_(e))}))?t.join(" / "):t.reduce((function(e,t,n){var o=r.isValidElement(t)?r.cloneElement(t,{key:n}):t;return 0===n?[o]:[].concat(gg(e),[" / ",o])}),[])};return e.map((function(e){var r=w_(e,t,n),o=a(r.map((function(e){var t,r=e.option,o=e.value;return null!==(t=null==r?void 0:r[n.label])&&void 0!==t?t:o})),r.map((function(e){return e.option}))),i=m_(e);return{label:o,value:i,key:i,valueCells:e}}))}),[e,t,n,i,o])}(r.useMemo((function(){var e=y_(g_(oe),W,R);return[].concat(gg(ae),gg(U(e)))}),[oe,W,U,ae,R]),H,B,V,d),le=Q_((function(e){if(q(e),u){var t=nE(e),r=t.map((function(e){return w_(e,H,B).map((function(e){return e.option}))})),n=V?t:t[0],o=V?r:r[0];u(n,o)}})),ce=Q_((function(e){if(X(""),V){var t=m_(e),r=g_(oe),n=g_(ie),o=r.includes(t),i=ae.some((function(e){return m_(e)===t})),a=oe,s=ae;if(i&&!o)s=ae.filter((function(e){return m_(e)!==t}));else{var l=o?r.filter((function(e){return e!==t})):[].concat(gg(r),[t]),c=W(),u=y_(o?c_(l,{checked:!1,halfCheckedKeys:n},c).checkedKeys:c_(l,!0,c).checkedKeys,W,R);a=U(u)}le([].concat(gg(s),gg(a)))}else le(e)})),ue=void 0!==O?O:w,de=_||x,pe=k||S,fe=r.useMemo((function(){return{options:H,fieldNames:B,values:oe,halfValues:ie,changeOnSelect:c,onSelect:ce,checkable:p,searchOptions:ee,dropdownPrefixCls:b,loadData:y,expandTrigger:g,expandIcon:D,loadingIcon:I,dropdownMenuColumnStyle:E}}),[H,B,oe,ie,c,ce,p,ee,b,y,g,D,I,E]),he=!(G?ee:H).length,me=G&&Z.matchInputWidth||he?{}:{minWidth:"auto"};return r.createElement(u_.Provider,{value:fe},r.createElement(GO,fg({},L,{ref:t,id:$,prefixCls:i,dropdownMatchSelectWidth:M,dropdownStyle:me,displayValues:se,onDisplayValuesChange:function(e,t){if("clear"!==t.type){var r=t.values[0].valueCells;ce(r)}else le([])},mode:V?"multiple":void 0,searchValue:G,onSearch:function(e,t){X(e),"blur"!==t.source&&h&&h(e)},showSearch:J,OptionList:tE,emptyOptions:he,open:ue,dropdownClassName:de,placement:pe,onDropdownVisibleChange:function(e){null==P||P(e),null==C||C(e)},getRawInputElement:function(){return A}})))}));oE.SHOW_PARENT=f_,oE.SHOW_CHILD=h_;const iE=oE,aE=e=>{var t;return{value:null!==(t=e.value)&&void 0!==t?t:"",label:e.label}},sE=(0,a.css)("\n&:focus{\n  outline: none;\n}\n");class lE extends r.PureComponent{setInitialValue(e,t){if(!t)return{rcValue:[],activeLabel:""};for(const r of e){const e=r.value||[];if(e.indexOf(t)===e.length-1)return{rcValue:e,activeLabel:this.props.displayAllSelectedLevels?r.label:r.singleLabel||""}}return this.props.allowCustomValue?{rcValue:[],activeLabel:t}:{rcValue:[],activeLabel:""}}render(){const{allowCustomValue:e,formatCreateLabel:t,placeholder:r,width:o,changeOnSelect:i,options:a}=this.props,{focusCascade:s,isSearching:l,rcValue:c,activeLabel:u}=this.state,d=this.getSearchableOptions(a);return n().createElement("div",null,l?n().createElement($c,{allowCustomValue:e,placeholder:r,autoFocus:!s,onChange:this.onSelect,onBlur:this.onBlur,options:d,onCreateOption:this.onCreateOption,formatCreateLabel:t,width:o,onInputChange:this.onSelectInputChange}):n().createElement(iE,{onChange:(p=this.onChange,(e,t)=>{p&&p(e.map((e=>String(e))),(e=>e.map(aE))(t))}),options:a,changeOnSelect:i,value:c.value,fieldNames:{label:"label",value:"value",children:"items"},expandIcon:null,open:this.props.alwaysOpen},n().createElement("div",{className:sE},n().createElement(he,{autoFocus:this.props.autoFocus,width:o,placeholder:r,onBlur:this.onBlurCascade,value:u,onKeyDown:this.onInputKeyDown,onChange:()=>{},suffix:s?n().createElement(ce,{name:"angle-up"}):n().createElement(ce,{name:"angle-down",style:{marginBottom:0,marginLeft:"4px"}})}))));var p}constructor(e){super(e),this.flattenOptions=(e,t=[])=>{let r=[];for(const n of e){const e=[...t];e.push(n),n.items?r=[...r,...this.flattenOptions(n.items,e)]:r.push({singleLabel:e[e.length-1].label,label:e.map((e=>e.label)).join(this.props.separator||" / "),value:e.map((e=>e.value))})}return r},this.getSearchableOptions=p((e=>this.flattenOptions(e))),this.onChange=(e,t)=>{const r=this.props.hideActiveLevelLabel?"":this.props.displayAllSelectedLevels?t.map((e=>e.label)).join(this.props.separator||"/"):t[t.length-1].label;this.setState({rcValue:e,focusCascade:!0,activeLabel:r}),this.props.onSelect(t[t.length-1].value)},this.onSelect=e=>{const t=e.value||[];this.setState({activeLabel:this.props.displayAllSelectedLevels?e.label:e.singleLabel||"",rcValue:t,isSearching:!1}),this.props.onSelect(t[t.length-1])},this.onCreateOption=e=>{this.setState({activeLabel:e,rcValue:[],isSearching:!1}),this.props.onSelect(e)},this.onBlur=()=>{var e,t;this.setState({isSearching:!1,focusCascade:!1}),""===this.state.activeLabel&&this.setState({rcValue:[]}),null===(t=(e=this.props).onBlur)||void 0===t||t.call(e)},this.onBlurCascade=()=>{var e,t;this.setState({focusCascade:!1}),null===(t=(e=this.props).onBlur)||void 0===t||t.call(e)},this.onInputKeyDown=e=>{["ArrowDown","ArrowUp","Enter","ArrowLeft","ArrowRight","Backspace"].includes(e.key)||this.setState({focusCascade:!1,isSearching:!0})},this.onSelectInputChange=e=>{""===e&&this.setState({isSearching:!1})};const t=this.getSearchableOptions(e.options),{rcValue:r,activeLabel:n}=this.setInitialValue(t,e.initialValue);this.state={isSearching:!1,focusCascade:!1,rcValue:r,activeLabel:n}}}function cE(e,t){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cE(e,t)}function uE(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,cE(e,t)}function dE(){return dE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dE.apply(this,arguments)}lE.defaultProps={changeOnSelect:!0};var pE=v(43929);function fE(e,t){var n=(0,r.useState)((function(){return{inputs:t,result:e()}}))[0],o=(0,r.useRef)(!0),i=(0,r.useRef)(n),a=o.current||Boolean(t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(t,i.current.inputs)),s=a?i.current:{inputs:t,result:e()};return(0,r.useEffect)((function(){o.current=!1,i.current=s}),[s]),s.result}var hE=fE,mE=function(e,t){return fE((function(){return e}),t)},gE=function(e){var t=e.top,r=e.right,n=e.bottom,o=e.left;return{top:t,right:r,bottom:n,left:o,width:r-o,height:n-t,x:o,y:t,center:{x:(r+o)/2,y:(n+t)/2}}},vE=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},bE=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},yE={top:0,right:0,bottom:0,left:0},wE=function(e){var t=e.borderBox,r=e.margin,n=void 0===r?yE:r,o=e.border,i=void 0===o?yE:o,a=e.padding,s=void 0===a?yE:a,l=gE(vE(t,n)),c=gE(bE(t,i)),u=gE(bE(c,s));return{marginBox:l,borderBox:gE(t),paddingBox:c,contentBox:u,margin:n,border:i,padding:s}},OE=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var r=Number(t);return isNaN(r)&&function(e,t){throw new Error("Invariant failed")}(),r},xE=function(e,t){var r,n,o=e.borderBox,i=e.border,a=e.margin,s=e.padding,l=(n=t,{top:(r=o).top+n.y,left:r.left+n.x,bottom:r.bottom+n.y,right:r.right+n.x});return wE({borderBox:l,border:i,margin:a,padding:s})},_E=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),xE(e,t)},EE=function(e,t){var r={top:OE(t.marginTop),right:OE(t.marginRight),bottom:OE(t.marginBottom),left:OE(t.marginLeft)},n={top:OE(t.paddingTop),right:OE(t.paddingRight),bottom:OE(t.paddingBottom),left:OE(t.paddingLeft)},o={top:OE(t.borderTopWidth),right:OE(t.borderRightWidth),bottom:OE(t.borderBottomWidth),left:OE(t.borderLeftWidth)};return wE({borderBox:e,margin:r,padding:n,border:o})},SE=function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return EE(t,r)},kE=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function PE(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!((n=e[r])===(o=t[r])||kE(n)&&kE(o)))return!1;var n,o;return!0}const CE=function(e,t){var r;void 0===t&&(t=PE);var n,o=[],i=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return i&&r===this&&t(a,o)||(n=e.apply(this,a),i=!0,r=this,o=a),n}},TE=function(e){var t=[],r=null,n=function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];t=o,r||(r=requestAnimationFrame((function(){r=null,e.apply(void 0,t)})))};return n.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},n};function DE(e,t){}function IE(){}function AE(e,t,r){var n=t.map((function(t){var n,o,i=(n=r,o=t.options,dE({},n,{},o));return e.addEventListener(t.eventName,t.fn,i),function(){e.removeEventListener(t.eventName,t.fn,i)}}));return function(){n.forEach((function(e){e()}))}}DE.bind(null,"warn"),DE.bind(null,"error");function jE(e){this.message=e}function ME(e,t){if(!e)throw new jE("Invariant failed")}jE.prototype.toString=function(){return this.message};var NE=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).callbacks=null,t.unbind=IE,t.onWindowError=function(e){var r=t.getCallbacks();r.isDragging()&&r.tryAbort(),e.error instanceof jE&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}uE(t,e);var r=t.prototype;return r.componentDidMount=function(){this.unbind=AE(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(e){if(!(e instanceof jE))throw e;this.setState({})},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(n().Component),RE=function(e){return e+1},LE=function(e,t){var r=e.droppableId===t.droppableId,n=RE(e.index),o=RE(t.index);return r?"\n      You have moved the item from position "+n+"\n      to position "+o+"\n    ":"\n    You have moved the item from position "+n+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+o+"\n  "},$E=function(e,t,r){return t.droppableId===r.droppableId?"\n      The item "+e+"\n      has been combined with "+r.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+r.draggableId+"\n      in list "+r.droppableId+"\n    "},VE=function(e){return"\n  The item has returned to its starting position\n  of "+RE(e.index)+"\n"},zE=function(e){return"\n  You have lifted an item in position "+RE(e.source.index)+"\n"},FE=function(e){var t=e.destination;if(t)return LE(e.source,t);var r=e.combine;return r?$E(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},qE=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+VE(e.source)+"\n    ";var t=e.destination,r=e.combine;return t?"\n      You have dropped the item.\n      "+LE(e.source,t)+"\n    ":r?"\n      You have dropped the item.\n      "+$E(e.draggableId,e.source,r)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+VE(e.source)+"\n  "},BE={x:0,y:0},HE=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},WE=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},UE=function(e,t){return e.x===t.x&&e.y===t.y},QE=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},GE=function(e,t,r){var n;return void 0===r&&(r=0),(n={})[e]=t,n["x"===e?"y":"x"]=r,n},XE=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},KE=function(e,t){return Math.min.apply(Math,t.map((function(t){return XE(e,t)})))},YE=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},JE=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},ZE=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},eS=function(e,t){return t&&t.shouldClipSubject?function(e,t){var r=gE({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r}(t.pageMarginBox,e):gE(e)},tS=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,o=e.frame,i=function(e,t){return t?JE(e,t.scroll.diff.displacement):e}(t.marginBox,o),a=function(e,t,r){var n;return r&&r.increasedBy?dE({},e,((n={})[t.end]=e[t.end]+r.increasedBy[t.line],n)):e}(i,n,r);return{page:t,withPlaceholder:r,active:eS(a,o)}},rS=function(e,t){e.frame||ME(!1);var r=e.frame,n=WE(t,r.scroll.initial),o=QE(n),i=dE({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:o},max:r.scroll.max}});return dE({},e,{frame:i,subject:tS({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i})})};function nS(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function oS(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function iS(e,t){if(e.find)return e.find(t);var r=oS(e,t);return-1!==r?e[r]:void 0}function aS(e){return Array.prototype.slice.call(e)}var sS=CE((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),lS=CE((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),cS=CE((function(e){return nS(e)})),uS=CE((function(e){return nS(e)})),dS=CE((function(e,t){var r=uS(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return r}));function pS(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function fS(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var hS=CE((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),mS=function(e,t){return e.descriptor.droppableId===t.descriptor.id},gS={point:BE,value:0},vS={invisible:{},visible:{},all:[]},bS={displaced:vS,displacedBy:gS,at:null},yS=function(e,t){return function(r){return e<=r&&r<=t}},wS=function(e){var t=yS(e.top,e.bottom),r=yS(e.left,e.right);return function(n){if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;var o=t(n.top)||t(n.bottom),i=r(n.left)||r(n.right);if(o&&i)return!0;var a=n.top<e.top&&n.bottom>e.bottom,s=n.left<e.left&&n.right>e.right;return!(!a||!s)||a&&i||s&&o}},OS=function(e){var t=yS(e.top,e.bottom),r=yS(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&r(e.left)&&r(e.right)}},xS={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},_S={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},ES=function(e){var t=e.target,r=e.destination,n=e.viewport,o=e.withDroppableDisplacement,i=e.isVisibleThroughFrameFn,a=o?function(e,t){var r=t.frame?t.frame.scroll.diff.displacement:BE;return JE(e,r)}(t,r):t;return function(e,t,r){return!!t.subject.active&&r(t.subject.active)(e)}(a,r,i)&&function(e,t,r){return r(t)(e)}(a,n,i)},SS=function(e){return ES(dE({},e,{isVisibleThroughFrameFn:OS}))};function kS(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,o=e.viewport,i=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var s=function(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return gE(vE(r,n))}(t,n),l=t.descriptor.id;if(e.all.push(l),!ES(dE({},{target:s,destination:r,viewport:o,withDroppableDisplacement:!0},{isVisibleThroughFrameFn:wS})))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,r){if("boolean"==typeof r)return r;if(!t)return!0;var n=t.invisible,o=t.visible;if(n[e])return!1;var i=o[e];return!i||i.shouldAnimate}(l,a,i),u={draggableId:l,shouldAnimate:c};return e.visible[l]=u,e}),{all:[],visible:{},invisible:{}})}function PS(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,o=e.destination,i=function(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}(t,{inHomeList:r});return{displaced:vS,displacedBy:n,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:i}}}}function CS(e){var t=e.draggable,r=e.insideDestination,n=e.destination,o=e.viewport,i=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,c=mS(t,n);if(null==s)return PS({insideDestination:r,inHomeList:c,displacedBy:i,destination:n});var u=iS(r,(function(e){return e.descriptor.index===s}));if(!u)return PS({insideDestination:r,inHomeList:c,displacedBy:i,destination:n});var d=hS(t,r),p=r.indexOf(u);return{displaced:kS({afterDragging:d.slice(p),destination:n,displacedBy:i,last:a,viewport:o.frame,forceShouldAnimate:l}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function TS(e,t){return Boolean(t.effected[e])}var DS=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},IS=function(e,t,r){return t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},AS=function(e){var t=e.axis,r=e.moveRelativeTo,n=e.isMoving;return GE(t.line,r.marginBox[t.end]+DS(t,n),IS(t,r.marginBox,n))},jS=function(e){var t=e.axis,r=e.moveRelativeTo,n=e.isMoving;return GE(t.line,r.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,n),IS(t,r.marginBox,n))},MS=function(e,t){var r=e.frame;return r?HE(t,r.scroll.diff.displacement):t},NS=function(e){var t=function(e){var t=e.impact,r=e.draggable,n=e.droppable,o=e.draggables,i=e.afterCritical,a=r.page.borderBox.center,s=t.at;return n&&s?"REORDER"===s.type?function(e){var t=e.impact,r=e.draggable,n=e.draggables,o=e.droppable,i=e.afterCritical,a=dS(o.descriptor.id,n),s=r.page,l=o.axis;if(!a.length)return function(e){var t=e.axis,r=e.moveInto,n=e.isMoving;return GE(t.line,r.contentBox[t.start]+DS(t,n),IS(t,r.contentBox,n))}({axis:l,moveInto:o.page,isMoving:s});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var p=n[d];if(TS(d,i))return jS({axis:l,moveRelativeTo:p.page,isMoving:s});var f=xE(p.page,u.point);return jS({axis:l,moveRelativeTo:f,isMoving:s})}var h=a[a.length-1];if(h.descriptor.id===r.descriptor.id)return s.borderBox.center;if(TS(h.descriptor.id,i)){var m=xE(h.page,QE(i.displacedBy.point));return AS({axis:l,moveRelativeTo:m,isMoving:s})}return AS({axis:l,moveRelativeTo:h.page,isMoving:s})}({impact:t,draggable:r,draggables:o,droppable:n,afterCritical:i}):function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,o=fS(r);o||ME(!1);var i=o.draggableId,a=n[i].page.borderBox.center,s=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,o=e.displacedBy,i=Boolean(t.visible[n]||t.invisible[n]);return TS(n,r)?i?BE:QE(o.point):i?o.point:BE}({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return HE(a,s)}({impact:t,draggables:o,afterCritical:i}):a}(e),r=e.droppable;return r?MS(r,t):t},RS=function(e,t){var r=WE(t,e.scroll.initial),n=QE(r);return{frame:gE({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function LS(e,t){return e.map((function(e){return t[e]}))}var $S=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=function(e,t){return HE(e.scroll.diff.displacement,t)}(e.viewport,t),o=WE(n,r.page.borderBox.center);return HE(r.client.borderBox.center,o)},VS=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,o=e.viewport,i=e.withDroppableDisplacement,a=e.onlyOnMainAxis,s=void 0!==a&&a,l=WE(n,t.page.borderBox.center),c={target:JE(t.page.borderBox,l),destination:r,withDroppableDisplacement:i,viewport:o};return s?function(e){return ES(dE({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var r=yS(e.top,e.bottom),n=yS(e.left,e.right);return function(e){return t===xS?r(e.top)&&r(e.bottom):n(e.left)&&n(e.right)}})}));var t}(c):SS(c)},zS=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,o=e.draggables,i=e.previousImpact,a=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!n.isEnabled)return null;var u=dS(n.descriptor.id,o),d=mS(r,n),p=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,o=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;if(!pS(i))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return dE({},i,{at:t})}var s=i.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;var c=hS(r,o);if(!l)return c.length?a(c[c.length-1].descriptor.id):null;var u=oS(c,(function(e){return e.descriptor.id===l}));-1===u&&ME(!1);var d=u-1;return d<0?null:a(c[d].descriptor.id)}({isMovingForward:t,draggable:r,destination:n,insideDestination:u,previousImpact:i})||function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,o=e.draggables,i=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||ME(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,o=e.location;if(!n.length)return null;var i=o.index,a=t?i+1:i-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index;return a<s||a>(r?l:l+1)?null:a}({isMovingForward:t,isInHomeList:r,location:u.destination,insideDestination:a});return null==d?null:CS({draggable:n,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var p=function(e){var t=e.isMovingForward,r=e.draggables,n=e.combine,o=e.afterCritical;if(!e.destination.isCombineEnabled)return null;var i=n.draggableId,a=r[i].descriptor.index;return TS(i,o)?t?a:a-1:t?a+1:a}({isMovingForward:t,destination:i,displaced:s.displaced,draggables:o,combine:u.combine,afterCritical:c});return null==p?null:CS({draggable:n,insideDestination:a,destination:i,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})}({isMovingForward:t,isInHomeList:d,draggable:r,draggables:o,destination:n,insideDestination:u,previousImpact:i,viewport:a,afterCritical:c});if(!p)return null;var f=NS({impact:p,draggable:r,droppable:n,draggables:o,afterCritical:c});if(VS({draggable:r,destination:n,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:$S({pageBorderBoxCenter:f,draggable:r,viewport:a}),impact:p,scrollJumpRequest:null};var h=WE(f,s),m=function(e){var t=e.impact,r=e.viewport,n=e.destination,o=e.draggables,i=e.maxScrollChange,a=RS(r,HE(r.scroll.current,i)),s=n.frame?rS(n,HE(n.frame.scroll.current,i)):n,l=t.displaced,c=kS({afterDragging:LS(l.all,o),destination:n,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=kS({afterDragging:LS(l.all,o),destination:s,displacedBy:t.displacedBy,viewport:r.frame,last:l,forceShouldAnimate:!1}),d={},p={},f=[l,c,u];return l.all.forEach((function(e){var t=function(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}(e,f);t?p[e]=t:d[e]=!0})),dE({},t,{displaced:{all:l.all,invisible:d,visible:p}})}({impact:p,viewport:a,destination:n,draggables:o,maxScrollChange:h});return{clientSelection:l,impact:m,scrollJumpRequest:h}},FS=function(e){var t=e.subject.active;return t||ME(!1),t},qS=function(e,t){var r=e.page.borderBox.center;return TS(e.descriptor.id,t)?WE(r,t.displacedBy.point):r},BS=function(e,t){var r=e.page.borderBox;return TS(e.descriptor.id,t)?JE(r,QE(t.displacedBy.point)):r},HS=CE((function(e,t){var r=t[e.line];return{value:r,point:GE(e.line,r)}})),WS=function(e,t){return dE({},e,{scroll:dE({},e.scroll,{max:t})})},US=function(e,t,r){var n=e.frame;mS(t,e)&&ME(!1),e.subject.withPlaceholder&&ME(!1);var o=HS(e.axis,t.displaceBy).point,i=function(e,t,r){var n=e.axis;if("virtual"===e.descriptor.mode)return GE(n.line,t[n.line]);var o=e.subject.page.contentBox[n.size],i=dS(e.descriptor.id,r).reduce((function(e,t){return e+t.client.marginBox[n.size]}),0)+t[n.line]-o;return i<=0?null:GE(n.line,i)}(e,o,r),a={placeholderSize:o,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n)return dE({},e,{subject:tS({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame})});var s=i?HE(n.scroll.max,i):n.scroll.max,l=WS(n,s);return dE({},e,{subject:tS({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l}),frame:l})},QS=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},GS=function(e){var t=e.state,r=e.type,n=function(e,t){var r=QS(e);return r?t[r]:null}(t.impact,t.dimensions.droppables),o=Boolean(n),i=t.dimensions.droppables[t.critical.droppable.id],a=n||i,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===r||"MOVE_DOWN"===r)||"horizontal"===s&&("MOVE_LEFT"===r||"MOVE_RIGHT"===r);if(l&&!o)return null;var c="MOVE_DOWN"===r||"MOVE_RIGHT"===r,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,p=t.dimensions,f=p.draggables,h=p.droppables;return l?zS({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,o=e.isOver,i=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,o=e.droppables,i=e.viewport,a=n.subject.active;if(!a)return null;var s=n.axis,l=yS(a[s.start],a[s.end]),c=cS(o).filter((function(e){return e!==n})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return wS(i.frame)(FS(e))})).filter((function(e){var r=FS(e);return t?a[s.crossAxisEnd]<r[s.crossAxisEnd]:r[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(e){var t=FS(e),r=yS(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||r(a[s.start])||r(a[s.end])})).sort((function(e,r){var n=FS(e)[s.crossAxisStart],o=FS(r)[s.crossAxisStart];return t?n-o:o-n})).filter((function(e,t,r){return FS(e)[s.crossAxisStart]===FS(r[0])[s.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter((function(e){return yS(FS(e)[s.start],FS(e)[s.end])(r[s.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return FS(e)[s.start]-FS(t)[s.start]}))[0]:c.sort((function(e,t){var n=KE(r,ZE(FS(e))),o=KE(r,ZE(FS(t)));return n!==o?n-o:FS(e)[s.start]-FS(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:r,source:o,droppables:a,viewport:s});if(!c)return null;var u=dS(c.descriptor.id,i),d=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,o=e.afterCritical,i=e.insideDestination.filter((function(e){return SS({target:BS(e,o),destination:n,viewport:r.frame,withDroppableDisplacement:!0})})).sort((function(e,r){var i=XE(t,MS(n,qS(e,o))),a=XE(t,MS(n,qS(r,o)));return i<a?-1:a<i?1:e.descriptor.index-r.descriptor.index}));return i[0]||null}({pageBorderBoxCenter:r,viewport:s,destination:c,insideDestination:u,afterCritical:l}),p=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,o=e.draggable,i=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!r){if(n.length)return null;var c={displaced:vS,displacedBy:gS,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=NS({impact:c,draggable:o,droppable:a,draggables:i,afterCritical:l}),d=mS(o,a)?a:US(a,o,i);return VS({draggable:o,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var p,f=Boolean(t[a.axis.line]<=r.page.borderBox.center[a.axis.line]),h=(p=r.descriptor.index,r.descriptor.id===o.descriptor.id||f?p:p+1);return CS({draggable:o,insideDestination:n,destination:a,viewport:s,displacedBy:HS(a.axis,o.displaceBy),last:vS,index:h})}({previousPageBorderBoxCenter:r,destination:c,draggable:n,draggables:i,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!p)return null;var f=NS({impact:p,draggable:n,droppable:c,draggables:i,afterCritical:l});return{clientSelection:$S({pageBorderBoxCenter:f,draggable:n,viewport:s}),impact:p,scrollJumpRequest:null}}({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:f,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function XS(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function KS(e){var t=yS(e.top,e.bottom),r=yS(e.left,e.right);return function(e){return t(e.y)&&r(e.x)}}var YS=function(e,t){return gE(JE(e,t))};function JS(e){var t=e.displaced,r=e.id;return Boolean(t.visible[r]||t.invisible[r])}var ZS=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,o=e.droppables,i=e.previousImpact,a=e.viewport,s=e.afterCritical,l=YS(r.page.borderBox,t),c=function(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,o=cS(n).filter((function(e){if(!e.isEnabled)return!1;var r,n,o=e.subject.active;if(!o)return!1;if(n=o,!((r=t).left<n.right&&r.right>n.left&&r.top<n.bottom&&r.bottom>n.top))return!1;if(KS(o)(t.center))return!0;var i=e.axis,a=o.center[i.crossAxisLine],s=t[i.crossAxisStart],l=t[i.crossAxisEnd],c=yS(o[i.crossAxisStart],o[i.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)}));return o.length?1===o.length?o[0].descriptor.id:function(e){var t=e.pageBorderBox,r=e.candidates,n=e.draggable.page.borderBox.center,o=r.map((function(e){var r=e.axis,o=GE(e.axis.line,t.center[r.line],e.page.borderBox.center[r.crossAxisLine]);return{id:e.descriptor.id,distance:XE(n,o)}})).sort((function(e,t){return t.distance-e.distance}));return o[0]?o[0].id:null}({pageBorderBox:t,draggable:r,candidates:o}):null}({pageBorderBox:l,draggable:r,droppables:o});if(!c)return bS;var u=o[c],d=dS(u.descriptor.id,n),p=function(e,t){var r=e.frame;return r?YS(t,r.scroll.diff.value):t}(u,l);return function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,o=e.destination,i=e.insideDestination,a=e.afterCritical;if(!o.isCombineEnabled)return null;var s=o.axis,l=HS(o.axis,t.displaceBy),c=l.value,u=r[s.start],d=r[s.end],p=iS(hS(t,i),(function(e){var t=e.descriptor.id,r=e.page.borderBox,o=r[s.size]/4,i=TS(t,a),l=JS({displaced:n.displaced,id:t});return i?l?d>r[s.start]+o&&d<r[s.end]-o:u>r[s.start]-c+o&&u<r[s.end]-c-o:l?d>r[s.start]+c+o&&d<r[s.end]+c-o:u>r[s.start]+o&&u<r[s.end]-o}));return p?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:o.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:p,draggable:r,previousImpact:i,destination:u,insideDestination:d,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,o=e.insideDestination,i=e.last,a=e.viewport,s=e.afterCritical,l=n.axis,c=HS(n.axis,r.displaceBy),u=c.value,d=t[l.start],p=t[l.end],f=function(e){var t=e.draggable,r=e.closest;return r?e.inHomeList&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}({draggable:r,closest:iS(hS(r,o),(function(e){var t=e.descriptor.id,r=e.page.borderBox.center[l.line],n=TS(t,s),o=JS({displaced:i,id:t});return n?o?p<=r:d<r-u:o?p<=r+u:d<r})),inHomeList:mS(r,n)});return CS({draggable:r,insideDestination:o,destination:n,viewport:a,last:i,displacedBy:c,index:f})}({pageBorderBoxWithDroppableScroll:p,draggable:r,destination:u,insideDestination:d,last:i.displaced,viewport:a,afterCritical:s})},ek=function(e,t){var r;return dE({},e,((r={})[t.descriptor.id]=t,r))},tk=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,o=e.viewport,i=e.impact,a=e.scrollJumpRequest,s=o||t.viewport,l=n||t.dimensions,c=r||t.current.client.selection,u=WE(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:HE(t.initial.client.borderBoxCenter,u)},p={selection:HE(d.selection,s.scroll.current),borderBoxCenter:HE(d.borderBoxCenter,s.scroll.current),offset:HE(d.offset,s.scroll.diff.value)},f={client:d,page:p};if("COLLECTING"===t.phase)return dE({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:f});var h=l.draggables[t.critical.draggable.id],m=i||ZS({pageOffset:p.offset,draggable:h,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,o=e.impact,i=function(e){var t=e.previousImpact,r=e.impact,n=e.droppables,o=QS(t),i=QS(r);if(!o)return n;if(o===i)return n;var a=n[o];if(!a.subject.withPlaceholder)return n;var s=function(e){var t=e.subject.withPlaceholder;t||ME(!1);var r=e.frame;if(!r)return dE({},e,{subject:tS({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var n=t.oldFrameMaxScroll;n||ME(!1);var o=WS(r,n);return dE({},e,{subject:tS({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null}),frame:o})}(a);return ek(n,s)}({previousImpact:e.previousImpact,impact:o,droppables:n}),a=QS(o);if(!a)return i;var s=n[a];if(mS(t,s))return i;if(s.subject.withPlaceholder)return i;var l=US(s,t,r);return ek(i,l)}({draggable:h,impact:m,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return dE({},t,{current:f,dimensions:{draggables:l.draggables,droppables:g},impact:m,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})},rk=function(e){var t=e.impact,r=e.viewport,n=e.draggables,o=e.destination,i=e.forceShouldAnimate,a=t.displaced,s=function(e,t){return e.map((function(e){return t[e]}))}(a.all,n);return dE({},t,{displaced:kS({afterDragging:s,destination:o,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:a})})},nk=function(e){var t=e.impact,r=e.draggable,n=e.droppable,o=e.draggables,i=e.viewport,a=e.afterCritical,s=NS({impact:t,draggable:r,draggables:o,droppable:n,afterCritical:a});return $S({pageBorderBoxCenter:s,draggable:r,viewport:i})},ok=function(e){var t=e.state,r=e.dimensions,n=e.viewport;"SNAP"!==t.movementMode&&ME(!1);var o=t.impact,i=n||t.viewport,a=r||t.dimensions,s=a.draggables,l=a.droppables,c=s[t.critical.draggable.id],u=QS(o);u||ME(!1);var d=l[u],p=rk({impact:o,viewport:i,destination:d,draggables:s}),f=nk({impact:p,draggable:c,droppable:d,draggables:s,viewport:i,afterCritical:t.afterCritical});return tk({impact:p,clientSelection:f,state:t,dimensions:a,viewport:i})},ik=function(e){var t=e.draggable,r=e.home,n=e.draggables,o=e.viewport,i=HS(r.axis,t.displaceBy),a=dS(r.descriptor.id,n),s=a.indexOf(t);-1===s&&ME(!1);var l,c=a.slice(s+1),u=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===r.descriptor.mode,displacedBy:i,effected:u};return{impact:{displaced:kS({afterDragging:c,destination:r,displacedBy:i,last:null,viewport:o.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},ak=function(e){return"SNAP"===e.movementMode},sk=function(e,t,r){var n=function(e,t){return{draggables:e.draggables,droppables:ek(e.droppables,t)}}(e.dimensions,t);return!ak(e)||r?tk({state:e,dimensions:n}):ok({state:e,dimensions:n})};function lk(e){return e.isDragging&&"SNAP"===e.movementMode?dE({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var ck={phase:"IDLE",completed:null,shouldFlush:!1},uk=function(e,t){if(void 0===e&&(e=ck),"FLUSH"===t.type)return dE({},ck,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&ME(!1);var r=t.payload,n=r.critical,o=r.clientSelection,i=r.viewport,a=r.dimensions,s=r.movementMode,l=a.draggables[n.draggable.id],c=a.droppables[n.droppable.id],u={selection:o,borderBoxCenter:l.client.borderBox.center,offset:BE},d={client:u,page:{selection:HE(u.selection,i.scroll.initial),borderBoxCenter:HE(u.selection,i.scroll.initial),offset:HE(u.selection,i.scroll.diff.value)}},p=cS(a.droppables).every((function(e){return!e.isFixedOnPage})),f=ik({draggable:l,home:c,draggables:a.draggables,viewport:i}),h=f.impact;return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:a,initial:d,current:d,isWindowScrollAllowed:p,impact:h,afterCritical:f.afterCritical,onLiftImpact:h,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&ME(!1),dE({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&ME(!1),function(e){var t=e.state,r=e.published,n=r.modified.map((function(e){var r=t.dimensions.droppables[e.droppableId];return rS(r,e.scroll)})),o=dE({},t.dimensions.droppables,{},sS(n)),i=lS(function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,o=n.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,i=function(e){var t=e.frame;return t||ME(!1),t}(r[t]),a=i.scroll.diff.value,s=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,o=xE(t.client,r),i=_E(o,n);return dE({},t,{placeholder:dE({},t.placeholder,{client:o}),client:o,page:i})}({draggable:e,offset:HE(o,a),initialWindowScroll:n.scroll.initial});return s}))}({additions:r.additions,updatedDroppables:o,viewport:t.viewport})),a=dE({},t.dimensions.draggables,{},i);r.removals.forEach((function(e){delete a[e]}));var s={droppables:o,draggables:a},l=QS(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],p=ik({draggable:u,home:d,draggables:a,viewport:t.viewport}),f=p.impact,h=p.afterCritical,m=c&&c.isCombineEnabled?t.impact:f,g=ZS({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:t.viewport,afterCritical:h}),v=dE({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:f,dimensions:s,afterCritical:h,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:dE({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;XS(e)||ME(!1);var m=t.payload.client;return UE(m,e.current.client.selection)?e:tk({state:e,clientSelection:m,impact:ak(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return lk(e);if("COLLECTING"===e.phase)return lk(e);XS(e)||ME(!1);var g=t.payload,v=g.id,b=g.newScroll,y=e.dimensions.droppables[v];if(!y)return e;var w=rS(y,b);return sk(e,w,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;XS(e)||ME(!1);var O=t.payload,x=O.id,_=O.isEnabled,E=e.dimensions.droppables[x];E||ME(!1),E.isEnabled===_&&ME(!1);var S=dE({},E,{isEnabled:_});return sk(e,S,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;XS(e)||ME(!1);var k=t.payload,P=k.id,C=k.isCombineEnabled,T=e.dimensions.droppables[P];T||ME(!1),T.isCombineEnabled===C&&ME(!1);var D=dE({},T,{isCombineEnabled:C});return sk(e,D,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;XS(e)||ME(!1),e.isWindowScrollAllowed||ME(!1);var I=t.payload.newScroll;if(UE(e.viewport.scroll.current,I))return lk(e);var A=RS(e.viewport,I);return ak(e)?ok({state:e,viewport:A}):tk({state:e,viewport:A})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!XS(e))return e;var j=t.payload.maxScroll;if(UE(j,e.viewport.scroll.max))return e;var M=dE({},e.viewport,{scroll:dE({},e.viewport.scroll,{max:j})});return dE({phase:"DRAGGING"},e,{viewport:M})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&ME(!1);var N=GS({state:e,type:t.type});return N?tk({state:e,impact:N.impact,clientSelection:N.clientSelection,scrollJumpRequest:N.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var R=t.payload.reason;return"COLLECTING"!==e.phase&&ME(!1),dE({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:R})}if("DROP_ANIMATE"===t.type){var L=t.payload,$=L.completed,V=L.dropDuration,z=L.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&ME(!1),{phase:"DROP_ANIMATING",completed:$,dropDuration:V,newHomeClientOffset:z,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},dk=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},pk=function(){return{type:"COLLECTION_STARTING",payload:null}},fk=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},hk=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},mk=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},gk=function(e){return{type:"MOVE",payload:e}},vk=function(){return{type:"MOVE_UP",payload:null}},bk=function(){return{type:"MOVE_DOWN",payload:null}},yk=function(){return{type:"MOVE_RIGHT",payload:null}},wk=function(){return{type:"MOVE_LEFT",payload:null}},Ok=function(e){return{type:"DROP_COMPLETE",payload:e}},xk=function(e){return{type:"DROP",payload:e}},_k="cubic-bezier(.2,1,.1,1)",Ek=0,Sk=.7,kk=.75,Pk="0.2s cubic-bezier(0.2, 0, 0, 1)",Ck={fluid:"opacity "+Pk,snap:"transform "+Pk+", opacity "+Pk,drop:function(e){var t=e+"s "+_k;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Pk,placeholder:"height "+Pk+", width "+Pk+", margin "+Pk},Tk=function(e){return UE(e,BE)?null:"translate("+e.x+"px, "+e.y+"px)"},Dk=Tk,Ik=.33,Ak=function(e){var t=e.getState,r=e.dispatch;return function(e){return function(n){if("DROP"===n.type){var o=t(),i=n.payload.reason;if("COLLECTING"!==o.phase){if("IDLE"!==o.phase){"DROP_PENDING"===o.phase&&o.isWaiting&&ME(!1),"DRAGGING"!==o.phase&&"DROP_PENDING"!==o.phase&&ME(!1);var a=o.critical,s=o.dimensions,l=s.draggables[o.critical.draggable.id],c=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,o=e.home,i=e.viewport,a=e.onLiftImpact;return n.at&&"DROP"===r?"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:dE({},n,{displaced:vS}),didDropInsideDroppable:!0}:{impact:rk({draggables:t,impact:a,destination:o,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:i,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),u=c.impact,d=c.didDropInsideDroppable,p=d?pS(u):null,f=d?fS(u):null,h={index:a.draggable.index,droppableId:a.droppable.id},m={draggableId:l.descriptor.id,type:l.descriptor.type,source:h,reason:i,mode:o.movementMode,destination:p,combine:f},g=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,o=e.viewport,i=e.afterCritical,a=n.draggables,s=n.droppables,l=QS(t),c=l?s[l]:null,u=s[r.descriptor.droppableId],d=nk({impact:t,draggable:r,draggables:a,afterCritical:i,droppable:c||u,viewport:o});return WE(d,r.client.borderBox.center)}({impact:u,draggable:l,dimensions:s,viewport:o.viewport,afterCritical:o.afterCritical}),v={critical:o.critical,afterCritical:o.afterCritical,result:m,impact:u};if(!UE(o.current.client.offset,g)||Boolean(m.combine)){var b=function(e){var t=e.reason,r=XE(e.current,e.destination);if(r<=0)return Ik;if(r>=1500)return.55;var n=Ik+r/1500*.22000000000000003;return Number(("CANCEL"===t?.6*n:n).toFixed(2))}({current:o.current.client.offset,destination:g,reason:i});r(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:b,completed:v}))}else r(Ok({completed:v}))}}else r(function(e){return{type:"DROP_PENDING",payload:e}}({reason:i}))}else e(n)}}},jk=function(){return{x:window.pageXOffset,y:window.pageYOffset}};var Mk=function(e){var t=function(e){var t=e.onWindowScroll,r=TE((function(){t(jk())})),n=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(r),o=IE;function i(){return o!==IE}return{start:function(){i()&&ME(!1),o=AE(window,[n])},stop:function(){i()||ME(!1),r.cancel(),o(),o=IE},isActive:i}}({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(r){t.isActive()||"INITIAL_PUBLISH"!==r.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r)&&t.stop(),e(r)}}},Nk=function(e,t){t()},Rk=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Lk=function(e,t,r,n){if(e){var o=function(e){var t=!1,r=!1,n=setTimeout((function(){r=!0})),o=function(o){t||r||(t=!0,e(o),clearTimeout(n))};return o.wasCalled=function(){return t},o}(r);e(t,{announce:o}),o.wasCalled()||r(n(t))}else r(n(t))},$k=function(e,t){var r=function(e,t){var r,n=(r=[],{add:function(e){var t=setTimeout((function(){return function(e){var t=oS(r,(function(t){return t.timerId===e}));-1===t&&ME(!1),r.splice(t,1)[0].callback()}(t)})),n={timerId:t,callback:e};r.push(n)},flush:function(){if(r.length){var e=[].concat(r);r.length=0,e.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}),o=null,i=function(r){o||ME(!1),o=null,Nk(0,(function(){return Lk(e().onDragEnd,r,t,qE)}))};return{beforeCapture:function(t,r){o&&ME(!1),Nk(0,(function(){var n=e().onBeforeCapture;n&&n({draggableId:t,mode:r})}))},beforeStart:function(t,r){o&&ME(!1),Nk(0,(function(){var n=e().onBeforeDragStart;n&&n(Rk(t,r))}))},start:function(r,i){o&&ME(!1);var a=Rk(r,i);o={mode:i,lastCritical:r,lastLocation:a.source,lastCombine:null},n.add((function(){Nk(0,(function(){return Lk(e().onDragStart,a,t,zE)}))}))},update:function(r,i){var a=pS(i),s=fS(i);o||ME(!1);var l=!function(e,t){if(e===t)return!0;var r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n}(r,o.lastCritical);l&&(o.lastCritical=r);var c,u,d=(u=a,!(null==(c=o.lastLocation)&&null==u||null!=c&&null!=u&&c.droppableId===u.droppableId&&c.index===u.index));d&&(o.lastLocation=a);var p=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(o.lastCombine,s);if(p&&(o.lastCombine=s),l||d||p){var f=dE({},Rk(r,o.mode),{combine:s,destination:a});n.add((function(){Nk(0,(function(){return Lk(e().onDragUpdate,f,t,FE)}))}))}},flush:function(){o||ME(!1),n.flush()},drop:i,abort:function(){if(o){var e=dE({},Rk(o.lastCritical,o.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(n){if("BEFORE_INITIAL_CAPTURE"!==n.type){if("INITIAL_PUBLISH"===n.type){var o=n.payload.critical;return r.beforeStart(o,n.payload.movementMode),t(n),void r.start(o,n.payload.movementMode)}if("DROP_COMPLETE"===n.type){var i=n.payload.completed.result;return r.flush(),t(n),void r.drop(i)}if(t(n),"FLUSH"!==n.type){var a=e.getState();"DRAGGING"===a.phase&&r.update(a.critical,a.impact)}else r.abort()}else r.beforeCapture(n.payload.draggableId,n.payload.movementMode)}}}},Vk=function(e){return function(t){return function(r){if("DROP_ANIMATION_FINISHED"===r.type){var n=e.getState();"DROP_ANIMATING"!==n.phase&&ME(!1),e.dispatch(Ok({completed:n.completed}))}else t(r)}}},zk=function(e){var t=null,r=null;return function(n){return function(o){if("FLUSH"!==o.type&&"DROP_COMPLETE"!==o.type&&"DROP_ANIMATION_FINISHED"!==o.type||(r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)),n(o),"DROP_ANIMATE"===o.type){var i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};r=requestAnimationFrame((function(){r=null,t=AE(window,[i])}))}}}},Fk=function(e){return function(t){return function(r){if(t(r),"PUBLISH_WHILE_DRAGGING"===r.type){var n=e.getState();"DROP_PENDING"===n.phase&&(n.isWaiting||e.dispatch(xk({reason:n.reason})))}}}},qk=qh.compose,Bk=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,o=e.width,i=WE({x:r,y:t},{x:o,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Hk=function(){var e=document.documentElement;return e||ME(!1),e},Wk=function(){var e=Hk();return Bk({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})};function Uk(e,t,r){return r.descriptor.id!==t.id&&r.descriptor.type===t.type&&"virtual"===e.droppable.getById(r.descriptor.droppableId).descriptor.mode}var Qk,Gk,Xk=function(e,t){var r=null,n=function(e){var t=e.registry,r=e.callbacks,n={additions:{},removals:{},modified:{}},o=null,i=function(){o||(r.collectionStarting(),o=requestAnimationFrame((function(){o=null;var e=n,i=e.additions,a=e.removals,s=e.modified,l=Object.keys(i).map((function(e){return t.draggable.getById(e).getDimension(BE)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:l,removals:Object.keys(a),modified:c};n={additions:{},removals:{},modified:{}},r.publish(u)})))};return{add:function(e){var t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],i()},remove:function(e){var t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],i()},stop:function(){o&&(cancelAnimationFrame(o),o=null,n={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),o=function(t){r||ME(!1);var o=r.critical.draggable;"ADDITION"===t.type&&Uk(e,o,t.value)&&n.add(t.value),"REMOVAL"===t.type&&Uk(e,o,t.value)&&n.remove(t.value)},i={updateDroppableIsEnabled:function(n,o){e.droppable.exists(n)||ME(!1),r&&t.updateDroppableIsEnabled({id:n,isEnabled:o})},updateDroppableIsCombineEnabled:function(n,o){r&&(e.droppable.exists(n)||ME(!1),t.updateDroppableIsCombineEnabled({id:n,isCombineEnabled:o}))},scrollDroppable:function(t,n){r&&e.droppable.getById(t).callbacks.scroll(n)},updateDroppableScroll:function(n,o){r&&(e.droppable.exists(n)||ME(!1),t.updateDroppableScroll({id:n,newScroll:o}))},startPublishing:function(t){r&&ME(!1);var n=e.draggable.getById(t.draggableId),i=e.droppable.getById(n.descriptor.droppableId),a={draggable:n.descriptor,droppable:i.descriptor},s=e.subscribe(o);return r={critical:a,unsubscribe:s},function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,o=function(){var e=jk(),t=Wk(),r=e.y,n=e.x,o=Hk(),i=o.clientWidth,a=o.clientHeight;return{frame:gE({top:r,left:n,right:n+i,bottom:r+a}),scroll:{initial:e,current:e,max:t,diff:{value:BE,displacement:BE}}}}(),i=o.scroll.current,a=t.droppable,s=n.droppable.getAllByType(a.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(i,r)})),l=n.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(i)}));return{dimensions:{draggables:lS(l),droppables:sS(s)},critical:t,viewport:o}}({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(r){n.stop();var t=r.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),r.unsubscribe(),r=null}}};return i},Kk=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason},Yk=function(e){window.scrollBy(e.x,e.y)},Jk=CE((function(e){return cS(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),Zk=function(e){return Math.pow(e,2)},eP=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,o=r-t;return 0===o?0:(n-t)/o},tP=360,rP=1200,nP=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,o=e.shouldUseTimeDampening,i=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return 28;if(e===t.startScrollingFrom)return 1;var r=eP({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=28*Zk(1-r);return Math.ceil(n)}(t,r);return 0===i?0:o?Math.max(function(e,t){var r=t,n=rP,o=Date.now()-r;if(o>=rP)return e;if(o<tP)return 1;var i=eP({startOfRange:tP,endOfRange:n,current:o}),a=e*Zk(i);return Math.ceil(a)}(i,n),1):i},oP=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,o=e.axis,i=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:.25*e[t.size],maxScrollValueAt:.05*e[t.size]}}(t,o);return r[o.end]<r[o.start]?nP({distanceToEdge:r[o.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i}):-1*nP({distanceToEdge:r[o.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i})},iP=YE((function(e){return 0===e?0:e})),aP=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,o=e.center,i=e.shouldUseTimeDampening,a={top:o.y-r.top,right:r.right-o.x,bottom:r.bottom-o.y,left:o.x-r.left},s=oP({container:r,distanceToEdges:a,dragStartTime:t,axis:xS,shouldUseTimeDampening:i}),l=oP({container:r,distanceToEdges:a,dragStartTime:t,axis:_S,shouldUseTimeDampening:i}),c=iP({x:l,y:s});if(UE(c,BE))return null;var u=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,o=r.height>t.height,i=r.width>t.width;return i||o?i&&o?null:{x:i?0:n.x,y:o?0:n.y}:n}({container:r,subject:n,proposedScroll:c});return u?UE(u,BE)?null:u:null},sP=YE((function(e){return 0===e?0:e>0?1:-1})),lP=(Qk=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,r=e.max,n=e.change,o=HE(t,n),i={x:Qk(o.x,r.x),y:Qk(o.y,r.y)};return UE(i,BE)?null:i}),cP=function(e){var t=e.max,r=e.current,n=e.change,o={x:Math.max(r.x,t.x),y:Math.max(r.y,t.y)},i=sP(n),a=lP({max:o,current:r,change:i});return!a||0!==i.x&&0===a.x||0!==i.y&&0===a.y},uP=function(e,t){return cP({current:e.scroll.current,max:e.scroll.max,change:t})},dP=function(e,t){var r=e.frame;return!!r&&cP({current:r.scroll.current,max:r.scroll.max,change:t})},pP=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,o=e.scrollWindow,i=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,r=e.subject,n=e.center,o=e.shouldUseTimeDampening,i=aP({dragStartTime:e.dragStartTime,container:t.frame,subject:r,center:n,shouldUseTimeDampening:o});return i&&uP(t,i)?i:null}({dragStartTime:r,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:n});if(l)return void o(l)}var c=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var o=n[r];return o.frame?o:null}var i=function(e,t){var r=iS(Jk(t),(function(t){return t.frame||ME(!1),KS(t.frame.pageMarginBox)(e)}));return r}(t,n);return i}({center:a,destination:QS(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,r=e.subject,n=e.center,o=e.dragStartTime,i=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=aP({dragStartTime:o,container:a.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return s&&dP(t,s)?s:null}({dragStartTime:r,droppable:c,subject:s,center:a,shouldUseTimeDampening:n});u&&i(c.descriptor.id,u)}},fP=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow;return function(e){var o=e.scrollJumpRequest;if(o){var i=QS(e.impact);i||ME(!1);var a=function(e,t){if(!dP(e,t))return t;var n=function(e,t){var r=e.frame;return r&&dP(e,t)?lP({current:r.scroll.current,max:r.scroll.max,change:t}):null}(e,t);if(!n)return r(e.descriptor.id,t),null;var o=WE(t,n);return r(e.descriptor.id,o),WE(t,o)}(e.dimensions.droppables[i],o);if(a){var s=e.viewport,l=function(e,t,r){if(!e)return r;if(!uP(t,r))return r;var o=function(e,t){if(!uP(e,t))return null;var r=e.scroll.max,n=e.scroll.current;return lP({current:n,max:r,change:t})}(t,r);if(!o)return n(r),null;var i=WE(r,o);return n(i),WE(r,i)}(e.isWindowScrollAllowed,s,a);l&&function(e,r){var n=HE(e.current.client.selection,r);t({client:n})}(e,l)}}}},hP={base:Gk="data-rbd-drag-handle",draggableId:Gk+"-draggable-id",contextId:Gk+"-context-id"},mP=function(){var e="data-rbd-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),gP=function(){var e="data-rbd-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),vP="data-rbd-scroll-container-context-id",bP=function(e,t){return e.map((function(e){var r=e.styles[t];return r?e.selector+" { "+r+" }":""})).join(" ")},yP="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect,wP=function(){var e=document.querySelector("head");return e||ME(!1),e},OP=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};var xP=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function _P(e){return e instanceof xP(e).HTMLElement}function EP(){var e={draggables:{},droppables:{}},t=[];function r(e){t.length&&t.forEach((function(t){return t(e)}))}function n(t){return e.draggables[t]||null}function o(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,r({type:"ADDITION",value:t})},update:function(t,r){var n=e.draggables[r.descriptor.id];n&&n.uniqueId===t.uniqueId&&(delete e.draggables[r.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var o=t.descriptor.id,i=n(o);i&&t.uniqueId===i.uniqueId&&(delete e.draggables[o],r({type:"REMOVAL",value:t}))},getById:function(e){var t=n(e);return t||ME(!1),t},findById:n,exists:function(e){return Boolean(n(e))},getAllByType:function(t){return nS(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var r=o(t.descriptor.id);r&&t.uniqueId===r.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=o(e);return t||ME(!1),t},findById:o,exists:function(e){return Boolean(o(e))},getAllByType:function(t){return nS(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var SP=n().createContext(null),kP=function(){var e=document.body;return e||ME(!1),e},PP={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},CP=0,TP={separator:"::"};function DP(e,t){return void 0===t&&(t=TP),hE((function(){return""+e+t.separator+CP++}),[t.separator,e])}var IP=n().createContext(null);function AP(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e})),t}var jP,MP,NP=((jP={})[13]=!0,jP[9]=!0,jP),RP=function(e){NP[e.keyCode]&&e.preventDefault()},LP=function(){var e="visibilitychange";return"undefined"==typeof document?e:iS([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}(),$P={type:"IDLE"};function VP(){}var zP=((MP={})[34]=!0,MP[33]=!0,MP[36]=!0,MP[35]=!0,MP);var FP={type:"IDLE"},qP={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function BP(e,t){if(null==t)return!1;if(Boolean(qP[t.tagName.toLowerCase()]))return!0;var r=t.getAttribute("contenteditable");return"true"===r||""===r||t!==e&&BP(e,t.parentElement)}function HP(e,t){var r=t.target;return!!_P(r)&&BP(e,r)}var WP=function(e){return gE(e.getBoundingClientRect()).center},UP=function(){var e="matches";return"undefined"==typeof document?e:iS([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function QP(e,t){return null==e?null:e[UP](t)?e:QP(e.parentElement,t)}function GP(e,t){return e.closest?e.closest(t):QP(e,t)}function XP(e){e.preventDefault()}function KP(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!!n()&&t===r}function YP(e){var t=e.lockAPI,r=e.store,n=e.registry,o=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(o);return!!i&&!!i.options.isEnabled&&!!Kk(r.getState(),o)}var JP=[function(e){var t=(0,r.useRef)($P),n=(0,r.useRef)(IE),o=hE((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,s,{sourceEvent:t});if(o){t.preventDefault();var i={x:t.clientX,y:t.clientY};n.current(),u(o,i)}}}}}}),[e]),i=hE((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var n=e.findOptionsForDraggable(r);n&&(n.shouldRespectForcePress||e.canGetLock(r)&&t.preventDefault())}}}}}),[e]),a=mE((function(){n.current=AE(window,[i,o],{passive:!1,capture:!0})}),[i,o]),s=mE((function(){"IDLE"!==t.current.type&&(t.current=$P,n.current(),a())}),[a]),l=mE((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=mE((function(){var e=function(e){var t=e.cancel,r=e.completed,n=e.getPhase,o=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t,r,i=e.button,a=e.clientX,s=e.clientY;if(0===i){var l={x:a,y:s},c=n();if("DRAGGING"===c.type)return e.preventDefault(),void c.actions.move(l);if("PENDING"!==c.type&&ME(!1),t=c.point,r=l,Math.abs(r.x-t.x)>=5||Math.abs(r.y-t.y)>=5){e.preventDefault();var u=c.actions.fluidLift(l);o({type:"DRAGGING",actions:u})}}}},{eventName:"mouseup",fn:function(e){var o=n();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===n().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==n().type)return 27===e.keyCode?(e.preventDefault(),void t()):void RP(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===n().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var r=n();"IDLE"===r.type&&ME(!1),r.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:LP,fn:t}]}({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=AE(window,e,{capture:!0,passive:!1})}),[l,s]),u=mE((function(e,r){"IDLE"!==t.current.type&&ME(!1),t.current={type:"PENDING",point:r,actions:e},c()}),[c]);yP((function(){return a(),function(){n.current()}}),[a])},function(e){var t=(0,r.useRef)(VP),n=hE((function(){return{eventName:"keydown",fn:function(r){if(!r.defaultPrevented&&32===r.keyCode){var n=e.findClosestDraggableId(r);if(n){var i=e.tryGetLock(n,l,{sourceEvent:r});if(i){r.preventDefault();var a=!0,s=i.snapLift();t.current(),t.current=AE(window,function(e,t){function r(){t(),e.cancel()}return[{eventName:"keydown",fn:function(n){return 27===n.keyCode?(n.preventDefault(),void r()):32===n.keyCode?(n.preventDefault(),t(),void e.drop()):40===n.keyCode?(n.preventDefault(),void e.moveDown()):38===n.keyCode?(n.preventDefault(),void e.moveUp()):39===n.keyCode?(n.preventDefault(),void e.moveRight()):37===n.keyCode?(n.preventDefault(),void e.moveLeft()):void(zP[n.keyCode]?n.preventDefault():RP(n))}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:LP,fn:r}]}(s,l),{capture:!0,passive:!1})}}}function l(){a||ME(!1),a=!1,t.current(),o()}}}}),[e]),o=mE((function(){t.current=AE(window,[n],{passive:!1,capture:!0})}),[n]);yP((function(){return o(),function(){t.current()}}),[o])},function(e){var t=(0,r.useRef)(FP),n=(0,r.useRef)(IE),o=mE((function(){return t.current}),[]),i=mE((function(e){t.current=e}),[]),a=hE((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var o=e.tryGetLock(r,l,{sourceEvent:t});if(o){var i=t.touches[0],a={x:i.clientX,y:i.clientY};n.current(),p(o,a)}}}}}}),[e]),s=mE((function(){n.current=AE(window,[a],{capture:!0,passive:!1})}),[a]),l=mE((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(FP),n.current(),s())}),[s,i]),c=mE((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=mE((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:o},r=AE(window,function(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var r=n();if("DRAGGING"===r.type){r.hasMoved=!0;var o=e.touches[0],i={x:o.clientX,y:o.clientY};e.preventDefault(),r.actions.move(i)}else t()}},{eventName:"touchend",fn:function(e){var o=n();"DRAGGING"===o.type?(e.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===n().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var r=n();"IDLE"===r.type&&ME(!1);var o=e.touches[0];if(o&&o.force>=.15){var i=r.actions.shouldRespectForcePress();if("PENDING"!==r.type)return i?r.hasMoved?void e.preventDefault():void t():void e.preventDefault();i&&t()}}},{eventName:LP,fn:t}]}(t),e),i=AE(window,function(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===r().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:LP,fn:t}]}(t),e);n.current=function(){r(),i()}}),[c,o,l]),d=mE((function(){var e=o();"PENDING"!==e.type&&ME(!1);var t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[o,i]),p=mE((function(e,t){"IDLE"!==o().type&&ME(!1);var r=setTimeout(d,120);i({type:"PENDING",point:t,actions:e,longPressTimerId:r}),u()}),[u,o,i,d]);yP((function(){return s(),function(){n.current();var e=o();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(FP))}}),[o,s,i]),yP((function(){return AE(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function ZP(e){var t=e.contextId,n=e.store,o=e.registry,i=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?JP:[],i||[]),l=(0,r.useState)((function(){return function(){var e=null;function t(){e||ME(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&ME(!1);var r={abandon:t};return e=r,r},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=mE((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);yP((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[l,n,c]),yP((function(){return l.tryAbandon}),[l.tryAbandon]);for(var u=mE((function(e){return YP({lockAPI:l,registry:o,store:n,draggableId:e})}),[l,o,n]),d=mE((function(e,r,i){return function(e){var t=e.lockAPI,r=e.contextId,n=e.store,o=e.registry,i=e.draggableId,a=e.forceSensorStop,s=e.sourceEvent;if(!YP({lockAPI:t,store:n,registry:o,draggableId:i}))return null;var l=o.draggable.getById(i),c=function(e,t){var r="["+mP.contextId+'="'+e+'"]',n=iS(aS(document.querySelectorAll(r)),(function(e){return e.getAttribute(mP.id)===t}));return n&&_P(n)?n:null}(r,l.descriptor.id);if(!c)return null;if(s&&!l.options.canDragInteractiveElements&&HP(c,s))return null;var u=t.claim(a||IE),d="PRE_DRAG";function p(){return l.options.shouldRespectForcePress}function f(){return t.isActive(u)}var h=function(e,t){KP({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");function m(e){function r(){t.release(),d="COMPLETED"}function o(t,o){if(void 0===o&&(o={shouldBlockNextClick:!1}),e.cleanup(),o.shouldBlockNextClick){var i=AE(window,[{eventName:"click",fn:XP,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(i)}r(),n.dispatch(xk({reason:t}))}return"PRE_DRAG"!==d&&(r(),"PRE_DRAG"!==d&&ME(!1)),n.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),d="DRAGGING",dE({isActive:function(){return KP({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(e){return o("DROP",e)},cancel:function(e){return o("CANCEL",e)}},e.actions)}return{isActive:function(){return KP({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:function(e){var t=TE((function(e){h((function(){return gk({client:e})}))}));return dE({},m({liftActionArgs:{id:i,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return h(vk)},moveRight:function(){return h(yk)},moveDown:function(){return h(bk)},moveLeft:function(){return h(wk)}};return m({liftActionArgs:{id:i,clientSelection:WP(c),movementMode:"SNAP"},cleanup:IE,actions:e})},abort:function(){KP({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&t.release()}}}({lockAPI:l,registry:o,contextId:t,store:n,draggableId:e,forceSensorStop:r,sourceEvent:i&&i.sourceEvent?i.sourceEvent:null})}),[t,l,o,n]),p=mE((function(e){return function(e,t){var r=function(e,t){var r,n=t.target;if(!((r=n)instanceof xP(r).Element))return null;var o=function(e){return"["+hP.contextId+'="'+e+'"]'}(e),i=GP(n,o);return i&&_P(i)?i:null}(e,t);return r?r.getAttribute(hP.draggableId):null}(t,e)}),[t]),f=mE((function(e){var t=o.draggable.findById(e);return t?t.options:null}),[o.draggable]),h=mE((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),m=mE(l.isClaimed,[l]),g=hE((function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:p,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:m}}),[u,d,p,f,h,m]),v=0;v<s.length;v++)s[v](g)}function eC(e){return e.current||ME(!1),e.current}function tC(e){var t=e.contextId,o=e.setCallbacks,i=e.sensors,a=e.nonce,s=e.dragHandleUsageInstructions,l=(0,r.useRef)(null),c=AP(e),u=mE((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(c.current)}),[c]),d=function(e){var t=hE((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),dE(e.style,PP),kP().appendChild(e),function(){setTimeout((function(){var t=kP();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),mE((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),p=function(e){var t=e.contextId,n=e.text,o=DP("hidden-text",{separator:"-"}),i=hE((function(){return function(e){return"rbd-hidden-text-"+e.contextId+"-"+e.uniqueId}({contextId:t,uniqueId:o})}),[o,t]);return(0,r.useEffect)((function(){var e=document.createElement("div");return e.id=i,e.textContent=n,e.style.display="none",kP().appendChild(e),function(){var t=kP();t.contains(e)&&t.removeChild(e)}}),[i,n]),i}({contextId:t,text:s}),f=function(e,t){var n=hE((function(){return function(e){var t,r,n=function(e){return function(t){return"["+t+'="'+e+'"]'}}(e),o=(t="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:n(hP.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:t,dragging:"pointer-events: none;",dropAnimating:t}}),i=[(r="\n      transition: "+Ck.outOfTheWay+";\n    ",{selector:n(mP.contextId),styles:{dragging:r,dropAnimating:r,userCancel:r}}),o,{selector:n(gP.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:bP(i,"always"),resting:bP(i,"resting"),dragging:bP(i,"dragging"),dropAnimating:bP(i,"dropAnimating"),userCancel:bP(i,"userCancel")}}(e)}),[e]),o=(0,r.useRef)(null),i=(0,r.useRef)(null),a=mE(CE((function(e){var t=i.current;t||ME(!1),t.textContent=e})),[]),s=mE((function(e){var t=o.current;t||ME(!1),t.textContent=e}),[]);yP((function(){(o.current||i.current)&&ME(!1);var r=OP(t),l=OP(t);return o.current=r,i.current=l,r.setAttribute("data-rbd-always",e),l.setAttribute("data-rbd-dynamic",e),wP().appendChild(r),wP().appendChild(l),s(n.always),a(n.resting),function(){var e=function(e){var t=e.current;t||ME(!1),wP().removeChild(t),e.current=null};e(o),e(i)}}),[t,s,a,n.always,n.resting,e]);var l=mE((function(){return a(n.dragging)}),[a,n.dragging]),c=mE((function(e){a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),u=mE((function(){i.current&&a(n.resting)}),[a,n.resting]);return hE((function(){return{dragging:l,dropping:c,resting:u}}),[l,c,u])}(t,a),h=mE((function(e){eC(l).dispatch(e)}),[]),m=hE((function(){return(0,qh.bindActionCreators)({publishWhileDragging:dk,updateDroppableScroll:fk,updateDroppableIsEnabled:hk,updateDroppableIsCombineEnabled:mk,collectionStarting:pk},h)}),[h]),g=function(){var e=hE(EP,[]);return(0,r.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),v=hE((function(){return Xk(g,m)}),[g,m]),b=hE((function(){return function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,o=function(e){var t=e.scrollDroppable,r=TE(e.scrollWindow),n=TE(t),o=null,i=function(e){o||ME(!1);var t=o,i=t.shouldUseTimeDampening,a=t.dragStartTime;pP({state:e,scrollWindow:r,scrollDroppable:n,dragStartTime:a,shouldUseTimeDampening:i})};return{start:function(e){o&&ME(!1);var t=Date.now(),r=!1,n=function(){r=!0};pP({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:n,scrollDroppable:n}),o={dragStartTime:t,shouldUseTimeDampening:r},r&&i(e)},stop:function(){o&&(r.cancel(),n.cancel(),o=null)},scroll:i}}({scrollWindow:r,scrollDroppable:t}),i=fP({move:n,scrollWindow:r,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&i(e):o.scroll(e))},start:o.start,stop:o.stop}}(dE({scrollWindow:Yk,scrollDroppable:v.scrollDroppable},(0,qh.bindActionCreators)({move:gk},h)))}),[v.scrollDroppable,h]),y=function(e){var t=(0,r.useRef)({}),n=(0,r.useRef)(null),o=(0,r.useRef)(null),i=(0,r.useRef)(!1),a=mE((function(e,r){var n={id:e,focus:r};return t.current[e]=n,function(){var r=t.current;r[e]!==n&&delete r[e]}}),[]),s=mE((function(t){var r=function(e,t){var r="["+hP.contextId+'="'+e+'"]',n=aS(document.querySelectorAll(r));if(!n.length)return null;var o=iS(n,(function(e){return e.getAttribute(hP.draggableId)===t}));return o&&_P(o)?o:null}(e,t);r&&r!==document.activeElement&&r.focus()}),[e]),l=mE((function(e,t){n.current===e&&(n.current=t)}),[]),c=mE((function(){o.current||i.current&&(o.current=requestAnimationFrame((function(){o.current=null;var e=n.current;e&&s(e)})))}),[s]),u=mE((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(hP.draggableId)===e&&(n.current=e)}),[]);return yP((function(){return i.current=!0,function(){i.current=!1;var e=o.current;e&&cancelAnimationFrame(e)}}),[]),hE((function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[a,u,c,l])}(t),w=hE((function(){return function(e){var t,r=e.dimensionMarshal,n=e.focusMarshal,o=e.styleMarshal,i=e.getResponders,a=e.announce,s=e.autoScroller;return(0,qh.createStore)(uk,qk((0,qh.applyMiddleware)((t=o,function(){return function(e){return function(r){"INITIAL_PUBLISH"===r.type&&t.dragging(),"DROP_ANIMATE"===r.type&&t.dropping(r.payload.completed.result.reason),"FLUSH"!==r.type&&"DROP_COMPLETE"!==r.type||t.resting(),e(r)}}}),function(e){return function(){return function(t){return function(r){"DROP_COMPLETE"!==r.type&&"FLUSH"!==r.type&&"DROP_ANIMATE"!==r.type||e.stopPublishing(),t(r)}}}}(r),function(e){return function(t){var r=t.getState,n=t.dispatch;return function(t){return function(o){if("LIFT"===o.type){var i=o.payload,a=i.id,s=i.clientSelection,l=i.movementMode,c=r();"DROP_ANIMATING"===c.phase&&n(Ok({completed:c.completed})),"IDLE"!==r().phase&&ME(!1),n({type:"FLUSH",payload:null}),n({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var u={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),p=d.critical,f=d.dimensions,h=d.viewport;n({type:"INITIAL_PUBLISH",payload:{critical:p,dimensions:f,clientSelection:s,movementMode:l,viewport:h}})}else t(o)}}}}(r),Ak,Vk,zk,Fk,function(e){return function(t){return function(r){return function(n){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n))return e.stop(),void r(n);if("INITIAL_PUBLISH"===n.type){r(n);var o=t.getState();return"DRAGGING"!==o.phase&&ME(!1),void e.start(o)}r(n),e.scroll(t.getState())}}}}(s),Mk,function(e){var t=!1;return function(){return function(r){return function(n){if("INITIAL_PUBLISH"===n.type)return t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),void e.tryRestoreFocusRecorded();if(r(n),t){if("FLUSH"===n.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===n.type){t=!1;var o=n.payload.completed.result;o.combine&&e.tryShiftRecord(o.draggableId,o.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(n),$k(i,a))))}({announce:d,autoScroller:b,dimensionMarshal:v,focusMarshal:y,getResponders:u,styleMarshal:f})}),[d,b,v,y,u,f]);l.current=w;var O=mE((function(){var e=eC(l);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),x=mE((function(){var e=eC(l).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);o(hE((function(){return{isDragging:x,tryAbort:O}}),[x,O]));var _=mE((function(e){return Kk(eC(l).getState(),e)}),[]),E=mE((function(){return XS(eC(l).getState())}),[]),S=hE((function(){return{marshal:v,focus:y,contextId:t,canLift:_,isMovementAllowed:E,dragHandleUsageInstructionsId:p,registry:g}}),[t,v,p,y,_,E,g]);return ZP({contextId:t,store:w,registry:g,customSensors:i,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,r.useEffect)((function(){return O}),[O]),n().createElement(IP.Provider,{value:S},n().createElement(pE.Provider,{context:SP,store:w},e.children))}var rC=0;function nC(e){var t=hE((function(){return""+rC++}),[]),r=e.dragHandleUsageInstructions||"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n";return n().createElement(NE,null,(function(o){return n().createElement(tC,{nonce:e.nonce,contextId:t,setCallbacks:o,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var oC=function(e){return function(t){return e===t}},iC=oC("scroll"),aC=oC("auto"),sC=(oC("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),lC=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return sC(r,iC)||sC(r,aC)}(t)?t:e(t.parentElement)},cC=function(e){return{x:e.scrollLeft,y:e.scrollTop}},uC=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},dC={passive:!1},pC={passive:!0},fC=function(e){return e.shouldPublishImmediately?dC:pC};function hC(e){var t=(0,r.useContext)(e);return t||ME(!1),t}var mC=function(e){return e&&e.env.closestScrollable||null};function gC(){}var vC={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},bC=n().memo((function(e){var t=(0,r.useRef)(null),o=mE((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),i=e.animate,a=e.onTransitionEnd,s=e.onClose,l=e.contextId,c=(0,r.useState)("open"===e.animate),u=c[0],d=c[1];(0,r.useEffect)((function(){return u?"open"!==i?(o(),d(!1),gC):t.current?gC:(t.current=setTimeout((function(){t.current=null,d(!1)})),o):gC}),[i,u,o]);var p=mE((function(e){"height"===e.propertyName&&(a(),"close"===i&&s())}),[i,s,a]),f=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,n=e.animate,o=function(e){var t=e.placeholder;return e.isAnimatingOpenOnMount||"close"===e.animate?vC:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin}}({isAnimatingOpenOnMount:t,placeholder:r,animate:n});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?Ck.placeholder:null}}({isAnimatingOpenOnMount:u,animate:e.animate,placeholder:e.placeholder});return n().createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":l,onTransitionEnd:p,ref:e.innerRef})})),yC=n().createContext(null),wC=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return uE(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(n().PureComponent),OC=function(e,t){return t?Ck.drop(t.duration):e?Ck.snap:Ck.fluid},xC=function(e,t){return e?t?Ek:Sk:null};function _C(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,r=e.offset,n=e.combineWith,o=e.dropping,i=Boolean(n),a=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),s=Boolean(o),l=s?function(e,t){var r=Tk(e);return r?t?r+" scale("+kk+")":r:null}(r,i):Dk(r);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:OC(a,o),transform:l,opacity:xC(i,s),zIndex:s?4500:5e3,pointerEvents:"none"}}(e):{transform:Dk((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function EC(e){e.preventDefault()}var SC=function(e,t){return e===t},kC=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null};function PC(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var CC={mapped:{type:"SECONDARY",offset:BE,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:PC(null)}},TC={dropAnimationFinished:function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}}},DC=(0,pE.connect)((function(){var e,t,r,n=(e=CE((function(e,t){return{x:e,y:t}})),t=CE((function(e,t,r,n,o){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(o),dropAnimation:o,mode:e,draggingOver:r,combineWith:n,combineTargetFor:null}})),r=CE((function(e,r,n,o,i,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:i,combineWith:a,mode:r,offset:e,dimension:n,forceShouldAnimate:s,snapshot:t(r,o,i,a,null)}}})),function(n,o){if(n.isDragging){if(n.critical.draggable.id!==o.draggableId)return null;var i=n.current.client.offset,a=n.dimensions.draggables[o.draggableId],s=QS(n.impact),l=(u=n.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=n.forceShouldAnimate;return r(e(i.x,i.y),n.movementMode,a,o.isClone,s,l,c)}var u;if("DROP_ANIMATING"===n.phase){var d=n.completed;if(d.result.draggableId!==o.draggableId)return null;var p=o.isClone,f=n.dimensions.draggables[o.draggableId],h=d.result,m=h.mode,g=kC(h),v=function(e){return e.combine?e.combine.draggableId:null}(h),b={duration:n.dropDuration,curve:_k,moveTo:n.newHomeClientOffset,opacity:v?Ek:null,scale:v?kk:null};return{mapped:{type:"DRAGGING",offset:n.newHomeClientOffset,dimension:f,dropping:b,draggingOver:g,combineWith:v,mode:m,forceShouldAnimate:null,snapshot:t(m,p,g,v,b)}}}return null}),o=function(){var e=CE((function(e,t){return{x:e,y:t}})),t=CE(PC),r=CE((function(e,r,n){return void 0===r&&(r=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:r,shouldAnimateDisplacement:n,snapshot:t(r)}}})),n=function(e){return e?r(BE,e,!0):null},o=function(t,o,i,a){var s=i.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=fS(i),u=c&&c.draggableId===t?o:null;if(!s){if(!l)return n(u);if(i.displaced.invisible[t])return null;var d=QE(a.displacedBy.point),p=e(d.x,d.y);return r(p,u,!0)}if(l)return n(u);var f=i.displacedBy.point,h=e(f.x,f.y);return r(h,u,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:o(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var r=e.completed;return r.result.draggableId===t.draggableId?null:o(t.draggableId,r.result.draggableId,r.impact,r.afterCritical)}return null}}();return function(e,t){return n(e,t)||o(e,t)||CC}}),TC,null,{context:SP,pure:!0,areStatePropsEqual:SC})((function(e){var t=(0,r.useRef)(null),n=mE((function(e){t.current=e}),[]),o=mE((function(){return t.current}),[]),i=hC(IP),a=i.contextId,s=i.dragHandleUsageInstructionsId,l=i.registry,c=hC(yC),u=c.type,d=c.droppableId,p=hE((function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}}),[e.draggableId,e.index,u,d]),f=e.children,h=e.draggableId,m=e.isEnabled,g=e.shouldRespectForcePress,v=e.canDragInteractiveElements,b=e.isClone,y=e.mapped,w=e.dropAnimationFinished;b||function(e){var t=DP("draggable"),n=e.descriptor,o=e.registry,i=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=hE((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}}),[a,l,s]),u=mE((function(e){var t=i();return t||ME(!1),function(e,t,r){void 0===r&&(r=BE);var n=window.getComputedStyle(t),o=t.getBoundingClientRect(),i=EE(o,n),a=_E(i,r);return{descriptor:e,placeholder:{client:i,tagName:t.tagName.toLowerCase(),display:n.display},displaceBy:{x:i.marginBox.width,y:i.marginBox.height},client:i,page:a}}(n,t,e)}),[n,i]),d=hE((function(){return{uniqueId:t,descriptor:n,options:c,getDimension:u}}),[n,u,c,t]),p=(0,r.useRef)(d),f=(0,r.useRef)(!0);yP((function(){return o.draggable.register(p.current),function(){return o.draggable.unregister(p.current)}}),[o.draggable]),yP((function(){if(f.current)f.current=!1;else{var e=p.current;p.current=d,o.draggable.update(d,e)}}),[d,o.draggable])}(hE((function(){return{descriptor:p,registry:l,getDraggableRef:o,canDragInteractiveElements:v,shouldRespectForcePress:g,isEnabled:m}}),[p,l,o,v,g,m]));var O=hE((function(){return m?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:EC}:null}),[a,s,h,m]),x=mE((function(e){"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&w()}),[w,y]),_=hE((function(){var e=_C(y),t="DRAGGING"===y.type&&y.dropping?x:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:O}}),[a,O,h,y,x,n]),E=hE((function(){return{draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}}),[p.droppableId,p.id,p.index,p.type]);return f(_,y.snapshot,E)}));function IC(e){return hC(yC).isUsingCloneFor!==e.draggableId||e.isClone?n().createElement(DC,e):null}function AC(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,r=Boolean(e.disableInteractiveElementBlocking),o=Boolean(e.shouldRespectForcePress);return n().createElement(IC,dE({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:o}))}var jC=function(e,t){return e===t.droppable.type},MC=function(e,t){return t.draggables[e.draggable.id]},NC={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||ME(!1),document.body}},RC=(0,pE.connect)((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=dE({},e,{shouldAnimatePlaceholder:!1}),r=CE((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),n=CE((function(n,o,i,a,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===n){var u=l?{render:l,dragging:r(s.descriptor)}:null,d={isDraggingOver:i,draggingOverWith:i?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!o)return t;if(!a)return e;var p={isDraggingOver:i,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}}));return function(r,o){var i=o.droppableId,a=o.type,s=!o.isDropDisabled,l=o.renderClone;if(r.isDragging){var c=r.critical;if(!jC(a,c))return t;var u=MC(c,r.dimensions),d=QS(r.impact)===i;return n(i,s,d,d,u,l)}if("DROP_ANIMATING"===r.phase){var p=r.completed;if(!jC(a,p.critical))return t;var f=MC(p.critical,r.dimensions);return n(i,s,kC(p.result)===i,QS(p.impact)===i,f,l)}if("IDLE"===r.phase&&r.completed&&!r.shouldFlush){var h=r.completed;if(!jC(a,h.critical))return t;var m=QS(h.impact)===i,g=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),v=h.critical.droppable.id===i;return m?g?e:t:v?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:SP,pure:!0,areStatePropsEqual:SC})((function(e){var t=(0,r.useContext)(IP);t||ME(!1);var o=t.contextId,i=t.isMovementAllowed,a=(0,r.useRef)(null),s=(0,r.useRef)(null),l=e.children,c=e.droppableId,u=e.type,d=e.mode,p=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,m=e.isCombineEnabled,g=e.snapshot,v=e.useClone,b=e.updateViewportMaxScroll,y=e.getContainerForClone,w=mE((function(){return a.current}),[]),O=mE((function(e){a.current=e}),[]),x=(mE((function(){return s.current}),[]),mE((function(e){s.current=e}),[])),_=mE((function(){i()&&b({maxScroll:Wk()})}),[i,b]);!function(e){var t=(0,r.useRef)(null),n=hC(IP),o=DP("droppable"),i=n.registry,a=n.marshal,s=AP(e),l=hE((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=(0,r.useRef)(l),u=hE((function(){return CE((function(e,r){t.current||ME(!1);var n={x:e,y:r};a.updateDroppableScroll(l.id,n)}))}),[l.id,a]),d=mE((function(){var e=t.current;return e&&e.env.closestScrollable?cC(e.env.closestScrollable):BE}),[]),p=mE((function(){var e=d();u(e.x,e.y)}),[d,u]),f=hE((function(){return TE(p)}),[p]),h=mE((function(){var e=t.current,r=mC(e);e&&r||ME(!1),e.scrollOptions.shouldPublishImmediately?p():f()}),[f,p]),m=mE((function(e,r){t.current&&ME(!1);var o=s.current,i=o.getDroppableRef();i||ME(!1);var a=function(e){return{closestScrollable:lC(e),isFixedOnPage:uC(e)}}(i),c={ref:i,descriptor:l,env:a,scrollOptions:r};t.current=c;var u=function(e){var t=e.ref,r=e.descriptor,n=e.env,o=e.windowScroll,i=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=n.closestScrollable,u=function(e,t){var r=SE(e);if(!t)return r;if(e!==t)return r;var n=r.paddingBox.top-t.scrollTop,o=r.paddingBox.left-t.scrollLeft,i=n+t.scrollHeight,a=o+t.scrollWidth,s=vE({top:n,right:a,bottom:i,left:o},r.border);return wE({borderBox:s,margin:r.margin,border:r.border,padding:r.padding})}(t,c),d=_E(u,o),p=function(){if(!c)return null;var e=SE(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:_E(e,o),scroll:cC(c),scrollSize:t,shouldClipSubject:l}}(),f=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,o=e.isFixedOnPage,i=e.direction,a=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,r=Bk({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:r,diff:{value:BE,displacement:BE}}}}(),u="vertical"===i?xS:_S;return{descriptor:t,isCombineEnabled:n,isFixedOnPage:o,axis:u,isEnabled:r,client:a,page:s,frame:c,subject:tS({page:s,withPlaceholder:null,axis:u,frame:c})}}({descriptor:r,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:u,page:d,closest:p});return f}({ref:i,descriptor:l,env:a,windowScroll:e,direction:o.direction,isDropDisabled:o.isDropDisabled,isCombineEnabled:o.isCombineEnabled,shouldClipSubject:!o.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(vP,n.contextId),d.addEventListener("scroll",h,fC(c.scrollOptions))),u}),[n.contextId,l,h,s]),g=mE((function(){var e=t.current,r=mC(e);return e&&r||ME(!1),cC(r)}),[]),v=mE((function(){var e=t.current;e||ME(!1);var r=mC(e);t.current=null,r&&(f.cancel(),r.removeAttribute(vP),r.removeEventListener("scroll",h,fC(e.scrollOptions)))}),[h,f]),b=mE((function(e){var r=t.current;r||ME(!1);var n=mC(r);n||ME(!1),n.scrollTop+=e.y,n.scrollLeft+=e.x}),[]),y=hE((function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:v,scroll:b}}),[v,m,g,b]),w=hE((function(){return{uniqueId:o,descriptor:l,callbacks:y}}),[y,l,o]);yP((function(){return c.current=w.descriptor,i.droppable.register(w),function(){t.current&&v(),i.droppable.unregister(w)}}),[y,l,v,w,a,i.droppable]),yP((function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),yP((function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}({droppableId:c,type:u,mode:d,direction:p,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:w});var E=n().createElement(wC,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,i=e.animate;return n().createElement(bC,{placeholder:r,onClose:t,innerRef:x,animate:i,contextId:o,onTransitionEnd:_})})),S=hE((function(){return{innerRef:O,placeholder:E,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":o}}}),[o,c,E,O]),k=v?v.dragging.draggableId:null,P=hE((function(){return{droppableId:c,type:u,isUsingCloneFor:k}}),[c,k,u]);return n().createElement(yC.Provider,{value:P},l(S,g),function(){if(!v)return null;var e=v.dragging,t=v.render,r=n().createElement(IC,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(r,n){return t(r,n,e)}));return be().createPortal(r,y())}())}));function LC(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){t.current=e})),t.current}function $C(){return $C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$C.apply(this,arguments)}RC.defaultProps=NC;const VC=n().memo((({def:e,operation:t})=>{const o=O(zC),[i,a]=(0,r.useState)(!1),{getTooltipProps:s,setTooltipRef:l,setTriggerRef:c,visible:u}=Ut({placement:"top",visible:i,offset:[0,16],onVisibleChange:a,interactive:!0,trigger:["click"]});return n().createElement(n().Fragment,null,n().createElement(or,{title:"Click to show description",ref:c,icon:"info-circle",size:"sm",variant:"secondary",fill:"text"}),u&&n().createElement(Gt,null,n().createElement("div",$C({ref:l},s(),{className:o.docBox}),n().createElement("div",{className:o.docBoxHeader},n().createElement("span",null,e.renderer(t,e,"<expr>")),n().createElement(Hc,{grow:1}),n().createElement(or,{icon:"times",onClick:()=>a(!1),fill:"text",variant:"secondary",title:"Remove operation"})),n().createElement("div",{className:o.docBoxBody,dangerouslySetInnerHTML:{__html:FC(e,t)}}))))}));VC.displayName="OperationDocs";const zC=e=>({docBox:(0,a.css)({overflow:"hidden",background:e.colors.background.primary,border:`1px solid ${e.colors.border.strong}`,boxShadow:e.shadows.z3,maxWidth:"600px",padding:e.spacing(1),borderRadius:e.shape.borderRadius(),zIndex:e.zIndex.tooltip}),docBoxHeader:(0,a.css)({fontSize:e.typography.h5.fontSize,fontFamily:e.typography.fontFamilyMonospace,paddingBottom:e.spacing(1),display:"flex",alignItems:"center"}),docBoxBody:(0,a.css)({marginBottom:e.spacing(-1),color:e.colors.text.secondary}),signature:(0,a.css)({fontSize:e.typography.bodySmall.fontSize,fontFamily:e.typography.fontFamilyMonospace}),dropdown:(0,a.css)({opacity:0,color:e.colors.text.secondary})});function FC(e,r){var n;return(0,t.renderMarkdown)(e.explainHandler?e.explainHandler(r,e):null!==(n=e.documentation)&&void 0!==n?n:"no docs")}function qC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BC(){return BC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BC.apply(this,arguments)}function HC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){qC(e,t,r[t])}))}return e}function WC(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const UC=n().memo((({operation:e,def:t,index:o,onChange:i,onRemove:a,queryModeller:s,dragHandleProps:l})=>{const c=O(QC),[u,d]=(0,r.useState)({}),p=()=>{if(u.isOpen)d(WC(HC({},u),{isOpen:!1}));else{const e=s.getAlternativeOperations(t.alternativesKey).map((e=>({label:e.name,value:e})));d({isOpen:!0,alternatives:e})}};var f;return n().createElement("div",{className:c.header},!u.isOpen&&n().createElement(n().Fragment,null,n().createElement("div",BC({},l),null!==(f=t.name)&&void 0!==f?f:t.id),n().createElement(Hc,{grow:1}),n().createElement("div",{className:`${c.operationHeaderButtons} operation-header-show-on-hover`},n().createElement(or,{icon:"angle-down",size:"sm",onClick:p,fill:"text",variant:"secondary",title:"Click to view alternative operations"}),n().createElement(VC,{def:t,operation:e}),n().createElement(or,{icon:"times",size:"sm",onClick:()=>a(o),fill:"text",variant:"secondary",title:"Remove operation"}))),u.isOpen&&n().createElement("div",{className:c.selectWrapper},n().createElement($c,{autoFocus:!0,openMenuOnFocus:!0,placeholder:"Replace with",options:u.alternatives,isOpen:!0,onCloseMenu:p,onChange:r=>{if(r.value){const n=s.getOperationDef(r.value.id),a=[...n.defaultParams];for(let r=0;r<Math.min(e.params.length,a.length);r++)n.params[r].type===t.params[r].type&&(a[r]=e.params[r]);const l=WC(HC({},e),{params:a,id:r.value.id});i(o,t.changeTypeHandler?t.changeTypeHandler(l,n):l)}}})))}));UC.displayName="OperationHeader";const QC=e=>({header:(0,a.css)({borderBottom:`1px solid ${e.colors.border.medium}`,padding:e.spacing(.5,.5,.5,1),display:"flex",alignItems:"center","&:hover .operation-header-show-on-hover":(0,a.css)({opacity:1})}),operationHeaderButtons:(0,a.css)({opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short})}),selectWrapper:(0,a.css)({paddingRight:e.spacing(2)})});let GC;const XC=new Map;let KC="";function YC(){return YC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YC.apply(this,arguments)}const JC=n().forwardRef(((e,t)=>{const{defaultValue:o="",minWidth:i=10,maxWidth:a,onCommitChange:s,onKeyDown:l,onBlur:c}=e,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["defaultValue","minWidth","maxWidth","onCommitChange","onKeyDown","onBlur"]),[d,p]=n().useState(o),[f,h]=n().useState(i);return(0,r.useEffect)((()=>{h(function(e,t,r){if(!e)return t;const n=function(e,t){const r=`${t}px 'Roboto'`,n=e+r,o=XC.get(n);if(o)return o;const i=(GC||(GC=document.createElement("canvas").getContext("2d")),GC);KC!==r&&(i.font=KC=r);const a=i.measureText(e);return 500===XC.size&&XC.clear(),XC.set(n,a),a}(e.toString(),14).width/8+3;return t&&n<t?t:n}(d.toString(),i))}),[d,a,i]),n().createElement(he,YC({},u,{ref:t,value:d.toString(),onChange:e=>{p(e.currentTarget.value)},width:f,onBlur:e=>{c?c(e):s&&s(e)},onKeyDown:e=>{l?l(e):"Enter"===e.key&&s&&s(e)},"data-testid":"autosize-input"}))}));function ZC(){return ZC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZC.apply(this,arguments)}JC.displayName="AutoSizeInput";const eT=n().forwardRef(((e,t)=>{var{label:o,description:i,value:s,htmlValue:l,onChange:c,disabled:u,className:d}=e,p=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["label","description","value","htmlValue","onChange","disabled","className"]);const f=(0,r.useCallback)((e=>{c&&c(e)}),[c]),h=O(tT);return n().createElement("label",{className:(0,a.cx)(h.wrapper,d)},n().createElement("input",ZC({type:"checkbox",className:h.input,checked:s,disabled:u,onChange:f,value:l},p,{ref:t})),n().createElement("span",{className:h.checkmark}),o&&n().createElement("span",{className:h.label},o),i&&n().createElement("span",{className:h.description},i))})),tT=f((e=>{const t=Bm(e);return{wrapper:a.css`
      position: relative;
      vertical-align: middle;
      font-size: 0;
    `,input:a.css`
      position: absolute;
      z-index: 1;
      top: 0;
      left: 0;
      width: 100% !important; // global styles unset this
      height: 100%;
      opacity: 0;

      &:focus + span,
      &:focus-visible + span {
        ${A(e)}
      }

      &:focus:not(:focus-visible) + span {
        ${{outline:"none",boxShadow:"none"}}
      }

      /**
       * Using adjacent sibling selector to style checked state.
       * Primarily to limit the classes necessary to use when these classes will be used
       * for angular components styling
       * */
      &:checked + span {
        background: blue;
        background: ${e.colors.primary.main};
        border: none;

        &:hover {
          background: ${e.colors.primary.shade};
        }

        &:after {
          content: '';
          position: absolute;
          z-index: 2;
          left: 5px;
          top: 1px;
          width: 6px;
          height: 12px;
          border: solid ${e.colors.primary.contrastText};
          border-width: 0 3px 3px 0;
          transform: rotate(45deg);
        }
      }

      &:disabled + span {
        background-color: ${e.colors.action.disabledBackground};
        cursor: not-allowed;

        &:hover {
          background-color: ${e.colors.action.disabledBackground};
        }

        &:after {
          border-color: ${e.colors.action.disabledText};
        }
      }
    `,checkmark:a.css`
      position: relative; /* Checkbox should be layered on top of the invisible input so it recieves :hover */
      z-index: 2;
      display: inline-block;
      width: ${e.spacing(2)};
      height: ${e.spacing(2)};
      border-radius: ${e.shape.borderRadius()};
      background: ${e.components.input.background};
      border: 1px solid ${e.components.input.borderColor};

      &:hover {
        cursor: pointer;
        border-color: ${e.components.input.borderHover};
      }
    `,label:(0,a.cx)(t.label,a.css`
        position: relative;
        z-index: 2;
        padding-left: ${e.spacing(1)};
        white-space: nowrap;
        cursor: pointer;
        position: relative;
        top: -3px;
      `),description:(0,a.cx)(t.description,a.css`
        line-height: ${e.typography.bodySmall.lineHeight};
        padding-left: ${e.spacing(3)};
        margin-top: 0; /* The margin effectively comes from the top: -2px on the label above it */
      `)}}));function rT(e){return e.editor?e.editor:e.options?iT:"boolean"===e.type?oT:nT}function nT(e){var t;return n().createElement(JC,{id:Su(e.operationIndex,e.index),defaultValue:null===(t=e.value)||void 0===t?void 0:t.toString(),minWidth:e.paramDef.minWidth,placeholder:e.paramDef.placeholder,title:e.paramDef.description,onCommitChange:t=>{e.onChange(e.index,t.currentTarget.value),e.paramDef.runQueryOnEnter&&"keydown"===t.type&&e.onRunQuery()}})}function oT(e){return n().createElement(eT,{id:Su(e.operationIndex,e.index),value:e.value,onChange:t=>e.onChange(e.index,t.currentTarget.checked)})}function iT({paramDef:e,value:r,index:o,operationIndex:i,onChange:a}){var s;const l=O(aT);let c=e.options;var u;(null===(s=c[0])||void 0===s?void 0:s.label)||(c=e.options.map((e=>({label:e.toString(),value:e}))));let d=null!==(u=c.find((e=>e.value===r)))&&void 0!==u?u:(0,t.toOption)(r);return!r&&e.optional?n().createElement("div",{className:l.optionalParam},n().createElement(or,{size:"sm",variant:"secondary",title:`Add ${e.name}`,icon:"plus",onClick:()=>a(o,c[0].value)},e.name)):n().createElement(Xc,{gap:.5,direction:"row",alignItems:"center",wrap:!1},n().createElement($c,{id:Su(i,o),value:d,options:c,placeholder:e.placeholder,allowCustomValue:!0,onChange:e=>a(o,e.value)}),e.optional&&n().createElement(or,{"data-testid":`operations.${o}.remove-param`,size:"sm",fill:"text",icon:"times",variant:"secondary",title:`Remove ${e.name}`,onClick:()=>a(o,"")}))}eT.displayName="Checkbox";const aT=e=>({optionalParam:(0,a.css)({marginTop:e.spacing(1)})});function sT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lT(){return lT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lT.apply(this,arguments)}function cT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){sT(e,t,r[t])}))}return e}function uT(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function dT({operation:e,index:t,onRemove:o,onChange:i,onRunQuery:s,queryModeller:l,query:c,datasource:u,flash:d,highlight:p}){const f=O(fT),h=l.getOperationDef(e.id),m=function(e){const[t,n]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{let t;return e?t=setTimeout((()=>{n(!1)}),1e3):n(!0),()=>clearTimeout(t)}),[e]),t&&e}(d);if(!h)return n().createElement("span",null,"Operation ",e.id," not found");const g=(r,n)=>{const o=uT(cT({},e),{params:[...e.params]});o.params[r]=n,pT(h,o,t,r,i)},v=()=>{const r=uT(cT({},e),{params:[...e.params,""]});pT(h,r,t,e.params.length,i)},b=r=>{const n=uT(cT({},e),{params:[...e.params.slice(0,r),...e.params.slice(r+1)]});pT(h,n,t,r,i)},y=[];for(let r=0;r<e.params.length;r++){const o=h.params[Math.min(h.params.length-1,r)],i=rT(o);y.push(n().createElement("div",{className:f.paramRow,key:`${r}-1`},!o.hideName&&n().createElement("div",{className:f.paramName},n().createElement("label",{htmlFor:Su(t,r)},o.name),o.description&&n().createElement(Yt,{placement:"top",content:o.description,theme:"info"},n().createElement(ce,{name:"info-circle",size:"sm",className:f.infoIcon}))),n().createElement("div",{className:f.paramValue},n().createElement(Xc,{gap:.5,direction:"row",alignItems:"center",wrap:!1},n().createElement(i,{index:r,paramDef:o,value:e.params[r],operation:e,operationIndex:t,onChange:g,onRunQuery:s,query:c,datasource:u}),o.restParam&&(e.params.length>h.params.length||o.optional)&&n().createElement(or,{"data-testid":`operations.${t}.remove-rest-param`,size:"sm",fill:"text",icon:"times",variant:"secondary",title:`Remove ${o.name}`,onClick:()=>b(r)})))))}let w;if(h.params.length>0){const r=h.params[h.params.length-1];r.restParam&&(w=function(e,t,r,o,i){return n().createElement("div",{className:i.restParam,key:`${o}-2`},n().createElement(or,{size:"sm",icon:"plus",title:`Add ${e.name}`,variant:"secondary",onClick:t,"data-testid":`operations.${r}.add-rest-param`},e.name))}(r,v,t,e.params.length,f))}return n().createElement(AC,{draggableId:`operation-${t}`,index:t},(r=>n().createElement("div",lT({className:(0,a.cx)(f.card,(m||p)&&f.cardHighlight),ref:r.innerRef},r.draggableProps,{"data-testid":`operations.${t}.wrapper`}),n().createElement(UC,{operation:e,dragHandleProps:r.dragHandleProps,def:h,index:t,onChange:i,onRemove:o,queryModeller:l}),n().createElement("div",{className:f.body},y),w,t<c.operations.length-1&&n().createElement("div",{className:f.arrow},n().createElement("div",{className:f.arrowLine}),n().createElement("div",{className:f.arrowArrow})))))}function pT(e,t,r,n,o){e.paramChangedHandler?o(r,e.paramChangedHandler(n,t,e)):o(r,t)}const fT=e=>({card:(0,a.css)({background:e.colors.background.primary,border:`1px solid ${e.colors.border.medium}`,display:"flex",flexDirection:"column",cursor:"grab",borderRadius:e.shape.borderRadius(1),marginBottom:e.spacing(1),position:"relative",transition:"all 0.5s ease-in 0s"}),cardHighlight:(0,a.css)({boxShadow:`0px 0px 4px 0px ${e.colors.primary.border}`,border:`1px solid ${e.colors.primary.border}`}),infoIcon:(0,a.css)({marginLeft:e.spacing(.5),color:e.colors.text.secondary,":hover":{color:e.colors.text.primary}}),body:(0,a.css)({margin:e.spacing(1,1,.5,1),display:"table"}),paramRow:(0,a.css)({label:"paramRow",display:"table-row",verticalAlign:"middle"}),paramName:(0,a.css)({display:"table-cell",padding:e.spacing(0,1,0,0),fontSize:e.typography.bodySmall.fontSize,fontWeight:e.typography.fontWeightMedium,verticalAlign:"middle",height:"32px"}),paramValue:(0,a.css)({label:"paramValue",display:"table-cell",verticalAlign:"middle"}),restParam:(0,a.css)({padding:e.spacing(0,1,1,1)}),arrow:(0,a.css)({position:"absolute",top:"0",right:"-18px",display:"flex"}),arrowLine:(0,a.css)({height:"2px",width:"8px",backgroundColor:e.colors.border.strong,position:"relative",top:"14px"}),arrowArrow:(0,a.css)({width:0,height:0,borderTop:"5px solid transparent",borderBottom:"5px solid transparent",borderLeft:`7px solid ${e.colors.border.strong}`,position:"relative",top:"10px"})});function hT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mT(){return mT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mT.apply(this,arguments)}function gT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){hT(e,t,r[t])}))}return e}function vT(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function bT({query:e,datasource:t,queryModeller:o,onChange:i,onRunQuery:a,highlightedOp:s}){const l=O(yT),{operations:c}=e,u=function(e){const t=function(){var e=(0,r.useRef)(!1),t=(0,r.useCallback)((function(){return e.current}),[]);return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t}(),n=LC(e);if(!t())return e.map((()=>!1));if(!n)return e.map((()=>!0));let o=[];if(n.length-1===e.length&&e.every((e=>n.includes(e))))return e.map((()=>!1));if(n.length+1===e.length&&n.every((t=>e.includes(t)))){const t=e.find((e=>!n.includes(e)));o=e.map((e=>e===t))}else o=e.map(((e,t)=>{var r,o,i;return!((o=e.id)===(i=null===(r=n[t])||void 0===r?void 0:r.id)||`__${o}_by`===i||o===`__${i}_by`)}));return o}(c),[d,p]=(0,r.useState)(!1),f=(t,r)=>{const n=[...c];n.splice(t,1,r),i(vT(gT({},e),{operations:n}))},h=t=>{const r=[...c.slice(0,t),...c.slice(t+1)];i(vT(gT({},e),{operations:r}))},m=o.getCategories().map((e=>({value:e,label:e,items:o.getOperationsForCategory(e).map((e=>({value:e.id,label:e.name,isLeaf:!0})))})));return n().createElement(Xc,{gap:1,direction:"column"},n().createElement(Xc,{gap:1},c.length>0&&n().createElement(nC,{onDragEnd:t=>{if(!t.destination)return;const r=[...c],n=r[t.source.index];r.splice(t.source.index,1),r.splice(t.destination.index,0,n),i(vT(gT({},e),{operations:r}))}},n().createElement(RC,{droppableId:"sortable-field-mappings",direction:"horizontal"},(r=>n().createElement("div",mT({className:l.operationList,ref:r.innerRef},r.droppableProps),c.map(((r,i)=>n().createElement(dT,{key:r.id+JSON.stringify(r.params)+i,queryModeller:o,index:i,operation:r,query:e,datasource:t,onChange:f,onRemove:h,onRunQuery:a,flash:u[i],highlight:s===r}))),r.placeholder)))),n().createElement("div",{className:l.addButton},d?n().createElement(lE,{options:m,onSelect:t=>{const r=o.getOperationDef(t);r&&(i(r.addOperationHandler(r,e,o)),p(!1))},onBlur:()=>{p(!1)},autoFocus:!0,alwaysOpen:!0,hideActiveLevelLabel:!0,placeholder:"Search"}):n().createElement(or,{icon:"plus",variant:"secondary",onClick:()=>p(!0),title:"Add operation"},"Operations"))))}const yT=e=>({heading:(0,a.css)({label:"heading",fontSize:12,fontWeight:e.typography.fontWeightMedium,marginBottom:0}),operationList:(0,a.css)({label:"operationList",display:"flex",flexWrap:"wrap",gap:e.spacing(2)}),addButton:(0,a.css)({label:"addButton",width:126,paddingBottom:e.spacing(1)})});function wT({query:e,lang:t}){const r=w(),o=OT(r),i=sm().highlight(e,t.grammar,t.name);return n().createElement("div",{className:(0,a.cx)(o.editorField,"prism-syntax-highlight"),"aria-label":"selector",dangerouslySetInnerHTML:{__html:i}})}const OT=e=>({editorField:(0,a.css)({fontFamily:e.typography.fontFamilyMonospace,fontSize:e.typography.bodySmall.fontSize})});function xT({query:e,queryModeller:t,stepNumber:r,lang:o,onMouseEnter:i,onMouseLeave:a}){return n().createElement(n().Fragment,null,e.operations.map(((e,s)=>{const l=t.getOperationDef(e.id);if(!l)return`Operation ${e.id} not found`;const c=l.renderer(e,l,"<expr>");var u;const d=l.explainHandler?l.explainHandler(e,l):null!==(u=l.documentation)&&void 0!==u?u:"no docs";return n().createElement("div",{key:s,onMouseEnter:()=>null==i?void 0:i(e,s),onMouseLeave:()=>null==a?void 0:a(e,s)},n().createElement(dg,{stepNumber:s+r,title:n().createElement(wT,{query:c,lang:o}),markdown:d}))})))}function _T({children:e}){const t=O(ET);return n().createElement("div",{className:t.root},n().createElement(Xc,{gap:1},e))}const ET=e=>({root:(0,a.css)({padding:e.spacing(1,1,0,1),backgroundColor:e.colors.background.secondary,borderRadius:e.shape.borderRadius(1)})}),ST=({datasource:e,query:t,onChange:o,data:i,queryModeller:a,buildVisualQueryFromString:s})=>{const[l,c]=(0,r.useState)([]),u=O(kT);return(0,r.useEffect)((()=>{const r={expr:a.renderQuery(t),refId:""},n=e.getQueryHints(r,(null==i?void 0:i.series)||[]).filter((e=>{var t;return null===(t=e.fix)||void 0===t?void 0:t.action}));c(n)}),[e,t,i,a]),n().createElement(n().Fragment,null,l.length>0&&n().createElement("div",{className:u.container},l.map((r=>{var i,l,c;return n().createElement(Yt,{content:`${r.label} ${null===(i=r.fix)||void 0===i?void 0:i.label}`,key:r.type},n().createElement(or,{onClick:()=>{var n;if(null==r||null===(n=r.fix)||void 0===n?void 0:n.action){const n={expr:a.renderQuery(t),refId:""},i=e.modifyQuery(n,r.fix.action),l=s(i.expr);return o(l.query)}},fill:"outline",size:"sm",className:u.hint},"hint: "+(null===(l=r.fix)||void 0===l||null===(c=l.action)||void 0===c?void 0:c.type.toLowerCase().replace("_"," "))+"()"))}))))};ST.displayName="QueryBuilderHints";const kT=e=>({container:a.css`
      display: flex;
      align-items: start;
    `,hint:a.css`
      margin-right: ${e.spacing(1)};
    `});var PT=v(5464),CT=v.n(PT);function TT(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function DT(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){TT(i,n,o,a,s,"next",e)}function s(e){TT(i,n,o,a,s,"throw",e)}a(void 0)}))}}function IT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AT({query:e,onChange:o,onGetMetrics:i}){const a=O(jT),[s,l]=(0,r.useState)({}),c=(0,r.useCallback)(((e,t)=>{var r;const n=null!==(r=e.label)&&void 0!==r?r:e.value;return!!n&&(!n.toLowerCase||t.split(" ").reduce(((e,t)=>e&&n.toLowerCase().includes(t.toLowerCase())),!0))}),[]),u=(0,r.useCallback)(((e,t)=>{return e.__isNew__?e.label:n().createElement(CT(),{searchWords:t.inputValue.split(" "),textToHighlight:null!==(r=e.label)&&void 0!==r?r:"",highlightClassName:a.highlight});var r}),[a.highlight]);return n().createElement(Lm,null,n().createElement(Xm,{label:"Metric"},n().createElement($c,{inputId:"prometheus-metric-select",className:a.select,value:e.metric?(0,t.toOption)(e.metric):void 0,placeholder:"Select metric",allowCustomValue:!0,formatOptionLabel:u,filterOption:c,onOpenMenu:DT((function*(){l({isLoading:!0});const e=yield i();l({metrics:e,isLoading:void 0})})),isLoading:s.isLoading,options:s.metrics,onChange:({value:t})=>{var r,n;t&&o((r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){IT(e,t,r[t])}))}return e}({},e),n=null!=(n={metric:t})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))})),r))}})))}const jT=e=>({select:a.css`
    min-width: 125px;
  `,highlight:a.css`
    label: select__match-highlight;
    background: inherit;
    padding: inherit;
    color: ${e.colors.warning.contrastText};
    background-color: ${e.colors.warning.main};
  `});function MT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){MT(e,t,r[t])}))}return e}function RT(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const LT=n().memo((e=>{const{nestedQuery:r,index:o,datasource:i,onChange:a,onRemove:s,onRunQuery:l,showExplain:c}=e,u=O(VT);return n().createElement("div",{className:u.card},n().createElement("div",{className:u.header},n().createElement("div",{className:u.name},"Operator"),n().createElement($c,{width:"auto",options:$T,value:(0,t.toOption)(r.operator),onChange:e=>{a(o,RT(NT({},r),{operator:e.value}))}}),n().createElement("div",{className:u.name},"Vector matches"),n().createElement("div",{className:u.vectorMatchWrapper},n().createElement($c,{width:"auto",value:r.vectorMatchesType||"on",allowCustomValue:!0,options:[{value:"on",label:"on"},{value:"ignoring",label:"ignoring"}],onChange:e=>{a(o,RT(NT({},r),{vectorMatchesType:e.value}))}}),n().createElement(JC,{className:u.vectorMatchInput,minWidth:20,defaultValue:r.vectorMatches,onCommitChange:e=>{a(o,RT(NT({},r),{vectorMatches:e.currentTarget.value,vectorMatchesType:r.vectorMatchesType||"on"}))}})),n().createElement(Hc,{grow:1}),n().createElement(ho,{name:"times",size:"sm",onClick:()=>s(o)})),n().createElement("div",{className:u.body},n().createElement(eu,null,n().createElement(XT,{showExplain:c,query:r.query,datasource:i,onRunQuery:l,onChange:e=>{a(o,RT(NT({},r),{query:e}))}}))))})),$T=ju.map((e=>({label:e.sign,value:e.sign})));LT.displayName="NestedQuery";const VT=e=>({card:(0,a.css)({label:"card",display:"flex",flexDirection:"column",gap:e.spacing(.5)}),header:(0,a.css)({label:"header",padding:e.spacing(.5,.5,.5,1),gap:e.spacing(1),display:"flex",alignItems:"center"}),name:(0,a.css)({label:"name",whiteSpace:"nowrap"}),body:(0,a.css)({label:"body",paddingLeft:e.spacing(2)}),vectorMatchInput:(0,a.css)({label:"vectorMatchInput",marginLeft:-1}),vectorMatchWrapper:(0,a.css)({label:"vectorMatchWrapper",display:"flex"})});function zT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){zT(e,t,r[t])}))}return e}function qT(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function BT(e){const{query:t,datasource:r,onChange:o,onRunQuery:i,showExplain:a}=e;var s;const l=null!==(s=t.binaryQueries)&&void 0!==s?s:[],c=(e,r)=>{const n=[...l];n.splice(e,1,r),o(qT(FT({},t),{binaryQueries:n}))},u=e=>{const r=[...l.slice(0,e),...l.slice(e+1)];o(qT(FT({},t),{binaryQueries:r}))};return n().createElement(Xc,{direction:"column",gap:1},l.map(((e,t)=>n().createElement(LT,{key:t.toString(),nestedQuery:e,index:t,onChange:c,datasource:r,onRemove:u,onRunQuery:i,showExplain:a}))))}const HT="Fetch all series matching metric name and label filters.",WT=n().memo((({query:e})=>{const t=af(e||"").query,r={grammar:ou,name:"promql"};return n().createElement(Xc,{gap:.5,direction:"column"},n().createElement(dg,{stepNumber:1,title:n().createElement(wT,{query:`${t.metric} ${Yu.renderLabels(t.labels)}`,lang:r})},HT),n().createElement(xT,{stepNumber:2,queryModeller:Yu,query:t,lang:r}))}));function UT(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function QT(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){UT(i,n,o,a,s,"next",e)}function s(e){UT(i,n,o,a,s,"throw",e)}a(void 0)}))}}function GT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}WT.displayName="PromQueryBuilderExplained";const XT=n().memo((e=>{const{datasource:t,query:o,onChange:i,onRunQuery:a,data:s,showExplain:l}=e,[c,u]=(0,r.useState)(),d=(0,r.useCallback)(function(){var e=QT((function*(e){const r=t.getVariables(),n=yield e;return[...r.map((e=>({label:e,value:e}))),...n.map((e=>({label:e.value,value:e.value,title:e.description})))]}));return function(t){return e.apply(this,arguments)}}(),[t]),p=function(){var e=QT((function*(e){if(!o.metric)return yield t.languageProvider.fetchLabels(),t.languageProvider.getLabelKeys().map((e=>({value:e})));const r=o.labels.filter((t=>t!==e));r.push({label:"__name__",op:"=",value:o.metric});const n=Yu.renderLabels(r),i=yield t.languageProvider.fetchSeriesLabels(n);return Object.keys(i).filter((e=>!r.find((t=>t.label===e)))).map((e=>({value:e})))}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=QT((function*(e){if(!e.label)return[];if(!o.metric)return(yield t.languageProvider.getLabelValues(e.label)).map((e=>({value:e})));const r=o.labels.filter((t=>t!==e));r.push({label:"__name__",op:"=",value:o.metric});const n=Yu.renderLabels(r);var i;return null!==(i=(yield t.languageProvider.fetchSeriesLabels(n))[t.interpolateString(e.label)].map((e=>({value:e}))))&&void 0!==i?i:[]}));return function(t){return e.apply(this,arguments)}}(),h=(0,r.useCallback)((()=>d(function(e,t){return KT.apply(this,arguments)}(t,o))),[t,o,d]),m={grammar:ou,name:"promql"};return n().createElement(n().Fragment,null,n().createElement(rm,null,n().createElement(AT,{query:o,onChange:i,onGetMetrics:h}),n().createElement(ug,{labelsFilters:o.labels,onChange:e=>{var t,r;i((t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){GT(e,t,r[t])}))}return e}({},o),r=null!=(r={labels:e})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})),t))},onGetLabelNames:e=>d(p(e)),onGetLabelValues:e=>d(f(e))})),l&&n().createElement(dg,{stepNumber:1,title:n().createElement(wT,{query:`${o.metric} ${Yu.renderLabels(o.labels)}`,lang:m})},HT),n().createElement(_T,null,n().createElement(bT,{queryModeller:Yu,datasource:t,query:o,onChange:i,onRunQuery:a,highlightedOp:c}),n().createElement(ST,{datasource:t,query:o,onChange:i,data:s,queryModeller:Yu,buildVisualQueryFromString:af})),l&&n().createElement(xT,{lang:m,query:o,stepNumber:2,queryModeller:Yu,onMouseEnter:e=>u(e),onMouseLeave:()=>u(void 0)}),o.binaryQueries&&o.binaryQueries.length>0&&n().createElement(BT,{query:o,datasource:t,onChange:i,onRunQuery:a,showExplain:l}))}));function KT(){return KT=QT((function*(e,t){let r;if(e.languageProvider.metricsMetadata||(yield e.languageProvider.loadMetricsMetadata()),e.languageProvider.metricsMetadata||(e.languageProvider.metricsMetadata={}),t.labels.length>0){const o=Yu.renderLabels(t.labels);var n;r=null!==(n=(yield e.languageProvider.getSeries(o,!0)).__name__)&&void 0!==n?n:[]}else{var o;r=null!==(o=yield e.languageProvider.getLabelValues("__name__"))&&void 0!==o?o:[]}return r.map((t=>({value:t,description:Mm(t,e.languageProvider.metricsMetadata)})))})),KT.apply(this,arguments)}function YT({query:e}){return n().createElement(rm,null,n().createElement(Lm,null,n().createElement(Xm,{label:"Raw query"},n().createElement(wT,{query:e,lang:{grammar:ou,name:"promql"}}))))}function JT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZT(e){const{query:t,onChange:o,onRunQuery:i,datasource:a,data:s,showRawQuery:l,showExplain:c}=e,[u,d]=(0,r.useReducer)(eD.reducer,{expr:t.expr});return(0,r.useEffect)((()=>{d(rD(t.expr))}),[t.expr]),u.visQuery?n().createElement(n().Fragment,null,n().createElement(XT,{query:u.visQuery,datasource:a,onChange:t=>{const r=Yu.renderQuery(t);var n,i;d(tD({visQuery:t,expr:r})),o((n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){JT(e,t,r[t])}))}return e}({},e.query),i=null!=(i={expr:r})?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(i)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})),n))},onRunQuery:i,data:s,showExplain:c}),l&&n().createElement(YT,{query:t.expr})):null}XT.displayName="PromQueryBuilder";const eD=em({name:"prom-builder-container",initialState:{expr:""},reducers:{visualQueryChange:(e,t)=>{e.expr=t.payload.expr,e.visQuery=t.payload.visQuery},exprChanged:(e,t)=>{if(!e.visQuery||e.expr!==t.payload){e.expr=t.payload;const r=af(t.payload);e.visQuery=r.query}}}}),{visualQueryChange:tD,exprChanged:rD}=eD.actions;function nD(){return nD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nD.apply(this,arguments)}const oD=e=>{const t=iD();return n().createElement("div",{className:t.switch},n().createElement(Pf,nD({},e)))},iD=()=>({switch:(0,a.css)({display:"flex",alignItems:"center",minHeight:30})});function aD(){return aD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aD.apply(this,arguments)}const sD=e=>{var{children:t,isFocused:r,isInvalid:o,className:i,htmlFor:a,tooltip:s,width:l}=e,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["children","isFocused","isInvalid","className","htmlFor","tooltip","width"]);const u=Fl()(i,`gf-form-label width-${l||"10"}`,{"gf-form-label--is-focused":r,"gf-form-label--is-invalid":o});return n().createElement("label",aD({className:u},c,{htmlFor:a}),t,s&&n().createElement(Yt,{placement:"top",content:s,theme:"info"},n().createElement("div",{className:"gf-form-help-icon gf-form-help-icon--right-normal"},n().createElement(ce,{name:"info-circle",size:"sm",style:{marginLeft:"10px"}}))))};function lD(){return lD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lD.apply(this,arguments)}const cD=e=>{var{children:t,className:o,tooltip:i,width:s,transparent:l,interactive:c,as:u="label"}=e,d=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["children","className","tooltip","width","transparent","interactive","as"]);const p=O((0,r.useCallback)((e=>uD(e,l,s)),[l,s]));return n().createElement(u,lD({className:(0,a.cx)(p.label,o)},d),t,i&&n().createElement(Yt,{interactive:c,placement:"top",content:i,theme:"info"},n().createElement(ce,{tabIndex:0,name:"info-circle",size:"sm",className:p.icon})))},uD=(e,t=!1,r)=>({label:a.css`
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-shrink: 0;
      padding: 0 ${e.spacing(1)};
      font-weight: ${e.typography.fontWeightMedium};
      font-size: ${e.typography.size.sm};
      background-color: ${t?"transparent":e.colors.background.secondary};
      height: ${e.spacing(e.components.height.md)};
      line-height: ${e.spacing(e.components.height.md)};
      margin-right: ${e.spacing(.5)};
      border-radius: ${e.shape.borderRadius(2)};
      border: none;
      width: ${r?"auto"!==r?8*r+"px":r:"100%"};
      color: ${e.colors.text.primary};
    `,icon:a.css`
      color: ${e.colors.text.secondary};
      margin-left: 10px;

      :hover {
        color: ${e.colors.text.primary};
      }
    `});function dD(e){var{datasource:t,onChange:o,query:i}=e,s=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["datasource","onChange","query"]);const[l,c]=(0,r.useState)(null),u=O(pD),d=LC(l);(0,r.useEffect)((()=>{t.exemplarsAvailable?i.instant&&!i.range?(c("Exemplars are not available for instant queries"),o(!1)):(c(null),d&&!l&&o(!0)):(c("Exemplars for this query are not available"),o(!1))}),[t.exemplarsAvailable,i.instant,i.range,o,d,l]);const p=(0,a.cx)({[u.activeIcon]:!!i.exemplar},u.eyeIcon);return n().createElement(cD,{width:"auto","data-testid":s["data-testid"]},n().createElement(Yt,{content:null!=l?l:""},n().createElement("div",{className:u.iconWrapper},"Exemplars",n().createElement(ho,{name:"eye",tooltip:i.exemplar?"Disable query with exemplars":"Enable query with exemplars",disabled:!!l,className:p,onClick:()=>{o(!i.exemplar)}}))))}function pD(e){return{eyeIcon:a.css`
      margin-left: ${e.spacing(2)};
    `,activeIcon:a.css`
      color: ${e.colors.primary.main};
    `,iconWrapper:a.css`
      display: flex;
      align-items: center;
    `}}function fD(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){fD(e,t,r[t])}))}return e}function mD(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const gD=(0,r.memo)((({query:e,datasource:t,onChange:o,onRunQuery:i})=>{const s=vD(!0),l=LC(e),c=(0,r.useCallback)((t=>{(0,su.isEqual)(e,l)&&t===e.exemplar||o(mD(hD({},e),{exemplar:t}))}),[l,e,o]),u=bD(e,o);var d;return n().createElement("div",{"aria-label":"Prometheus extra field",className:"gf-form-inline","data-testid":yD.extraFieldEditor},n().createElement("div",{"data-testid":yD.queryTypeField,className:(0,a.cx)("gf-form explore-input-margin",a.css`
              flex-wrap: nowrap;
            `),"aria-label":"Query type field"},n().createElement(sD,{width:"auto"},"Query type"),n().createElement(wf,{options:s,value:e.range&&e.instant?"both":e.instant?"instant":"range",onChange:u})),n().createElement("div",{"data-testid":yD.stepField,className:(0,a.cx)("gf-form",a.css`
              flex-wrap: nowrap;
            `),"aria-label":"Step field"},n().createElement(sD,{width:6,tooltip:"Time units and built-in variables can be used here, for example: $__interval, $__rate_interval, 5s, 1m, 3h, 1d, 1y (Default if no unit is specified: s)"},"Min step"),n().createElement("input",{type:"text",className:"gf-form-input width-4",placeholder:"auto",onChange:function(t){var r;t.currentTarget.value!==e.interval&&(r=t.currentTarget.value,o(mD(hD({},e),{interval:r})))},onKeyDown:function(e){"Enter"===e.key&&e.shiftKey&&i()},value:null!==(d=e.interval)&&void 0!==d?d:""})),n().createElement(dD,{onChange:c,datasource:t,query:e}))}));function vD(e){const t=[{value:"range",label:"Range",description:"Run query over a range of time"},{value:"instant",label:"Instant",description:'Run query against a single point in time. For this query, the "To" time is used'}];return e&&t.push({value:"both",label:"Both",description:"Run an Instant query and a Range query"}),t}function bD(e,t){return r=>{t(mD(hD({},e),"instant"===r?{instant:!0,range:!1,exemplar:!1}:"range"===r?{instant:!1,range:!0}:{instant:!0,range:!0}))}}gD.displayName="PromExploreExtraField";const yD={extraFieldEditor:"prom-editor-extra-field",stepField:"prom-editor-extra-field-step",queryTypeField:"prom-editor-extra-field-query-type"};function wD(){return wD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wD.apply(this,arguments)}const OD=e=>{var{label:t,tooltip:r,labelWidth:o,inputWidth:i,inputEl:s,className:l}=e,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["label","tooltip","labelWidth","inputWidth","inputEl","className"]);const u=xD();return n().createElement("div",{className:(0,a.cx)(u.formField,l)},n().createElement(sD,{width:o,tooltip:r},t),s||n().createElement("input",wD({type:"text",className:"gf-form-input "+(i?`width-${i}`:"")},c)))};OD.displayName="FormField",OD.defaultProps={labelWidth:6,inputWidth:12};const xD=()=>({formField:a.css`
      display: flex;
      flex-direction: row;
      align-items: flex-start;
      text-align: left;
      position: relative;
    `});var _D;!function(e){e.onBlur="onBlur",e.onFocus="onFocus",e.onChange="onChange"}(_D||(_D={}));const ED=(e,t)=>t&&t[e];function SD(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function kD(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PD(){return PD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PD.apply(this,arguments)}function CD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){kD(e,t,r[t])}))}return e}var TD;!function(e){e.Invalid="invalid",e.Valid="valid"}(TD||(TD={}));class DD extends r.PureComponent{get status(){return this.state.error?TD.Invalid:TD.Valid}get isInvalid(){return this.status===TD.Invalid}render(){const e=this.props,{validationEvents:t,className:r,hideErrorMessage:o,inputRef:i}=e,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["validationEvents","className","hideErrorMessage","inputRef"]),{error:s}=this.state,l=Fl()("gf-form-input",{invalid:this.isInvalid},r),c=this.populateEventPropsWithStatus(a,t);return n().createElement("div",{style:{flexGrow:1}},n().createElement("input",PD({},c,{ref:i,className:l})),s&&!o&&n().createElement("span",null,s))}constructor(...e){super(...e),this.state={error:null},this.validatorAsync=e=>t=>{const r=((e,t)=>{const r=t.reduce(((t,r)=>r.rule(e)?t:t.concat(r.errorMessage)),[]);return r.length>0?r:null})(t.target.value,e);this.setState((e=>{return t=CD({},e),n=null!=(n={error:r?r[0]:null})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})),t;var t,n}))},this.populateEventPropsWithStatus=(e,t)=>{const r=CD({},e);return t?(Object.keys(_D).forEach((n=>{if(ED(n,t)||e[n]){var o=this;r[n]=function(){var r=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){SD(i,n,o,a,s,"next",e)}function s(e){SD(i,n,o,a,s,"throw",e)}a(void 0)}))}}((function*(r){r.persist(),ED(n,t)&&(yield o.validatorAsync(t[n]).apply(o,[r])),e[n]&&e[n].apply(null,[r,o.status])}));return function(e){return r.apply(this,arguments)}}()}})),r):r}}}function ID(){return ID=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ID.apply(this,arguments)}DD.defaultProps={className:""};const AD=e=>{const t=e.selectProps.menuIsOpen;return n().createElement(gs.IndicatorsContainer,ID({},e),n().createElement(ce,{name:t?"angle-up":"angle-down",style:{marginTop:"7px"}}))},jD=AD;function MD(){return MD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MD.apply(this,arguments)}const ND=e=>{const{children:t}=e;return n().createElement(gs.NoOptionsMessage,MD({},e),n().createElement("div",{className:"gf-form-select-box__desc-option"},n().createElement("div",{className:"gf-form-select-box__desc-option__body"},t)))},RD=ND;function LD(){return LD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LD.apply(this,arguments)}const $D=e=>{const{children:t,isSelected:r,data:o}=e;return n().createElement(gs.Option,LD({},e),n().createElement("div",{className:"gf-form-select-box__desc-option"},o.imgUrl&&n().createElement("img",{className:"gf-form-select-box__desc-option__img",src:o.imgUrl}),n().createElement("div",{className:"gf-form-select-box__desc-option__body"},n().createElement("div",null,t),o.description&&n().createElement("div",{className:"gf-form-select-box__desc-option__desc"},o.description)),r&&n().createElement(ce,{name:"check","aria-hidden":"true"})))};function VD(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zD(){return zD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zD.apply(this,arguments)}class FD extends r.PureComponent{render(){const{defaultValue:e,getOptionLabel:t,getOptionValue:r,onChange:o,options:i,placeholder:a,width:s,value:l,className:c,isDisabled:u,isLoading:d,isSearchable:p,isClearable:f,backspaceRemovesValue:h,isMulti:m,autoFocus:g,openMenuOnFocus:v,onBlur:b,maxMenuHeight:y,noOptionsMessage:w,isOpen:O,components:x,tooltipContent:_,tabSelectsValue:E,onCloseMenu:S,onOpenMenu:k,allowCustomValue:P,formatCreateLabel:C,"aria-label":T}=this.props;let D="";s&&(D="width-"+s);let I=hl;const A={};P&&(I=kl,A.formatCreateLabel=null!=C?C:e=>e);const j=Fl()("gf-form-input","gf-form-input--form-dropdown",D,c),M=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){VD(e,t,r[t])}))}return e}({},FD.defaultProps.components,x);return n().createElement(BD,{onCloseMenu:S,onOpenMenu:k,tooltipContent:_,isOpen:O},((s,c)=>n().createElement(I,zD({captureMenuScroll:!1,classNamePrefix:"gf-form-select-box",className:j,components:M,defaultValue:e,value:l,getOptionLabel:t,getOptionValue:r,menuShouldScrollIntoView:!1,isSearchable:p,onChange:o,options:i,placeholder:a||"Choose",styles:Tc(this.context),isDisabled:u,isLoading:d,isClearable:f,autoFocus:g,onBlur:b,openMenuOnFocus:v,maxMenuHeight:y,noOptionsMessage:w,isMulti:m,backspaceRemovesValue:h,menuIsOpen:O,onMenuOpen:s,onMenuClose:c,tabSelectsValue:E,"aria-label":T},A))))}}FD.contextType=g,FD.defaultProps={className:"",isDisabled:!1,isSearchable:!0,isClearable:!1,isMulti:!1,openMenuOnFocus:!1,autoFocus:!1,isLoading:!1,backspaceRemovesValue:!0,maxMenuHeight:300,tabSelectsValue:!0,allowCustomValue:!1,components:{Option:$D,SingleValue:xc,IndicatorsContainer:jD,MenuList:e=>n().createElement(gs.MenuList,zD({},e),n().createElement(Wl,{autoHide:!1,autoHeightMax:"inherit"},e.children)),Group:Jl}};class qD extends r.PureComponent{render(){const{defaultValue:e,getOptionLabel:t,getOptionValue:r,onChange:o,placeholder:i,width:a,value:s,className:l,loadOptions:c,defaultOptions:u,isLoading:d,loadingMessage:p,noOptionsMessage:f,isDisabled:h,isSearchable:m,isClearable:g,backspaceRemovesValue:v,autoFocus:b,onBlur:y,openMenuOnFocus:w,maxMenuHeight:O,isMulti:x,tooltipContent:_,onCloseMenu:E,onOpenMenu:S,isOpen:k}=this.props;let P="";a&&(P="width-"+a);const C=Fl()("gf-form-input","gf-form-input--form-dropdown",P,l);return n().createElement(BD,{onCloseMenu:E,onOpenMenu:S,tooltipContent:_,isOpen:k},((a,l)=>n().createElement(bl,{captureMenuScroll:!1,classNamePrefix:"gf-form-select-box",className:C,components:{Option:$D,SingleValue:xc,IndicatorsContainer:jD,NoOptionsMessage:RD},defaultValue:e,value:s,getOptionLabel:t,getOptionValue:r,menuShouldScrollIntoView:!1,onChange:o,loadOptions:c,isLoading:d,defaultOptions:u,placeholder:i||"Choose",styles:Tc(this.context),loadingMessage:()=>p,noOptionsMessage:f,isDisabled:h,isSearchable:m,isClearable:g,autoFocus:b,onBlur:y,openMenuOnFocus:w,maxMenuHeight:O,isMulti:x,backspaceRemovesValue:v})))}}qD.contextType=g,qD.defaultProps={className:"",components:{},loadingMessage:()=>"Loading...",isDisabled:!1,isClearable:!1,isMulti:!1,isSearchable:!0,backspaceRemovesValue:!0,autoFocus:!1,openMenuOnFocus:!1,maxMenuHeight:300};class BD extends r.PureComponent{render(){const{children:e,isOpen:t,tooltipContent:r}=this.props,{isOpenInternal:o}=this.state;let i;return(o||t)&&(i=!1),r?n().createElement(Yt,{show:i,content:r,placement:"bottom"},n().createElement("div",null,e(this.onOpenMenu,this.onCloseMenu))):n().createElement("div",null,e(this.onOpenMenu,this.onCloseMenu))}constructor(...e){super(...e),this.state={isOpenInternal:!1},this.onOpenMenu=()=>{const{onOpenMenu:e}=this.props;e&&e(),this.setState({isOpenInternal:!0})},this.onCloseMenu=()=>{const{onCloseMenu:e}=this.props;e&&e(),this.setState({isOpenInternal:!1})}}}class HD extends r.PureComponent{render(){const{labelClass:e="",switchClass:t="",label:r,checked:o,transparent:i,className:a,tooltip:s,tooltipPlacement:l}=this.props,c=this.state.id,u=`gf-form-label ${e} ${i?"gf-form-label--transparent":""} pointer`,d=`gf-form-switch ${t} ${i?"gf-form-switch--transparent":""}`;return n().createElement("div",{className:"gf-form-switch-container-react"},n().createElement("label",{htmlFor:c,className:`gf-form gf-form-switch-container ${a||""}`},r&&n().createElement("div",{className:u},r,s&&n().createElement(Yt,{placement:l||"auto",content:s,theme:"info"},n().createElement("div",{className:"gf-form-help-icon gf-form-help-icon--right-normal"},n().createElement(ce,{name:"info-circle",size:"sm",style:{marginLeft:"10px"}})))),n().createElement("div",{className:d},n().createElement("input",{id:c,type:"checkbox",checked:o,onChange:this.internalOnChange}),n().createElement("span",{className:"gf-form-switch__slider"}))))}constructor(...e){super(...e),this.state={id:(0,su.uniqueId)()},this.internalOnChange=e=>{e.stopPropagation(),this.props.onChange(e)}}}function WD(){return WD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WD.apply(this,arguments)}const UD=e=>{var{label:t="Password",labelWidth:r,inputWidth:o=12,onReset:i,isConfigured:s,tooltip:l,placeholder:c="Password"}=e,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["label","labelWidth","inputWidth","onReset","isConfigured","tooltip","placeholder"]);const d={noRadiusInput:a.css`
      border-bottom-right-radius: 0 !important;
      border-top-right-radius: 0 !important;
    `,noRadiusButton:a.css`
      border-bottom-left-radius: 0 !important;
      border-top-left-radius: 0 !important;
    `};return n().createElement(OD,{label:t,tooltip:l,labelWidth:r,inputEl:s?n().createElement(n().Fragment,null,n().createElement("input",WD({type:"text",className:(0,a.cx)(`gf-form-input width-${o}`,d.noRadiusInput),disabled:!0,value:"configured"},(0,su.omit)(u,"value"))),n().createElement(or,{onClick:i,variant:"secondary",type:"button"},"Reset")):n().createElement("input",WD({type:"password",className:`gf-form-input width-${o}`,placeholder:c},u))})};UD.displayName="SecretFormField",v(5576);const QD={SecretFormField:UD,FormField:OD,Select:FD,AsyncSelect:qD,IndicatorsContainer:AD,NoOptionsMessage:ND,Input:DD,Switch:HD};function GD(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){GD(e,t,r[t])}))}return e}const KD=({panelData:e,query:o,datasource:i})=>{const[a,s]=(0,r.useState)("");return(0,r.useEffect)((()=>{if(e){const r=()=>{if(!e.request)return"";const{request:{range:r,interval:n,scopedVars:a}}=e,s=i.getPrometheusTime(r.from,!1),l=i.getPrometheusTime(r.to,!0),c=Math.ceil(l-s),u=r.to.utc().format("YYYY-MM-DD HH:mm"),d={interval:n,scopedVars:XD({},a,i.getRateIntervalScopedVariable(t.rangeUtil.intervalToSeconds(n),t.rangeUtil.intervalToSeconds(i.interval)))},p={};if(i.customQueryParameters)for(const[e,t]of i.customQueryParameters)p[e]=t;const f=i.createQuery(o,d,s,l),h=(g=XD({},p),v=null!=(v={"g0.expr":f.expr,"g0.range_input":c+"s","g0.end_input":u,"g0.step_input":f.step,"g0.tab":0})?v:{},Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(v)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(v)).forEach((function(e){Object.defineProperty(g,e,Object.getOwnPropertyDescriptor(v,e))})),g),m=(0,su.map)(h,((e,t)=>t+"="+encodeURIComponent(e))).join("&");var g,v;return`${i.directUrl}/graph?${m}`};s(r())}}),[i,e,o]),n().createElement("a",{href:t.textUtil.sanitizeUrl(a),target:"_blank",rel:"noopener noreferrer"},"Prometheus")},YD=(0,r.memo)(KD);class JD extends r.PureComponent{render(){const{children:e}=this.props,{value:t}=this.state;return n().createElement(n().Fragment,null,e(t,this.onSaveToStore,this.onDeleteFromStore))}constructor(e){super(e),this.onSaveToStore=e=>{const{storageKey:t}=this.props;try{jf.setObject(t,e)}catch(e){console.error(e)}this.setState({value:e})},this.onDeleteFromStore=()=>{const{storageKey:e,defaultValue:t}=this.props;try{jf.delete(e)}catch(e){console.log(e)}this.setState({value:t})};const{storageKey:t,defaultValue:r}=e;this.state={value:jf.getObject(t,r)}}}var ZD,eI=new Uint8Array(16);function tI(){if(!ZD&&!(ZD="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ZD(eI)}const rI=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,nI=function(e){return"string"==typeof e&&rI.test(e)};for(var oI=[],iI=0;iI<256;++iI)oI.push((iI+256).toString(16).substr(1));const aI=function(e,t,r){var n=(e=e||{}).random||(e.rng||tI)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(oI[e[t+0]]+oI[e[t+1]]+oI[e[t+2]]+oI[e[t+3]]+"-"+oI[e[t+4]]+oI[e[t+5]]+"-"+oI[e[t+6]]+oI[e[t+7]]+"-"+oI[e[t+8]]+oI[e[t+9]]+"-"+oI[e[t+10]]+oI[e[t+11]]+oI[e[t+12]]+oI[e[t+13]]+oI[e[t+14]]+oI[e[t+15]]).toLowerCase();if(!nI(r))throw TypeError("Stringified UUID is invalid");return r}(n)},sI={"[":"]","{":"}","(":")"};var lI=v(20604);const cI="prism-token";var uI=32,dI=31,pI={};function fI(e){e&&(e.value=!0)}function hI(){}function mI(e){return void 0===e.size&&(e.size=e.__iterate(vI)),e.size}function gI(e,t){if("number"!=typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?mI(e)+t:t}function vI(){return!0}function bI(e,t,r){return(0===e&&!xI(e)||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function yI(e,t){return OI(e,t,0)}function wI(e,t){return OI(e,t,t)}function OI(e,t,r){return void 0===e?r:xI(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function xI(e){return e<0||0===e&&1/e==-1/0}var _I="@@__IMMUTABLE_ITERABLE__@@";function EI(e){return Boolean(e&&e[_I])}var SI="@@__IMMUTABLE_KEYED__@@";function kI(e){return Boolean(e&&e[SI])}var PI="@@__IMMUTABLE_INDEXED__@@";function CI(e){return Boolean(e&&e[PI])}function TI(e){return kI(e)||CI(e)}var DI=function(e){return EI(e)?e:JI(e)},II=function(e){function t(e){return kI(e)?e:ZI(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(DI),AI=function(e){function t(e){return CI(e)?e:eA(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(DI),jI=function(e){function t(e){return EI(e)&&!TI(e)?e:tA(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(DI);DI.Keyed=II,DI.Indexed=AI,DI.Set=jI;var MI="@@__IMMUTABLE_SEQ__@@";function NI(e){return Boolean(e&&e[MI])}var RI="@@__IMMUTABLE_RECORD__@@";function LI(e){return Boolean(e&&e[RI])}function $I(e){return EI(e)||LI(e)}var VI="@@__IMMUTABLE_ORDERED__@@";function zI(e){return Boolean(e&&e[VI])}var FI="function"==typeof Symbol&&Symbol.iterator,qI=FI||"@@iterator",BI=function(e){this.next=e};function HI(e,t,r,n){var o=0===e?t:1===e?r:[t,r];return n?n.value=o:n={value:o,done:!1},n}function WI(){return{value:void 0,done:!0}}function UI(e){return!!Array.isArray(e)||!!XI(e)}function QI(e){return e&&"function"==typeof e.next}function GI(e){var t=XI(e);return t&&t.call(e)}function XI(e){var t=e&&(FI&&e[FI]||e["@@iterator"]);if("function"==typeof t)return t}BI.prototype.toString=function(){return"[Iterator]"},BI.KEYS=0,BI.VALUES=1,BI.ENTRIES=2,BI.prototype.inspect=BI.prototype.toSource=function(){return this.toString()},BI.prototype[qI]=function(){return this};var KI=Object.prototype.hasOwnProperty;function YI(e){return!(!Array.isArray(e)&&"string"!=typeof e)||e&&"object"==typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var JI=function(e){function t(e){return null==e?aA():$I(e)?e.toSeq():function(e){var t,r,n=cA(e);if(n)return(r=XI(t=e))&&r===t.entries?n.fromEntrySeq():function(e){var t=XI(e);return t&&t===e.keys}(e)?n.toSetSeq():n;if("object"==typeof e)return new nA(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var r=this._cache;if(r){for(var n=r.length,o=0;o!==n;){var i=r[t?n-++o:o++];if(!1===e(i[1],i[0],this))break}return o}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var r=this._cache;if(r){var n=r.length,o=0;return new BI((function(){if(o===n)return{value:void 0,done:!0};var i=r[t?n-++o:o++];return HI(e,i[0],i[1])}))}return this.__iteratorUncached(e,t)},t}(DI),ZI=function(e){function t(e){return null==e?aA().toKeyedSeq():EI(e)?kI(e)?e.toSeq():e.fromEntrySeq():LI(e)?e.toSeq():sA(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(JI),eA=function(e){function t(e){return null==e?aA():EI(e)?kI(e)?e.entrySeq():e.toIndexedSeq():LI(e)?e.toSeq().entrySeq():lA(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(JI),tA=function(e){function t(e){return(EI(e)&&!TI(e)?e:eA(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(JI);JI.isSeq=NI,JI.Keyed=ZI,JI.Set=tA,JI.Indexed=eA,JI.prototype[MI]=!0;var rA=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[gI(this,e)]:t},t.prototype.__iterate=function(e,t){for(var r=this._array,n=r.length,o=0;o!==n;){var i=t?n-++o:o++;if(!1===e(r[i],i,this))break}return o},t.prototype.__iterator=function(e,t){var r=this._array,n=r.length,o=0;return new BI((function(){if(o===n)return{value:void 0,done:!0};var i=t?n-++o:o++;return HI(e,i,r[i])}))},t}(eA),nA=function(e){function t(e){var t=Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return KI.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var r=this._object,n=this._keys,o=n.length,i=0;i!==o;){var a=n[t?o-++i:i++];if(!1===e(r[a],a,this))break}return i},t.prototype.__iterator=function(e,t){var r=this._object,n=this._keys,o=n.length,i=0;return new BI((function(){if(i===o)return{value:void 0,done:!0};var a=n[t?o-++i:i++];return HI(e,a,r[a])}))},t}(ZI);nA.prototype[VI]=!0;var oA,iA=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=GI(this._collection),n=0;if(QI(r))for(var o;!(o=r.next()).done&&!1!==e(o.value,n++,this););return n},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=GI(this._collection);if(!QI(r))return new BI(WI);var n=0;return new BI((function(){var t=r.next();return t.done?t:HI(e,n++,t.value)}))},t}(eA);function aA(){return oA||(oA=new rA([]))}function sA(e){var t=cA(e);if(t)return t.fromEntrySeq();if("object"==typeof e)return new nA(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function lA(e){var t=cA(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function cA(e){return YI(e)?new rA(e):UI(e)?new iA(e):void 0}var uA="@@__IMMUTABLE_MAP__@@";function dA(e){return Boolean(e&&e[uA])}function pA(e){return dA(e)&&zI(e)}function fA(e){return Boolean(e&&"function"==typeof e.equals&&"function"==typeof e.hashCode)}function hA(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!!(fA(e)&&fA(t)&&e.equals(t))}var mA="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var r=65535&(e|=0),n=65535&(t|=0);return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0};function gA(e){return e>>>1&1073741824|3221225471&e}var vA=Object.prototype.valueOf;function bA(e){if(null==e)return yA(e);if("function"==typeof e.hashCode)return gA(e.hashCode(e));var t,r,n,o=(t=e).valueOf!==vA&&"function"==typeof t.valueOf?t.valueOf(t):t;if(null==o)return yA(o);switch(typeof o){case"boolean":return o?1108378657:1108378656;case"number":return function(e){if(e!=e||e===1/0)return 0;var t=0|e;for(t!==e&&(t^=4294967295*e);e>4294967295;)t^=e/=4294967295;return gA(t)}(o);case"string":return o.length>TA?function(e){var t=AA[e];return void 0===t&&(t=wA(e),IA===DA&&(IA=0,AA={}),IA++,AA[e]=t),t}(o):wA(o);case"object":case"function":return function(e){var t;if(SA&&void 0!==(t=EA.get(e)))return t;if(void 0!==(t=e[CA]))return t;if(!xA){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[CA]))return t;if(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e),void 0!==t)return t}if(t=_A(),SA)EA.set(e,t);else{if(void 0!==OA&&!1===OA(e))throw new Error("Non-extensible objects are not allowed as keys.");if(xA)Object.defineProperty(e,CA,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[CA]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[CA]=t}}return t}(o);case"symbol":return void 0!==(n=kA[r=o])||(n=_A(),kA[r]=n),n;default:if("function"==typeof o.toString)return wA(o.toString());throw new Error("Value type "+typeof o+" cannot be hashed.")}}function yA(e){return null===e?1108378658:1108378659}function wA(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return gA(t)}var OA=Object.isExtensible,xA=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function _A(){var e=++PA;return 1073741824&PA&&(PA=0),e}var EA,SA="function"==typeof WeakMap;SA&&(EA=new WeakMap);var kA=Object.create(null),PA=0,CA="__immutablehash__";"function"==typeof Symbol&&(CA=Symbol(CA));var TA=16,DA=255,IA=0,AA={},jA=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=VA(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var r=this,n=$A(this,e,t);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)}),n},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t,n){return e(t,n,r)}),t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(ZI);jA.prototype[VI]=!0;var MA=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var r=this,n=0;return t&&mI(this),this._iter.__iterate((function(o){return e(o,t?r.size-++n:n++,r)}),t)},t.prototype.__iterator=function(e,t){var r=this,n=this._iter.__iterator(1,t),o=0;return t&&mI(this),new BI((function(){var i=n.next();return i.done?i:HI(e,t?r.size-++o:o++,i.value,i)}))},t}(eA),NA=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){return e(t,t,r)}),t)},t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(1,t);return new BI((function(){var t=r.next();return t.done?t:HI(e,t.value,t.value,t)}))},t}(tA),RA=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){if(t){KA(t);var n=EI(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}}),t)},t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(1,t);return new BI((function(){for(;;){var t=r.next();if(t.done)return t;var n=t.value;if(n){KA(n);var o=EI(n);return HI(e,o?n.get(0):n[0],o?n.get(1):n[1],t)}}}))},t}(ZI);function LA(e){var t=JA(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=ZA,t.__iterateUncached=function(t,r){var n=this;return e.__iterate((function(e,r){return!1!==t(r,e,n)}),r)},t.__iteratorUncached=function(t,r){if(2===t){var n=e.__iterator(t,r);return new BI((function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(1===t?0:1,r)},t}function $A(e,t,r){var n=JA(e);return n.size=e.size,n.has=function(t){return e.has(t)},n.get=function(n,o){var i=e.get(n,pI);return i===pI?o:t.call(r,i,n,e)},n.__iterateUncached=function(n,o){var i=this;return e.__iterate((function(e,o,a){return!1!==n(t.call(r,e,o,a),o,i)}),o)},n.__iteratorUncached=function(n,o){var i=e.__iterator(2,o);return new BI((function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return HI(n,s,t.call(r,a[1],s,e),o)}))},n}function VA(e,t){var r=this,n=JA(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=LA(e);return t.reverse=function(){return e.flip()},t}),n.get=function(r,n){return e.get(t?r:-1-r,n)},n.has=function(r){return e.has(t?r:-1-r)},n.includes=function(t){return e.includes(t)},n.cacheResult=ZA,n.__iterate=function(r,n){var o=this,i=0;return n&&mI(e),e.__iterate((function(e,a){return r(e,t?a:n?o.size-++i:i++,o)}),!n)},n.__iterator=function(n,o){var i=0;o&&mI(e);var a=e.__iterator(2,!o);return new BI((function(){var e=a.next();if(e.done)return e;var s=e.value;return HI(n,t?s[0]:o?r.size-++i:i++,s[1],e)}))},n}function zA(e,t,r,n){var o=JA(e);return n&&(o.has=function(n){var o=e.get(n,pI);return o!==pI&&!!t.call(r,o,n,e)},o.get=function(n,o){var i=e.get(n,pI);return i!==pI&&t.call(r,i,n,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate((function(e,i,l){if(t.call(r,e,i,l))return s++,o(e,n?i:s-1,a)}),i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(2,i),s=0;return new BI((function(){for(;;){var i=a.next();if(i.done)return i;var l=i.value,c=l[0],u=l[1];if(t.call(r,u,c,e))return HI(o,n?c:s++,u,i)}}))},o}function FA(e,t,r,n){var o=e.size;if(bI(t,r,o))return e;var i=yI(t,o),a=wI(r,o);if(i!=i||a!=a)return FA(e.toSeq().cacheResult(),t,r,n);var s,l=a-i;l==l&&(s=l<0?0:l);var c=JA(e);return c.size=0===s?s:e.size&&s||void 0,!n&&NI(e)&&s>=0&&(c.get=function(t,r){return(t=gI(this,t))>=0&&t<s?e.get(t+i,r):r}),c.__iterateUncached=function(t,r){var o=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(t,r);var a=0,l=!0,c=0;return e.__iterate((function(e,r){if(!l||!(l=a++<i))return c++,!1!==t(e,n?r:c-1,o)&&c!==s})),c},c.__iteratorUncached=function(t,r){if(0!==s&&r)return this.cacheResult().__iterator(t,r);if(0===s)return new BI(WI);var o=e.__iterator(t,r),a=0,l=0;return new BI((function(){for(;a++<i;)o.next();if(++l>s)return{value:void 0,done:!0};var e=o.next();return n||1===t||e.done?e:HI(t,l-1,0===t?void 0:e.value[1],e)}))},c}function qA(e,t,r,n){var o=JA(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,l=0;return e.__iterate((function(e,i,c){if(!s||!(s=t.call(r,e,i,c)))return l++,o(e,n?i:l-1,a)})),l},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(2,i),l=!0,c=0;return new BI((function(){var e,i,u;do{if((e=s.next()).done)return n||1===o?e:HI(o,c++,0===o?void 0:e.value[1],e);var d=e.value;i=d[0],u=d[1],l&&(l=t.call(r,u,i,a))}while(l);return 2===o?e:HI(o,i,u,e)}))},o}function BA(e,t){var r=kI(e),n=[e].concat(t).map((function(e){return EI(e)?r&&(e=II(e)):e=r?sA(e):lA(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===n.length)return e;if(1===n.length){var o=n[0];if(o===e||r&&kI(o)||CI(e)&&CI(o))return o}var i=new rA(n);return r?i=i.toKeyedSeq():CI(e)||(i=i.toSetSeq()),(i=i.flatten(!0)).size=n.reduce((function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}}),0),i}function HA(e,t,r){var n=JA(e);return n.__iterateUncached=function(o,i){if(i)return this.cacheResult().__iterate(o,i);var a=0,s=!1;return function e(l,c){l.__iterate((function(i,l){return(!t||c<t)&&EI(i)?e(i,c+1):(a++,!1===o(i,r?l:a-1,n)&&(s=!0)),!s}),i)}(e,0),a},n.__iteratorUncached=function(n,o){if(o)return this.cacheResult().__iterator(n,o);var i=e.__iterator(n,o),a=[],s=0;return new BI((function(){for(;i;){var e=i.next();if(!1===e.done){var l=e.value;if(2===n&&(l=l[1]),t&&!(a.length<t)||!EI(l))return r?e:HI(n,s++,l,e);a.push(i),i=l.__iterator(n,o)}else i=a.pop()}return{value:void 0,done:!0}}))},n}function WA(e,t,r){t||(t=ej);var n=kI(e),o=0,i=e.toSeq().map((function(t,n){return[n,t,o++,r?r(t,n,e):t]})).valueSeq().toArray();return i.sort((function(e,r){return t(e[3],r[3])||e[2]-r[2]})).forEach(n?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),n?ZI(i):CI(e)?eA(i):tA(i)}function UA(e,t,r){if(t||(t=ej),r){var n=e.toSeq().map((function(t,n){return[t,r(t,n,e)]})).reduce((function(e,r){return QA(t,e[1],r[1])?r:e}));return n&&n[0]}return e.reduce((function(e,r){return QA(t,e,r)?r:e}))}function QA(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(null==r||r!=r)||n>0}function GA(e,t,r,n){var o=JA(e),i=new rA(r).map((function(e){return e.size}));return o.size=n?i.max():i.min(),o.__iterate=function(e,t){for(var r,n=this.__iterator(1,t),o=0;!(r=n.next()).done&&!1!==e(r.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=r.map((function(e){return e=DI(e),GI(o?e.reverse():e)})),a=0,s=!1;return new BI((function(){var r;return s||(r=i.map((function(e){return e.next()})),s=n?r.every((function(e){return e.done})):r.some((function(e){return e.done}))),s?{value:void 0,done:!0}:HI(e,a++,t.apply(null,r.map((function(e){return e.value}))))}))},o}function XA(e,t){return e===t?e:NI(e)?t:e.constructor(t)}function KA(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function YA(e){return kI(e)?II:CI(e)?AI:jI}function JA(e){return Object.create((kI(e)?ZI:CI(e)?eA:tA).prototype)}function ZA(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):JI.prototype.cacheResult.call(this)}function ej(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function tj(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),o=0;o<r;o++)n[o]=e[o+t];return n}function rj(e,t){if(!e)throw new Error(t)}function nj(e){rj(e!==1/0,"Cannot perform this action with an infinite size.")}function oj(e){if(YI(e)&&"string"!=typeof e)return e;if(zI(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}MA.prototype.cacheResult=jA.prototype.cacheResult=NA.prototype.cacheResult=RA.prototype.cacheResult=ZA;var ij=Object.prototype.toString;function aj(e){return"object"==typeof e&&($I(e)||Array.isArray(e)||function(e){if(!e||"object"!=typeof e||"[object Object]"!==ij.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var r=t,n=Object.getPrototypeOf(t);null!==n;)r=n,n=Object.getPrototypeOf(r);return r===t}(e))}function sj(e){try{return"string"==typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function lj(e,t,r){return $I(e)?e.get(t,r):function(e,t){return $I(e)?e.has(t):aj(e)&&KI.call(e,t)}(e,t)?"function"==typeof e.get?e.get(t):e[t]:r}function cj(e){if(Array.isArray(e))return tj(e);var t={};for(var r in e)KI.call(e,r)&&(t[r]=e[r]);return t}function uj(e,t,r,n){n||(n=r,r=void 0);var o=dj($I(e),e,oj(t),0,r,n);return o===pI?r:o}function dj(e,t,r,n,o,i){var a=t===pI;if(n===r.length){var s=a?o:t,l=i(s);return l===s?t:l}if(!a&&!aj(t))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(sj)+"]: "+t);var c=r[n],u=a?pI:lj(t,c,pI),d=dj(u===pI?e:$I(u),u,r,n+1,o,i);return d===u?t:d===pI?function(e,t){if(!aj(e))throw new TypeError("Cannot update non-data-structure value: "+e);if($I(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!KI.call(e,t))return e;var r=cj(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}(t,c):function(e,t,r){if(!aj(e))throw new TypeError("Cannot update non-data-structure value: "+e);if($I(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(KI.call(e,t)&&r===e[t])return e;var n=cj(e);return n[t]=r,n}(a?e?qj():{}:t,c,d)}function pj(e,t){return function(e,t,r){return uj(e,t,pI,(function(){return r}))}(this,e,t)}function fj(e){return function(e,t){return uj(e,t,(function(){return pI}))}(this,e)}function hj(e,t,r,n){return uj(e,[t],r,n)}function mj(e,t,r){return 1===arguments.length?e(this):hj(this,e,t,r)}function gj(e,t,r){return uj(this,e,t,r)}function vj(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return yj(this,e)}function bj(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if("function"!=typeof e)throw new TypeError("Invalid merger function: "+e);return yj(this,t,e)}function yj(e,t,r){for(var n=[],o=0;o<t.length;o++){var i=II(t[o]);0!==i.size&&n.push(i)}return 0===n.length?e:0!==e.toSeq().size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var t=r?function(t,n){hj(e,n,pI,(function(e){return e===pI?t:r(e,t,n)}))}:function(t,r){e.set(r,t)},o=0;o<n.length;o++)n[o].forEach(t)})):e.constructor(n[0])}function wj(e,t,r){return Oj(e,t,function(e){return function t(r,n,o){return aj(r)&&aj(n)&&(i=n,a=JI(r),s=JI(i),CI(a)===CI(s)&&kI(a)===kI(s))?Oj(r,[n],t):e?e(r,n,o):n;var i,a,s}}(r))}function Oj(e,t,r){if(!aj(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if($I(e))return"function"==typeof r&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),o=e,i=n?AI:II,a=n?function(t){o===e&&(o=cj(o)),o.push(t)}:function(t,n){var i=KI.call(o,n),a=i&&r?r(o[n],t,n):t;i&&a===o[n]||(o===e&&(o=cj(o)),o[n]=a)},s=0;s<t.length;s++)i(t[s]).forEach(a);return o}function xj(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return wj(this,e)}function _j(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return wj(this,t,e)}function Ej(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return uj(this,e,qj(),(function(e){return Oj(e,t)}))}function Sj(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return uj(this,e,qj(),(function(e){return wj(e,t)}))}function kj(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Pj(){return this.__ownerID?this:this.__ensureOwner(new hI)}function Cj(){return this.__ensureOwner()}function Tj(){return this.__altered}var Dj=function(e){function t(t){return null==t?qj():dA(t)&&!zI(t)?t:qj().withMutations((function(r){var n=e(t);nj(n.size),n.forEach((function(e,t){return r.set(t,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return qj().withMutations((function(t){for(var r=0;r<e.length;r+=2){if(r+1>=e.length)throw new Error("Missing value for key: "+e[r]);t.set(e[r],e[r+1])}}))},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return Bj(this,e,t)},t.prototype.remove=function(e){return Bj(this,e,pI)},t.prototype.deleteAll=function(e){var t=DI(e);return 0===t.size?this:this.withMutations((function(e){t.forEach((function(t){return e.remove(t)}))}))},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):qj()},t.prototype.sort=function(e){return hM(WA(this,e))},t.prototype.sortBy=function(e,t){return hM(WA(this,t,e))},t.prototype.map=function(e,t){var r=this;return this.withMutations((function(n){n.forEach((function(o,i){n.set(i,e.call(t,o,i,r))}))}))},t.prototype.__iterator=function(e,t){return new $j(this,e,t)},t.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate((function(t){return n++,e(t[1],t[0],r)}),t),n},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Fj(this.size,this._root,e,this.__hash):0===this.size?qj():(this.__ownerID=e,this.__altered=!1,this)},t}(II);Dj.isMap=dA;var Ij=Dj.prototype;Ij[uA]=!0,Ij.delete=Ij.remove,Ij.removeAll=Ij.deleteAll,Ij.setIn=pj,Ij.removeIn=Ij.deleteIn=fj,Ij.update=mj,Ij.updateIn=gj,Ij.merge=Ij.concat=vj,Ij.mergeWith=bj,Ij.mergeDeep=xj,Ij.mergeDeepWith=_j,Ij.mergeIn=Ej,Ij.mergeDeepIn=Sj,Ij.withMutations=kj,Ij.wasAltered=Tj,Ij.asImmutable=Cj,Ij["@@transducer/init"]=Ij.asMutable=Pj,Ij["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},Ij["@@transducer/result"]=function(e){return e.asImmutable()};var Aj=function(e,t){this.ownerID=e,this.entries=t};Aj.prototype.get=function(e,t,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(hA(r,o[i][0]))return o[i][1];return n},Aj.prototype.update=function(e,t,r,n,o,i,a){for(var s=o===pI,l=this.entries,c=0,u=l.length;c<u&&!hA(n,l[c][0]);c++);var d=c<u;if(d?l[c][1]===o:s)return this;if(fI(a),(s||!d)&&fI(i),!s||1!==l.length){if(!d&&!s&&l.length>=Xj)return function(e,t,r,n){e||(e=new hI);for(var o=new Rj(e,bA(r),[r,n]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}(e,l,n,o);var p=e&&e===this.ownerID,f=p?l:tj(l);return d?s?c===u-1?f.pop():f[c]=f.pop():f[c]=[n,o]:f.push([n,o]),p?(this.entries=f,this):new Aj(e,f)}};var jj=function(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r};jj.prototype.get=function(e,t,r,n){void 0===t&&(t=bA(r));var o=1<<((0===e?t:t>>>e)&dI),i=this.bitmap;return 0==(i&o)?n:this.nodes[Qj(i&o-1)].get(e+5,t,r,n)},jj.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=bA(n));var s=(0===t?r:r>>>t)&dI,l=1<<s,c=this.bitmap,u=0!=(c&l);if(!u&&o===pI)return this;var d=Qj(c&l-1),p=this.nodes,f=u?p[d]:void 0,h=Hj(f,e,t+5,r,n,o,i,a);if(h===f)return this;if(!u&&h&&p.length>=Kj)return function(e,t,r,n,o){for(var i=0,a=new Array(uI),s=0;0!==r;s++,r>>>=1)a[s]=1&r?t[i++]:void 0;return a[n]=o,new Mj(e,i+1,a)}(e,p,c,s,h);if(u&&!h&&2===p.length&&Wj(p[1^d]))return p[1^d];if(u&&h&&1===p.length&&Wj(h))return h;var m=e&&e===this.ownerID,g=u?h?c:c^l:c|l,v=u?h?Gj(p,d,h,m):function(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var o=new Array(n),i=0,a=0;a<n;a++)a===t&&(i=1),o[a]=e[a+i];return o}(p,d,m):function(e,t,r,n){var o=e.length+1;if(n&&t+1===o)return e[t]=r,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=r,a=-1):i[s]=e[s+a];return i}(p,d,h,m);return m?(this.bitmap=g,this.nodes=v,this):new jj(e,g,v)};var Mj=function(e,t,r){this.ownerID=e,this.count=t,this.nodes=r};Mj.prototype.get=function(e,t,r,n){void 0===t&&(t=bA(r));var o=(0===e?t:t>>>e)&dI,i=this.nodes[o];return i?i.get(e+5,t,r,n):n},Mj.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=bA(n));var s=(0===t?r:r>>>t)&dI,l=o===pI,c=this.nodes,u=c[s];if(l&&!u)return this;var d=Hj(u,e,t+5,r,n,o,i,a);if(d===u)return this;var p=this.count;if(u){if(!d&&--p<Yj)return function(e,t,r,n){for(var o=0,i=0,a=new Array(r),s=0,l=1,c=t.length;s<c;s++,l<<=1){var u=t[s];void 0!==u&&s!==n&&(o|=l,a[i++]=u)}return new jj(e,o,a)}(e,c,p,s)}else p++;var f=e&&e===this.ownerID,h=Gj(c,s,d,f);return f?(this.count=p,this.nodes=h,this):new Mj(e,p,h)};var Nj=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r};Nj.prototype.get=function(e,t,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(hA(r,o[i][0]))return o[i][1];return n},Nj.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=bA(n));var s=o===pI;if(r!==this.keyHash)return s?this:(fI(a),fI(i),Uj(this,e,t,r,[n,o]));for(var l=this.entries,c=0,u=l.length;c<u&&!hA(n,l[c][0]);c++);var d=c<u;if(d?l[c][1]===o:s)return this;if(fI(a),(s||!d)&&fI(i),s&&2===u)return new Rj(e,this.keyHash,l[1^c]);var p=e&&e===this.ownerID,f=p?l:tj(l);return d?s?c===u-1?f.pop():f[c]=f.pop():f[c]=[n,o]:f.push([n,o]),p?(this.entries=f,this):new Nj(e,this.keyHash,f)};var Rj=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r};Rj.prototype.get=function(e,t,r,n){return hA(r,this.entry[0])?this.entry[1]:n},Rj.prototype.update=function(e,t,r,n,o,i,a){var s=o===pI,l=hA(n,this.entry[0]);return(l?o===this.entry[1]:s)?this:(fI(a),s?void fI(i):l?e&&e===this.ownerID?(this.entry[1]=o,this):new Rj(e,this.keyHash,[n,o]):(fI(i),Uj(this,e,t,bA(n),[n,o])))},Aj.prototype.iterate=Nj.prototype.iterate=function(e,t){for(var r=this.entries,n=0,o=r.length-1;n<=o;n++)if(!1===e(r[t?o-n:n]))return!1},jj.prototype.iterate=Mj.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,o=r.length-1;n<=o;n++){var i=r[t?o-n:n];if(i&&!1===i.iterate(e,t))return!1}},Rj.prototype.iterate=function(e,t){return e(this.entry)};var Lj,$j=function(e){function t(e,t,r){this._type=t,this._reverse=r,this._stack=e._root&&zj(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var r=t.node,n=t.index++,o=void 0;if(r.entry){if(0===n)return Vj(e,r.entry)}else if(r.entries){if(n<=(o=r.entries.length-1))return Vj(e,r.entries[this._reverse?o-n:n])}else if(n<=(o=r.nodes.length-1)){var i=r.nodes[this._reverse?o-n:n];if(i){if(i.entry)return Vj(e,i.entry);t=this._stack=zj(i,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(BI);function Vj(e,t){return HI(e,t[0],t[1])}function zj(e,t){return{node:e,index:0,__prev:t}}function Fj(e,t,r,n){var o=Object.create(Ij);return o.size=e,o._root=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function qj(){return Lj||(Lj=Fj(0))}function Bj(e,t,r){var n,o;if(e._root){var i={value:!1},a={value:!1};if(n=Hj(e._root,e.__ownerID,0,void 0,t,r,i,a),!a.value)return e;o=e.size+(i.value?r===pI?-1:1:0)}else{if(r===pI)return e;o=1,n=new Aj(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=o,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?Fj(o,n):qj()}function Hj(e,t,r,n,o,i,a,s){return e?e.update(t,r,n,o,i,a,s):i===pI?e:(fI(s),fI(a),new Rj(t,n,[o,i]))}function Wj(e){return e.constructor===Rj||e.constructor===Nj}function Uj(e,t,r,n,o){if(e.keyHash===n)return new Nj(t,n,[e.entry,o]);var i,a=(0===r?e.keyHash:e.keyHash>>>r)&dI,s=(0===r?n:n>>>r)&dI,l=a===s?[Uj(e,t,r+5,n,o)]:(i=new Rj(t,n,o),a<s?[e,i]:[i,e]);return new jj(t,1<<a|1<<s,l)}function Qj(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}function Gj(e,t,r,n){var o=n?e:tj(e);return o[t]=r,o}var Xj=8,Kj=16,Yj=8,Jj="@@__IMMUTABLE_LIST__@@";function Zj(e){return Boolean(e&&e[Jj])}var eM=function(e){function t(t){var r=sM();if(null==t)return r;if(Zj(t))return t;var n=e(t),o=n.size;return 0===o?r:(nj(o),o>0&&o<uI?aM(0,o,5,null,new rM(n.toArray())):r.withMutations((function(e){e.setSize(o),n.forEach((function(t,r){return e.set(r,t)}))})))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=gI(this,e))>=0&&e<this.size){var r=uM(this,e+=this._origin);return r&&r.array[e&dI]}return t},t.prototype.set=function(e,t){return function(e,t,r){if((t=gI(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?dM(e,t).set(0,r):dM(e,0,t+1).set(t,r)}));t+=e._origin;var n=e._tail,o=e._root,i={value:!1};return t>=pM(e._capacity)?n=lM(n,e.__ownerID,0,t,r,i):o=lM(o,e.__ownerID,e._level,t,r,i),i.value?e.__ownerID?(e._root=o,e._tail=n,e.__hash=void 0,e.__altered=!0,e):aM(e._origin,e._capacity,e._level,o,n):e}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):sM()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(r){dM(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])}))},t.prototype.pop=function(){return dM(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){dM(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])}))},t.prototype.shift=function(){return dM(this,1)},t.prototype.concat=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++){var o=t[n],i=e("string"!=typeof o&&UI(o)?o:[o]);0!==i.size&&r.push(i)}return 0===r.length?this:0!==this.size||this.__ownerID||1!==r.length?this.withMutations((function(e){r.forEach((function(t){return t.forEach((function(t){return e.push(t)}))}))})):this.constructor(r[0])},t.prototype.setSize=function(e){return dM(this,0,e)},t.prototype.map=function(e,t){var r=this;return this.withMutations((function(n){for(var o=0;o<r.size;o++)n.set(o,e.call(t,n.get(o),o,r))}))},t.prototype.slice=function(e,t){var r=this.size;return bI(e,t,r)?this:dM(this,yI(e,r),wI(t,r))},t.prototype.__iterator=function(e,t){var r=t?this.size:0,n=iM(this,t);return new BI((function(){var o=n();return o===oM?{value:void 0,done:!0}:HI(e,t?--r:r++,o)}))},t.prototype.__iterate=function(e,t){for(var r,n=t?this.size:0,o=iM(this,t);(r=o())!==oM&&!1!==e(r,t?--n:n++,this););return n},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?aM(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?sM():(this.__ownerID=e,this.__altered=!1,this)},t}(AI);eM.isList=Zj;var tM=eM.prototype;tM[Jj]=!0,tM.delete=tM.remove,tM.merge=tM.concat,tM.setIn=pj,tM.deleteIn=tM.removeIn=fj,tM.update=mj,tM.updateIn=gj,tM.mergeIn=Ej,tM.mergeDeepIn=Sj,tM.withMutations=kj,tM.wasAltered=Tj,tM.asImmutable=Cj,tM["@@transducer/init"]=tM.asMutable=Pj,tM["@@transducer/step"]=function(e,t){return e.push(t)},tM["@@transducer/result"]=function(e){return e.asImmutable()};var rM=function(e,t){this.array=e,this.ownerID=t};rM.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:0===this.array.length)return this;var n=r>>>t&dI;if(n>=this.array.length)return new rM([],e);var o,i=0===n;if(t>0){var a=this.array[n];if((o=a&&a.removeBefore(e,t-5,r))===a&&i)return this}if(i&&!o)return this;var s=cM(this,e);if(!i)for(var l=0;l<n;l++)s.array[l]=void 0;return o&&(s.array[n]=o),s},rM.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||0===this.array.length)return this;var n,o=r-1>>>t&dI;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((n=i&&i.removeAfter(e,t-5,r))===i&&o===this.array.length-1)return this}var a=cM(this,e);return a.array.splice(o+1),n&&(a.array[o]=n),a};var nM,oM={};function iM(e,t){var r=e._origin,n=e._capacity,o=pM(n),i=e._tail;return function e(a,s,l){return 0===s?function(e,a){var s=a===o?i&&i.array:e&&e.array,l=a>r?0:r-a,c=n-a;return c>uI&&(c=uI),function(){if(l===c)return oM;var e=t?--c:l++;return s&&s[e]}}(a,l):function(o,i,a){var s,l=o&&o.array,c=a>r?0:r-a>>i,u=1+(n-a>>i);return u>uI&&(u=uI),function(){for(;;){if(s){var r=s();if(r!==oM)return r;s=null}if(c===u)return oM;var n=t?--u:c++;s=e(l&&l[n],i-5,a+(n<<i))}}}(a,s,l)}(e._root,e._level,0)}function aM(e,t,r,n,o,i,a){var s=Object.create(tM);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function sM(){return nM||(nM=aM(0,0,5))}function lM(e,t,r,n,o,i){var a,s=n>>>r&dI,l=e&&s<e.array.length;if(!l&&void 0===o)return e;if(r>0){var c=e&&e.array[s],u=lM(c,t,r-5,n,o,i);return u===c?e:((a=cM(e,t)).array[s]=u,a)}return l&&e.array[s]===o?e:(i&&fI(i),a=cM(e,t),void 0===o&&s===a.array.length-1?a.array.pop():a.array[s]=o,a)}function cM(e,t){return t&&e&&t===e.ownerID?e:new rM(e?e.array.slice():[],t)}function uM(e,t){if(t>=pM(e._capacity))return e._tail;if(t<1<<e._level+5){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&dI],n-=5;return r}}function dM(e,t,r){void 0!==t&&(t|=0),void 0!==r&&(r|=0);var n=e.__ownerID||new hI,o=e._origin,i=e._capacity,a=o+t,s=void 0===r?i:r<0?i+r:o+r;if(a===o&&s===i)return e;if(a>=s)return e.clear();for(var l=e._level,c=e._root,u=0;a+u<0;)c=new rM(c&&c.array.length?[void 0,c]:[],n),u+=1<<(l+=5);u&&(a+=u,o+=u,s+=u,i+=u);for(var d=pM(i),p=pM(s);p>=1<<l+5;)c=new rM(c&&c.array.length?[c]:[],n),l+=5;var f=e._tail,h=p<d?uM(e,s-1):p>d?new rM([],n):f;if(f&&p>d&&a<i&&f.array.length){for(var m=c=cM(c,n),g=l;g>5;g-=5){var v=d>>>g&dI;m=m.array[v]=cM(m.array[v],n)}m.array[d>>>5&dI]=f}if(s<i&&(h=h&&h.removeAfter(n,0,s)),a>=p)a-=p,s-=p,l=5,c=null,h=h&&h.removeBefore(n,0,a);else if(a>o||p<d){for(u=0;c;){var b=a>>>l&dI;if(b!==p>>>l&dI)break;b&&(u+=(1<<l)*b),l-=5,c=c.array[b]}c&&a>o&&(c=c.removeBefore(n,l,a-u)),c&&p<d&&(c=c.removeAfter(n,l,p-u)),u&&(a-=u,s-=u)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=l,e._root=c,e._tail=h,e.__hash=void 0,e.__altered=!0,e):aM(a,s,l,c,h)}function pM(e){return e<uI?0:e-1>>>5<<5}var fM,hM=function(e){function t(e){return null==e?gM():pA(e)?e:gM().withMutations((function(t){var r=II(e);nj(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):gM()},t.prototype.set=function(e,t){return vM(this,e,t)},t.prototype.remove=function(e){return vM(this,e,pI)},t.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],r)}),t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),r=this._list.__ensureOwner(e);return e?mM(t,r,e,this.__hash):0===this.size?gM():(this.__ownerID=e,this.__altered=!1,this._map=t,this._list=r,this)},t}(Dj);function mM(e,t,r,n){var o=Object.create(hM.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function gM(){return fM||(fM=mM(qj(),sM()))}function vM(e,t,r){var n,o,i=e._map,a=e._list,s=i.get(t),l=void 0!==s;if(r===pI){if(!l)return e;a.size>=uI&&a.size>=2*i.size?(n=(o=a.filter((function(e,t){return void 0!==e&&s!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(n.__ownerID=o.__ownerID=e.__ownerID)):(n=i.remove(t),o=s===a.size-1?a.pop():a.set(s,void 0))}else if(l){if(r===a.get(s)[1])return e;n=i,o=a.set(s,[t,r])}else n=i.set(t,a.size),o=a.set(a.size,[t,r]);return e.__ownerID?(e.size=n.size,e._map=n,e._list=o,e.__hash=void 0,e.__altered=!0,e):mM(n,o)}hM.isOrderedMap=pA,hM.prototype[VI]=!0,hM.prototype.delete=hM.prototype.remove;var bM="@@__IMMUTABLE_STACK__@@";function yM(e){return Boolean(e&&e[bM])}var wM=function(e){function t(e){return null==e?EM():yM(e)?e:EM().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var r=this._head;for(e=gI(this,e);r&&e--;)r=r.next;return r?r.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,r=this._head,n=arguments.length-1;n>=0;n--)r={value:e[n],next:r};return this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):_M(t,r)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&yM(t))return t;nj(t.size);var r=this.size,n=this._head;return t.__iterate((function(e){r++,n={value:e,next:n}}),!0),this.__ownerID?(this.size=r,this._head=n,this.__hash=void 0,this.__altered=!0,this):_M(r,n)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):EM()},t.prototype.slice=function(t,r){if(bI(t,r,this.size))return this;var n=yI(t,this.size);if(wI(r,this.size)!==this.size)return e.prototype.slice.call(this,t,r);for(var o=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this):_M(o,i)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?_M(this.size,this._head,e,this.__hash):0===this.size?EM():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var r=this;if(t)return new rA(this.toArray()).__iterate((function(t,n){return e(t,n,r)}),t);for(var n=0,o=this._head;o&&!1!==e(o.value,n++,this);)o=o.next;return n},t.prototype.__iterator=function(e,t){if(t)return new rA(this.toArray()).__iterator(e,t);var r=0,n=this._head;return new BI((function(){if(n){var t=n.value;return n=n.next,HI(e,r++,t)}return{value:void 0,done:!0}}))},t}(AI);wM.isStack=yM;var OM,xM=wM.prototype;function _M(e,t,r,n){var o=Object.create(xM);return o.size=e,o._head=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function EM(){return OM||(OM=_M(0))}xM[bM]=!0,xM.shift=xM.pop,xM.unshift=xM.push,xM.unshiftAll=xM.pushAll,xM.withMutations=kj,xM.wasAltered=Tj,xM.asImmutable=Cj,xM["@@transducer/init"]=xM.asMutable=Pj,xM["@@transducer/step"]=function(e,t){return e.unshift(t)},xM["@@transducer/result"]=function(e){return e.asImmutable()};var SM="@@__IMMUTABLE_SET__@@";function kM(e){return Boolean(e&&e[SM])}function PM(e){return kM(e)&&zI(e)}function CM(e,t){if(e===t)return!0;if(!EI(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||kI(e)!==kI(t)||CI(e)!==CI(t)||zI(e)!==zI(t))return!1;if(0===e.size&&0===t.size)return!0;var r=!TI(e);if(zI(e)){var n=e.entries();return t.every((function(e,t){var o=n.next().value;return o&&hA(o[1],e)&&(r||hA(o[0],t))}))&&n.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var a=!0,s=t.__iterate((function(t,n){if(r?!e.has(t):o?!hA(t,e.get(n,pI)):!hA(e.get(n,pI),t))return a=!1,!1}));return a&&e.size===s}function TM(e,t){var r=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function DM(e){if(!e||"object"!=typeof e)return e;if(!EI(e)){if(!aj(e))return e;e=JI(e)}if(kI(e)){var t={};return e.__iterate((function(e,r){t[r]=DM(e)})),t}var r=[];return e.__iterate((function(e){r.push(DM(e))})),r}var IM=function(e){function t(t){return null==t?RM():kM(t)&&!zI(t)?t:RM().withMutations((function(r){var n=e(t);nj(n.size),n.forEach((function(e){return r.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(II(e).keySeq())},t.intersect=function(e){return(e=DI(e).toArray()).length?jM.intersect.apply(t(e.pop()),e):RM()},t.union=function(e){return(e=DI(e).toArray()).length?jM.union.apply(t(e.pop()),e):RM()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return MM(this,this._map.set(e,e))},t.prototype.remove=function(e){return MM(this,this._map.remove(e))},t.prototype.clear=function(){return MM(this,this._map.clear())},t.prototype.map=function(e,t){var r=this,n=!1,o=MM(this,this._map.mapEntries((function(o){var i=o[1],a=e.call(t,i,i,r);return a!==i&&(n=!0),[a,a]}),t));return n?o:this},t.prototype.union=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return t=t.filter((function(e){return 0!==e.size})),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(r){for(var n=0;n<t.length;n++)e(t[n]).forEach((function(e){return r.add(e)}))})):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var n=[];return this.forEach((function(e){t.every((function(t){return t.includes(e)}))||n.push(e)})),this.withMutations((function(e){n.forEach((function(t){e.remove(t)}))}))},t.prototype.subtract=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map((function(t){return e(t)}));var n=[];return this.forEach((function(e){t.some((function(t){return t.includes(e)}))&&n.push(e)})),this.withMutations((function(e){n.forEach((function(t){e.remove(t)}))}))},t.prototype.sort=function(e){return eN(WA(this,e))},t.prototype.sortBy=function(e,t){return eN(WA(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate((function(t){return e(t,t,r)}),t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(jI);IM.isSet=kM;var AM,jM=IM.prototype;function MM(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function NM(e,t){var r=Object.create(jM);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function RM(){return AM||(AM=NM(qj()))}jM[SM]=!0,jM.delete=jM.remove,jM.merge=jM.concat=jM.union,jM.withMutations=kj,jM.asImmutable=Cj,jM["@@transducer/init"]=jM.asMutable=Pj,jM["@@transducer/step"]=function(e,t){return e.add(t)},jM["@@transducer/result"]=function(e){return e.asImmutable()},jM.__empty=RM,jM.__make=NM;var LM,$M=function(e){function t(e,r,n){if(!(this instanceof t))return new t(e,r,n);if(rj(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===r&&(r=1/0),n=void 0===n?1:Math.abs(n),r<e&&(n=-n),this._start=e,this._end=r,this._step=n,this.size=Math.max(0,Math.ceil((r-e)/n-1)+1),0===this.size){if(LM)return LM;LM=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+gI(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,r){return bI(e,r,this.size)?this:(e=yI(e,this.size),(r=wI(r,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(r,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var r=this.size,n=this._step,o=t?this._start+(r-1)*n:this._start,i=0;i!==r&&!1!==e(o,t?r-++i:i++,this);)o+=t?-n:n;return i},t.prototype.__iterator=function(e,t){var r=this.size,n=this._step,o=t?this._start+(r-1)*n:this._start,i=0;return new BI((function(){if(i===r)return{value:void 0,done:!0};var a=o;return o+=t?-n:n,HI(e,t?r-++i:i++,a)}))},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:CM(this,e)},t}(eA);function VM(e,t,r){for(var n=oj(t),o=0;o!==n.length;)if((e=lj(e,n[o++],pI))===pI)return r;return e}function zM(e,t){return VM(this,e,t)}function FM(){nj(this.size);var e={};return this.__iterate((function(t,r){e[r]=t})),e}DI.isIterable=EI,DI.isKeyed=kI,DI.isIndexed=CI,DI.isAssociative=TI,DI.isOrdered=zI,DI.Iterator=BI,TM(DI,{toArray:function(){nj(this.size);var e=new Array(this.size||0),t=kI(this),r=0;return this.__iterate((function(n,o){e[r++]=t?[o,n]:n})),e},toIndexedSeq:function(){return new MA(this)},toJS:function(){return DM(this)},toKeyedSeq:function(){return new jA(this,!0)},toMap:function(){return Dj(this.toKeyedSeq())},toObject:FM,toOrderedMap:function(){return hM(this.toKeyedSeq())},toOrderedSet:function(){return eN(kI(this)?this.valueSeq():this)},toSet:function(){return IM(kI(this)?this.valueSeq():this)},toSetSeq:function(){return new NA(this)},toSeq:function(){return CI(this)?this.toIndexedSeq():kI(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return wM(kI(this)?this.valueSeq():this)},toList:function(){return eM(kI(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return XA(this,BA(this,e))},includes:function(e){return this.some((function(t){return hA(t,e)}))},entries:function(){return this.__iterator(2)},every:function(e,t){nj(this.size);var r=!0;return this.__iterate((function(n,o,i){if(!e.call(t,n,o,i))return r=!1,!1})),r},filter:function(e,t){return XA(this,zA(this,e,t,!0))},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){return nj(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){nj(this.size),e=void 0!==e?""+e:",";var t="",r=!0;return this.__iterate((function(n){r?r=!1:t+=e,t+=null!=n?n.toString():""})),t},keys:function(){return this.__iterator(0)},map:function(e,t){return XA(this,$A(this,e,t))},reduce:function(e,t,r){return UM(this,e,t,r,arguments.length<2,!1)},reduceRight:function(e,t,r){return UM(this,e,t,r,arguments.length<2,!0)},reverse:function(){return XA(this,VA(this,!0))},slice:function(e,t){return XA(this,FA(this,e,t,!0))},some:function(e,t){return!this.every(XM(e),t)},sort:function(e){return XA(this,WA(this,e))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return mI(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,r){var n=Dj().asMutable();return e.__iterate((function(o,i){n.update(t.call(r,o,i,e),0,(function(e){return e+1}))})),n.asImmutable()}(this,e,t)},equals:function(e){return CM(this,e)},entrySeq:function(){var e=this;if(e._cache)return new rA(e._cache);var t=e.toSeq().map(GM).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(XM(e),t)},findEntry:function(e,t,r){var n=r;return this.__iterate((function(r,o,i){if(e.call(t,r,o,i))return n=[o,r],!1})),n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(vI,null,e)},flatMap:function(e,t){return XA(this,function(e,t,r){var n=YA(e);return e.toSeq().map((function(o,i){return n(t.call(r,o,i,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return XA(this,HA(this,e,!0))},fromEntrySeq:function(){return new RA(this)},get:function(e,t){return this.find((function(t,r){return hA(r,e)}),void 0,t)},getIn:zM,groupBy:function(e,t){return function(e,t,r){var n=kI(e),o=(zI(e)?hM():Dj()).asMutable();e.__iterate((function(i,a){o.update(t.call(r,i,a,e),(function(e){return(e=e||[]).push(n?[a,i]:i),e}))}));var i=YA(e);return o.map((function(t){return XA(e,i(t))})).asImmutable()}(this,e,t)},has:function(e){return this.get(e,pI)!==pI},hasIn:function(e){return VM(this,e,pI)!==pI},isSubset:function(e){return e="function"==typeof e.includes?e:DI(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:DI(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return hA(t,e)}))},keySeq:function(){return this.toSeq().map(QM).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return UA(this,e)},maxBy:function(e,t){return UA(this,t,e)},min:function(e){return UA(this,e?KM(e):JM)},minBy:function(e,t){return UA(this,t?KM(t):JM,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return XA(this,qA(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(XM(e),t)},sortBy:function(e,t){return XA(this,WA(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return XA(this,function(e,t,r){var n=JA(e);return n.__iterateUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterate(n,o);var a=0;return e.__iterate((function(e,o,s){return t.call(r,e,o,s)&&++a&&n(e,o,i)})),a},n.__iteratorUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterator(n,o);var a=e.__iterator(2,o),s=!0;return new BI((function(){if(!s)return{value:void 0,done:!0};var e=a.next();if(e.done)return e;var o=e.value,l=o[0],c=o[1];return t.call(r,c,l,i)?2===n?e:HI(n,l,c,e):(s=!1,{value:void 0,done:!0})}))},n}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(XM(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=zI(e),r=kI(e),n=t?1:0,o=e.__iterate(r?t?function(e,t){n=31*n+ZM(bA(e),bA(t))|0}:function(e,t){n=n+ZM(bA(e),bA(t))|0}:t?function(e){n=31*n+bA(e)|0}:function(e){n=n+bA(e)|0});return function(e,t){return t=mA(t,3432918353),t=mA(t<<15|t>>>-15,461845907),t=mA(t<<13|t>>>-13,5),t=mA((t=(t+3864292196|0)^e)^t>>>16,2246822507),gA((t=mA(t^t>>>13,3266489909))^t>>>16)}(o,n)}(this))}});var qM=DI.prototype;qM[_I]=!0,qM[qI]=qM.values,qM.toJSON=qM.toArray,qM.__toStringMapper=sj,qM.inspect=qM.toSource=function(){return this.toString()},qM.chain=qM.flatMap,qM.contains=qM.includes,TM(II,{flip:function(){return XA(this,LA(this))},mapEntries:function(e,t){var r=this,n=0;return XA(this,this.toSeq().map((function(o,i){return e.call(t,[i,o],n++,r)})).fromEntrySeq())},mapKeys:function(e,t){var r=this;return XA(this,this.toSeq().flip().map((function(n,o){return e.call(t,n,o,r)})).flip())}});var BM=II.prototype;BM[SI]=!0,BM[qI]=qM.entries,BM.toJSON=FM,BM.__toStringMapper=function(e,t){return sj(t)+": "+sj(e)},TM(AI,{toKeyedSeq:function(){return new jA(this,!1)},filter:function(e,t){return XA(this,zA(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return XA(this,VA(this,!1))},slice:function(e,t){return XA(this,FA(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(t||0,0),0===r||2===r&&!t)return this;e=yI(e,e<0?this.count():this.size);var n=this.slice(0,e);return XA(this,1===r?n:n.concat(tj(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return XA(this,HA(this,e,!1))},get:function(e,t){return(e=gI(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,r){return r===e}),void 0,t)},has:function(e){return(e=gI(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return XA(this,function(e,t){var r=JA(e);return r.size=e.size&&2*e.size-1,r.__iterateUncached=function(r,n){var o=this,i=0;return e.__iterate((function(e){return(!i||!1!==r(t,i++,o))&&!1!==r(e,i++,o)}),n),i},r.__iteratorUncached=function(r,n){var o,i=e.__iterator(1,n),a=0;return new BI((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?HI(r,a++,t):HI(r,a++,o.value,o)}))},r}(this,e))},interleave:function(){var e=[this].concat(tj(arguments)),t=GA(this.toSeq(),eA.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),XA(this,r)},keySeq:function(){return $M(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return XA(this,qA(this,e,t,!1))},zip:function(){var e=[this].concat(tj(arguments));return XA(this,GA(this,YM,e))},zipAll:function(){var e=[this].concat(tj(arguments));return XA(this,GA(this,YM,e,!0))},zipWith:function(e){var t=tj(arguments);return t[0]=this,XA(this,GA(this,e,t))}});var HM=AI.prototype;HM[PI]=!0,HM[VI]=!0,TM(jI,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var WM=jI.prototype;function UM(e,t,r,n,o,i){return nj(e.size),e.__iterate((function(e,i,a){o?(o=!1,r=e):r=t.call(n,r,e,i,a)}),i),r}function QM(e,t){return t}function GM(e,t){return[t,e]}function XM(e){return function(){return!e.apply(this,arguments)}}function KM(e){return function(){return-e.apply(this,arguments)}}function YM(){return tj(arguments)}function JM(e,t){return e<t?1:e>t?-1:0}function ZM(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}WM.has=qM.includes,WM.contains=WM.includes,WM.keys=WM.values,TM(ZI,BM),TM(eA,HM),TM(tA,WM);var eN=function(e){function t(e){return null==e?oN():PM(e)?e:oN().withMutations((function(t){var r=jI(e);nj(r.size),r.forEach((function(e){return t.add(e)}))}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(II(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(IM);eN.isOrderedSet=PM;var tN,rN=eN.prototype;function nN(e,t){var r=Object.create(rN);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function oN(){return tN||(tN=nN(gM()))}rN[VI]=!0,rN.zip=HM.zip,rN.zipWith=HM.zipWith,rN.zipAll=HM.zipAll,rN.__empty=oN,rN.__make=nN;var iN=function(e,t){var r;!function(e){if(LI(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if($I(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===e||"object"!=typeof e)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(e);var n=function(i){var a=this;if(i instanceof n)return i;if(!(this instanceof n))return new n(i);if(!r){r=!0;var s=Object.keys(e),l=o._indices={};o._name=t,o._keys=s,o._defaultValues=e;for(var c=0;c<s.length;c++){var u=s[c];l[u]=c,o[u]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+lN(this)+' with property "'+u+'" since that property name is part of the Record API.'):uN(o,u)}}return this.__ownerID=void 0,this._values=eM().withMutations((function(e){e.setSize(a._keys.length),II(i).forEach((function(t,r){e.set(a._indices[r],t===a._defaultValues[r]?void 0:t)}))})),this},o=n.prototype=Object.create(aN);return o.constructor=n,t&&(n.displayName=t),n};iN.prototype.toString=function(){for(var e,t=lN(this)+" { ",r=this._keys,n=0,o=r.length;n!==o;n++)t+=(n?", ":"")+(e=r[n])+": "+sj(this.get(e));return t+" }"},iN.prototype.equals=function(e){return this===e||LI(e)&&cN(this).equals(cN(e))},iN.prototype.hashCode=function(){return cN(this).hashCode()},iN.prototype.has=function(e){return this._indices.hasOwnProperty(e)},iN.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._indices[e],n=this._values.get(r);return void 0===n?this._defaultValues[e]:n},iN.prototype.set=function(e,t){if(this.has(e)){var r=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(r!==this._values&&!this.__ownerID)return sN(this,r)}return this},iN.prototype.remove=function(e){return this.set(e)},iN.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:sN(this,e)},iN.prototype.wasAltered=function(){return this._values.wasAltered()},iN.prototype.toSeq=function(){return cN(this)},iN.prototype.toJS=function(){return DM(this)},iN.prototype.entries=function(){return this.__iterator(2)},iN.prototype.__iterator=function(e,t){return cN(this).__iterator(e,t)},iN.prototype.__iterate=function(e,t){return cN(this).__iterate(e,t)},iN.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?sN(this,t,e):(this.__ownerID=e,this._values=t,this)},iN.isRecord=LI,iN.getDescriptiveName=lN;var aN=iN.prototype;function sN(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function lN(e){return e.constructor.displayName||e.constructor.name||"Record"}function cN(e){return sA(e._keys.map((function(t){return[t,e.get(t)]})))}function uN(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){rj(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(e){}}function dN(e){return"block"===e.object&&"code_block"===e.type}function pN(e){return"javascript"}function fN(e,t,r){const{decoration:o}=e;if(o.type!==cI)return r();const i=o.data.get("className");return n().createElement("span",{className:i},e.children)}aN[RI]=!0,aN.delete=aN.remove,aN.deleteIn=aN.removeIn=fj,aN.getIn=zM,aN.hasIn=qM.hasIn,aN.merge=vj,aN.mergeWith=bj,aN.mergeIn=Ej,aN.mergeDeep=xj,aN.mergeDeepWith=_j,aN.mergeDeepIn=Sj,aN.setIn=pj,aN.update=mj,aN.updateIn=gj,aN.withMutations=kj,aN.asMutable=Pj,aN.asImmutable=Cj,aN[qI]=aN.entries,aN.toJSON=aN.toObject=qM.toObject,aN.inspect=aN.toSource=function(){return this.toString()};class hN extends(iN({onlyIn:dN,getSyntax:pN,renderDecoration:fN})){constructor(e){super(e)}}const mN=hN;function gN(e={},t=sm().languages){const r=new mN(e);return{decorateNode:(e,n,o)=>{if(!r.onlyIn(e))return o();const i=lI.Block.create(e),a=r.getSyntax(i),s=t[a];if(!s)return[];const l=i.getTexts().map((e=>e&&e.getText())).join("\n"),c=sm().tokenize(l,s),u=function(e){const t=bN(e);if(!t.length)return[];const r=t[0];r.prev=null,r.next=t.length>=2?t[1]:null,r.offsets={start:0,end:r.content.length};for(let e=1;e<t.length-1;e++)t[e].prev=t[e-1],t[e].next=t[e+1],t[e].offsets={start:t[e-1].offsets.end,end:t[e-1].offsets.end+t[e].content.length};const n=t[t.length-1];return n.prev=t.length>=2?t[t.length-2]:null,n.next=null,n.offsets={start:t.length>=2?t[t.length-2].offsets.end:0,end:t.length>=2?t[t.length-2].offsets.end+n.content.length:n.content.length},t}(c),d=n.value.data.set("tokens",u);return n.setData(d),function(e,t,r){const n=r.getTexts(),o=[];let i=0,a=0;return n.forEach((e=>{a=i+e.getText().length;let n=0;t.forEach((function t(s,l){if("string"==typeof s){if(l){const t=vN({text:e,textStart:i,textEnd:a,start:n,end:n+s.length,className:`prism-token token ${l}`,block:r});t&&o.push(t)}n+=s.length}else if(l=`${l} ${s.type}`,s.alias&&(l+=" "+s.alias),"string"==typeof s.content){const t=vN({text:e,textStart:i,textEnd:a,start:n,end:n+s.content.length,className:`prism-token token ${l}`,block:r});t&&o.push(t),n+=s.content.length}else for(let e=0;e<s.content.length;e+=1)t(s.content[e],l)})),i=a+1})),o}(0,c,i)},renderDecoration:(e,t,n)=>r.renderDecoration({children:e.children,decoration:e.decoration},t,n)}}function vN({text:e,textStart:t,textEnd:r,start:n,end:o,className:i,block:a}){return n>=r||o<=t?null:(n=Math.max(n,t),o=Math.min(o,r),n-=t,o-=t,a.createDecoration({object:"decoration",anchor:{key:e.key,offset:n,object:"point"},focus:{key:e.key,offset:o,object:"point"},type:cI,data:{className:i}}))}function bN(e){return"string"==typeof e?[{content:e,types:[],aliases:[]}]:Array.isArray(e)?e.flatMap((e=>bN(e))):e instanceof sm().Token?bN(e.content).flatMap((t=>{let r=[];var n;return r="string"==typeof e.alias?[e.alias]:null!==(n=e.alias)&&void 0!==n?n:[],{content:t.content,types:[e.type,...t.types],aliases:[...r,...t.aliases]}})):[]}function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yN.apply(this,arguments)}function wN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ON(e,t){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ON(e,t)}var xN=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function _N(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!((n=e[r])===(o=t[r])||xN(n)&&xN(o)))return!1;var n,o;return!0}const EN=function(e,t){var r;void 0===t&&(t=_N);var n,o=[],i=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return i&&r===this&&t(a,o)||(n=e.apply(this,a),i=!0,r=this,o=a),n}};var SN="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function kN(e){cancelAnimationFrame(e.id)}var PN=null;function CN(e){if(void 0===e&&(e=!1),null===PN||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),o=n.style;return o.width="100px",o.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?PN="positive-descending":(t.scrollLeft=1,PN=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),PN}return PN}var TN=function(e,t){return e};function DN(e){var t,n=e.getItemOffset,o=e.getEstimatedTotalSize,i=e.getItemSize,a=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,l=e.getStopIndexForStartIndex,c=e.initInstanceProps,u=e.shouldResetStyleCacheOnItemSizeChange,d=e.validateProps;return t=function(e){function t(t){var r;return(r=e.call(this,t)||this)._instanceProps=c(r.props,wN(r)),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:wN(r),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof r.props.initialScrollOffset?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=EN((function(e,t,n,o){return r.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:n,visibleStopIndex:o})})),r._callOnScroll=void 0,r._callOnScroll=EN((function(e,t,n){return r.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:n})})),r._getItemStyle=void 0,r._getItemStyle=function(e){var t,o=r.props,a=o.direction,s=o.itemSize,l=o.layout,c=r._getItemStyleCache(u&&s,u&&l,u&&a);if(c.hasOwnProperty(e))t=c[e];else{var d=n(r.props,e,r._instanceProps),p=i(r.props,e,r._instanceProps),f="horizontal"===a||"horizontal"===l,h="rtl"===a,m=f?d:0;c[e]=t={position:"absolute",left:h?void 0:m,right:h?m:void 0,top:f?0:d,height:f?"100%":p,width:f?p:"100%"}}return t},r._getItemStyleCache=void 0,r._getItemStyleCache=EN((function(e,t,r){return{}})),r._onScrollHorizontal=function(e){var t=e.currentTarget,n=t.clientWidth,o=t.scrollLeft,i=t.scrollWidth;r.setState((function(e){if(e.scrollOffset===o)return null;var t=r.props.direction,a=o;if("rtl"===t)switch(CN()){case"negative":a=-o;break;case"positive-descending":a=i-n-o}return a=Math.max(0,Math.min(a,i-n)),{isScrolling:!0,scrollDirection:e.scrollOffset<o?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._onScrollVertical=function(e){var t=e.currentTarget,n=t.clientHeight,o=t.scrollHeight,i=t.scrollTop;r.setState((function(e){if(e.scrollOffset===i)return null;var t=Math.max(0,Math.min(i,o-n));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._outerRefSetter=function(e){var t=r.props.outerRef;r._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},r._resetIsScrollingDebounced=function(){null!==r._resetIsScrollingTimeoutId&&kN(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=function(e,t){var r=SN(),n={id:requestAnimationFrame((function o(){SN()-r>=t?e.call(null):n.id=requestAnimationFrame(o)}))};return n}(r._resetIsScrolling,150)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},(function(){r._getItemStyleCache(-1,null)}))},r}var p,f;f=e,(p=t).prototype=Object.create(f.prototype),p.prototype.constructor=p,ON(p,f),t.getDerivedStateFromProps=function(e,t){return IN(e,t),d(e),null};var h=t.prototype;return h.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},h.scrollToItem=function(e,t){void 0===t&&(t="auto");var r=this.props.itemCount,n=this.state.scrollOffset;e=Math.max(0,Math.min(e,r-1)),this.scrollTo(a(this.props,e,t,n,this._instanceProps))},h.componentDidMount=function(){var e=this.props,t=e.direction,r=e.initialScrollOffset,n=e.layout;if("number"==typeof r&&null!=this._outerRef){var o=this._outerRef;"horizontal"===t||"horizontal"===n?o.scrollLeft=r:o.scrollTop=r}this._callPropsCallbacks()},h.componentDidUpdate=function(){var e=this.props,t=e.direction,r=e.layout,n=this.state,o=n.scrollOffset;if(n.scrollUpdateWasRequested&&null!=this._outerRef){var i=this._outerRef;if("horizontal"===t||"horizontal"===r)if("rtl"===t)switch(CN()){case"negative":i.scrollLeft=-o;break;case"positive-ascending":i.scrollLeft=o;break;default:var a=i.clientWidth,s=i.scrollWidth;i.scrollLeft=s-a-o}else i.scrollLeft=o;else i.scrollTop=o}this._callPropsCallbacks()},h.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&kN(this._resetIsScrollingTimeoutId)},h.render=function(){var e=this.props,t=e.children,n=e.className,i=e.direction,a=e.height,s=e.innerRef,l=e.innerElementType,c=e.innerTagName,u=e.itemCount,d=e.itemData,p=e.itemKey,f=void 0===p?TN:p,h=e.layout,m=e.outerElementType,g=e.outerTagName,v=e.style,b=e.useIsScrolling,y=e.width,w=this.state.isScrolling,O="horizontal"===i||"horizontal"===h,x=O?this._onScrollHorizontal:this._onScrollVertical,_=this._getRangeToRender(),E=_[0],S=_[1],k=[];if(u>0)for(var P=E;P<=S;P++)k.push((0,r.createElement)(t,{data:d,key:f(P,d),index:P,isScrolling:b?w:void 0,style:this._getItemStyle(P)}));var C=o(this.props,this._instanceProps);return(0,r.createElement)(m||g||"div",{className:n,onScroll:x,ref:this._outerRefSetter,style:yN({position:"relative",height:a,width:y,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},v)},(0,r.createElement)(l||c||"div",{children:k,ref:s,style:{height:O?"100%":C,pointerEvents:w?"none":void 0,width:O?C:"100%"}}))},h._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],r=e[1],n=e[2],o=e[3];this._callOnItemsRendered(t,r,n,o)}if("function"==typeof this.props.onScroll){var i=this.state,a=i.scrollDirection,s=i.scrollOffset,l=i.scrollUpdateWasRequested;this._callOnScroll(a,s,l)}},h._getRangeToRender=function(){var e=this.props,t=e.itemCount,r=e.overscanCount,n=this.state,o=n.isScrolling,i=n.scrollDirection,a=n.scrollOffset;if(0===t)return[0,0,0,0];var c=s(this.props,a,this._instanceProps),u=l(this.props,c,a,this._instanceProps),d=o&&"backward"!==i?1:Math.max(1,r),p=o&&"forward"!==i?1:Math.max(1,r);return[Math.max(0,c-d),Math.max(0,Math.min(t-1,u+p)),c,u]},t}(r.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var IN=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},AN=DN({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,r,n){var o=e.direction,i=e.height,a=e.itemCount,s=e.itemSize,l=e.layout,c=e.width,u="horizontal"===o||"horizontal"===l?c:i,d=Math.max(0,a*s-u),p=Math.min(d,t*s),f=Math.max(0,t*s-u+s);switch("smart"===r&&(r=n>=f-u&&n<=p+u?"auto":"center"),r){case"start":return p;case"end":return f;case"center":var h=Math.round(f+(p-f)/2);return h<Math.ceil(u/2)?0:h>d+Math.floor(u/2)?d:h;default:return n>=f&&n<=p?n:n<f?f:p}},getStartIndexForOffset:function(e,t){var r=e.itemCount,n=e.itemSize;return Math.max(0,Math.min(r-1,Math.floor(t/n)))},getStopIndexForStartIndex:function(e,t,r){var n=e.direction,o=e.height,i=e.itemCount,a=e.itemSize,s=e.layout,l=e.width,c=t*a,u="horizontal"===n||"horizontal"===s?l:o,d=Math.ceil((u+r-c)/a);return Math.max(0,Math.min(i-1,t+d-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});function jN(){return jN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jN.apply(this,arguments)}const MN=e=>{var{text:t,className:r}=e,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["text","className"]);const i=O(NN);return n().createElement("div",jN({className:(0,a.cx)(i.container,r)},o),t," ",n().createElement(pe,{inline:!0}))},NN=e=>({container:a.css`
      margin-bottom: ${e.spacing(4)};
    `}),RN=e=>{let{highlightParts:t,text:o,highlightClassName:i}=e;if(!(null==t?void 0:t.length))return null;let a=[],s=function(e,t){const r=[];return e.forEach((e=>{r.push(e.start,e.end+1)})),0!==r[0]&&r.unshift(0),r[r.length-1]!==t&&r.push(t),r}(t,o.length),l=0===t[0].start;for(let e=1;e<s.length;e++){let t=s[e-1],n=s[e];a.push((0,r.createElement)(l?"mark":"span",{key:e-1,className:l?i:void 0},o.substring(t,n))),l=!l}return n().createElement("div",null,a)};function LN(){return LN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LN.apply(this,arguments)}const $N=(0,r.forwardRef)(((e,t)=>{var{name:o,value:i,hidden:s,facets:l,onClick:c,className:u,loading:d,searchTerm:p,active:f,style:h,title:m,highlightParts:g}=e,v=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["name","value","hidden","facets","onClick","className","loading","searchTerm","active","style","title","highlightParts"]);const b=w(),y=VN(b),O=p?[p]:[],x=(0,r.useCallback)((e=>{c&&!s&&c(o,i,e)}),[c,o,s,i]);let _=i||o;return l&&(_=`${_} (${l})`),n().createElement("span",LN({key:_,ref:t,onClick:x,style:h,title:m||_,role:"option","aria-selected":!!f,className:(0,a.cx)(y.base,f&&y.active,d&&y.loading,s&&y.hidden,u,c&&!s&&y.hover)},v),void 0!==g?n().createElement(RN,{text:_,highlightClassName:y.matchHighLight,highlightParts:g}):n().createElement(CT(),{textToHighlight:_,searchWords:O,autoEscape:!0,highlightClassName:y.matchHighLight}))}));$N.displayName="Label";const VN=e=>({base:a.css`
    display: inline-block;
    cursor: pointer;
    font-size: ${e.typography.size.sm};
    line-height: ${e.typography.bodySmall.lineHeight};
    background-color: ${e.colors.background.secondary};
    color: ${e.colors.text.primary};
    white-space: nowrap;
    text-shadow: none;
    padding: ${e.spacing(.5)};
    border-radius: ${e.shape.borderRadius()};
    margin-right: ${e.spacing(1)};
    margin-bottom: ${e.spacing(.5)};
  `,loading:a.css`
    font-weight: ${e.typography.fontWeightMedium};
    background-color: ${e.colors.primary.shade};
    color: ${e.colors.text.primary};
    animation: pulse 3s ease-out 0s infinite normal forwards;
    @keyframes pulse {
      0% {
        color: ${e.colors.text.primary};
      }
      50% {
        color: ${e.colors.text.secondary};
      }
      100% {
        color: ${e.colors.text.disabled};
      }
    }
  `,active:a.css`
    font-weight: ${e.typography.fontWeightMedium};
    background-color: ${e.colors.primary.main};
    color: ${e.colors.primary.contrastText};
  `,matchHighLight:a.css`
    background: inherit;
    color: ${e.components.textHighlight.text};
    background-color: ${e.components.textHighlight.background};
  `,hidden:a.css`
    opacity: 0.6;
    cursor: default;
    border: 1px solid transparent;
  `,hover:a.css`
    &:hover {
      opacity: 0.85;
      cursor: pointer;
    }
  `});function zN(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function FN(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){zN(i,n,o,a,s,"next",e)}function s(e){zN(i,n,o,a,s,"throw",e)}a(void 0)}))}}function qN(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){qN(e,t,r[t])}))}return e}function HN(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const WN="{}",UN="__name__";function QN(e){let t="";const r=[];for(const n of e)if((n.name===UN||n.selected)&&n.values&&n.values.length>0){const e=n.values.filter((e=>e.selected)).map((e=>e.name));e.length>1?r.push(`${n.name}=~"${e.map(Om).join("|")}"`):1===e.length&&(n.name===UN?t=e[0]:r.push(`${n.name}="${wm(e[0])}"`))}return[t,"{",r.join(","),"}"].join("")}const GN=f((e=>({wrapper:a.css`
    background-color: ${e.colors.bg2};
    padding: ${e.spacing.sm};
    width: 100%;
  `,list:a.css`
    margin-top: ${e.spacing.sm};
    display: flex;
    flex-wrap: wrap;
    max-height: 200px;
    overflow: auto;
    align-content: flex-start;
  `,section:a.css`
    & + & {
      margin: ${e.spacing.md} 0;
    }
    position: relative;
  `,selector:a.css`
    font-family: ${e.typography.fontFamily.monospace};
    margin-bottom: ${e.spacing.sm};
  `,status:a.css`
    padding: ${e.spacing.xs};
    color: ${e.colors.textSemiWeak};
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    /* using absolute positioning because flex interferes with ellipsis */
    position: absolute;
    width: 50%;
    right: 0;
    text-align: right;
    transition: opacity 100ms linear;
    opacity: 0;
  `,statusShowing:a.css`
    opacity: 1;
  `,error:a.css`
    color: ${e.palette.brandDanger};
  `,valueList:a.css`
    margin-right: ${e.spacing.sm};
    resize: horizontal;
  `,valueListWrapper:a.css`
    border-left: 1px solid ${e.colors.border2};
    margin: ${e.spacing.sm} 0;
    padding: ${e.spacing.sm} 0 ${e.spacing.sm} ${e.spacing.sm};
  `,valueListArea:a.css`
    display: flex;
    flex-wrap: wrap;
    margin-top: ${e.spacing.sm};
  `,valueTitle:a.css`
    margin-left: -${e.spacing.xs};
    margin-bottom: ${e.spacing.sm};
  `,validationStatus:a.css`
    padding: ${e.spacing.xs};
    margin-bottom: ${e.spacing.sm};
    color: ${e.colors.textStrong};
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  `})));class XN extends n().Component{updateLabelState(e,t,r="",n){this.setState((n=>{const o=n.labels.map((r=>r.name===e?BN({},r,t):r)),i=r?"":n.error;return{labels:o,status:r,error:i,validationStatus:""}}),n)}componentDidMount(){const{languageProvider:e,lastUsedLabels:t}=this.props;if(e){const r=t;e.start().then((()=>{let t=e.getLabelKeys();this.fetchValues(UN,WN);const n=t.map(((e,t,n)=>({name:e,selected:r.includes(e),loading:!1})));this.setState({labels:n},(()=>{this.state.labels.forEach((e=>{e.selected&&this.fetchValues(e.name,WN)}))}))}))}}doFacettingForLabel(e){const t=this.state.labels.find((t=>t.name===e));if(!t)return;const r=this.state.labels.filter((e=>e.selected)).map((e=>e.name));this.props.storeLastUsedLabels(r),t.selected?t.values||this.fetchValues(e,QN(this.state.labels)):this.doFacetting()}fetchValues(e,t){var r=this;return FN((function*(){const{languageProvider:n}=r.props;r.updateLabelState(e,{loading:!0},`Fetching values for ${e}`);try{let o=yield n.getLabelValues(e);if(t!==QN(r.state.labels))return void r.updateLabelState(e,{loading:!1});const i=[],{metricsMetadata:a}=n;for(const t of o){const r={name:t};if(e===UN&&a){const e=a[t];e&&(r.details=`(${e.type}) ${e.help}`)}i.push(r)}r.updateLabelState(e,{values:i,loading:!1})}catch(e){console.error(e)}}))()}fetchSeries(e,t){var r=this;return FN((function*(){const{languageProvider:n}=r.props;t&&r.updateLabelState(t,{loading:!0},`Facetting labels for ${e}`);try{const o=yield n.fetchSeriesLabels(e,!0);if(e!==QN(r.state.labels))return void(t&&r.updateLabelState(t,{loading:!1}));if(0===Object.keys(o).length)return void r.setState({error:`Empty results, no matching label for ${e}`});const i=function(e,t,r){return e.map((e=>{const n=t[e.name];if(n){let t;if(e.name===r&&e.values)t=e.values;else{var o;const r=new Set((null===(o=e.values)||void 0===o?void 0:o.filter((e=>e.selected)).map((e=>e.name)))||[]);t=n.map((e=>({name:e,selected:r.has(e)})))}return HN(BN({},e),{loading:!1,values:t,hidden:!n,facets:t.length})}return HN(BN({},e),{loading:!1,hidden:!n,values:void 0,facets:0})}))}(r.state.labels,o,t);r.setState({labels:i,error:""}),t&&r.updateLabelState(t,{loading:!1})}catch(e){console.error(e)}}))()}validateSelector(e){var t=this;return FN((function*(){const{languageProvider:r}=t.props;t.setState({validationStatus:`Validating selector ${e}`,error:""});const n=yield r.fetchSeries(e);t.setState({validationStatus:`Selector is valid (${n.length} series found)`})}))()}render(){var e;const{theme:t}=this.props,{labels:r,labelSearchTerm:o,metricSearchTerm:i,status:s,error:l,validationStatus:c,valueSearchTerm:u}=this.state,d=GN(t);if(0===r.length)return n().createElement("div",{className:d.wrapper},n().createElement(MN,{text:"Loading labels..."}));let p=r.find((e=>e.name===UN));var f;p&&i&&(p=HN(BN({},p),{values:null===(f=p.values)||void 0===f?void 0:f.filter((e=>e.selected||e.name.includes(i)))}));let h=r.filter((e=>!e.hidden&&e.name!==UN));o&&(h=h.filter((e=>e.selected||e.name.includes(o))));let m=h.filter((e=>e.selected&&e.values));u&&(m=m.map((e=>{var t;return HN(BN({},e),{values:null===(t=e.values)||void 0===t?void 0:t.filter((e=>e.selected||e.name.includes(u)))})})));const g=QN(this.state.labels),v=g===WN,b=(null==p||null===(e=p.values)||void 0===e?void 0:e.length)||0;return n().createElement("div",{className:d.wrapper},n().createElement(S,{align:"flex-start",spacing:"lg"},n().createElement("div",null,n().createElement("div",{className:d.section},n().createElement(Hm,{description:"Once a metric is selected only possible labels are shown."},"1. Select a metric"),n().createElement("div",null,n().createElement(he,{onChange:this.onChangeMetricSearch,"aria-label":"Filter expression for metric",value:i})),n().createElement("div",{role:"list",className:d.valueListWrapper},n().createElement(AN,{height:Math.min(450,25*b),itemCount:b,itemSize:25,itemKey:e=>p.values[e].name,width:300,className:d.valueList},(({index:e,style:t})=>{var r;const o=null==p||null===(r=p.values)||void 0===r?void 0:r[e];return o?n().createElement("div",{style:t},n().createElement($N,{name:p.name,value:null==o?void 0:o.name,title:o.details,active:null==o?void 0:o.selected,onClick:this.onClickMetric,searchTerm:i})):null}))))),n().createElement("div",null,n().createElement("div",{className:d.section},n().createElement(Hm,{description:"Once label values are selected, only possible label combinations are shown."},"2. Select labels to search in"),n().createElement("div",null,n().createElement(he,{onChange:this.onChangeLabelSearch,"aria-label":"Filter expression for label",value:o})),n().createElement("div",{className:d.list,style:{height:120}},h.map((e=>n().createElement($N,{key:e.name,name:e.name,loading:e.loading,active:e.selected,hidden:e.hidden,facets:e.facets,onClick:this.onClickLabel,searchTerm:o}))))),n().createElement("div",{className:d.section},n().createElement(Hm,{description:"Use the search field to find values across selected labels."},"3. Select (multiple) values for your labels"),n().createElement("div",null,n().createElement(he,{onChange:this.onChangeValueSearch,"aria-label":"Filter expression for label values",value:u})),n().createElement("div",{className:d.valueListArea,ref:this.valueListsRef},m.map((e=>{var t,r,o;return n().createElement("div",{role:"list",key:e.name,"aria-label":`Values for ${e.name}`,className:d.valueListWrapper},n().createElement("div",{className:d.valueTitle},n().createElement($N,{name:e.name,loading:e.loading,active:e.selected,hidden:e.hidden,facets:e.facets||(null===(t=e.values)||void 0===t?void 0:t.length),onClick:this.onClickLabel})),n().createElement(AN,{height:Math.min(200,25*((null===(r=e.values)||void 0===r?void 0:r.length)||0)),itemCount:(null===(o=e.values)||void 0===o?void 0:o.length)||0,itemSize:28,itemKey:t=>e.values[t].name,width:200,className:d.valueList},(({index:t,style:r})=>{var o;const i=null===(o=e.values)||void 0===o?void 0:o[t];return i?n().createElement("div",{style:r},n().createElement($N,{name:e.name,value:null==i?void 0:i.name,active:null==i?void 0:i.selected,onClick:this.onClickValue,searchTerm:u})):null})))})))))),n().createElement("div",{className:d.section},n().createElement(Hm,null,"4. Resulting selector"),n().createElement("div",{"aria-label":"selector",className:d.selector},g),c&&n().createElement("div",{className:d.validationStatus},c),n().createElement(S,null,n().createElement(or,{"aria-label":"Use selector for query button",disabled:v,onClick:this.onClickRunQuery},"Use query"),n().createElement(or,{"aria-label":"Use selector as metrics button",variant:"secondary",disabled:v,onClick:this.onClickRunRateQuery},"Use as rate query"),n().createElement(or,{"aria-label":"Validate submit button",variant:"secondary",disabled:v,onClick:this.onClickValidate},"Validate selector"),n().createElement(or,{"aria-label":"Selector clear button",variant:"secondary",onClick:this.onClickClear},"Clear"),n().createElement("div",{className:(0,a.cx)(d.status,(s||l)&&d.statusShowing)},n().createElement("span",{className:l?d.error:""},l||s)))))}constructor(...e){super(...e),this.valueListsRef=n().createRef(),this.state={labels:[],labelSearchTerm:"",metricSearchTerm:"",status:"Ready",error:"",validationStatus:"",valueSearchTerm:""},this.onChangeLabelSearch=e=>{this.setState({labelSearchTerm:e.target.value})},this.onChangeMetricSearch=e=>{this.setState({metricSearchTerm:e.target.value})},this.onChangeValueSearch=e=>{this.setState({valueSearchTerm:e.target.value})},this.onClickRunQuery=()=>{const e=QN(this.state.labels);this.props.onChange(e)},this.onClickRunRateQuery=()=>{const e=`rate(${QN(this.state.labels)}[$__interval])`;this.props.onChange(e)},this.onClickClear=()=>{this.setState((e=>({labels:e.labels.map((e=>HN(BN({},e),{values:void 0,selected:!1,loading:!1,hidden:!1,facets:void 0}))),labelSearchTerm:"",metricSearchTerm:"",status:"",error:"",validationStatus:"",valueSearchTerm:""}))),this.props.deleteLastUsedLabels(),this.fetchValues(UN,WN)},this.onClickLabel=(e,t,r)=>{const n=this.state.labels.find((t=>t.name===e));if(!n)return;const o=!n.selected;let i={selected:o};if(n.values&&!o){const e=n.values.map((e=>HN(BN({},e),{selected:!1})));i=HN(BN({},i),{facets:0,values:e})}this.setState({labelSearchTerm:""}),this.updateLabelState(e,i,"",(()=>this.doFacettingForLabel(e)))},this.onClickValue=(e,t,r)=>{const n=this.state.labels.find((t=>t.name===e));if(!n||!n.values)return;this.setState({labelSearchTerm:""});const o=n.values.map((e=>HN(BN({},e),{selected:e.name===t?!e.selected:e.selected})));this.updateLabelState(e,{values:o},"",(()=>this.doFacetting(e)))},this.onClickMetric=(e,t,r)=>{const n=this.state.labels.find((t=>t.name===e));if(!n||!n.values)return;this.setState({metricSearchTerm:""});const o=n.values.map((e=>HN(BN({},e),{selected:e.name===t||e.selected?!e.selected:e.selected}))),i=o.some((e=>e.selected));this.updateLabelState(e,{selected:i,values:o},"",(()=>this.doFacetting(e)))},this.onClickValidate=()=>{const e=QN(this.state.labels);this.validateSelector(e)},this.doFacetting=e=>{const t=QN(this.state.labels);if(t===WN){const e=this.state.labels.map((e=>HN(BN({},e),{facets:0,values:void 0,hidden:!1})));this.setState({labels:e},(()=>{this.state.labels.forEach((e=>(e.selected||e.name===UN)&&this.fetchValues(e.name,t)))}))}else this.fetchSeries(t,e)}}}const KN=(e=>{const t=t=>{const r=g;return n().createElement(r.Consumer,null,(r=>n().createElement(e,h({},t,{theme:r.v1}))))};return t.displayName=`WithTheme(${e.displayName})`,c()(t,e),t})(XN);var YN={id:"promql",extensions:[".promql"],aliases:["Prometheus","prometheus","prom","Prom","promql","Promql","promQL","PromQL"],mimetypes:[],loader:function(){return Promise.all([v.e(719),v.e(8)]).then(v.bind(v,60719))}};const JN=function(e){var t=(0,r.useRef)(e);return t.current=e,t};function ZN(){const e=new Map;return e.set("expandSuggestionDocs",(!0).toString()),{onDidChangeValue:e=>{},onDidChangeTarget:e=>{},onWillSaveState:e=>{},get:(t,r,n)=>{var o;return null!==(o=e.get(t))&&void 0!==o?o:n},getBoolean:(t,r,n)=>{const o=e.get(t);return void 0!==o?"true"===o:n},getNumber:(t,r,n)=>{const o=e.get(t);return void 0!==o?parseInt(o,10):n},store:(t,r,n,o)=>{null==r?e.delete(t):e.set(t,r.toString())},remove:(t,r)=>{e.delete(t)},keys:(t,r)=>Array.from(e.keys()),logStorage:()=>{console.log("logStorage: not implemented")},migrate:()=>Promise.resolve(void 0),isNew:e=>!0,flush:e=>Promise.resolve(void 0)}}let eR=null;class tR extends Error{constructor(e){super("should never happen")}}function rR(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function nR(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){rR(i,n,o,a,s,"next",e)}function s(e){rR(i,n,o,a,s,"throw",e)}a(void 0)}))}}function oR(e){return iR.apply(this,arguments)}function iR(){return(iR=nR((function*(e){return(yield e.getAllMetricNames()).map((e=>({type:"METRIC_NAME",label:e.name,insertText:e.name,detail:`${e.name} : ${e.type}`,documentation:e.help})))}))).apply(this,arguments)}var aR;const sR=ru.map((e=>({type:"FUNCTION",label:e.label,insertText:null!==(aR=e.insertText)&&void 0!==aR?aR:"",detail:e.detail,documentation:e.documentation})));function lR(e){return cR.apply(this,arguments)}function cR(){return(cR=nR((function*(e){const t=yield oR(e);return[...sR,...t]}))).apply(this,arguments)}const uR=["$__interval","$__range","$__rate_interval","1m","5m","10m","30m","1h","1d"].map((e=>({type:"DURATION",label:e,insertText:e})));function dR(e){return pR.apply(this,arguments)}function pR(){return(pR=nR((function*(e){return(yield e.getHistory()).slice(0,10).map((e=>({type:"HISTORY",label:e,insertText:e})))}))).apply(this,arguments)}function fR(e,t){const r=[...t];return void 0!==e&&r.push({name:"__name__",value:e,op:"="}),`{${r.map((e=>`${e.name}${e.op}"${wm(e.value)}"`)).join(",")}}`}function hR(e,t,r){return mR.apply(this,arguments)}function mR(){return mR=nR((function*(e,t,r){if(void 0===e&&0===t.length)return r.getAllLabelNames();{const n=fR(e,t),o=yield r.getSeries(n),i=Object.keys(o),a=new Set(t.map((e=>e.name)));return i.filter((e=>!a.has(e)))}})),mR.apply(this,arguments)}function gR(e,t,r,n,o){return vR.apply(this,arguments)}function vR(){return(vR=nR((function*(e,t,r,n,o){return(yield hR(e,n,o)).map((e=>({type:"LABEL_NAME",label:e,insertText:`${e}${t}`,triggerOnInsert:r})))}))).apply(this,arguments)}function bR(e,t,r){return yR.apply(this,arguments)}function yR(){return(yR=nR((function*(e,t,r){return gR(e,"=",!0,t,r)}))).apply(this,arguments)}function wR(e,t,r){return OR.apply(this,arguments)}function OR(){return(OR=nR((function*(e,t,r){return gR(e,"",!1,t,r)}))).apply(this,arguments)}function xR(e,t,r,n){return _R.apply(this,arguments)}function _R(){return(_R=nR((function*(e,t,r,n){if(void 0===e&&0===r.length)return n.getLabelValues(t);{const i=fR(e,r);var o;return null!==(o=(yield n.getSeries(i))[t])&&void 0!==o?o:[]}}))).apply(this,arguments)}function ER(e,t,r,n,o){return SR.apply(this,arguments)}function SR(){return(SR=nR((function*(e,t,r,n,o){return(yield xR(e,t,n,o)).map((e=>({type:"LABEL_VALUE",label:e,insertText:r?e:`"${e}"`})))}))).apply(this,arguments)}function kR(){return(kR=nR((function*(e,t){switch(e.type){case"IN_DURATION":return uR;case"IN_FUNCTION":case"AT_ROOT":return lR(t);case"EMPTY":{const e=yield oR(t);return[...yield dR(t),...sR,...e]}case"IN_LABEL_SELECTOR_NO_LABEL_NAME":return bR(e.metricName,e.otherLabels,t);case"IN_GROUPING":return wR(e.metricName,e.otherLabels,t);case"IN_LABEL_SELECTOR_WITH_LABEL_NAME":return ER(e.metricName,e.labelName,e.betweenQuotes,e.otherLabels,t);default:throw new tR(e)}}))).apply(this,arguments)}function PR(e,t){switch(t){case"parent":return e.parent;case"firstChild":return e.firstChild;case"lastChild":return e.lastChild;case"nextSibling":return e.nextSibling;default:throw new tR(t)}}function CR(e,t){let r=e;for(const[e,n]of t){if(r=PR(r,e),null===r)return null;if(r.type.id!==n)return null}return r}function TR(e,t){return t.slice(e.from,e.to)}function DR(e,t){return e.every(((e,r)=>e===t[r]))}const IR=[{path:[135,Gp],fun:function(e,t,r){if(function(e){return null!==NR(e,0)}(e))return null;const n=CR(e,[["firstChild",Kp]]);if(null!==n&&!t.slice(n.to,r).includes(","))return null;const o=CR(e,[["parent",Gp],["firstChild",Xp],["firstChild",57]]),i=MR(e,t);return null===o?{type:"IN_LABEL_SELECTOR_NO_LABEL_NAME",otherLabels:i}:{type:"IN_LABEL_SELECTOR_NO_LABEL_NAME",metricName:TR(o,t),otherLabels:i}}},{path:[28],fun:function(e,t,r){return{type:"AT_ROOT"}}},{path:[37],fun:function(e,t,r){return{type:"IN_FUNCTION"}}},{path:[Qp,Yp],fun:RR},{path:[0,Yp],fun:RR},{path:[0,124],fun:function(e,t,r){return{type:"IN_DURATION"}}},{path:[33],fun:function(e,t,r){const n=CR(e,[["parent",32],["parent",30]]);if(null===n)return null;const o=n.getChild(37);if(null===o)return null;const i=NR(o,Xp);if(null===i)return null;const a=CR(i,[["firstChild",57]]);return null===a?null:{type:"IN_GROUPING",metricName:TR(a,t),otherLabels:[]}}}],AR=new Map([[139,"="],[140,"=~"],[53,"!="],[141,"!~"]]);function jR(e,t){if(e.type.id!==Yp)return null;const r=CR(e,[["firstChild",36]]);if(null===r)return null;const n=CR(r,[["nextSibling",138]]);if(null===n)return null;const o=function(e){const t=e.firstChild;return null===t?null:null!==(r=AR.get(t.type.id))&&void 0!==r?r:null;var r}(n);if(null===o)return null;const i=CR(e,[["lastChild",Qp]]);if(null===i)return null;const a=TR(r,t),s=function(e){const t=e.slice(1,e.length-1);if(e.startsWith('"')&&e.endsWith('"'))return t.replace(/\\"/,'"');if(e.startsWith("'")&&e.endsWith("'"))return t.replace(/\\'/,"'");if(e.startsWith("`")&&e.endsWith("`"))return t;throw new Error("FIXME: invalid string literal")}(TR(i,t));return{name:a,value:s,op:o}}function MR(e,t){if(135!==e.type.id)return[];let r=CR(e,[["firstChild",Kp]]);const n=[];for(;null!==r;){const e=CR(r,[["lastChild",Yp]]);if(null===e)return[];const o=jR(e,t);null!==o&&n.push(o),r=CR(r,[["firstChild",Kp]])}return n.reverse(),n}function NR(e,t){if(e.type.id===t)return e;const r=function(e){let t=e.firstChild;const r=[];for(;null!==t;)r.push(t),t=t.nextSibling;return r}(e);for(const e of r){const r=NR(e,t);if(null!==r)return r}return null}function RR(e,t,r){const n=!e.type.isError,o=CR(e,[["parent",Yp]]);if(null===o)return null;const i=CR(o,[["firstChild",36]]);if(null===i)return null;const a=TR(i,t),s=CR(o,[["parent",Kp]]);if(null===s)return null;let l=s,c=null;for(;null===c;){const e=l.parent;if(null===e)return null;const{id:t}=e.type;switch(t){case Kp:l=e;continue;case 135:c=e;continue;default:return null}}const u=MR(c,t).filter((e=>e.name!==a)),d=CR(c,[["parent",Gp],["firstChild",Xp],["firstChild",57]]);return null===d?{type:"IN_LABEL_SELECTOR_WITH_LABEL_NAME",labelName:a,betweenQuotes:n,otherLabels:u}:{type:"IN_LABEL_SELECTOR_WITH_LABEL_NAME",metricName:TR(d,t),labelName:a,betweenQuotes:n,otherLabels:u}}function LR(e,t){switch(e){case"DURATION":return t.languages.CompletionItemKind.Unit;case"FUNCTION":return t.languages.CompletionItemKind.Variable;case"HISTORY":return t.languages.CompletionItemKind.Snippet;case"LABEL_NAME":return t.languages.CompletionItemKind.Enum;case"LABEL_VALUE":return t.languages.CompletionItemKind.EnumMember;case"METRIC_NAME":return t.languages.CompletionItemKind.Constructor;default:throw new tR(e)}}function $R(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const VR={codeLens:!1,contextmenu:!1,fixedOverflowWidgets:!0,folding:!1,fontSize:14,lineDecorationsWidth:8,lineNumbers:"off",minimap:{enabled:!1},overviewRulerBorder:!1,overviewRulerLanes:0,padding:{top:4,bottom:5},renderLineHighlight:"none",scrollbar:{vertical:"hidden",verticalScrollbarSize:8,horizontal:"hidden",horizontalScrollbarSize:0},scrollBeyondLastLine:!1,suggest:{showWords:!1},suggestFontSize:12,wordWrap:"on"},zR=YN.id;let FR=!1;const qR=e=>{const t=(0,r.useRef)((null===eR&&(eR={storageService:ZN()}),eR)),o=(0,r.useRef)(null),{languageProvider:i,history:l,onBlur:c,onRunQuery:u,initialValue:d,placeholder:p}=e,f=JN(i),h=JN(l),m=JN(u),g=JN(c),b=(0,r.useRef)(null),y=((e,t)=>({container:a.css`
      border-radius: ${e.shape.borderRadius()};
      border: 1px solid ${e.components.input.borderColor};
    `,placeholder:a.css`
      ::after {
        content: '${t}';
        font-family: ${e.typography.fontFamilyMonospace};
        opacity: 0.3;
      }
    `}))((0,lm.useTheme2)(),p);return(0,r.useEffect)((()=>()=>{var e;null===(e=b.current)||void 0===e||e.call(b)}),[]),n().createElement("div",{"aria-label":s.selectors.components.QueryField.container,className:y.container,ref:o},n().createElement(lm.ReactMonacoEditor,{overrideServices:t.current,options:VR,language:"promql",value:d,beforeMount:e=>{!function(e){if(!1===FR){FR=!0;const{aliases:t,extensions:r,mimetypes:n,loader:o}=YN;e.languages.register({id:zR,aliases:t,extensions:r,mimetypes:n}),o().then((t=>{e.languages.setMonarchTokensProvider(zR,t.language),e.languages.setLanguageConfiguration(zR,t.languageConfiguration)}))}}(e)},onMount:(e,t)=>{e.onDidBlurEditorWidget((()=>{g.current(e.getValue())}));const r={getSeries:e=>f.current.getSeries(e),getHistory:()=>Promise.resolve(h.current.map((e=>e.query.expr)).filter((e=>void 0!==e))),getAllMetricNames:()=>{const{metrics:e,metricsMetadata:t}=f.current,r=e.map((e=>{const r=null==t?void 0:t[e];var n,o;return{name:e,help:null!==(n=null==r?void 0:r.help)&&void 0!==n?n:"",type:null!==(o=null==r?void 0:r.type)&&void 0!==o?o:""}}));return Promise.resolve(r)},getAllLabelNames:()=>Promise.resolve(f.current.getLabelKeys()),getLabelValues:e=>f.current.getLabelValues(e)},n=function(e,t){return{triggerCharacters:["{",",","[","(","=","~"," ",'"'],provideCompletionItems:(r,n)=>{const o=r.getWordAtPosition(n),i=null!=o?e.Range.lift({startLineNumber:n.lineNumber,endLineNumber:n.lineNumber,startColumn:o.startColumn,endColumn:o.endColumn}):e.Range.fromPositions(n),a={column:n.column,lineNumber:n.lineNumber},s=r.getOffsetAt(a),l=function(e,t){if(""===e)return{type:"EMPTY"};const r=Wp.parse(e),n=function(e,t){const r=e.cursorAt(t);for(;;){if(r.from===t&&r.to===t){const{node:e}=r;if(e.type.isError)return e}if(!r.next())break}return null}(r,t),o=null!=n?n.cursor():r.cursorAt(t),i=o.node,a=[o.type.id];for(;o.parent();)a.push(o.type.id);for(let r of IR)if(DR(r.path,a))return r.fun(i,e,t);return null}(r.getValue(),s),c=null!=l?function(e,t){return kR.apply(this,arguments)}(l,t):Promise.resolve([]);return c.then((t=>{const r=t.length.toString().length;return{suggestions:t.map(((t,n)=>({kind:LR(t.type,e),label:t.label,insertText:t.insertText,detail:t.detail,documentation:{value:t.documentation},sortText:n.toString().padStart(r,"0"),range:i,command:t.triggerOnInsert?{id:"editor.action.triggerSuggest",title:""}:void 0})))}}))}}}(t,r),i=(s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){$R(e,t,r[t])}))}return e}({},n),l={provideCompletionItems:(t,r,o,i)=>{var a;return(null===(a=e.getModel())||void 0===a?void 0:a.id)!==t.id?{suggestions:[]}:n.provideCompletionItems(t,r,o,i)}},l=null!=l?l:{},Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(l)).forEach((function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(l,e))})),s),{dispose:a}=t.languages.registerCompletionItemProvider(zR,i);var s,l;b.current=a;const c=()=>{const t=o.current;if(null!==t){const r=e.getContentHeight();t.style.height=`${r+2}px`,t.style.width="100%";const n=t.clientWidth;e.layout({width:n,height:r})}};if(e.onDidContentSizeChange(c),c(),e.addCommand(t.KeyMod.Shift|t.KeyCode.Enter,(()=>{m.current(e.getValue())})),e.addCommand(t.KeyMod.CtrlCmd|t.KeyCode.KeyK,(function(){v.g.dispatchEvent(new KeyboardEvent("keydown",{key:"k",metaKey:!0}))})),p){const r=[{range:new t.Range(1,1,1,1),contents:[{value:"**bold** _italics_ regular `code`"}],options:{className:y.placeholder,isWholeLine:!0}}];let n=[];const o=()=>{const t=e.getModel();if(!t)return;const o=0===t.getValueLength()?r:[];n=t.deltaDecorations(n,o)};o(),e.onDidChangeModelContent(o)}}}))};function BR(){return BR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BR.apply(this,arguments)}const HR=e=>n().createElement(r.Suspense,{fallback:null},n().createElement(qR,BR({},e)));function WR(){return WR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WR.apply(this,arguments)}const UR=e=>{const t=(0,r.useRef)(null),{runQueryOnBlur:o,onRunQuery:i,onChange:a}=e,s=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["runQueryOnBlur","onRunQuery","onChange"]),l=e=>{t.current=e,a(e),i()};return n().createElement(HR,WR({onRunQuery:l,onBlur:e=>{o?e!==t.current&&l(e):a(e)}},s))};function QR(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function GR(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){QR(i,n,o,a,s,"next",e)}function s(e){QR(i,n,o,a,s,"throw",e)}a(void 0)}))}}function XR(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){XR(e,t,r[t])}))}return e}function YR(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}class JR extends n().PureComponent{componentDidMount(){this.props.datasource.languageProvider&&this.refreshMetrics(),this.refreshHint()}componentWillUnmount(){this.languageProviderInitializationPromise&&this.languageProviderInitializationPromise.cancel()}componentDidUpdate(e){const{data:t,datasource:{languageProvider:r},range:n}=this.props;r!==e.datasource.languageProvider&&this.setState({syntaxLoaded:!1});const o=this.rangeChangedToRefresh(n,e.range);(r!==e.datasource.languageProvider||o)&&this.refreshMetrics(),t&&e.data&&e.data.series!==t.series&&this.refreshHint()}rangeChangedToRefresh(e,t){if(e&&t){const r=mm(e.from.valueOf())===mm(t.from.valueOf()),n=mm(e.to.valueOf())===mm(t.to.valueOf());return!(r&&n)}return!1}render(){const{datasource:e,datasource:{languageProvider:r},query:o,ExtraFieldElement:i,history:a=[]}=this.props,{labelBrowserVisible:s,syntaxLoaded:l,hint:c}=this.state,u=r.metrics.length>0,d=function(e,t,r){return e?"(Disabled)":t?r?"Metrics browser":"(No metrics found)":"Loading metrics..."}(e.lookupsDisabled,l,u),p=!(l&&u);return n().createElement(JD,{storageKey:"grafana.datasources.prometheus.browser.labels",defaultValue:[]},((e,l,u)=>{var f;return n().createElement(n().Fragment,null,n().createElement("div",{className:"gf-form-inline gf-form-inline--xs-view-flex-column flex-grow-1","data-testid":this.props["data-testid"]},n().createElement("button",{className:"gf-form-label query-keyword pointer",onClick:this.onClickChooserButton,disabled:p},d,n().createElement(ce,{name:s?"angle-down":"angle-right"})),n().createElement("div",{className:"gf-form gf-form--grow flex-shrink-1 min-width-15"},n().createElement(UR,{runQueryOnBlur:this.props.app!==t.CoreApp.Explore,languageProvider:r,history:a,onChange:this.onChangeQuery,onRunQuery:this.props.onRunQuery,initialValue:null!==(f=o.expr)&&void 0!==f?f:"",placeholder:"Enter a PromQL query…"}))),s&&n().createElement("div",{className:"gf-form"},n().createElement(KN,{languageProvider:r,onChange:this.onChangeLabelBrowser,lastUsedLabels:e||[],storeLastUsedLabels:l,deleteLastUsedLabels:u})),i,c?n().createElement("div",{className:"query-row-break"},n().createElement("div",{className:"prom-query-field-info text-warning"},c.label," ",c.fix?n().createElement("a",{className:"text-link muted",onClick:this.onClickHintFix},c.fix.label):null)):null)}))}constructor(e,r){super(e,r),this.refreshHint=()=>{const{datasource:e,query:r,data:n}=this.props,o=e.getInitHints(),i=o.length>0?o[0]:null;if(!n||0===n.series.length)return void this.setState({hint:i});const a=(0,t.isDataFrame)(n.series[0])?n.series.map(t.toLegacyResponseData):n.series,s=e.getQueryHints(r,a);let l=s.length>0?s[0]:null;this.setState({hint:null!=l?l:i})};var n=this;this.refreshMetrics=GR((function*(){const{datasource:{languageProvider:e}}=n.props;n.languageProviderInitializationPromise=(e=>{let t=!1;return{promise:new Promise(((r,n)=>{const o={isCanceled:!0};e.then((e=>t?n(o):r(e))),e.catch((e=>n(t?o:e)))})),cancel(){t=!0}}})(e.start());try{const e=yield n.languageProviderInitializationPromise.promise;yield Promise.all(e),n.onUpdateLanguage()}catch(e){if("object"!=typeof(t=e)||null===t||!("isCanceled"in t)||!e.isCanceled)throw e}var t})),this.onChangeLabelBrowser=e=>{this.onChangeQuery(e,!0),this.setState({labelBrowserVisible:!1})},this.onChangeQuery=(e,t)=>{const{query:r,onChange:n,onRunQuery:o}=this.props;n&&(n(YR(KR({},r),{expr:e})),t&&o&&o())},this.onClickChooserButton=()=>{var e,t;this.setState((e=>({labelBrowserVisible:!e.labelBrowserVisible}))),(0,i.reportInteraction)("user_grafana_prometheus_metrics_browser_clicked",{editorMode:this.state.labelBrowserVisible?"metricViewClosed":"metricViewOpen",app:null!==(t=null===(e=this.props)||void 0===e?void 0:e.app)&&void 0!==t?t:""})},this.onClickHintFix=()=>{var e;const{datasource:t,query:r,onChange:n,onRunQuery:o}=this.props,{hint:i}=this.state;(null==i||null===(e=i.fix)||void 0===e?void 0:e.action)&&n(t.modifyQuery(r,i.fix.action)),o()},this.onUpdateLanguage=()=>{const{datasource:{languageProvider:e}}=this.props,{metrics:t}=e;t&&this.setState({syntaxLoaded:!0})};var o=this;this.onTypeahead=function(){var e=GR((function*(e){const{datasource:{languageProvider:t}}=o.props;if(!t)return{suggestions:[]};const{history:r}=o.props,{prefix:n,text:i,value:a,wrapperClasses:s,labelKey:l}=e;return yield t.provideCompletionItems({text:i,value:a,prefix:n,wrapperClasses:s,labelKey:l},{history:r})}));return function(t){return e.apply(this,arguments)}}(),this.plugins=[{onKeyDown(e,t,r){const{value:n}=t;switch(e.key){case"(":case"{":case"[":{const{start:{offset:r,key:o},end:{offset:i,key:a},focus:{offset:s}}=n.selection,l=n.focusText.text;if(n.selection.isExpanded)return e.preventDefault(),t.insertTextByKey(o,r,e.key).insertTextByKey(a,i+1,sI[e.key]).moveEndBackward(1),!0;if(s===l.length||" "===l[s]||Object.values(sI).includes(l[s])){e.preventDefault();const n=sI[e.key],s={key:`brace_match-${aI()}`,type:`brace_match-${n}`,anchor:{key:o,offset:r,object:"point"},focus:{key:a,offset:i+1,object:"point"},object:"annotation"};return t.insertText(e.key).insertText(n).addAnnotation(s).moveBackward(1),!0}break}case")":case"}":case"]":{const r=n.anchorText.text[n.selection.anchor.offset],o=e.key,i=`brace_match-${o}`,a=n.annotations.find((e=>(null==e?void 0:e.type)===i&&e.anchor.key===n.anchorText.key));if(a&&r===o&&!n.selection.isExpanded)return e.preventDefault(),t.moveFocusForward(1).removeAnnotation(a).moveAnchorForward(1),!0;break}case"Backspace":{const r=n.anchorText.text,o=n.selection.anchor.offset,i=r[o-1],a=r[o];if(sI[i]&&sI[i]===a)return e.preventDefault(),t.deleteBackward(1).deleteForward(1).focus(),!0}}return r()}},gN({onlyIn:e=>"code_block"===e.type,getSyntax:e=>"promql"},YR(KR({},am.languages),{promql:this.props.datasource.languageProvider.syntax}))],this.state={labelBrowserVisible:!1,syntaxLoaded:!1,hint:null}}}const ZR=JR;function eL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{Switch:tL}=QD,rL=[{label:"Time series",value:"time_series"},{label:"Table",value:"table"},{label:"Heatmap",value:"heatmap"}],nL=(0,su.map)([1,2,3,4,5,10],(e=>({value:e,label:"1/"+e})));class oL extends r.PureComponent{render(){const{datasource:e,query:r,range:o,data:i}=this.props,{formatOption:a,instant:s,interval:l,intervalFactorOption:c,legendFormat:u}=this.state,d=this.props.app!==t.CoreApp.UnifiedAlerting;return n().createElement(ZR,{datasource:e,query:r,range:o,onRunQuery:this.onRunQuery,onChange:this.onFieldChange,history:[],data:i,"data-testid":iL.editor,ExtraFieldElement:n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(sD,{width:7,tooltip:"Controls the name of the time series, using name or pattern. For example {{hostname}} will be replaced with label value for the label hostname."},"Legend"),n().createElement("input",{type:"text",className:"gf-form-input",placeholder:"legend format",value:u,onChange:this.onLegendChange,onBlur:this.onRunQuery})),n().createElement("div",{className:"gf-form"},n().createElement(sD,{width:7,tooltip:n().createElement(n().Fragment,null,"An additional lower limit for the step parameter of the Prometheus query and for the"," ",n().createElement("code",null,"$__interval")," and ",n().createElement("code",null,"$__rate_interval"),' variables. The limit is absolute and not modified by the "Resolution" setting.')},"Min step"),n().createElement("input",{type:"text",className:"gf-form-input width-8","aria-label":"Set lower limit for the step parameter",placeholder:l,onChange:this.onIntervalChange,onBlur:this.onRunQuery,value:l})),n().createElement("div",{className:"gf-form"},n().createElement("div",{className:"gf-form-label"},"Resolution"),n().createElement($c,{"aria-label":"Select resolution",isSearchable:!1,options:nL,onChange:this.onIntervalFactorChange,value:c})),n().createElement("div",{className:"gf-form"},n().createElement("div",{className:"gf-form-label width-7"},"Format"),n().createElement($c,{className:"select-container",width:16,isSearchable:!1,options:rL,onChange:this.onFormatChange,value:a,"aria-label":"Select format"}),n().createElement(tL,{label:"Instant",checked:s,onChange:this.onInstantChange}),n().createElement(sD,{width:10,tooltip:"Link to Graph in Prometheus"},n().createElement(YD,{datasource:e,query:this.query,panelData:i}))),d&&n().createElement(dD,{onChange:this.onExemplarChange,datasource:e,query:this.query,"data-testid":iL.exemplar}))})}constructor(e){super(e),this.onFieldChange=(e,t)=>{this.query.expr=e.expr},this.onFormatChange=e=>{this.query.format=e.value,this.setState({formatOption:e},this.onRunQuery)},this.onInstantChange=e=>{const t=e.target.checked;this.query.instant=t,this.setState({instant:t},this.onRunQuery)},this.onIntervalChange=e=>{const t=e.currentTarget.value;this.query.interval=t,this.setState({interval:t})},this.onIntervalFactorChange=e=>{this.query.intervalFactor=e.value,this.setState({intervalFactorOption:e},this.onRunQuery)},this.onLegendChange=e=>{const t=e.currentTarget.value;this.query.legendFormat=t,this.setState({legendFormat:t})},this.onExemplarChange=e=>{this.query.exemplar=e,this.setState({exemplar:e},this.onRunQuery)},this.onRunQuery=()=>{const{query:e}=this,{hide:t}=this.props.query;var r,n;this.props.onChange((r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){eL(e,t,r[t])}))}return e}({},e),n=null!=(n={hide:t})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))})),r)),this.props.onRunQuery()};const r={expr:"",legendFormat:"",interval:"",exemplar:e.app!==t.CoreApp.UnifiedAlerting},n=Object.assign({},r,e.query);this.query=n,this.state={interval:n.interval,legendFormat:n.legendFormat,formatOption:rL.find((e=>e.value===n.format))||rL[0],intervalFactorOption:nL.find((e=>e.value===n.intervalFactor))||nL[0],instant:Boolean(n.instant),exemplar:Boolean(n.exemplar)}}}const iL={editor:"prom-editor",exemplar:"exemplar-editor"};var aL=function(e,t){return"boolean"==typeof t?t:!e};function sL({title:e,children:t,collapsedInfo:o}){const[i,a]=(l=!1,(0,r.useReducer)(aL,l)),s=O(lL);var l;return n().createElement(Xc,{gap:0,direction:"column"},n().createElement("div",{className:s.header,onClick:a,title:"Click to edit options"},n().createElement("div",{className:s.toggle},n().createElement(ce,{name:i?"angle-down":"angle-right"})),n().createElement("h6",{className:s.title},e),!i&&n().createElement("div",{className:s.description},o.map(((e,t)=>n().createElement("span",{key:t},e))))),i&&n().createElement("div",{className:s.body},t))}const lL=e=>({switchLabel:(0,a.css)({color:e.colors.text.secondary,cursor:"pointer",fontSize:e.typography.bodySmall.fontSize,"&:hover":{color:e.colors.text.primary}}),header:(0,a.css)({display:"flex",cursor:"pointer",alignItems:"baseline",color:e.colors.text.primary,"&:hover":{background:e.colors.emphasize(e.colors.background.primary,.03)}}),title:(0,a.css)({flexGrow:1,overflow:"hidden",fontSize:e.typography.bodySmall.fontSize,fontWeight:e.typography.fontWeightMedium,margin:0}),description:(0,a.css)({color:e.colors.text.secondary,fontSize:e.typography.bodySmall.fontSize,paddingLeft:e.spacing(2),gap:e.spacing(2),display:"flex"}),body:(0,a.css)({display:"flex",paddingTop:e.spacing(2),gap:e.spacing(2),flexWrap:"wrap"}),toggle:(0,a.css)({color:e.colors.text.secondary,marginRight:`${e.spacing(1)}`})}),cL=[{label:"Auto",value:Rf.Auto,description:"Only includes unique labels"},{label:"Verbose",value:Rf.Verbose,description:"All label names and values"},{label:"Custom",value:Rf.Custom,description:"Provide a naming template"}],uL=n().memo((({legendFormat:e,onChange:t,onRunQuery:o})=>{const i=dL(e),a=(0,r.useRef)(null);return n().createElement(Xm,{label:"Legend",tooltip:"Series name override or template. Ex. {{hostname}} will be replaced with label value for hostname."},n().createElement(n().Fragment,null,i===Rf.Custom&&n().createElement(JC,{id:"legendFormat",minWidth:22,placeholder:"auto",defaultValue:e,onCommitChange:r=>{let n=r.currentTarget.value;0===n.length&&(n=Rf.Auto),n!==e&&(t(n),o())},ref:a}),i!==Rf.Custom&&n().createElement($c,{inputId:"legend.mode",isSearchable:!1,placeholder:"Select legend mode",options:cL,width:22,onChange:e=>{switch(e.value){case Rf.Auto:t(Rf.Auto);break;case Rf.Custom:t("{{label_name}}"),setTimeout((()=>{var e,t;null===(e=a.current)||void 0===e||e.focus(),null===(t=a.current)||void 0===t||t.setSelectionRange(2,12,"forward")}),10);break;case Rf.Verbose:t("")}o()},value:cL.find((e=>e.value===i))})))}));function dL(e){return e===Rf.Auto?Rf.Auto:null==e||""===e?Rf.Verbose:Rf.Custom}function pL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){pL(e,t,r[t])}))}return e}function hL(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}uL.displayName="PromQueryLegendEditor";const mL=n().memo((({query:e,app:r,onChange:o,onRunQuery:i})=>{const a=vD(r===t.CoreApp.Explore||r===t.CoreApp.PanelEditor),s=bD(e,o),l=rL.find((t=>t.value===e.format))||rL[0],c=function(e){return e.range&&e.instant?"both":e.instant?"instant":"range"}(e),u=a.find((e=>e.value===c)).label;return n().createElement(rm,null,n().createElement(sL,{title:"Options",collapsedInfo:vL(e,l.label,u,r)},n().createElement(uL,{legendFormat:e.legendFormat,onChange:t=>o(hL(fL({},e),{legendFormat:t})),onRunQuery:i}),n().createElement(Xm,{label:"Min step",tooltip:n().createElement(n().Fragment,null,"An additional lower limit for the step parameter of the Prometheus query and for the"," ",n().createElement("code",null,"$__interval")," and ",n().createElement("code",null,"$__rate_interval")," variables.")},n().createElement(JC,{type:"text","aria-label":"Set lower limit for the step parameter",placeholder:"auto",minWidth:10,onCommitChange:t=>{o(hL(fL({},e),{interval:t.currentTarget.value})),i()},defaultValue:e.interval})),n().createElement(Xm,{label:"Format"},n().createElement($c,{value:l,allowCustomValue:!0,onChange:t=>{o(hL(fL({},e),{format:t.value})),i()},options:rL})),n().createElement(Xm,{label:"Type"},n().createElement(wf,{options:a,value:c,onChange:s})),gL(e,r)&&n().createElement(Xm,{label:"Exemplars"},n().createElement(oD,{value:e.exemplar||!1,onChange:t=>{const r=t.currentTarget.checked;o(hL(fL({},e),{exemplar:r})),i()}})),e.intervalFactor&&e.intervalFactor>1&&n().createElement(Xm,{label:"Resolution"},n().createElement($c,{"aria-label":"Select resolution",isSearchable:!1,options:nL,onChange:t=>{o(hL(fL({},e),{intervalFactor:t.value})),i()},value:nL.find((t=>t.value===e.intervalFactor))}))))}));function gL(e,r){return!(r===t.CoreApp.UnifiedAlerting||!e.range)}function vL(e,t,r,n){const o=[];var i;return o.push(`Legend: ${function(e){const t=dL(e);var r;return t!==Rf.Custom?null===(r=cL.find((e=>e.value===t)))||void 0===r?void 0:r.label:e}(e.legendFormat)}`),o.push(`Format: ${t}`),o.push(`Step: ${null!==(i=e.interval)&&void 0!==i?i:"auto"}`),o.push(`Type: ${r}`),gL(e,n)&&(e.exemplar?o.push("Exemplars: true"):o.push("Exemplars: false")),o}function bL(e){const{query:t,datasource:r,range:o,onRunQuery:i,onChange:a,data:s,app:l,showExplain:c}=e,u=O(yL);return n().createElement("div",{className:u.wrapper},n().createElement(ZR,{datasource:r,query:t,range:o,onRunQuery:i,onChange:a,history:[],data:s,"data-testid":iL.editor,app:l}),c&&n().createElement(WT,{query:t.expr}))}mL.displayName="PromQueryBuilderOptions";const yL=e=>({wrapper:a.css`
      .gf-form {
        margin-bottom: 0;
      }
    `});function wL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OL(){return OL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OL.apply(this,arguments)}const xL=n().memo((e=>{const{onChange:o,onRunQuery:a,data:s,app:l}=e,[c,u]=(0,r.useState)(!1),[d,p]=(0,r.useState)(!1),{flag:f,setFlag:h}=Mf("PrometheusQueryEditorExplainDefault"),{flag:m,setFlag:g}=Mf("PrometheusQueryEditorRawQueryDefault",!0),v=function(e,r){let n=e;return e.editorMode||(n=zf(Vf({},e),{editorMode:Bf(e.expr)})),null==e.expr&&(n=zf(Vf({},n),{expr:"",legendFormat:Rf.Auto})),null==e.range&&null==e.instant&&(n=zf(Vf({},n),{range:!0}),r===t.CoreApp.Explore&&(n.instant=!0)),n}(e.query,l),b=v.editorMode,y=(0,r.useCallback)((e=>{var t;(0,i.reportInteraction)("user_grafana_prometheus_editor_mode_clicked",{newEditor:e,previousEditor:null!==(t=v.editorMode)&&void 0!==t?t:"",newQuery:!v.expr,app:null!=l?l:""}),e===xf.Builder&&af(v.expr||"").errors.length?u(!0):qf(v,e,o)}),[o,v,l]);return(0,r.useEffect)((()=>{p(!1)}),[s]),n().createElement(n().Fragment,null,n().createElement(Oo,{isOpen:c,title:"Query parsing",body:"There were errors while trying to parse the query. Continuing to visual builder may lose some parts of the query.",confirmText:"Continue",onConfirm:()=>{qf(v,xf.Builder,o),u(!1)},onDismiss:()=>u(!1)}),n().createElement(_o,null,n().createElement(zc,{value:null,placeholder:"Query patterns",allowCustomValue:!0,onChange:({value:e})=>{const t=af(v.expr||"");var r,n;t.query.operations=null==e?void 0:e.operations,o((r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){wL(e,t,r[t])}))}return e}({},v),n=null!=(n={expr:Yu.renderQuery(t.query)})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))})),r))},options:Yu.getQueryPatterns().map((e=>({label:e.name,value:e})))}),n().createElement(If,{label:"Explain",value:f,onChange:e=>{h(e.currentTarget.checked)}}),b===xf.Builder&&n().createElement(n().Fragment,null,n().createElement(If,{label:"Raw query",value:m,onChange:e=>{const t=e.currentTarget.checked;g(t)}}),n().createElement(uf,{feedbackUrl:"https://github.com/grafana/grafana/discussions/47693"})),n().createElement(Hc,{grow:1}),l!==t.CoreApp.Explore&&n().createElement(or,{variant:d?"primary":"secondary",size:"sm",onClick:a,icon:(null==s?void 0:s.state)===t.LoadingState.Loading?"fa fa-spinner":void 0,disabled:(null==s?void 0:s.state)===t.LoadingState.Loading},"Run queries"),n().createElement(Ef,{mode:b,onChange:y})),n().createElement(Wc,{v:.5}),n().createElement(eu,null,b===xf.Code&&n().createElement(bL,OL({},e,{query:v,showExplain:f})),b===xf.Builder&&n().createElement(ZT,{query:v,datasource:e.datasource,onChange:e=>{p(!0),o(e)},onRunQuery:e.onRunQuery,data:s,showRawQuery:m,showExplain:f}),n().createElement(mL,{query:v,app:e.app,onChange:o,onRunQuery:a})))}));function _L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){_L(e,t,r[t])}))}return e}function SL(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}xL.displayName="PromQueryEditorSelector";const kL=(0,r.memo)((e=>{const{range:o,query:i,data:a,datasource:s,history:l,onChange:c,onRunQuery:u}=e;return(0,r.useEffect)((()=>{void 0===i.expr&&c(SL(EL({},i),{expr:""})),void 0===i.exemplar&&c(SL(EL({},i),{exemplar:!0})),i.instant||i.range||i.expr||c(SL(EL({},i),{instant:!0,range:!0}))}),[c,i]),n().createElement(ZR,{app:t.CoreApp.Explore,datasource:s,query:i,range:o,onRunQuery:u,onChange:c,onBlur:()=>{},history:l,data:a,"data-testid":PL.editor,ExtraFieldElement:n().createElement(gD,{query:i,onChange:c,datasource:s,onRunQuery:u})})}));kL.displayName="PromExploreQueryEditor";const PL={editor:"prom-editor-explore"};function CL(e){const{datasource:t,query:r,range:o,data:i,onChange:a,onRunQuery:s}=e;return n().createElement(ZR,{datasource:t,query:r,onRunQuery:s,onChange:a,history:[],range:o,data:i,"data-testid":TL.editor})}const TL={editor:"prom-editor-cloud-alerting"};function DL(){return DL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DL.apply(this,arguments)}function IL(e){const{app:r}=e;switch(r){case t.CoreApp.CloudAlerting:return n().createElement(CL,DL({},e));case t.CoreApp.Explore:return i.config.featureToggles.promQueryBuilder?n().createElement(xL,DL({},e)):n().createElement(kL,DL({},e));default:return i.config.featureToggles.promQueryBuilder?n().createElement(xL,DL({},e)):n().createElement(oL,DL({},e))}}const AL=(0,r.memo)(IL);var jL,ML,NL,RL,LL,$L,VL,zL,FL,qL,BL,HL,WL,UL,QL,GL,XL,KL,YL,JL,ZL,e$,t$,r$,n$,o$=v(22199);function i$(){return Object.values(i.config.datasources)}!function(e){e.Active="active",e.Expired="expired",e.Pending="pending"}(jL||(jL={})),function(e){e.Unprocessed="unprocessed",e.Active="active",e.Suppressed="suppressed"}(ML||(ML={})),(QL=NL||(NL={})).equal="=",QL.notEqual="!=",QL.regex="=~",QL.notRegex="!~",function(e){e.Internal="internal",e.External="external",e.All="all"}(RL||(RL={})),(UL=LL||(LL={})).cortex="cortex",UL.mimir="mimir",UL.prometheus="prometheus",function(e){e.Home="home-dashboard",e.New="new-dashboard",e.Normal="normal-dashboard",e.Path="path-dashboard",e.Scripted="scripted-dashboard",e.Public="public-dashboard"}($L||($L={})),function(e){e.NotStarted="Not started",e.Fetching="Fetching",e.Services="Services",e.Failed="Failed",e.Completed="Completed"}(VL||(VL={})),function(e){e.Off="off",e.TV="tv",e.Full="full"}(zL||(zL={})),function(e){e.Viewer="Viewer",e.Editor="Editor",e.Admin="Admin"}(FL||(FL={})),function(e){e[e.View=1]="View",e[e.Edit=2]="Edit",e[e.Admin=4]="Admin"}(qL||(qL={})),function(e){e.View="View",e.Edit="Edit",e.Admin="Admin"}(BL||(BL={})),function(e){e[e.Query=1]="Query",e[e.Admin=2]="Admin"}(HL||(HL={})),function(e){e.Team="Team",e.User="User",e.Viewer="Viewer",e.Editor="Editor"}(WL||(WL={})),HL.Query,WL.Team,WL.User,WL.Viewer,WL.Editor,qL.View,BL.View,qL.Edit,BL.Edit,qL.Admin,function(e){e[e.Member=0]="Member",e[e.Admin=4]="Admin"}(GL||(GL={})),GL.Member,GL.Admin,function(e){e.All="All",e.WithExpiredTokens="WithExpiredTokens",e.Disabled="Disabled"}(XL||(XL={})),function(e){e.Success="success",e.Warning="warning",e.Error="error",e.Info="info"}(KL||(KL={})),function(e){e[e.Success=3e3]="Success",e[e.Warning=5e3]="Warning",e[e.Error=7e3]="Error"}(YL||(YL={})),KL.Success,YL.Success,KL.Warning,YL.Warning,KL.Error,YL.Error,KL.Info,YL.Success,function(e){e.left="left",e.right="right"}(JL||(JL={})),(n$=ZL||(ZL={})).UsersRead="users:read",n$.UsersWrite="users:write",n$.UsersAuthTokenList="users.authtoken:read",n$.UsersAuthTokenUpdate="users.authtoken:write",n$.UsersPasswordUpdate="users.password:write",n$.UsersDelete="users:delete",n$.UsersCreate="users:create",n$.UsersEnable="users:enable",n$.UsersDisable="users:disable",n$.UsersPermissionsUpdate="users.permissions:write",n$.UsersLogout="users:logout",n$.UsersQuotasList="users.quotas:read",n$.UsersQuotasUpdate="users.quotas:write",n$.ServiceAccountsRead="serviceaccounts:read",n$.ServiceAccountsCreate="serviceaccounts:create",n$.ServiceAccountsWrite="serviceaccounts:write",n$.ServiceAccountsDelete="serviceaccounts:delete",n$.ServiceAccountsPermissionsRead="serviceaccounts.permissions:read",n$.ServiceAccountsPermissionsWrite="serviceaccounts.permissions:write",n$.OrgsRead="orgs:read",n$.OrgsPreferencesRead="orgs.preferences:read",n$.OrgsWrite="orgs:write",n$.OrgsPreferencesWrite="orgs.preferences:write",n$.OrgsCreate="orgs:create",n$.OrgsDelete="orgs:delete",n$.OrgUsersRead="org.users:read",n$.OrgUsersAdd="org.users:add",n$.OrgUsersRemove="org.users:remove",n$.OrgUsersWrite="org.users:write",n$.LDAPUsersRead="ldap.user:read",n$.LDAPUsersSync="ldap.user:sync",n$.LDAPStatusRead="ldap.status:read",n$.DataSourcesExplore="datasources:explore",n$.DataSourcesRead="datasources:read",n$.DataSourcesCreate="datasources:create",n$.DataSourcesWrite="datasources:write",n$.DataSourcesDelete="datasources:delete",n$.DataSourcesPermissionsRead="datasources.permissions:read",n$.DataSourcesCachingRead="datasources.caching:read",n$.DataSourcesInsightsRead="datasources.insights:read",n$.ActionServerStatsRead="server.stats:read",n$.ActionTeamsCreate="teams:create",n$.ActionTeamsDelete="teams:delete",n$.ActionTeamsRead="teams:read",n$.ActionTeamsWrite="teams:write",n$.ActionTeamsPermissionsRead="teams.permissions:read",n$.ActionTeamsPermissionsWrite="teams.permissions:write",n$.ActionRolesList="roles:read",n$.ActionTeamsRolesList="teams.roles:read",n$.ActionTeamsRolesAdd="teams.roles:add",n$.ActionTeamsRolesRemove="teams.roles:remove",n$.ActionUserRolesList="users.roles:read",n$.ActionUserRolesAdd="users.roles:add",n$.ActionUserRolesRemove="users.roles:remove",n$.DashboardsRead="dashboards:read",n$.DashboardsWrite="dashboards:write",n$.DashboardsDelete="dashboards:delete",n$.DashboardsCreate="dashboards:create",n$.DashboardsPermissionsRead="dashboards.permissions:read",n$.DashboardsPermissionsWrite="dashboards.permissions:write",n$.DashboardsPublicWrite="dashboards.public:write",n$.FoldersRead="folders:read",n$.FoldersWrite="folders:write",n$.FoldersDelete="folders:delete",n$.FoldersCreate="folders:create",n$.FoldersPermissionsRead="folders.permissions:read",n$.FoldersPermissionsWrite="folders.permissions:write",n$.AlertingRuleCreate="alert.rules:create",n$.AlertingRuleRead="alert.rules:read",n$.AlertingRuleUpdate="alert.rules:write",n$.AlertingRuleDelete="alert.rules:delete",n$.AlertingInstanceCreate="alert.instances:create",n$.AlertingInstanceUpdate="alert.instances:write",n$.AlertingInstanceRead="alert.instances:read",n$.AlertingNotificationsRead="alert.notifications:read",n$.AlertingNotificationsWrite="alert.notifications:write",n$.AlertingRuleExternalWrite="alert.rules.external:write",n$.AlertingRuleExternalRead="alert.rules.external:read",n$.AlertingInstancesExternalWrite="alert.instances.external:write",n$.AlertingInstancesExternalRead="alert.instances.external:read",n$.AlertingNotificationsExternalWrite="alert.notifications.external:write",n$.AlertingNotificationsExternalRead="alert.notifications.external:read",n$.ActionAPIKeysRead="apikeys:read",n$.ActionAPIKeysCreate="apikeys:create",n$.ActionAPIKeysDelete="apikeys:delete",n$.PluginsInstall="plugins:install",n$.PluginsWrite="plugins:write";class a$ extends t.BusEventWithPayload{}a$.type="zoom-out",function(e){e[e.Left=-1]="Left",e[e.Right=1]="Right"}(e$||(e$={}));class s$ extends t.BusEventWithPayload{}s$.type="shift-time";class l$ extends t.BusEventBase{}l$.type="absolute-time";class c$ extends t.BusEventWithPayload{}c$.type="remove-panel";class u$ extends t.BusEventWithPayload{}u$.type="show-modal";class d$ extends t.BusEventWithPayload{}d$.type="show-confirm-modal";class p$ extends t.BusEventWithPayload{}p$.type="show-react-modal";class f$ extends t.BusEventBase{}f$.type="hide-modal";class h$ extends t.BusEventBase{}h$.type="dashboard-saved";class m$ extends t.BusEventWithPayload{}m$.type="annotation-query-started";class g$ extends t.BusEventWithPayload{}g$.type="annotation-query-finished";class v$ extends t.BusEventWithPayload{}v$.type="panel-edit-started";class b$ extends t.BusEventWithPayload{}b$.type="panel-edit-finished";const y$=i.config;function w$(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}Boolean((null===(t$=i.config.panels)||void 0===t$||null===(r$=t$.debug)||void 0===r$?void 0:r$.state)===t.PluginState.alpha);class O${constructor(){this.id=0,this.isGrafanaAdmin=!1,this.isSignedIn=!1,this.orgRole="",this.orgId=0,this.orgName="",this.login="",this.externalUserId="",this.orgCount=0,this.timezone="",this.fiscalYearStartMonth=0,this.helpFlags1=0,this.lightTheme=!1,this.hasEditPermissionInFolders=!1,this.email="",this.name="",this.locale="",this.weekStart="",this.gravatarUrl="",y$.bootData.user&&(0,su.extend)(this,y$.bootData.user)}}let x$=new class{fetchUserPermissions(){var e=this;return function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){w$(i,n,o,a,s,"next",e)}function s(e){w$(i,n,o,a,s,"throw",e)}a(void 0)}))}}((function*(){try{e.accessControlEnabled()&&(e.user.permissions=yield(0,i.getBackendSrv)().get("/api/access-control/user/permissions",{reloadcache:!0}))}catch(e){console.error(e)}}))()}setLoggedOut(){this.user.isSignedIn=!1,this.isSignedIn=!1}hasRole(e){return"ServerAdmin"===e?this.isGrafanaAdmin:this.user.orgRole===e}accessControlEnabled(){return y$.rbacEnabled}licensedAccessControlEnabled(){return(0,i.featureEnabled)("accesscontrol")&&y$.rbacEnabled}hasPermissionInMetadata(e,t){var r;return!this.accessControlEnabled()||!!(null===(r=t.accessControl)||void 0===r?void 0:r[e])}hasPermission(e){var t;return!this.accessControlEnabled()||!!(null===(t=this.user.permissions)||void 0===t?void 0:t[e])}isGrafanaVisible(){return void 0===document.visibilityState||"visible"===document.visibilityState}isAllowedInterval(e){return!y$.minRefreshInterval||t.rangeUtil.intervalToMs(e)>=t.rangeUtil.intervalToMs(y$.minRefreshInterval)}getValidInterval(e){return this.isAllowedInterval(e)?e:y$.minRefreshInterval}hasAccessToExplore(){return this.accessControlEnabled()?this.hasPermission(ZL.DataSourcesExplore):(this.isEditor||y$.viewersCanEdit)&&y$.exploreEnabled}hasAccess(e,t){return this.accessControlEnabled()?this.hasPermission(e):t}hasAccessInMetadata(e,t,r){return this.accessControlEnabled()?this.hasPermissionInMetadata(e,t):r}evaluatePermission(e,t){return this.accessControlEnabled()?t.some((e=>this.hasPermission(e)))?[]:["Reject"]:e()}constructor(){this.sidemenuSmallBreakpoint=!1,y$.bootData||(y$.bootData={user:{},settings:{}}),this.user=new O$,this.isSignedIn=this.user.isSignedIn,this.isGrafanaAdmin=this.user.isGrafanaAdmin,this.isEditor=this.hasRole("Editor")||this.hasRole("Admin"),this.hasEditPermissionInFolders=this.user.hasEditPermissionInFolders,this.minRefreshInterval=y$.minRefreshInterval}};ZL.AlertingInstanceRead,ZL.AlertingInstancesExternalRead,ZL.AlertingInstanceCreate,ZL.AlertingInstancesExternalWrite,ZL.AlertingInstanceUpdate,ZL.AlertingInstancesExternalWrite,ZL.AlertingInstanceUpdate,ZL.AlertingInstancesExternalWrite,ZL.AlertingNotificationsRead,ZL.AlertingNotificationsExternalRead,ZL.AlertingNotificationsWrite,ZL.AlertingNotificationsExternalWrite,ZL.AlertingNotificationsWrite,ZL.AlertingNotificationsExternalWrite,ZL.AlertingNotificationsWrite,ZL.AlertingNotificationsExternalWrite,ZL.AlertingRuleRead,ZL.AlertingRuleExternalRead,ZL.AlertingRuleCreate,ZL.AlertingRuleExternalWrite,ZL.AlertingRuleUpdate,ZL.AlertingRuleExternalWrite,ZL.AlertingRuleDelete,ZL.AlertingRuleExternalWrite;const _$="grafana";var E$;function S$(e){if(e===_$)return _$;const t=(r=e,i$().find((e=>e.name===r)));var r;if(!t)throw new Error(`Datasource "${e}" not found`);return t.uid}function k$(){return k$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k$.apply(this,arguments)}!function(e){e.Alertmanager="alertmanager",e.Loki="loki",e.Prometheus="prometheus"}(E$||(E$={})),E$.Loki,E$.Prometheus,NL.equal,NL.equal,NL.notEqual,NL.notEqual,NL.regex,NL.regex,NL.notRegex,NL.notRegex,NL.regex,NL.notRegex,NL.notEqual,NL.equal;const P$=e=>{var{children:t,className:r}=e,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["children","className"]);const i=O(C$);return n().createElement("div",k$({className:(0,a.cx)(i.container,r)},o),t)},C$=e=>({container:a.css`
      label: InlineFieldRow;
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
      align-content: flex-start;
      row-gap: ${e.spacing(.5)};
    `});function T$(){return T$=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T$.apply(this,arguments)}const D$=e=>{var{children:t,label:r,tooltip:o,labelWidth:i="auto",invalid:s,loading:l,disabled:c,required:u,className:d,htmlFor:p,grow:f,shrink:h,error:m,transparent:g,interactive:v}=e,b=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["children","label","tooltip","labelWidth","invalid","loading","disabled","required","className","htmlFor","grow","shrink","error","transparent","interactive"]);const y=w(),O=I$(y,f,h),x=null!=p?p:$m(t),_="string"==typeof r?n().createElement(cD,{interactive:v,width:i,tooltip:o,htmlFor:x,transparent:g},`${r}${u?" *":""}`):r;return n().createElement("div",T$({className:(0,a.cx)(O.container,d)},b),_,n().createElement("div",{className:O.childContainer},n().cloneElement(t,{invalid:s,disabled:c,loading:l}),s&&m&&n().createElement("div",{className:(0,a.cx)(O.fieldValidationWrapper)},n().createElement(Fm,null,m))))};D$.displayName="InlineField";const I$=(e,t,r)=>({container:a.css`
      display: flex;
      flex-direction: row;
      align-items: flex-start;
      text-align: left;
      position: relative;
      flex: ${t?1:0} ${r?1:0} auto;
      margin: 0 ${e.spacing(.5)} ${e.spacing(.5)} 0;
    `,childContainer:a.css`
      flex: ${t?1:0} ${r?1:0} auto;
    `,fieldValidationWrapper:a.css`
      margin-top: ${e.spacing(.5)};
    `});var A$;!function(e){e.Public="AzureCloud",e.China="AzureChinaCloud",e.USGovernment="AzureUSGovernment",e.Germany="AzureGermanCloud",e.None=""}(A$||(A$={}));const j$=[{value:A$.Public,label:"Azure"},{value:A$.China,label:"Azure China"},{value:A$.USGovernment,label:"Azure US Government"},{value:A$.Germany,label:"Azure Germany"}];function M$(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){M$(e,t,r[t])}))}return e}function R$(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const L$=Symbol("Concealed client secret");function $$(){return i.config.azure.cloud||A$.Public}function V$(e){if(e.secureJsonFields.azureClientSecret)return L$;{var t;const r=null===(t=e.secureJsonData)||void 0===t?void 0:t.azureClientSecret;return"string"==typeof r&&r.length>0?r:void 0}}function z$(){return i.config.azure.managedIdentityEnabled?{authType:"msi"}:{authType:"clientsecret",azureCloud:$$()}}function F$(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){F$(e,t,r[t])}))}return e}function B$(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const H$=[{value:"msi",label:"Managed Identity"},{value:"clientsecret",label:"App Registration"}],W$=e=>{const{credentials:t,azureCloudOptions:o,onCredentialsChange:i,getSubscriptions:a}=e,s=function(e){switch(e.authType){case"msi":return!0;case"clientsecret":return!!(e.azureCloud&&e.tenantId&&e.clientId&&e.clientSecret)}}(t),[l,c]=(0,r.useState)([]),[u,d]=(0,r.useReducer)((e=>e+1),0);(0,r.useEffect)((()=>{if(!a||!s)return void p([]);let e=!1;return a().then((t=>{e||p(t,u)})),()=>{e=!0}}),[u]);const p=(e,r=!1)=>{c(e),a&&(r&&!t.defaultSubscriptionId&&e.length>0?f(e[0]):t.defaultSubscriptionId&&(e.find((e=>e.value===t.defaultSubscriptionId))||f(void 0)))},f=e=>{if(i){const r=B$(q$({},t),{defaultSubscriptionId:null==e?void 0:e.value});i(r)}};return n().createElement("div",{className:"gf-form-group"},e.managedIdentityEnabled&&n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(sD,{className:"width-12",tooltip:"Choose the type of authentication to Azure services"},"Authentication"),n().createElement(FD,{className:"width-15",value:H$.find((e=>e.value===t.authType)),options:H$,onChange:e=>{if(i){c([]);const r=B$(q$({},t),{authType:e.value||"msi",defaultSubscriptionId:void 0});i(r)}}}))),"clientsecret"===t.authType&&n().createElement(n().Fragment,null,o&&n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(sD,{className:"width-12",tooltip:"Choose an Azure Cloud"},"Azure Cloud"),n().createElement(FD,{className:"width-15",value:o.find((e=>e.value===t.azureCloud)),options:o,onChange:e=>{if(i&&"clientsecret"===t.authType){c([]);const r=B$(q$({},t),{azureCloud:e.value,defaultSubscriptionId:void 0});i(r)}}}))),n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(sD,{className:"width-12"},"Directory (tenant) ID"),n().createElement("div",{className:"width-15"},n().createElement(DD,{className:"width-30",placeholder:"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",value:t.tenantId||"",onChange:e=>{if(i&&"clientsecret"===t.authType){c([]);const r=B$(q$({},t),{tenantId:e.target.value,defaultSubscriptionId:void 0});i(r)}}})))),n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(sD,{className:"width-12"},"Application (client) ID"),n().createElement("div",{className:"width-15"},n().createElement(DD,{className:"width-30",placeholder:"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",value:t.clientId||"",onChange:e=>{if(i&&"clientsecret"===t.authType){c([]);const r=B$(q$({},t),{clientId:e.target.value,defaultSubscriptionId:void 0});i(r)}}})))),"symbol"==typeof t.clientSecret?n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(sD,{htmlFor:"azure-client-secret",className:"width-12"},"Client Secret"),n().createElement(DD,{id:"azure-client-secret",className:"width-25",placeholder:"configured",disabled:!0})),n().createElement("div",{className:"gf-form"},n().createElement("div",{className:"max-width-30 gf-form-inline"},n().createElement(or,{variant:"secondary",type:"button",onClick:()=>{if(i&&"clientsecret"===t.authType){c([]);const e=B$(q$({},t),{clientSecret:"",defaultSubscriptionId:void 0});i(e)}}},"reset")))):n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(sD,{className:"width-12"},"Client Secret"),n().createElement("div",{className:"width-15"},n().createElement(DD,{className:"width-30",placeholder:"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",value:t.clientSecret||"",onChange:e=>{if(i&&"clientsecret"===t.authType){c([]);const r=B$(q$({},t),{clientSecret:e.target.value,defaultSubscriptionId:void 0});i(r)}}}))))),a&&n().createElement(n().Fragment,null,n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(sD,{className:"width-12"},"Default Subscription"),n().createElement("div",{className:"width-25"},n().createElement(FD,{value:t.defaultSubscriptionId?l.find((e=>e.value===t.defaultSubscriptionId)):void 0,options:l,onChange:f})))),n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement("div",{className:"max-width-30 gf-form-inline"},n().createElement(or,{variant:"secondary",size:"sm",type:"button",onClick:d,disabled:!s},"Load Subscriptions"))))))};function U$(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){U$(e,t,r[t])}))}return e}function G$(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const X$=e=>{const{dataSourceConfig:t,onChange:o}=e,[a]=(0,r.useState)(i.config.featureToggles.prometheusAzureOverrideAudience||!!t.jsonData.azureEndpointResourceId),[s,l]=(0,r.useState)(!!t.jsonData.azureEndpointResourceId),c=(0,r.useMemo)((()=>function(e){const t=e.jsonData.azureCredentials;if(!t)return z$();switch(t.authType){case"msi":return i.config.azure.managedIdentityEnabled?{authType:"msi"}:{authType:"clientsecret",azureCloud:$$()};case"clientsecret":return{authType:"clientsecret",azureCloud:t.azureCloud||$$(),tenantId:t.tenantId,clientId:t.clientId,clientSecret:V$(e)}}}(t)),[t]);return n().createElement(n().Fragment,null,n().createElement("h6",null,"Azure Authentication"),n().createElement(W$,{managedIdentityEnabled:i.config.azure.managedIdentityEnabled,credentials:c,azureCloudOptions:j$,onCredentialsChange:e=>{o(function(e,t){switch(t.authType){case"msi":if(!i.config.azure.managedIdentityEnabled)throw new Error("Managed Identity authentication is not enabled in Grafana config.");return R$(N$({},e),{jsonData:R$(N$({},e.jsonData),{azureCredentials:{authType:"msi"}})});case"clientsecret":return R$(N$({},e),{jsonData:R$(N$({},e.jsonData),{azureCredentials:{authType:"clientsecret",azureCloud:t.azureCloud||$$(),tenantId:t.tenantId,clientId:t.clientId}}),secureJsonData:R$(N$({},e.secureJsonData),{azureClientSecret:"string"==typeof t.clientSecret&&t.clientSecret.length>0?t.clientSecret:void 0}),secureJsonFields:R$(N$({},e.secureJsonFields),{azureClientSecret:"symbol"==typeof t.clientSecret})})}}(t,e))}}),a&&n().createElement(n().Fragment,null,n().createElement("h6",null,"Azure Configuration"),n().createElement("div",{className:"gf-form-group"},n().createElement(P$,null,n().createElement(D$,{labelWidth:26,label:"Override AAD audience"},n().createElement(Cf,{value:s,onChange:e=>{l(e.currentTarget.checked),e.currentTarget.checked||o(G$(Q$({},t),{jsonData:G$(Q$({},t.jsonData),{azureEndpointResourceId:void 0})}))}}))),s&&n().createElement(P$,null,n().createElement(D$,{labelWidth:26,label:"Resource ID"},n().createElement(he,{className:"width-30",value:t.jsonData.azureEndpointResourceId||"",onChange:e=>{s&&o(G$(Q$({},t),{jsonData:G$(Q$({},t.jsonData),{azureEndpointResourceId:e.currentTarget.value})}))}}))))))};function K$(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){K$(e,t,r[t])}))}return e}function J$(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function Z$({value:e,onChange:t,onDelete:o}){const[l,c]=(0,r.useState)(Boolean(e.datasourceUid));return n().createElement("div",{className:"gf-form-group"},n().createElement(D$,{label:"Internal link",labelWidth:24},n().createElement(n().Fragment,null,n().createElement(Cf,{value:l,"aria-label":s.selectors.components.DataSource.Prometheus.configPage.internalLinkSwitch,onChange:e=>c(e.currentTarget.checked)}),n().createElement(or,{variant:"destructive",title:"Remove link",icon:"times",onClick:e=>{e.preventDefault(),o()},className:a.css`
              margin-left: 8px;
            `}))),l?n().createElement(D$,{label:"Data source",labelWidth:24,tooltip:"The data source the exemplar is going to navigate to."},n().createElement(i.DataSourcePicker,{tracing:!0,current:e.datasourceUid,noDefault:!0,width:40,onChange:r=>t(J$(Y$({},e),{datasourceUid:r.uid,url:void 0}))})):n().createElement(D$,{label:"URL",labelWidth:24,tooltip:"The URL of the trace backend the user would go to see its trace."},n().createElement(he,{placeholder:"https://example.com/${__value.raw}",spellCheck:!1,width:40,value:e.url,onChange:r=>t(J$(Y$({},e),{datasourceUid:void 0,url:r.currentTarget.value}))})),n().createElement(D$,{label:"URL Label",labelWidth:24,tooltip:"Use to override the button label on the exemplar traceID field."},n().createElement(he,{placeholder:"Go to example.com",spellCheck:!1,width:40,value:e.urlDisplayLabel,onChange:r=>t(J$(Y$({},e),{urlDisplayLabel:r.currentTarget.value}))})),n().createElement(D$,{label:"Label name",labelWidth:24,tooltip:"The name of the field in the labels object that should be used to get the traceID."},n().createElement(he,{placeholder:"traceID",spellCheck:!1,width:40,value:e.name,onChange:r=>t(J$(Y$({},e),{name:r.currentTarget.value}))})))}function eV({options:e,onChange:t}){return n().createElement(n().Fragment,null,n().createElement("h3",{className:"page-heading"},"Exemplars"),e&&e.map(((r,o)=>n().createElement(Z$,{key:o,value:r,onChange:r=>{const n=[...e];n.splice(o,1,r),t(n)},onDelete:()=>{const r=[...e];r.splice(o,1),t(r)}}))),n().createElement(or,{variant:"secondary","aria-label":s.selectors.components.DataSource.Prometheus.configPage.exemplarsAddButton,className:a.css`
          margin-bottom: 10px;
        `,icon:"plus",onClick:r=>{r.preventDefault();const n=[...e||[],{name:"traceID"}];t(n)}},"Add"))}function tV(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){tV(e,t,r[t])}))}return e}function nV(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const{Select:oV,Input:iV,FormField:aV}=QD,sV=[{value:"POST",label:"POST"},{value:"GET",label:"GET"}],lV=e=>{const{options:r,onOptionsChange:o}=e;var i;return r.jsonData.httpMethod||(r.jsonData.httpMethod="POST"),n().createElement(n().Fragment,null,n().createElement("div",{className:"gf-form-group"},n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(aV,{label:"Scrape interval",labelWidth:13,inputEl:n().createElement(iV,{className:"width-6",value:r.jsonData.timeInterval,spellCheck:!1,placeholder:"15s",onChange:pV("timeInterval",r,o),validationEvents:cV}),tooltip:"Set this to the typical scrape and evaluation interval configured in Prometheus. Defaults to 15s."}))),n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(aV,{label:"Query timeout",labelWidth:13,inputEl:n().createElement(iV,{className:"width-6",value:r.jsonData.queryTimeout,onChange:pV("queryTimeout",r,o),spellCheck:!1,placeholder:"60s",validationEvents:cV}),tooltip:"Set the Prometheus query timeout."}))),n().createElement("div",{className:"gf-form"},n().createElement(sD,{width:13,tooltip:"You can use either POST or GET HTTP method to query your Prometheus data source. POST is the recommended method as it allows bigger queries. Change this to GET if you have a Prometheus version older than 2.1 or if POST requests are restricted in your network."},"HTTP Method"),n().createElement(oV,{"aria-label":"Select HTTP method",options:sV,value:sV.find((e=>e.value===r.jsonData.httpMethod)),onChange:pV("httpMethod",r,o),width:7}))),n().createElement("h3",{className:"page-heading"},"Misc"),n().createElement("div",{className:"gf-form-group"},n().createElement("div",{className:"gf-form"},n().createElement(D$,{labelWidth:28,label:"Disable metrics lookup",tooltip:"Checking this option will disable the metrics chooser and metric/label support in the query field's autocomplete. This helps if you have performance issues with bigger Prometheus instances."},n().createElement(Cf,{value:null!==(i=r.jsonData.disableMetricsLookup)&&void 0!==i&&i,onChange:(0,t.onUpdateDatasourceJsonDataOptionChecked)(e,"disableMetricsLookup")}))),n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form max-width-30"},n().createElement(aV,{label:"Custom query parameters",labelWidth:14,tooltip:"Add Custom parameters to all Prometheus or Thanos queries.",inputEl:n().createElement(iV,{className:"width-25",value:r.jsonData.customQueryParameters,onChange:pV("customQueryParameters",r,o),spellCheck:!1,placeholder:"Example: max_source_resolution=5m&timeout=10"})})))),n().createElement(eV,{options:r.jsonData.exemplarTraceIdDestinations,onChange:e=>(0,t.updateDatasourcePluginJsonDataOption)({onOptionsChange:o,options:r},"exemplarTraceIdDestinations",e)}))},cV={[_D.onBlur]:[(uV=/^$|^\d+(ms|[Mwdhmsy])$/,"Value is not valid, you can use number with time unit specifier: y, M, w, d, h, m, s",{rule:e=>!!e.match(uV),errorMessage:"Value is not valid, you can use number with time unit specifier: y, M, w, d, h, m, s"})]};var uV;const dV=e=>e?e.hasOwnProperty("currentTarget")?e.currentTarget.value:e.value:"",pV=(e,t,r)=>n=>{r(nV(rV({},t),{jsonData:nV(rV({},t.jsonData),{[e]:dV(n)})}))};function fV(){return fV=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fV.apply(this,arguments)}var hV=v(71177);function mV(e){return"function"==typeof e}function gV(e){return function(t){if(function(e){return mV(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}var vV,bV,yV=v(59312),wV=(vV=function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}},(bV=vV((function(e){Error.call(e),e.stack=(new Error).stack}))).prototype=Object.create(Error.prototype),bV.prototype.constructor=bV,bV);function OV(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var xV=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,r,n,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=(0,yV.__values)(i),s=a.next();!s.done;s=a.next())s.value.remove(this)}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else i.remove(this);var l=this.initialTeardown;if(mV(l))try{l()}catch(e){o=e instanceof wV?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var u=(0,yV.__values)(c),d=u.next();!d.done;d=u.next()){var p=d.value;try{EV(p)}catch(e){o=null!=o?o:[],e instanceof wV?o=(0,yV.__spreadArray)((0,yV.__spreadArray)([],(0,yV.__read)(o)),(0,yV.__read)(e.errors)):o.push(e)}}}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}if(o)throw new wV(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)EV(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&OV(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&OV(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();function _V(e){return e instanceof xV||e&&"closed"in e&&mV(e.remove)&&mV(e.add)&&mV(e.unsubscribe)}function EV(e){mV(e)?e():e.unsubscribe()}xV.EMPTY;var SV=null,kV=null,PV=void 0,CV=!1,TV=!1,DV={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=DV.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,(0,yV.__spreadArray)([e,t],(0,yV.__read)(r))):setTimeout.apply(void 0,(0,yV.__spreadArray)([e,t],(0,yV.__read)(r)))},clearTimeout:function(e){var t=DV.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function IV(e){DV.setTimeout((function(){if(!SV)throw e;SV(e)}))}function AV(){}var jV=MV("C",void 0,void 0);function MV(e,t,r){return{kind:e,value:t,error:r}}var NV=null,RV=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,_V(t)&&t.add(r)):r.destination=BV,r}return(0,yV.__extends)(t,e),t.create=function(e,t,r){return new zV(e,t,r)},t.prototype.next=function(e){this.isStopped?qV(function(e){return MV("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?qV(MV("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?qV(jV,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(xV),LV=Function.prototype.bind;function $V(e,t){return LV.call(e,t)}var VV=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){FV(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){FV(e)}else FV(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){FV(e)}},e}(),zV=function(e){function t(t,r,n){var o,i,a=e.call(this)||this;return mV(t)||!t?o={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:a&&TV?((i=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},o={next:t.next&&$V(t.next,i),error:t.error&&$V(t.error,i),complete:t.complete&&$V(t.complete,i)}):o=t,a.destination=new VV(o),a}return(0,yV.__extends)(t,e),t}(RV);function FV(e){var t;CV?(t=e,CV&&NV&&(NV.errorThrown=!0,NV.error=t)):IV(e)}function qV(e,t){var r=kV;r&&DV.setTimeout((function(){return r(e,t)}))}var BV={closed:!0,next:AV,error:function(e){throw e},complete:AV};function HV(e,t,r,n,o){return new WV(e,t,r,n,o)}var WV=function(e){function t(t,r,n,o,i,a){var s=e.call(this,t)||this;return s.onFinalize=i,s.shouldUnsubscribe=a,s._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return(0,yV.__extends)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(RV);function UV(e,t){return gV((function(r,n){var o=0;r.subscribe(HV(n,(function(r){n.next(e.call(t,r,o++))})))}))}function QV(e){return e}function GV(e,t){return gV((function(r,n){var o=0;r.subscribe(HV(n,(function(r){return e.call(t,r,o++)&&n.next(r)})))}))}var XV="function"==typeof Symbol&&Symbol.observable||"@@observable";function KV(e){return 0===e.length?QV:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var YV=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,o=this,i=(n=e)&&n instanceof RV||function(e){return e&&mV(e.next)&&mV(e.error)&&mV(e.complete)}(n)&&_V(n)?e:new zV(e,t,r);return function(e){if(CV){var t=!NV;if(t&&(NV={errorThrown:!1,error:null}),e(),t){var r=NV,n=r.errorThrown,o=r.error;if(NV=null,n)throw o}}else e()}((function(){var e=o,t=e.operator,r=e.source;i.add(t?t.call(i,r):r?o._subscribe(i):o._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=JV(t))((function(t,n){var o=new zV({next:function(t){try{e(t)}catch(e){n(e),o.unsubscribe()}},error:n,complete:t});r.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[XV]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return KV(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=JV(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function JV(e){var t;return null!==(t=null!=e?e:PV)&&void 0!==t?t:Promise}var ZV,ez,tz,rz,nz,oz,iz="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function az(e){return new YV((function(t){(function(e,t){var r,n,o,i;return(0,yV.__awaiter)(this,void 0,void 0,(function(){var a,s;return(0,yV.__generator)(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),r=(0,yV.__asyncValues)(e),l.label=1;case 1:return[4,r.next()];case 2:if((n=l.sent()).done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),o={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function sz(e){return gV((function(t,r){var n,o=null,i=!1;o=t.subscribe(HV(r,void 0,void 0,(function(a){n=function(e){if(e instanceof YV)return e;if(null!=e){if(function(e){return mV(e[XV])}(e))return i=e,new YV((function(e){var t=i[XV]();if(mV(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}(e))return o=e,new YV((function(e){for(var t=0;t<o.length&&!e.closed;t++)e.next(o[t]);e.complete()}));if(mV(null==(n=e)?void 0:n.then))return r=e,new YV((function(e){r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,IV)}));if(function(e){return Symbol.asyncIterator&&mV(null==e?void 0:e[Symbol.asyncIterator])}(e))return az(e);if(function(e){return mV(null==e?void 0:e[iz])}(e))return t=e,new YV((function(e){var r,n;try{for(var o=(0,yV.__values)(t),i=o.next();!i.done;i=o.next()){var a=i.value;if(e.next(a),e.closed)return}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}e.complete()}));if(function(e){return mV(null==e?void 0:e.getReader)}(e))return az(function(e){return(0,yV.__asyncGenerator)(this,arguments,(function(){var t,r,n;return(0,yV.__generator)(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,(0,yV.__await)(t.read())];case 3:return r=o.sent(),n=r.value,r.done?[4,(0,yV.__await)(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,(0,yV.__await)(n)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e))}var t,r,n,o,i;throw function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}(e(a,sz(e)(t))),o?(o.unsubscribe(),o=null,n.subscribe(r)):i=!0}))),i&&(o.unsubscribe(),o=null,n.subscribe(r))}))}t.LogsDedupStrategy.none,function(e){e[e.RangeFrom=0]="RangeFrom",e[e.RangeTo=1]="RangeTo",e[e.Datasource=2]="Datasource",e[e.SegmentsStart=3]="SegmentsStart"}(ZV||(ZV={})),function(e){e.Firing="firing",e.Inactive="inactive",e.Pending="pending"}(ez||(ez={})),function(e){e.Normal="Normal",e.Alerting="Alerting",e.Pending="Pending",e.NoData="NoData",e.Error="Error"}(tz||(tz={})),function(e){e.Alerting="alerting",e.Recording="recording"}(rz||(rz={})),function(e){e.Lotex="Lotex",e.Mimir="Mimir",e.Prometheus="Prometheus"}(nz||(nz={})),function(e){e.Alerting="Alerting",e.NoData="NoData",e.KeepLastState="KeepLastState",e.OK="OK",e.Error="Error"}(oz||(oz={}));const lz="ruler not supported";var cz;function uz(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function dz(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){uz(i,n,o,a,s,"next",e)}function s(e){uz(i,n,o,a,s,"throw",e)}a(void 0)}))}}function pz(e){const{dataSourceName:t}=e;return{rules:e=>{const r=function(e,t){return(null==t?void 0:t.dashboardUID)&&(e.set("dashboard_uid",t.dashboardUID),(null==t?void 0:t.panelId)&&e.set("panel_id",String(t.panelId))),Object.fromEntries(e)}(new URLSearchParams,e);return{url:`/api/prometheus/${S$(t)}/api/v1/rules`,params:r}}}}function fz(e,t){return hz.apply(this,arguments)}function hz(){return hz=dz((function*(e,t){if((null==t?void 0:t.dashboardUID)&&e!==_$)throw new Error("Filtering by dashboard UID is only supported for Grafana Managed rules.");const{url:r,params:n}=pz({dataSourceName:e}).rules(t),o=yield(0,hV.lastValueFrom)((0,i.getBackendSrv)().fetch({url:r,params:n,showErrorAlert:!1,showSuccessAlert:!1})).catch((e=>{if("status"in e&&404===e.status)throw new Error("404 from rule state endpoint. Perhaps ruler API is not enabled?");throw e})),a={};return o.data.data.groups.forEach((t=>{t.rules.forEach((e=>{e.query=e.query||""})),a[t.file]?a[t.file].groups.push(t):a[t.file]={dataSourceName:e,name:t.file,groups:[t]}})),Object.values(a)})),hz.apply(this,arguments)}function mz(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function gz(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){mz(i,n,o,a,s,"next",e)}function s(e){mz(i,n,o,a,s,"throw",e)}a(void 0)}))}}function vz(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){vz(e,t,r[t])}))}return e}function yz(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function wz(e){return Oz.apply(this,arguments)}function Oz(){return(Oz=gz((function*(e){return xz(`/api/ruler/${S$(e)}/api/v1/rules/test/test`,null)}))).apply(this,arguments)}function xz(e,t,r){return _z.apply(this,arguments)}function _z(){return _z=gz((function*(e,t,r){try{return(yield(0,hV.lastValueFrom)((0,i.getBackendSrv)().fetch({url:e,showErrorAlert:!1,showSuccessAlert:!1,params:r}))).data}catch(e){if(!Ez(e))throw e;if(kz(e))return t;if(Sz(e))throw yz(bz({},e),{data:yz(bz({},e.data),{message:lz})});throw e}})),_z.apply(this,arguments)}function Ez(e){const t=null!=e.data;return Number.isFinite(e.status)&&t}function Sz(e){var t;return 404===e.status||500===e.status&&(null===(t=e.data.message)||void 0===t?void 0:t.includes("unexpected content type from upstream. expected YAML, got text/html"))}function kz(e){var t,r;return 404===e.status&&((null===(t=e.data.message)||void 0===t?void 0:t.includes("group does not exist"))||(null===(r=e.data.message)||void 0===r?void 0:r.includes("no rule groups found")))}function Pz(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function Cz(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Pz(i,n,o,a,s,"next",e)}function s(e){Pz(i,n,o,a,s,"throw",e)}a(void 0)}))}}function Tz(){return(Tz=Cz((function*(e){const{url:t,name:r,type:n}=e,o="loki"===n?void 0:yield Dz(t);if(void 0===o){if(!(yield Az(r)))throw new Error(`Unable to fetch alert rules. Is the ${r} data source properly configured?`);const e=yield Mz(r);return{application:nz.Lotex,features:{rulerApiEnabled:e}}}const{features:i}=o.data;return i?{application:nz.Mimir,features:{rulerApiEnabled:"true"===(null==i?void 0:i.ruler_config_api)}}:{application:nz.Prometheus,features:{rulerApiEnabled:!1}}}))).apply(this,arguments)}function Dz(e){return Iz.apply(this,arguments)}function Iz(){return(Iz=Cz((function*(e){const t=yield(0,hV.lastValueFrom)((0,i.getBackendSrv)().fetch({url:`${e}/api/v1/status/buildinfo`,showErrorAlert:!1,showSuccessAlert:!1})).catch((e=>{if(!("status"in e)||404!==e.status)throw e}));return null==t?void 0:t.data}))).apply(this,arguments)}function Az(e){return jz.apply(this,arguments)}function jz(){return(jz=Cz((function*(e){try{return yield fz(e),!0}catch(e){return!1}}))).apply(this,arguments)}function Mz(e){return Nz.apply(this,arguments)}function Nz(){return(Nz=Cz((function*(e){try{return yield wz(e),!0}catch(e){if(Rz(e))return!1;throw e}}))).apply(this,arguments)}function Rz(e){var t,r,n,o;return(0,i.isFetchError)(e)&&((null===(t=e.data.message)||void 0===t?void 0:t.includes("GetRuleGroup unsupported in rule local store"))||(null===(r=e.data.message)||void 0===r?void 0:r.includes("page not found")))||(null===(n=e.message)||void 0===n?void 0:n.includes("404 from rules config endpoint"))||(null===(o=e.data.message)||void 0===o?void 0:o.includes(lz))}!function(e){e.description="description",e.summary="summary",e.runbookURL="runbook_url",e.alertId="__alertId__",e.dashboardUID="__dashboardUid__",e.panelID="__panelId__"}(cz||(cz={})),cz.description,cz.summary,cz.runbookURL,cz.dashboardUID,cz.panelID,cz.alertId;const Lz=new t.EventBusSrv;var $z={};function Vz(){return $z}var zz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function Fz(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}const qz={date:Fz({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Fz({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Fz({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var Bz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Hz(e){return function(t,r){var n;if("formatting"===(null!=r&&r.context?String(r.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,i=null!=r&&r.width?String(r.width):o;n=e.formattingValues[i]||e.formattingValues[o]}else{var a=e.defaultWidth,s=null!=r&&r.width?String(r.width):e.defaultWidth;n=e.values[s]||e.values[a]}return n[e.argumentCallback?e.argumentCallback(t):t]}}var Wz={ordinalNumber:function(e,t){var r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:Hz({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Hz({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Hz({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Hz({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Hz({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};const Uz=Wz;function Qz(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var a,s=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Xz(l,(function(e){return e.test(s)})):Gz(l,(function(e){return e.test(s)}));a=e.valueCallback?e.valueCallback(c):c,a=r.valueCallback?r.valueCallback(a):a;var u=t.slice(s.length);return{value:a,rest:u}}}function Gz(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function Xz(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}var Kz,Yz={ordinalNumber:(Kz={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.match(Kz.matchPattern);if(!r)return null;var n=r[0],o=e.match(Kz.parsePattern);if(!o)return null;var i=Kz.valueCallback?Kz.valueCallback(o[0]):o[0];i=t.valueCallback?t.valueCallback(i):i;var a=e.slice(n.length);return{value:i,rest:a}}),era:Qz({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Qz({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Qz({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Qz({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Qz({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const Jz={code:"en-US",formatDistance:function(e,t,r){var n,o=zz[e];return n="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!=r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatLong:qz,formatRelative:function(e,t,r,n){return Bz[e]},localize:Uz,match:Yz,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Zz=["years","months","weeks","days","hours","minutes","seconds"];function eF(){return eF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eF.apply(this,arguments)}const tF=(0,r.forwardRef)(((e,t)=>{var{className:r,children:o}=e,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["className","children"]);const s=O(rF);return n().createElement("div",eF({ref:t,className:(0,a.cx)("button-group",s.wrapper,r)},i),o)}));tF.displayName="ButtonGroup";const rF=e=>({wrapper:a.css`
    display: flex;

    > .button-group:not(:first-child) > button,
    > button:not(:first-child) {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }

    > .button-group:not(:last-child) > button,
    > button:not(:last-child) {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
      border-right-width: 0;
    }
  `});"undefined"!=typeof window&&n().useLayoutEffect;let nF=new Map;function oF(e,t){if(e===t)return e;let r=nF.get(e);if(r)return r(t),t;let n=nF.get(t);return n?(n(e),e):t}function iF(...e){return(...t)=>{for(let r of e)"function"==typeof r&&r(...t)}}function aF(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let e in n){let r=t[e],o=n[e];"function"==typeof r&&"function"==typeof o&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=iF(r,o):"className"!==e&&"UNSAFE_className"!==e||"string"!=typeof r||"string"!=typeof o?"id"===e&&r&&o?t.id=oF(r,o):t[e]=void 0!==o?o:r:t[e]=Sr(r,o)}}return t}const sF=new Set(["id"]),lF=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),cF=/^(data-.*)$/;let uF=new Map,dF=new Set;function pF(){if("undefined"==typeof window)return;let e=t=>{let r=uF.get(t.target);if(r&&(r.delete(t.propertyName),0===r.size&&(t.target.removeEventListener("transitioncancel",e),uF.delete(t.target)),0===uF.size)){for(let e of dF)e();dF.clear()}};document.body.addEventListener("transitionrun",(t=>{let r=uF.get(t.target);r||(r=new Set,uF.set(t.target,r),t.target.addEventListener("transitioncancel",e)),r.add(t.propertyName)})),document.body.addEventListener("transitionend",e)}"undefined"!=typeof document&&("loading"!==document.readyState?pF():document.addEventListener("DOMContentLoaded",pF)),"undefined"!=typeof window&&window.visualViewport,new Map;const fF="undefined"!=typeof window?n().useLayoutEffect:()=>{};let hF=new Map;new Set(["id"]),new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]);let mF=new Map,gF=new Set;function vF(){if("undefined"==typeof window)return;let e=t=>{let r=mF.get(t.target);if(r&&(r.delete(t.propertyName),0===r.size&&(t.target.removeEventListener("transitioncancel",e),mF.delete(t.target)),0===mF.size)){for(let e of gF)e();gF.clear()}};document.body.addEventListener("transitionrun",(t=>{let r=mF.get(t.target);r||(r=new Set,mF.set(t.target,r),t.target.addEventListener("transitioncancel",e)),r.add(t.propertyName)})),document.body.addEventListener("transitionend",e)}"undefined"!=typeof document&&("loading"!==document.readyState?vF():document.addEventListener("DOMContentLoaded",vF)),"undefined"!=typeof window&&window.visualViewport,new Map;class bF{getStringForLocale(e,t){let r=this.strings[t];r||(r=function(e,t,r="en-US"){if(t[e])return t[e];let n=function(e){return Intl.Locale?new Intl.Locale(e).language:e.split("-")[0]}(e);if(t[n])return t[n];for(let e in t)if(e.startsWith(n+"-"))return t[e];return t[r]}(t,this.strings,this.defaultLocale),this.strings[t]=r);let n=r[e];if(!n)throw new Error(`Could not find intl message ${e} in ${t} locale`);return n}constructor(e,t="en-US"){this.strings={...e},this.defaultLocale=t}}const yF=new Map,wF=new Map;class OF{format(e,t){let r=this.strings.getStringForLocale(e,this.locale);return"function"==typeof r?r(t,this):r}plural(e,t,r="cardinal"){let n=t["="+e];if(n)return"function"==typeof n?n():n;let o=this.locale+":"+r,i=yF.get(o);return i||(i=new Intl.PluralRules(this.locale,{type:r}),yF.set(o,i)),n=t[i.select(e)]||t.other,"function"==typeof n?n():n}number(e){let t=wF.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),wF.set(this.locale,t)),t.format(e)}select(e,t){let r=e[t]||e.other;return"function"==typeof r?r():r}constructor(e,t){this.locale=e,this.strings=t}}const xF=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),_F=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function EF(e){if(Intl.Locale){let t=new Intl.Locale(e).maximize().script;return xF.has(t)}let t=e.split("-")[0];return _F.has(t)}function SF(){let e="undefined"!=typeof navigator&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch(t){e="en-US"}return{locale:e,direction:EF(e)?"rtl":"ltr"}}let kF=SF(),PF=new Set;function CF(){kF=SF();for(let e of PF)e(kF)}const TF=n().createContext(null);function DF(){let e=function(){let e=fr(),[t,n]=(0,r.useState)(kF);return(0,r.useEffect)((()=>(0===PF.size&&window.addEventListener("languagechange",CF),PF.add(n),()=>{PF.delete(n),0===PF.size&&window.removeEventListener("languagechange",CF)})),[]),e?{locale:"en-US",direction:"ltr"}:t}();return(0,r.useContext)(TF)||e}const IF=new WeakMap;function AF(e){return e&&e.__esModule?e.default:e}var jF;function MF(e,t,n){let{type:o="menu",isDisabled:i,trigger:a="press"}=e,s=function(e){let[t,n]=(0,r.useState)(e),o=(0,r.useRef)(null),i=pr(t),a=(0,r.useCallback)((e=>{o.current=e}),[]);return hF.set(i,a),fF((()=>{let e=i;return()=>{hF.delete(e)}}),[i]),(0,r.useEffect)((()=>{let e=o.current;e&&(o.current=null,n(e))})),i}(),{triggerProps:l,overlayProps:c}=function(e,t,n){let o,{type:i}=e,{isOpen:a}=t;(0,r.useEffect)((()=>{n&&n.current&&io.set(n.current,t.close)})),"menu"===i?o=!0:"listbox"===i&&(o="listbox");let s=function(e){let[t,n]=(0,r.useState)(e),o=(0,r.useRef)(null),i=pr(t),a=(0,r.useCallback)((e=>{o.current=e}),[]);return to.set(i,a),eo((()=>{let e=i;return()=>{to.delete(e)}}),[i]),(0,r.useEffect)((()=>{let e=o.current;e&&(o.current=null,n(e))})),i}();return{triggerProps:{"aria-haspopup":o,"aria-expanded":a,"aria-controls":a?s:null,onPress:t.toggle},overlayProps:{id:s}}}({type:o},t,n),u=function(e){let{locale:t}=DF(),n=(0,r.useMemo)((()=>function(e){let t=IF.get(e);return t||(t=new bF(e),IF.set(e,t)),t}(e)),[e]);return(0,r.useMemo)((()=>new OF(t,n)),[t,n])}(AF(jF)),{longPressProps:d}=function(e){let{isDisabled:t,onLongPressStart:n,onLongPressEnd:o,onLongPress:i,threshold:a=An,accessibilityDescription:s}=e;const l=(0,r.useRef)(null);let{addGlobalListener:c,removeGlobalListener:u}=Ur(),{pressProps:d}=ln({isDisabled:t,onPressStart(e){if(("mouse"===e.pointerType||"touch"===e.pointerType)&&(n&&n({...e,type:"longpressstart"}),l.current=setTimeout((()=>{e.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),i&&i({...e,type:"longpress"}),l.current=null}),a),"touch"===e.pointerType)){let t=e=>{e.preventDefault()};c(e.target,"contextmenu",t,{once:!0}),c(window,"pointerup",(()=>{setTimeout((()=>{u(e.target,"contextmenu",t)}),30)}),{once:!0})}},onPressEnd(e){l.current&&clearTimeout(l.current),!o||"mouse"!==e.pointerType&&"touch"!==e.pointerType||o({...e,type:"longpressend"})}}),p=function(e){let[t,n]=(0,r.useState)(null);return Rr((()=>{if(!e)return;let t=Gr.get(e);if(t)n(t.element.id);else{let r="react-aria-description-"+Qr++;n(r);let o=document.createElement("div");o.id=r,o.style.display="none",o.textContent=e,document.body.appendChild(o),t={refCount:0,element:o},Gr.set(e,t)}return t.refCount++,()=>{0==--t.refCount&&(t.element.remove(),Gr.delete(e))}}),[e]),{"aria-describedby":e?t:void 0}}(i&&!t?s:null);return{longPressProps:zr(d,p)}}({isDisabled:i||"longPress"!==a,accessibilityDescription:u.format("longPressMessage"),onLongPressStart(){t.close()},onLongPress(){t.open("first")}}),p={onPressStart(e){"touch"===e.pointerType||"keyboard"===e.pointerType||i||t.toggle("virtual"===e.pointerType?"first":null)},onPress(e){"touch"!==e.pointerType||i||t.toggle()}};return delete l.onPress,{menuTriggerProps:{...l,..."press"===a?p:d,id:s,onKeyDown:e=>{if(!i&&("longPress"!==a||e.altKey)&&n&&n.current)switch(e.key){case"Enter":case" ":if("longPress"===a)return;case"ArrowDown":"continuePropagation"in e||e.stopPropagation(),e.preventDefault(),t.toggle("first");break;case"ArrowUp":"continuePropagation"in e||e.stopPropagation(),e.preventDefault(),t.toggle("last")}}},menuProps:{...c,"aria-labelledby":s,autoFocus:t.focusStrategy,onClose:t.close}}}new Map,jF={"ar-AE":{longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"},"bg-BG":{longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"},"cs-CZ":{longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"},"da-DK":{longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"},"de-DE":{longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"},"el-GR":{longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"},"en-US":{longPressMessage:"Long press or press Alt + ArrowDown to open menu"},"es-ES":{longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"},"et-EE":{longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"},"fi-FI":{longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"},"fr-FR":{longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."},"he-IL":{longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"},"hr-HR":{longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"},"hu-HU":{longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"},"it-IT":{longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"},"ja-JP":{longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"},"ko-KR":{longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"},"lt-LT":{longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."},"lv-LV":{longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"},"nb-NO":{longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"},"nl-NL":{longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"},"pl-PL":{longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"},"pt-BR":{longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"},"pt-PT":{longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"},"ro-RO":{longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"},"ru-RU":{longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"},"sk-SK":{longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"},"sl-SI":{longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"},"sr-SP":{longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"},"sv-SE":{longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"},"tr-TR":{longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"},"uk-UA":{longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"},"zh-CN":{longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"},"zh-TW":{longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"}},new WeakMap;class NF extends r.PureComponent{componentDidMount(){this.props.parent.addEventListener("click",this.onOutsideClick,this.props.useCapture),this.props.includeButtonPress&&this.props.parent.addEventListener("keyup",this.onOutsideClick,this.props.useCapture)}componentWillUnmount(){this.props.parent.removeEventListener("click",this.onOutsideClick,this.props.useCapture),this.props.includeButtonPress&&this.props.parent.removeEventListener("keyup",this.onOutsideClick,this.props.useCapture)}render(){return n().createElement("div",{ref:this.myRef},this.props.children)}constructor(...e){super(...e),this.myRef=(0,r.createRef)(),this.state={hasEventListener:!1},this.onOutsideClick=e=>{const t=this.myRef.current;t&&t.contains(e.target)||this.props.onClick()}}}NF.defaultProps={includeButtonPress:!0,parent:"undefined"!=typeof window?window:null,useCapture:!1};const RF=e=>({divider:(0,a.css)({height:1,backgroundColor:e.colors.border.weak,margin:e.spacing(.5,0)})}),LF=({label:e,ariaLabel:t,children:r})=>{const o=O($F),i=`group-label-${(0,su.uniqueId)()}`;return n().createElement("div",{role:"group","aria-labelledby":!t&&e?i:void 0,"aria-label":t},e&&n().createElement("label",{id:i,className:o.groupLabel,"aria-hidden":!0},e),r)};LF.displayName="MenuGroup";const $F=e=>({groupLabel:a.css`
      color: ${e.colors.text.secondary};
      font-size: ${e.typography.size.sm};
      padding: ${e.spacing(.5,1)};
    `}),VF=(e,t)=>(e%t+t)%t,zF=({localRef:e,isMenuOpen:t,openedWithArrow:n,setOpenedWithArrow:o,close:i,onOpen:a,onClose:s,onKeyDown:l})=>{const[c,u]=(0,r.useState)(-1);var d;return(0,r.useEffect)((()=>{t&&n&&(u(0),null==o||o(!1))}),[t,n,o]),(0,r.useEffect)((()=>{var t,r;const n=null==e||null===(t=e.current)||void 0===t?void 0:t.querySelectorAll('[data-role="menuitem"]');null===(r=null==n?void 0:n[c])||void 0===r||r.focus(),null==n||n.forEach(((e,t)=>{e.tabIndex=t===c?0:-1}))}),[e,c]),d=()=>{var t;const r=null==e||null===(t=e.current)||void 0===t?void 0:t.querySelector('[data-role="menuitem"]');r&&(r.tabIndex=0),null==a||a(u)},(0,r.useEffect)(d,[]),[t=>{var r;const n=null==e||null===(r=e.current)||void 0===r?void 0:r.querySelectorAll('[data-role="menuitem"]');var o;const a=null!==(o=null==n?void 0:n.length)&&void 0!==o?o:0;switch(t.key){case"ArrowUp":t.preventDefault(),t.stopPropagation(),u(VF(c-1,a));break;case"ArrowDown":t.preventDefault(),t.stopPropagation(),u(VF(c+1,a));break;case"ArrowLeft":t.preventDefault(),t.stopPropagation(),u(-1),null==i||i();break;case"Home":t.preventDefault(),t.stopPropagation(),u(0);break;case"End":t.preventDefault(),t.stopPropagation(),u(a-1);break;case"Enter":var d;t.preventDefault(),t.stopPropagation(),null===(d=null==n?void 0:n[c])||void 0===d||d.click();break;case"Escape":t.preventDefault(),t.stopPropagation(),null==s||s();break;case"Tab":null==s||s()}null==l||l(t)},()=>{-1===c&&u(0)}]},FF=n().memo((({items:e,isOpen:t,openedWithArrow:o,setOpenedWithArrow:i,close:a})=>{const l=O(qF),c=(0,r.useRef)(null),[u]=zF({localRef:c,isMenuOpen:t,openedWithArrow:o,setOpenedWithArrow:i,close:a});return n().createElement(n().Fragment,null,n().createElement("div",{className:l.iconWrapper,"aria-label":s.selectors.components.Menu.SubMenu.icon},n().createElement(ce,{name:"angle-right",className:l.icon,"aria-hidden":!0})),t&&n().createElement("div",{ref:c,className:l.subMenu(c.current),"aria-label":s.selectors.components.Menu.SubMenu.container},n().createElement("div",{className:l.itemsWrapper,role:"menu",onKeyDown:u},e)))}));FF.displayName="SubMenu";const qF=e=>({iconWrapper:a.css`
      display: flex;
      flex: 1;
      justify-content: end;
    `,icon:a.css`
      opacity: 0.7;
      margin-left: ${e.spacing(2)};
      color: ${e.colors.text.secondary};
    `,itemsWrapper:a.css`
      background: ${e.colors.background.primary};
      box-shadow: ${e.shadows.z3};
      display: inline-block;
      border-radius: ${e.shape.borderRadius()};
    `,subMenu:t=>a.css`
      position: absolute;
      top: 0;
      z-index: ${e.zIndex.dropdown};
      ${(e=>{if(!e)return"left";const t=e.parentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return 0===r.width?"left":t.right+r.width+10>window.innerWidth?"right":"left"})(t)}: 100%;
    `}),BF=n().memo(n().forwardRef(((e,t)=>{const{url:o,icon:i,label:s,ariaLabel:l,ariaChecked:c,target:u,onClick:d,className:p,active:f,destructive:h,childItems:m,role:g="menuitem",tabIndex:v=-1}=e,b=O(HF),[y,w]=(0,r.useState)(f),[x,_]=(0,r.useState)(!1),[E,S]=(0,r.useState)(!1),k=(0,r.useCallback)((()=>{_(!0),w(!0)}),[]),P=(0,r.useCallback)((()=>{_(!1),w(!1)}),[]),C=m&&m.length>0,T=C?"div":void 0===o?"button":"a",D=(0,a.cx)({[b.item]:!0,[b.active]:y,[b.destructive]:h},p),I=(0,r.useRef)(null);return(0,r.useImperativeHandle)(t,(()=>I.current)),n().createElement(T,{target:u,className:D,rel:"_blank"===u?"noopener noreferrer":void 0,href:o,onClick:d?e=>{e.ctrlKey||e.metaKey||e.shiftKey||!d||(e.preventDefault(),e.stopPropagation(),d(e))}:void 0,onMouseEnter:k,onMouseLeave:P,onKeyDown:e=>{"ArrowRight"===e.key&&(e.preventDefault(),e.stopPropagation(),C&&(_(!0),S(!0),w(!0)))},role:void 0===o?g:void 0,"data-role":"menuitem",ref:I,"aria-label":l,"aria-checked":c,tabIndex:v},i&&n().createElement(ce,{name:i,className:b.icon,"aria-hidden":!0}),s,C&&n().createElement(FF,{items:m,isOpen:x,openedWithArrow:E,setOpenedWithArrow:S,close:()=>{var e;_(!1),w(!1),null==I||null===(e=I.current)||void 0===e||e.focus()}}))})));BF.displayName="MenuItem";const HF=e=>({item:a.css`
      background: none;
      cursor: pointer;
      white-space: nowrap;
      color: ${e.colors.text.primary};
      display: flex;
      align-items: center;
      padding: ${e.spacing(.5,2)};
      min-height: ${e.spacing(4)};
      margin: 0;
      border: none;
      width: 100%;
      position: relative;

      &:hover,
      &:focus,
      &:focus-visible {
        background: ${e.colors.action.hover};
        color: ${e.colors.text.primary};
        text-decoration: none;
      }

      &:focus-visible {
        ${A(e)}
      }
    `,active:a.css`
      background: ${e.colors.action.hover};
    `,destructive:a.css`
      color: ${e.colors.error.text};

      svg {
        color: ${e.colors.error.text};
      }

      &:hover,
      &:focus,
      &:focus-visible {
        background: ${e.colors.error.main};
        color: ${e.colors.error.contrastText};

        svg {
          color: ${e.colors.error.contrastText};
        }
      }
    `,icon:a.css`
      opacity: 0.7;
      margin-right: 10px;
      margin-left: -4px;
      color: ${e.colors.text.secondary};
    `});function WF(){return WF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WF.apply(this,arguments)}const UF=n().forwardRef(((e,t)=>{var{header:o,children:i,ariaLabel:a,onOpen:s,onClose:l,onKeyDown:c}=e,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["header","children","ariaLabel","onOpen","onClose","onKeyDown"]);const d=O(GF),p=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(()=>p.current));const[f,h]=zF({localRef:p,onOpen:s,onClose:l,onKeyDown:c});return n().createElement("div",WF({},u,{ref:p,className:d.wrapper,role:"menu","aria-label":a,onKeyDown:f,onFocus:h}),o&&n().createElement("div",{className:d.header},o),i)}));UF.displayName="Menu";const QF=Object.assign(UF,{Item:BF,Divider:function(){const e=O(RF);return n().createElement("div",{className:e.divider})},Group:LF}),GF=e=>({header:a.css`
      padding: ${e.spacing(.5,.5,1,.5)};
      border-bottom: 1px solid ${e.colors.border.weak};
    `,wrapper:a.css`
      background: ${e.colors.background.primary};
      box-shadow: ${e.shadows.z3};
      display: inline-block;
      border-radius: ${e.shape.borderRadius()};
      padding: ${e.spacing(.5,0)};
    `});function XF(){return XF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XF.apply(this,arguments)}const KF=(0,r.forwardRef)(((e,r)=>{var{tooltip:o,icon:i,className:s,children:l,imgSrc:c,imgAlt:u,fullWidth:d,isOpen:p,narrow:f,variant:h="default",iconOnly:m,"aria-label":g,isHighlighted:v}=e,b=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["tooltip","icon","className","children","imgSrc","imgAlt","fullWidth","isOpen","narrow","variant","iconOnly","aria-label","isHighlighted"]);const y=O(JF),w=(0,a.cx)({[y.button]:!0,[y.buttonFullWidth]:d,[y.narrow]:f},y[h],s),x=(0,a.cx)({[y.content]:!0,[y.contentWithIcon]:!!i,[y.contentWithRightIcon]:void 0!==p}),_=n().createElement("button",XF({ref:r,className:w,"aria-label":YF(g,o),"aria-expanded":p},b),function(e){return e?(0,t.isIconName)(e)?n().createElement(ce,{name:e,size:"lg"}):e:null}(i),c&&n().createElement("img",{className:y.img,src:c,alt:null!=u?u:""}),l&&!m&&n().createElement("div",{className:x},l),!1===p&&n().createElement(ce,{name:"angle-down"}),!0===p&&n().createElement(ce,{name:"angle-up"}),v&&n().createElement("div",{className:y.highlight}));return o?n().createElement(Yt,{content:o,placement:"bottom"},_):_}));function YF(e,t){return e||(t?s.selectors.components.PageToolbar.item(t):void 0)}KF.displayName="ToolbarButton";const JF=e=>{const t=lr(e,"primary","solid"),r=lr(e,"destructive","solid"),n=a.css`
    color: ${e.colors.text.secondary};
    background-color: ${e.colors.background.primary};

    &:hover {
      color: ${e.colors.text.primary};
      background: ${e.colors.background.secondary};
    }
  `,o=a.css`
    color: ${e.colors.text.secondary};
    background-color: transparent;
    border-color: transparent;

    &:hover {
      color: ${e.colors.text.primary};
      background: ${e.colors.background.secondary};
    }
  `;return{button:a.css`
      label: toolbar-button;
      position: relative;
      display: flex;
      align-items: center;
      height: ${e.spacing(e.components.height.md)};
      padding: ${e.spacing(0,1)};
      border-radius: ${e.shape.borderRadius()};
      line-height: ${e.components.height.md*e.spacing.gridSize-2}px;
      font-weight: ${e.typography.fontWeightMedium};
      border: 1px solid ${e.colors.border.weak};
      white-space: nowrap;
      transition: ${e.transitions.create(["background","box-shadow","border-color","color"],{duration:e.transitions.duration.short})};

      &:focus,
      &:focus-visible {
        ${A(e)}
        z-index: 1;
      }

      &:focus:not(:focus-visible) {
        ${{outline:"none",boxShadow:"none"}}
      }

      &:hover {
        box-shadow: ${e.shadows.z1};
      }

      &[disabled],
      &:disabled {
        cursor: not-allowed;
        opacity: ${e.colors.action.disabledOpacity};
        background: ${e.colors.action.disabledBackground};
        box-shadow: none;

        &:hover {
          color: ${e.colors.text.disabled};
          background: ${e.colors.action.disabledBackground};
          box-shadow: none;
        }
      }
    `,default:e.flags.topnav?o:n,canvas:n,active:a.css`
      color: ${e.v1.palette.orangeDark};
      border-color: ${e.v1.palette.orangeDark};
      background-color: transparent;

      &:hover {
        color: ${e.colors.text.primary};
        background: ${e.colors.emphasize(e.colors.background.canvas,.03)};
      }
    `,primary:(0,a.css)(t),destructive:(0,a.css)(r),narrow:a.css`
      padding: 0 ${e.spacing(.5)};
    `,img:a.css`
      width: 16px;
      height: 16px;
      margin-right: ${e.spacing(1)};
    `,buttonFullWidth:a.css`
      flex-grow: 1;
    `,content:a.css`
      flex-grow: 1;
    `,contentWithIcon:a.css`
      display: none;
      padding-left: ${e.spacing(1)};

      @media ${i=e.v1.breakpoints.md,`only screen and (min-width: ${i})`} {
        display: block;
      }
    `,contentWithRightIcon:a.css`
      padding-right: ${e.spacing(.5)};
    `,highlight:a.css`
      background-color: ${e.colors.success.main};
      border-radius: 50%;
      width: 6px;
      height: 6px;
      position: absolute;
      top: -3px;
      right: -3px;
      z-index: 1;
    `};var i};function ZF(){return ZF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZF.apply(this,arguments)}const eq=e=>{const{className:t,options:o,value:i,onChange:a,narrow:s,variant:l}=e,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["className","options","value","onChange","narrow","variant"]),u=O(rq),d=function(e){let t=function(e){let[t,n]=function(e,t,n){let[o,i]=(0,r.useState)(e||t),a=(0,r.useRef)(void 0!==e),s=a.current,l=void 0!==e,c=(0,r.useRef)(o);s!==l&&console.warn(`WARN: A component changed from ${s?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}.`),a.current=l;let u=(0,r.useCallback)(((e,...t)=>{let r=(e,...t)=>{n&&(Object.is(c.current,e)||n(e,...t)),l||(c.current=e)};"function"==typeof e?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),i(((n,...o)=>{let i=e(l?c.current:n,...o);return r(i,...t),l?n:i}))):(l||i(e),r(e,...t))}),[l,n]);return l?c.current=e:e=o,[e,u]}(e.isOpen,e.defaultOpen||!1,e.onOpenChange);return{isOpen:t,setOpen:n,open(){n(!0)},close(){n(!1)},toggle(){n(!t)}}}({}),[n,o]=(0,r.useState)(null);return{focusStrategy:n,...t,open(e=null){o(e),t.open()},toggle(e=null){o(e),t.toggle()}}}(),p=n().useRef(null),{menuTriggerProps:f,menuProps:h}=MF({},d,p),{buttonProps:m}=function(e,t){let r,{elementType:n="button",isDisabled:o,onPress:i,onPressStart:a,onPressEnd:s,onPressChange:l,preventFocusOnPress:c,allowFocusWhenDisabled:u,onClick:d,href:p,target:f,rel:h,type:m="button"}=e;r="button"===n?{type:m,disabled:o}:{role:"button",tabIndex:o?void 0:0,href:"a"===n&&o?void 0:p,target:"a"===n?f:void 0,type:"input"===n?m:void 0,disabled:"input"===n?o:void 0,"aria-disabled":o&&"input"!==n?o:void 0,rel:"a"===n?h:void 0};let{pressProps:g,isPressed:v}=ln({onPressStart:a,onPressEnd:s,onPressChange:l,onPress:i,isDisabled:o,preventFocusOnPress:c,ref:t}),{focusableProps:b}=Zn(e,t);u&&(b.tabIndex=o?-1:b.tabIndex);let y=aF(b,g,function(e,t={}){let{labelable:r,propNames:n}=t,o={};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(sF.has(t)||r&&lF.has(t)||(null==n?void 0:n.has(t))||cF.test(t))&&(o[t]=e[t]);return o}(e,{labelable:!0}));return{isPressed:v,buttonProps:aF(r,y,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:e=>{d&&(d(e),console.warn("onClick is deprecated, please use onPress"))}})}}(f,p);return n().createElement(tF,{className:u.wrapper},n().createElement(KF,ZF({className:t,isOpen:d.isOpen,narrow:s,variant:l,ref:p},m,c),(null==i?void 0:i.label)||(null==i?void 0:i.value)),d.isOpen&&n().createElement("div",{className:u.menuWrapper},n().createElement(NF,{onClick:d.close,parent:document,includeButtonPress:!1},n().createElement(Ln,{contain:!0,autoFocus:!0,restoreFocus:!0},n().createElement(QF,ZF({tabIndex:-1,onClose:d.close},h),o.map((e=>n().createElement(BF,{key:`${e.value}`,label:e.label||e.value,onClick:()=>(e=>{a(e),d.close()})(e),active:e.value===(null==i?void 0:i.value),ariaChecked:e.value===(null==i?void 0:i.value),ariaLabel:e.ariaLabel||e.label,role:"menuitemradio"}))))))))};eq.displayName="ButtonSelect";const tq=n().memo(eq),rq=e=>({wrapper:a.css`
      position: relative;
      display: inline-flex;
    `,menuWrapper:a.css`
      position: absolute;
      z-index: ${e.zIndex.dropdown};
      top: ${e.spacing(4)};
      right: 0;
    `}),nq=["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"];class oq extends r.PureComponent{getVariant(){return this.props.isLive?"primary":this.props.isLoading?"destructive":this.props.primary?"primary":this.props.isOnCanvas?"canvas":"default"}render(){const{onRefresh:e,intervals:r,tooltip:o,value:i,text:a,isLoading:l,noIntervalPicker:c,width:u,offOptionLabelMsg:d,offOptionAriaLabelMsg:p,offDescriptionAriaLabelMsg:f,onDescriptionAriaLabelMsg:h}=this.props,m=i||"",g=this.getVariant(),v={value:oq.offOption.value,label:d||oq.offOption.label,ariaLabel:p||oq.offOption.ariaLabel},b=function({intervals:e=nq,offOption:r=oq.offOption}={}){const n=e.map((e=>{const r=function(e,t){var r,n,o,i,a;if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var s=Vz(),l=null!==(r=null!==(n=null==t?void 0:t.locale)&&void 0!==n?n:s.locale)&&void 0!==r?r:Jz,c=null!==(o=null==t?void 0:t.format)&&void 0!==o?o:Zz,u=null!==(i=null==t?void 0:t.zero)&&void 0!==i&&i,d=null!==(a=null==t?void 0:t.delimiter)&&void 0!==a?a:" ";if(!l.formatDistance)return"";var p=c.reduce((function(t,r){var n="x".concat(r.replace(/(^.)/,(function(e){return e.toUpperCase()}))),o=e[r];return"number"==typeof o&&(u||e[r])?t.concat(l.formatDistance(n,o)):t}),[]).join(d);return p}((0,t.parseDuration)(e));return{label:e,value:e,ariaLabel:r}}));return n.unshift(r),n}({intervals:r,offOption:v}),y=b.find((({value:e})=>e===m));let w=y||v;w.label===v.label&&(w={value:""});const O=w.ariaLabel,x=""===w.value?f||"Auto refresh turned off. Choose refresh time interval":(null==h?void 0:h(O))||`Choose refresh time interval with current interval ${O} selected`;return n().createElement(tF,{className:"refresh-picker"},n().createElement(KF,{"aria-label":a,tooltip:o,onClick:e,variant:g,icon:l?"fa fa-spinner":"sync",style:u?{width:u}:void 0,"data-testid":s.selectors.components.RefreshPicker.runButtonV2},a),!c&&n().createElement(tq,{value:w,options:b,onChange:this.onChangeSelect,variant:g,title:"Set auto refresh interval","data-testid":s.selectors.components.RefreshPicker.intervalButtonV2,"aria-label":x}))}constructor(e){super(e),this.onChangeSelect=e=>{const{onIntervalChanged:t}=this.props;t&&t(e.value)}}}oq.offOption={label:"Off",value:"",ariaLabel:"Turn off auto refresh"},oq.liveOption={label:"Live",value:"LIVE",ariaLabel:"Turn on live streaming"},oq.isLive=e=>e===oq.liveOption.value;class iq{init(e){var r,n;this.timeModel=e,this.time=e.time,this.refresh=e.refresh,this.initTimeFromUrl(),this.parseTime(),this.timeAtLoad=(0,su.cloneDeep)(this.time);const o=t.rangeUtil.convertRawToRange(this.time,null===(r=this.timeModel)||void 0===r?void 0:r.getTimezone(),null===(n=this.timeModel)||void 0===n?void 0:n.fiscalYearStartMonth);o.to.isBefore(o.from)&&this.setTime({from:o.raw.to,to:o.raw.from},!1),this.refresh&&this.setAutoRefresh(this.refresh)}getValidIntervals(e){return this.contextSrv.minRefreshInterval?e.filter((e=>""!==e)).filter(this.contextSrv.isAllowedInterval):e}parseTime(){(0,su.isString)(this.time.from)&&this.time.from.indexOf("Z")>=0&&(this.time.from=(0,t.dateTime)(this.time.from).utc()),(0,su.isString)(this.time.to)&&this.time.to.indexOf("Z")>=0&&(this.time.to=(0,t.dateTime)(this.time.to).utc())}parseUrlParam(e){if(-1!==e.indexOf("now"))return e;if(8===e.length){const r=(0,t.toUtc)(e,"YYYYMMDD");if(r.isValid())return r}else if(15===e.length){const r=(0,t.toUtc)(e,"YYYYMMDDTHHmmss");if(r.isValid())return r}if(!isNaN(e)){const r=parseInt(e,10);return(0,t.toUtc)(r)}return null}getTimeWindow(e,r){const n=parseInt(e,10);let o;return o=r.match(/^\d+$/)&&parseInt(r,10)?parseInt(r,10):t.rangeUtil.intervalToMs(r),{from:(0,t.toUtc)(n-o/2),to:(0,t.toUtc)(n+o/2)}}initTimeFromUrl(){var e,t,r,n;const o=i.locationService.getSearch();o.get("time")&&o.get("time.window")&&(this.time=this.getTimeWindow(o.get("time"),o.get("time.window"))),o.get("from")&&(this.time.from=this.parseUrlParam(o.get("from"))||this.time.from),o.get("to")&&(this.time.to=this.parseUrlParam(o.get("to"))||this.time.to),o.get("to")&&-1===o.get("to").indexOf("now")&&(this.refresh=!1,this.timeModel&&(this.timeModel.refresh=!1)),this.refresh=function({urlRefresh:e,currentRefresh:t,isAllowedIntervalFn:r,minRefreshInterval:n,refreshIntervals:o=nq}){if(!e)return t;const i=r(e),a=o.find((t=>t===e));if(!i||!a){const e=n?o.find((e=>e===n)):void 0,r=(null==o?void 0:o.length)?o[0]:void 0;var s;return null!==(s=null!=e?e:r)&&void 0!==s?s:t}return e||t}({urlRefresh:o.get("refresh"),currentRefresh:this.refresh,refreshIntervals:Array.isArray(null===(e=this.timeModel)||void 0===e||null===(t=e.timepicker)||void 0===t?void 0:t.refresh_intervals)?null===(r=this.timeModel)||void 0===r||null===(n=r.timepicker)||void 0===n?void 0:n.refresh_intervals:void 0,isAllowedIntervalFn:this.contextSrv.isAllowedInterval,minRefreshInterval:i.config.minRefreshInterval})}updateTimeRangeFromUrl(){const e=i.locationService.getSearch();if(e.get("left"))return;const t=this.timeRangeForUrl(),r=e.get("from"),n=e.get("to");r&&n?r===t.from&&n===t.to||(this.initTimeFromUrl(),this.setTime(this.time,!1)):this.timeHasChangedSinceLoad()&&this.setTime(this.timeAtLoad,!0)}timeHasChangedSinceLoad(){return this.timeAtLoad&&(this.timeAtLoad.from!==this.time.from||this.timeAtLoad.to!==this.time.to)}setAutoRefresh(e){this.timeModel&&(this.timeModel.refresh=e),this.stopAutoRefresh();const r=i.locationService.getSearchObject();if(!e)return void(r.refresh&&i.locationService.partial({refresh:null},!0));const n=this.contextSrv.getValidInterval(e),o=t.rangeUtil.intervalToMs(n);this.refreshTimer=setTimeout((()=>{this.startNextRefreshTimer(o),!this.autoRefreshPaused&&this.refreshTimeModel()}),o);const a=this.contextSrv.getValidInterval(e);r.refresh!==a&&i.locationService.partial({refresh:a},!0)}refreshTimeModel(){var e;null===(e=this.timeModel)||void 0===e||e.timeRangeUpdated(this.timeRange())}startNextRefreshTimer(e){this.refreshTimer=setTimeout((()=>{this.startNextRefreshTimer(e),this.contextSrv.isGrafanaVisible()?!this.autoRefreshPaused&&this.refreshTimeModel():this.autoRefreshBlocked=!0}),e)}stopAutoRefresh(){clearTimeout(this.refreshTimer)}pauseAutoRefresh(){this.autoRefreshPaused=!0}resumeAutoRefresh(){this.autoRefreshPaused=!1,this.refreshTimeModel()}setTime(e,r=!0){var n,o;if((0,su.extend)(this.time,e),(0,t.isDateTime)(e.to)?(this.oldRefresh=(null===(o=this.timeModel)||void 0===o?void 0:o.refresh)||this.oldRefresh,this.setAutoRefresh(!1)):this.oldRefresh&&this.oldRefresh!==(null===(n=this.timeModel)||void 0===n?void 0:n.refresh)&&(this.setAutoRefresh(this.oldRefresh),this.oldRefresh=null),!0===r){const e=this.timeRangeForUrl(),t=i.locationService.getSearchObject();if(t.from===e.from.toString()&&t.to===e.to.toString())return;t.from=e.from.toString(),t.to=e.to.toString(),i.locationService.partial(t)}this.refreshTimeModel()}timeRange(){var e,r;const n={from:(0,t.isDateTime)(this.time.from)?(0,t.dateTime)(this.time.from):this.time.from,to:(0,t.isDateTime)(this.time.to)?(0,t.dateTime)(this.time.to):this.time.to},o=this.timeModel?this.timeModel.getTimezone():void 0;return{from:t.dateMath.parse(n.from,!1,o,null===(e=this.timeModel)||void 0===e?void 0:e.fiscalYearStartMonth),to:t.dateMath.parse(n.to,!0,o,null===(r=this.timeModel)||void 0===r?void 0:r.fiscalYearStartMonth),raw:n}}zoomOut(e,r=!0){const n=this.timeRange(),{from:o,to:i}=((e,t)=>{const r=e.to.valueOf()-e.from.valueOf(),n=e.to.valueOf()-r/2,o=0===r?3e4:r*t;return{from:n-o/2,to:n+o/2}})(n,e);this.setTime({from:(0,t.toUtc)(o),to:(0,t.toUtc)(i)},r)}shiftTime(e,r=!0){const n=this.timeRange(),{from:o,to:i}=((e,r)=>{const n={from:(0,t.toUtc)(r.from),to:(0,t.toUtc)(r.to)},o=(n.to.valueOf()-n.from.valueOf())/2;let i,a;return-1===e?(i=n.to.valueOf()-o,a=n.from.valueOf()-o):1===e?(i=n.to.valueOf()+o,a=n.from.valueOf()+o,i>Date.now()&&n.to.valueOf()<Date.now()&&(i=Date.now(),a=n.from.valueOf())):(i=n.to.valueOf(),a=n.from.valueOf()),{from:a,to:i}})(e,n);this.setTime({from:(0,t.toUtc)(o),to:(0,t.toUtc)(i)},r)}makeAbsoluteTime(){if(i.locationService.getSearch().get("left"))return;const{from:e,to:t}=this.timeRange();this.setTime({from:e,to:t},!0)}isRefreshOutsideThreshold(e,r=.05){const n=this.timeRange();if(t.dateMath.isMathString(n.raw.from)){const t=n.to.diff(n.from);return Date.now()-e>=t*r}return!1}constructor(e){this.contextSrv=e,this.autoRefreshPaused=!1,this.timeRangeForUrl=()=>{const e=this.timeRange().raw;return(0,t.isDateTime)(e.from)&&(e.from=e.from.valueOf().toString()),(0,t.isDateTime)(e.to)&&(e.to=e.to.valueOf().toString()),e},this.time=(0,t.getDefaultTimeRange)().raw,this.refreshTimeModel=this.refreshTimeModel.bind(this),Lz.subscribe(a$,(e=>{this.zoomOut(e.payload.scale,e.payload.updateUrl)})),Lz.subscribe(s$,(e=>{this.shiftTime(e.payload.direction,e.payload.updateUrl)})),Lz.subscribe(l$,(()=>{this.makeAbsoluteTime()})),document.addEventListener("visibilitychange",(()=>{this.autoRefreshBlocked&&"visible"===document.visibilityState&&(this.autoRefreshBlocked=!1,this.refreshTimeModel())}))}}let aq;function sq(){return aq||(aq=new iq(x$)),aq}const lq=new t.Registry,cq="$__all";function uq(){return uq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uq.apply(this,arguments)}const dq=n().forwardRef(((e,t)=>{var{invalid:r,className:o}=e,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["invalid","className"]);const s=w(),l=pq(s,r);return n().createElement("textarea",uq({},i,{className:(0,a.cx)(l.textarea,o),ref:t}))})),pq=f(((e,t=!1)=>({textarea:(0,a.cx)(M(e),j(e),a.css`
        border-radius: ${e.shape.borderRadius()};
        padding: ${e.spacing.gridSize/4}px ${e.spacing.gridSize}px;
        width: 100%;
        border-color: ${t?e.colors.error.border:e.components.input.borderColor};
      `)})));dq.displayName="TextArea";const fq=e=>"adhoc"===e.type;var hq,mq,gq,vq,bq,yq,wq,Oq;(bq=hq||(hq={}))[bq.never=0]="never",bq[bq.onDashboardLoad=1]="onDashboardLoad",bq[bq.onTimeRangeChanged=2]="onTimeRangeChanged",function(e){e[e.disabled=0]="disabled",e[e.alphabeticalAsc=1]="alphabeticalAsc",e[e.alphabeticalDesc=2]="alphabeticalDesc",e[e.numericalAsc=3]="numericalAsc",e[e.numericalDesc=4]="numericalDesc",e[e.alphabeticalCaseInsensitiveAsc=5]="alphabeticalCaseInsensitiveAsc",e[e.alphabeticalCaseInsensitiveDesc=6]="alphabeticalCaseInsensitiveDesc"}(mq||(mq={})),function(e){e[e.dontHide=0]="dontHide",e[e.hideLabel=1]="hideLabel",e[e.hideVariable=2]="hideVariable"}(gq||(gq={})),function(e){e.NotStarted="NotStarted",e.Loading="Loading",e.Streaming="Streaming",e.Done="Done",e.Error="Error"}(vq||(vq={})),function(e){e.Null="null",e.Ignore="connected",e.AsZero="null as zero"}(yq||(yq={}));class xq extends class{constructor(){this.type=this.__proto__.constructor.type}}{constructor(e){super(),this.payload=e}}(Oq=wq||(wq={})).NotStarted="Not started",Oq.Fetching="Fetching",Oq.Completed="Completed",gq.dontHide,vq.NotStarted,class extends xq{}.type="variables-changed",class extends xq{}.type="variables-time-range-process-done",class extends xq{}.type="variables-changed-in-url";const _q=/\$(\w+)|\[\[(\w+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::([^\}]+))?}/g;function Eq(e){return Array.isArray(e)?e.map(String):null==e?"":"number"==typeof e?e.toString(10):"string"==typeof e?e:"boolean"==typeof e?e.toString():""}function Sq(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const kq={id:"",isValid:!0,errors:{},name:"",extended:null},Pq=em({name:"templating/editor",initialState:kq,reducers:{variableEditorMounted:(e,t)=>{e.name=t.payload.name,e.id=t.payload.id},variableEditorUnMounted:(e,t)=>kq,changeVariableNameSucceeded:(e,t)=>{e.name=t.payload.data.newName,delete e.errors.name,e.isValid=0===Object.keys(e.errors).length},changeVariableNameFailed:(e,t)=>{e.name=t.payload.newName,e.errors.name=t.payload.errorText,e.isValid=0===Object.keys(e.errors).length},addVariableEditorError:(e,t)=>{e.errors[t.payload.errorProp]=t.payload.errorText,e.isValid=0===Object.keys(e.errors).length},removeVariableEditorError:(e,t)=>{delete e.errors[t.payload.errorProp],e.isValid=0===Object.keys(e.errors).length},changeVariableEditorExtended:(e,t)=>{e.extended=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Sq(e,t,r[t])}))}return e}({},e.extended,t.payload)},cleanEditorState:()=>kq}}),{changeVariableNameSucceeded:Cq,changeVariableNameFailed:Tq,variableEditorMounted:Dq,variableEditorUnMounted:Iq,changeVariableEditorExtended:Aq,addVariableEditorError:jq,removeVariableEditorError:Mq,cleanEditorState:Nq}=(Pq.reducer,Pq.actions),Rq={usages:[],usagesNetwork:[]},Lq=em({name:"templating/inspect",initialState:Rq,reducers:{initInspect:(e,t)=>{const{usages:r,usagesNetwork:n}=t.payload;e.usages=r,e.usagesNetwork=n}}}),{initInspect:$q}=(Lq.reducer,Lq.actions),Vq=(e,...t)=>t.reduce(((e,t)=>t(e)),e);function zq(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){zq(e,t,r[t])}))}return e}function qq(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const Bq={id:"",highlightIndex:-1,queryValue:"",selectedValues:[],options:[],multi:!1},Hq=e=>{if(!Array.isArray(e.options))return e.options=[],e;const t=(e=>Array.isArray(e)?e.reduce(((e,t)=>((0,su.isString)(t.value)&&(e[t.value]=t),e)),{}):{})(e.selectedValues);return e.selectedValues=Object.values(t),e.options=e.options.map((e=>{if(!(0,su.isString)(e.value))return e;const r=!!t[e.value];return e.selected===r?e:qq(Fq({},e),{selected:r})})),e.options=Wq(e.options),e},Wq=e=>Array.isArray(e)?e.length<=1e3?e:e.slice(0,1e3):[],Uq=e=>{const{options:t,selectedValues:r}=e;return 0===t.length||r.length>0?e:t[0]&&t[0].value===cq?(e.selectedValues=[qq(Fq({},t[0]),{selected:!0})],e):e},Qq=e=>{const{selectedValues:t}=e;return t.length>1&&(e.selectedValues=t.filter((e=>e.value!==cq))),e},Gq=em({name:"templating/optionsPicker",initialState:Bq,reducers:{showOptions:(e,t)=>{const{query:r,options:n}=t.payload;var o;if(e.highlightIndex=-1,e.options=(0,su.cloneDeep)(n),e.id=t.payload.id,e.queryValue="",e.multi=!1,"multi"in t.payload&&(e.multi=null!==(o=t.payload.multi)&&void 0!==o&&o),"query"===t.payload.type){const{queryValue:n}=t.payload,o=(e=>!(!e||"string"!=typeof e)&&-1!==e.indexOf("__searchFilter"))(r);e.queryValue=o&&n?n:""}return e.selectedValues=e.options.filter((e=>e.selected)),Vq(e,Uq,Hq)},hideOptions:(e,t)=>Fq({},Bq),toggleOption:(e,t)=>{const{option:r,clearOthers:n,forceSelect:o}=t.payload,{multi:i,selectedValues:a}=e;if(r){const t=!a.find((e=>e.value===r.value&&e.text===r.text));if(r.value===cq||!i||n)return e.selectedValues=t||o?[qq(Fq({},r),{selected:!0})]:[],Vq(e,Uq,Qq,Hq);if(o||t)return e.selectedValues.push(qq(Fq({},r),{selected:!0})),Vq(e,Uq,Qq,Hq);e.selectedValues=a.filter((e=>e.value!==r.value&&e.text!==r.text))}else e.selectedValues=[];return Vq(e,Uq,Qq,Hq)},moveOptionsHighlight:(e,t)=>{let r=e.highlightIndex+t.payload;return r<0?r=0:r>=e.options.length&&(r=e.options.length-1),qq(Fq({},e),{highlightIndex:r})},toggleAllOptions:(e,t)=>e.selectedValues.length>0?(e.selectedValues=[],Vq(e,Hq)):(e.selectedValues=e.options.filter((e=>e.value!==cq)).map((e=>qq(Fq({},e),{selected:!0}))),Vq(e,Hq)),updateSearchQuery:(e,t)=>(e.queryValue=t.payload,e),updateOptionsAndFilter:(e,t)=>{var r;const n=(0,su.trim)((null!==(r=e.queryValue)&&void 0!==r?r:"").toLowerCase());return e.options=t.payload.filter((e=>{var t;const r=null!==(t=e.text)&&void 0!==t?t:"";return-1!==(Array.isArray(r)?r.toString():r).toLowerCase().indexOf(n)})),e.highlightIndex=0,Vq(e,Uq,Hq)},updateOptionsFromSearch:(e,t)=>(e.options=t.payload,e.highlightIndex=0,Vq(e,Uq,Hq)),cleanPickerState:()=>Bq}}),{toggleOption:Xq,showOptions:Kq,hideOptions:Yq,moveOptionsHighlight:Jq,toggleAllOptions:Zq,updateSearchQuery:eB,updateOptionsAndFilter:tB,updateOptionsFromSearch:rB,cleanPickerState:nB}=Gq.actions,oB=(Gq.reducer,{});function iB(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){iB(e,t,r[t])}))}return e}function sB(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const lB=em({name:"templating/shared",initialState:oB,reducers:{addVariable:(e,t)=>{var r;const n=null!==(r=t.payload.id)&&void 0!==r?r:t.payload.data.model.name,o=lq.get(t.payload.type),i=(0,su.cloneDeep)(o.initialState),a=o.beforeAdding?o.beforeAdding(t.payload.data.model):(0,su.cloneDeep)(t.payload.data.model),s=sB(aB({},(0,su.defaults)({},a,i)),{id:n,index:t.payload.data.index,global:t.payload.data.global});e[n]=s},variableStateNotStarted:(e,r)=>{const n=NB(e,r.payload.id);n.state=t.LoadingState.NotStarted,n.error=null},variableStateFetching:(e,r)=>{const n=NB(e,r.payload.id);n.state=t.LoadingState.Loading,n.error=null},variableStateCompleted:(e,r)=>{const n=NB(e,r.payload.id);n&&(n.state=t.LoadingState.Done,n.error=null)},variableStateFailed:(e,r)=>{const n=NB(e,r.payload.id);n&&(n.state=t.LoadingState.Error,n.error=r.payload.data.error)},removeVariable:(e,t)=>{if(delete e[t.payload.id],!t.payload.data.reIndex)return;const r=Object.values(e);for(let e=0;e<r.length;e++)r[e].index=e},duplicateVariable:(e,t)=>{var r;const n=(0,su.cloneDeep)(e[t.payload.id]),o=`copy_of_${n.name}`;var i;const a=null!==(i=null===(r=t.payload.data)||void 0===r?void 0:r.newId)&&void 0!==i?i:o,s=function(e){const t=e.filter(jB).sort(((e,t)=>e.index-t.index));return t.length>0?t[t.length-1].index+1:0}(Object.values(e));e[a]=sB(aB({},(0,su.cloneDeep)(lq.get(t.payload.type).initialState),n),{id:a,name:o,index:s})},changeVariableOrder:(e,t)=>{const{toIndex:r,fromIndex:n}=t.payload.data,o=Object.values(e);for(let e=0;e<o.length;e++){const t=o[e];t.index===n?t.index=r:t.index>n&&t.index<=r?t.index--:t.index<n&&t.index>=r&&t.index++}},changeVariableType:(e,t)=>{const{id:r}=t.payload,{label:n,name:o,index:i,description:a,rootStateKey:s}=e[r];e[r]=sB(aB({},(0,su.cloneDeep)(lq.get(t.payload.data.newType).initialState)),{id:r,rootStateKey:s,label:n,name:o,index:i,description:a})},setCurrentVariableValue:(e,t)=>{if(!t.payload.data.option)return;const r=NB(e,t.payload.id);if(!("options"in r))return;const{option:n}=t.payload.data,o=sB(aB({},n),{text:Eq(null==n?void 0:n.text),value:Eq(null==n?void 0:n.value)});r.current=o,r.options=r.options.map((e=>{e.value=Eq(e.value),e.text=Eq(e.text);let t=!1;if(Array.isArray(o.value))for(let r=0;r<o.value.length;r++){const n=o.value[r];if(e.value===n){t=!0;break}}else e.value===o.value&&(t=!0);return e.selected=t,e}))},changeVariableProp:(e,t)=>{NB(e,t.payload.id)[t.payload.data.propName]=t.payload.data.propValue}},extraReducers:e=>e.addCase(Cq,((e,t)=>{NB(e,t.payload.id).name=t.payload.data.newName}))}),{removeVariable:cB,addVariable:uB,changeVariableProp:dB,changeVariableOrder:pB,duplicateVariable:fB,setCurrentVariableValue:hB,changeVariableType:mB,variableStateNotStarted:gB,variableStateFetching:vB,variableStateCompleted:bB,variableStateFailed:yB}=(lB.reducer,lB.actions),wB={uid:null,status:wq.NotStarted,isDirty:!1},OB=em({name:"templating/transaction",initialState:wB,reducers:{variablesInitTransaction:(e,t)=>{e.uid=t.payload.uid,e.status=wq.Fetching},variablesCompleteTransaction:(e,t)=>{e.uid===t.payload.uid&&(e.status=wq.Completed)},variablesClearTransaction:(e,t)=>{e.uid=null,e.status=wq.NotStarted,e.isDirty=!1}},extraReducers:e=>e.addMatcher(xB,((e,t)=>{e.status===wq.Completed&&(e.isDirty=!0)}))});function xB(e){return cB.match(e)||uB.match(e)||dB.match(e)||pB.match(e)||fB.match(e)||mB.match(e)}const{variablesInitTransaction:_B,variablesClearTransaction:EB,variablesCompleteTransaction:SB}=OB.actions;OB.reducer,Jh("templating/cleanVariables");const kB={keys:{}};function PB(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){PB(e,t,r[t])}))}return e}function TB(){return{templating:(e=CB({},kB),t={lastKey:"key"},t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e)};var e,t}function DB(e,t,r=TB()){return Object.values(IB(t,r).variables).filter(e).sort(((e,t)=>e.index-t.index))}function IB(e,t=TB()){var r;return null!==(r=t.templating.keys[function(e){return String(e)}(e)])&&void 0!==r?r:{editor:kq,variables:oB,optionsPicker:Bq,transaction:wB,inspect:Rq}}function AB(e,t=TB()){return DB(jB,e,t)}function jB(e){return"system"!==e.type}function MB(e=TB()){var t;return null===(t=e.templating)||void 0===t?void 0:t.lastKey}function NB(e,t){return e[t]}p(((e,t)=>AB(e,TB())));const RB={valueFormats:{},intervalRegex:/(\d+(?:\.\d+)?)(ms|[Mwdhmsy])/,intervalsInSeconds:{y:31536e3,M:2592e3,w:604800,d:86400,h:3600,m:60,s:1,ms:.001},regexEscape:e=>e.replace(/[\\^$*+?.()|[\]{}\/]/g,"\\$&"),roundInterval:e=>((0,t.deprecationWarning)("kbn.ts","kbn.roundInterval()","@grafana/data"),t.rangeUtil.roundInterval(e)),secondsToHms:e=>((0,t.deprecationWarning)("kbn.ts","kbn.secondsToHms()","@grafana/data"),t.rangeUtil.secondsToHms(e)),secondsToHhmmss:e=>{const t=[],r=Math.floor(e/3600),n=Math.floor(e%3600/60),o=Math.floor(e%3600%60);return r>9?t.push(""+r):t.push("0"+r),n>9?t.push(""+n):t.push("0"+n),o>9?t.push(""+o):t.push("0"+o),t.join(":")},toPercent:(e,t)=>Math.floor(e/t*1e4)/100+"%",addSlashes:e=>e.replace(/[\'\"\\0]/g,"\\$&"),describeInterval:e=>((0,t.deprecationWarning)("kbn.ts","kbn.describeInterval()","@grafana/data"),t.rangeUtil.describeInterval(e)),intervalToSeconds:e=>((0,t.deprecationWarning)("kbn.ts","rangeUtil.intervalToSeconds()","@grafana/data"),t.rangeUtil.intervalToSeconds(e)),intervalToMs:e=>((0,t.deprecationWarning)("kbn.ts","rangeUtil.intervalToMs()","@grafana/data"),t.rangeUtil.intervalToMs(e)),calculateInterval:(e,r,n)=>((0,t.deprecationWarning)("kbn.ts","kbn.calculateInterval()","@grafana/data"),t.rangeUtil.calculateInterval(e,r,n)),queryColorDot:(e,t)=>'<div class="icon-circle" style="'+["display:inline-block","color:"+e,"font-size:"+t+"px"].join(";")+'"></div>',slugifyForUrl:e=>e.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-"),stringToJsRegex:e=>((0,t.deprecationWarning)("kbn.ts","kbn.stringToJsRegex()","@grafana/data"),(0,t.stringToJsRegex)(e)),toFixed:(e,t)=>{if(null===e)return"";const r=t?Math.pow(10,Math.max(0,t)):1,n=String(Math.round(e*r)/r);if(-1!==n.indexOf("e")||0===e)return n;if(null!=t){const e=n.indexOf("."),o=-1===e?0:n.length-e-1;if(o<t)return(o?n:n+".")+String(r).slice(1,t-o+1)}return n},toFixedScaled:(e,t,r,n,o)=>null===r?RB.toFixed(e,t)+o:RB.toFixed(e,r+n)+o,roundValue:(e,t)=>{if(null===e)return null;const r=Math.pow(10,t),n=(r*e).toFixed(t);return Math.round(parseFloat(n))/r},getUnitFormats:t.getValueFormats};"undefined"!=typeof Proxy?RB.valueFormats=new Proxy(RB.valueFormats,{get(e,r,n){if("string"!=typeof r)throw{message:`Value format ${String(r)} is not a string`};const o=(0,t.getValueFormat)(r);return o?(e,r,n,i)=>(0,t.formattedValueToString)(o(e,r,n,i?"utc":"browser")):Reflect.get(e,r,n)}}):RB.valueFormats=(0,t.getValueFormatterIndex)();const LB=RB;var $B;!function(e){e.lucene="lucene",e.raw="raw",e.regex="regex",e.pipe="pipe",e.distributed="distributed",e.csv="csv",e.html="html",e.json="json",e.percentEncode="percentencode",e.singleQuote="singlequote",e.doubleQuote="doublequote",e.sqlString="sqlstring",e.date="date",e.glob="glob",e.text="text",e.queryParam="queryparam"}($B||($B={}));const VB=new t.Registry((()=>{const e=[{id:$B.lucene,name:"Lucene",description:"Values are lucene escaped and multi-valued variables generate an OR expression",formatter:({value:e})=>"string"==typeof e?zB(e):e instanceof Array&&0===e.length?"__empty__":"("+(0,su.map)(e,(e=>'"'+zB(e)+'"')).join(" OR ")+")"},{id:$B.raw,name:"raw",description:"Keep value as is",formatter:({value:e})=>e},{id:$B.regex,name:"Regex",description:"Values are regex escaped and multi-valued variables generate a (<value>|<value>) expression",formatter:({value:e})=>{if("string"==typeof e)return LB.regexEscape(e);const t=(0,su.map)(e,LB.regexEscape);return 1===t.length?t[0]:"("+t.join("|")+")"}},{id:$B.pipe,name:"Pipe",description:"Values are separated by | character",formatter:({value:e})=>"string"==typeof e?e:e.join("|")},{id:$B.distributed,name:"Distributed",description:"Multiple values are formatted like variable=value",formatter:({value:e},t)=>"string"==typeof e?e:(e=(0,su.map)(e,((e,r)=>0!==r?t.name+"="+e:e))).join(",")},{id:$B.csv,name:"Csv",description:"Comma-separated values",formatter:({value:e})=>(0,su.isArray)(e)?e.join(","):e},{id:$B.html,name:"HTML",description:"HTML escaping of values",formatter:({value:e})=>(0,su.isArray)(e)?t.textUtil.escapeHtml(e.join(", ")):t.textUtil.escapeHtml(e)},{id:$B.json,name:"JSON",description:"JSON stringify valu",formatter:({value:e})=>JSON.stringify(e)},{id:$B.percentEncode,name:"Percent encode",description:"Useful for URL escaping values",formatter:({value:e})=>(0,su.isArray)(e)?FB("{"+e.join(",")+"}"):FB(e)},{id:$B.singleQuote,name:"Single quote",description:"Single quoted values",formatter:({value:e})=>{const t=new RegExp("'","g");return(0,su.isArray)(e)?(0,su.map)(e,(e=>`'${(0,su.replace)(e,t,"\\'")}'`)).join(","):`'${(0,su.replace)(e,t,"\\'")}'`}},{id:$B.doubleQuote,name:"Double quote",description:"Double quoted values",formatter:({value:e})=>{const t=new RegExp('"',"g");return(0,su.isArray)(e)?(0,su.map)(e,(e=>`"${(0,su.replace)(e,t,'\\"')}"`)).join(","):`"${(0,su.replace)(e,t,'\\"')}"`}},{id:$B.sqlString,name:"SQL string",description:"SQL string quoting and commas for use in IN statements and other scenarios",formatter:({value:e})=>{const t=new RegExp("'","g");return(0,su.isArray)(e)?(0,su.map)(e,(e=>`'${(0,su.replace)(e,t,"''")}'`)).join(","):`'${(0,su.replace)(e,t,"''")}'`}},{id:$B.date,name:"Date",description:"Format date in different ways",formatter:({value:e,args:r})=>{var n;const o=null!==(n=r[0])&&void 0!==n?n:"iso";switch(o){case"ms":return e;case"seconds":return`${Math.round(parseInt(e,10)/1e3)}`;case"iso":return(0,t.dateTime)(parseInt(e,10)).toISOString();default:return(0,t.dateTime)(parseInt(e,10)).format(o)}}},{id:$B.glob,name:"Glob",description:"Format multi-valued variables using glob syntax, example {value1,value2}",formatter:({value:e})=>(0,su.isArray)(e)&&e.length>1?"{"+e.join(",")+"}":e},{id:$B.text,name:"Text",description:"Format variables in their text representation. Example in multi-variable scenario A + B + C.",formatter:(e,t)=>{var r;return"string"==typeof e.text?e.value===cq?"All":e.text:(null===(r=t)||void 0===r?void 0:r.current)?(e=>{if(!(e=>{var t,r;return Array.isArray(null===(t=e)||void 0===t?void 0:t.options)||"object"==typeof(null===(r=e)||void 0===r?void 0:r.current)})(e))return e.name;const{current:t}=e;return Array.isArray(t.text)?t.text.join(" + "):t.text})(t):e.value}},{id:$B.queryParam,name:"Query parameter",description:"Format variables as URL parameters. Example in multi-variable scenario A + B + C => var-foo=A&var-foo=B&var-foo=C.",formatter:(e,t)=>{const{value:r}=e,{name:n}=t;return Array.isArray(r)?r.map((e=>qB(n,e))).join("&"):qB(n,r)}}];return e}));function zB(e){return e.replace(/([\!\*\+\-\=<>\s\&\|\(\)\[\]\{\}\^\~\?\:\\/"])/g,"\\$1")}function FB(e){return encodeURIComponent(e).replace(/[!'()*]/g,(e=>"%"+e.charCodeAt(0).toString(16).toUpperCase()))}function qB(e,t){return`var-${e}=${FB(t)}`}function BB(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){BB(e,t,r[t])}))}return e}function WB(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const UB={getFilteredVariables:function(e,t=TB()){const r=MB(t);return r?DB(e,r,t):[]},getVariables:function(e=TB()){const t=MB(e);return t?AB(t,e):[]},getVariableWithName:function(e,t=TB()){const r=MB(t);if(r)return function(e,t=TB(),r=!0){const{id:n,rootStateKey:o}=e,i=IB(o,t).variables[n];if(i)return i;if(r)throw new Error(`Couldn't find variable with id:${n}`)}({id:e,rootStateKey:r,type:"query"},t,!1)}},QB=new class{init(e,t){this._variables=e,this.timeRange=t,this.updateIndex()}get variables(){return(0,t.deprecationWarning)("template_srv.ts","variables","getVariables"),this.getVariables()}getVariables(){return this.dependencies.getVariables()}updateIndex(){if(this.index=this._variables.reduce(((e,t)=>{var r;return t.current&&(t.current.isNone||(r=t.current.value)||""===r)&&(e[t.name]=t),e}),{}),this.timeRange){const e=this.timeRange.from.valueOf().toString(),t=this.timeRange.to.valueOf().toString();this.index=WB(HB({},this.index),{__from:{current:{value:e,text:e}},__to:{current:{value:t,text:t}}})}}updateTimeRange(e){this.timeRange=e,this.updateIndex()}variableInitialized(e){this.index[e.name]=e}getAdhocFilters(e){let t=[],r=(0,i.getDataSourceSrv)().getInstanceSettings(e);if(!r)return[];for(const o of this.getAdHocVariables()){var n;const i=null===(n=o.datasource)||void 0===n?void 0:n.uid;(i===r.uid||0===(null==i?void 0:i.indexOf("$"))&&this.replace(i)===e)&&(t=t.concat(o.filters))}return t}formatValue(e,t,r,n){if(null==e)return"";if(fq(r=r||{})&&t!==$B.queryParam)return"";if(Array.isArray(e)||"object"!=typeof e||(e=`${e}`),"function"==typeof t)return t(e,r,this.formatValue);t||(t=$B.glob);let o=t.split(":");o.length>1?(t=o[0],o=o.slice(1)):o=[];let i=VB.getIfExists(t);i||(console.error(`Variable format ${t} not found. Using glob format as fallback.`),i=VB.get($B.glob));const a={value:e,args:o,text:null!=n?n:e};return i.formatter(a,r)}setGrafanaVariable(e,t){this.grafanaVariables[e]=t}setGlobalVariable(e,r){(0,t.deprecationWarning)("template_srv.ts","setGlobalVariable",""),this.index=WB(HB({},this.index),{[e]:{current:r}})}getVariableName(e){this.regex.lastIndex=0;const t=this.regex.exec(e);return t?t.slice(1).find((e=>void 0!==e)):null}containsTemplate(e){if(!e)return!1;const t=this.getVariableName(e);return null!=(t&&this.getVariableAtIndex(t))}variableExists(e){return(0,t.deprecationWarning)("template_srv.ts","variableExists","containsTemplate"),this.containsTemplate(e)}highlightVariablesAsHtml(e){return e&&(0,su.isString)(e)?(e=(0,su.escape)(e),this.regex.lastIndex=0,e.replace(this.regex,((e,t,r,n,o)=>this.getVariableAtIndex(t||r||o)?'<span class="template-variable">'+e+"</span>":e))):e}getAllValue(e){if(e.allValue)return e.allValue;const t=[];for(let r=1;r<e.options.length;r++)t.push(e.options[r].value);return t}getFieldAccessor(e){return this.fieldAccessorCache[e]||(this.fieldAccessorCache[e]=(0,su.property)(e))}getVariableValue(e,t,r){const n=r[e];return n?t?this.getFieldAccessor(t)(n.value):n.value:null}getVariableText(e,t,r){const n=r[e];return n?n.value===t||"string"!=typeof t?n.text:t:null}replace(e,t,r){return e?(this.regex.lastIndex=0,e.replace(this.regex,((e,n,o,i,a,s,l)=>{const c=n||o||a,u=this.getVariableAtIndex(c),d=i||l||r;if(t){const e=this.getVariableValue(c,s,t),r=this.getVariableText(c,e,t);if(null!=e)return this.formatValue(e,d,u,r)}if(!u)return e;if(d===$B.queryParam||fq(u)){const e=lq.get(u.type).getValueForUrl(u),t=fq(u)?u.id:u.current.text;return this.formatValue(e,d,u,t)}const p=this.grafanaVariables[u.current.value];if(p)return this.formatValue(p,d,u);let f=u.current.value,h=u.current.text;if(this.isAllValue(f)&&(f=this.getAllValue(u),h="All",u.allValue&&d!==$B.text))return this.replace(f);if(s){const e=this.getVariableValue(c,s,{[c]:{value:f,text:h}});if(null!=e)return this.formatValue(e,d,u,h)}return this.formatValue(f,d,u,h)}))):null!=e?e:""}isAllValue(e){return e===cq||Array.isArray(e)&&e[0]===cq}replaceWithText(e,r){return(0,t.deprecationWarning)("template_srv.ts","replaceWithText()","replace(), and specify the :text format"),this.replace(e,r,"text")}getVariableAtIndex(e){if(e)return this.index[e]?this.index[e]:this.dependencies.getVariableWithName(e)}getAdHocVariables(){return this.dependencies.getFilteredVariables(fq)}constructor(e=UB){this.dependencies=e,this.regex=_q,this.index={},this.grafanaVariables={},this.timeRange=null,this.fieldAccessorCache={},this._variables=[]}};var GB,XB,KB;(0,i.setTemplateSrv)(QB),(KB=GB||(GB={})).CloudAlerting="cloud-alerting",KB.UnifiedAlerting="unified-alerting",KB.Dashboard="dashboard",KB.Explore="explore",KB.Unknown="unknown",KB.PanelEditor="panel-editor",KB.PanelViewer="panel-viewer",function(e){e.alpha="alpha",e.beta="beta"}(XB||(XB={}));const YB={};(0,su.each)([{from:"now/d",to:"now/d",display:"Today"},{from:"now/d",to:"now",display:"Today so far"},{from:"now/w",to:"now/w",display:"This week"},{from:"now/w",to:"now",display:"This week so far"},{from:"now/M",to:"now/M",display:"This month"},{from:"now/M",to:"now",display:"This month so far"},{from:"now/y",to:"now/y",display:"This year"},{from:"now/y",to:"now",display:"This year so far"},{from:"now-1d/d",to:"now-1d/d",display:"Yesterday"},{from:"now-2d/d",to:"now-2d/d",display:"Day before yesterday"},{from:"now-7d/d",to:"now-7d/d",display:"This day last week"},{from:"now-1w/w",to:"now-1w/w",display:"Previous week"},{from:"now-1M/M",to:"now-1M/M",display:"Previous month"},{from:"now-1Q/fQ",to:"now-1Q/fQ",display:"Previous fiscal quarter"},{from:"now-1y/y",to:"now-1y/y",display:"Previous year"},{from:"now-1y/fy",to:"now-1y/fy",display:"Previous fiscal year"},{from:"now-5m",to:"now",display:"Last 5 minutes"},{from:"now-15m",to:"now",display:"Last 15 minutes"},{from:"now-30m",to:"now",display:"Last 30 minutes"},{from:"now-1h",to:"now",display:"Last 1 hour"},{from:"now-3h",to:"now",display:"Last 3 hours"},{from:"now-6h",to:"now",display:"Last 6 hours"},{from:"now-12h",to:"now",display:"Last 12 hours"},{from:"now-24h",to:"now",display:"Last 24 hours"},{from:"now-2d",to:"now",display:"Last 2 days"},{from:"now-7d",to:"now",display:"Last 7 days"},{from:"now-30d",to:"now",display:"Last 30 days"},{from:"now-90d",to:"now",display:"Last 90 days"},{from:"now-6M",to:"now",display:"Last 6 months"},{from:"now-1y",to:"now",display:"Last 1 year"},{from:"now-2y",to:"now",display:"Last 2 years"},{from:"now-5y",to:"now",display:"Last 5 years"},{from:"now/fQ",to:"now",display:"This fiscal quarter so far"},{from:"now/fQ",to:"now/fQ",display:"This fiscal quarter"},{from:"now/fy",to:"now",display:"This fiscal year so far"},{from:"now/fy",to:"now/fy",display:"This fiscal year"}],(e=>{YB[e.from+" to "+e.to]=e})),(0,su.each)([{from:"now",to:"now+1m",display:"Next minute"},{from:"now",to:"now+5m",display:"Next 5 minutes"},{from:"now",to:"now+15m",display:"Next 15 minutes"},{from:"now",to:"now+30m",display:"Next 30 minutes"},{from:"now",to:"now+1h",display:"Next hour"},{from:"now",to:"now+3h",display:"Next 3 hours"},{from:"now",to:"now+6h",display:"Next 6 hours"},{from:"now",to:"now+12h",display:"Next 12 hours"},{from:"now",to:"now+24h",display:"Next 24 hours"},{from:"now",to:"now+2d",display:"Next 2 days"},{from:"now",to:"now+7d",display:"Next 7 days"},{from:"now",to:"now+30d",display:"Next 30 days"},{from:"now",to:"now+90d",display:"Next 90 days"},{from:"now",to:"now+6M",display:"Next 6 months"},{from:"now",to:"now+1y",display:"Next year"},{from:"now",to:"now+2y",display:"Next 2 years"},{from:"now",to:"now+5y",display:"Next 5 years"}],(e=>{YB[e.from+" to "+e.to]=e}));const JB=/(-?\d+(?:\.\d+)?)(ms|[Mwdhmsy])/,ZB={y:31536e3,M:2592e3,w:604800,d:86400,h:3600,m:60,s:1,ms:.001};function eH(e){if(Number(e))return{sec:ZB.s,type:"s",count:parseInt(e,10)};const t=e.match(JB);if(!t||!(0,su.has)(ZB,t[2]))throw new Error(`Invalid interval string, has to be either unit-less or end with one of the following units: "${Object.keys(ZB).join(", ")}"`);return{sec:ZB[t[2]],type:t[2],count:parseInt(t[1],10)}}function tH(e){const t=eH(e);return t.sec*t.count}function rH(e){const t=eH(e);return 1e3*t.sec*t.count}var nH=v(38283),oH=v.n(nH);const iH=oH().ISO_8601,aH=(e,t)=>oH()(e,t),sH=["y","M","w","d","h","m","s","Q"];function lH(e,t,r,n){if(e){if("string"!=typeof e)return o=e,oH().isMoment(o)?e:(0,su.isDate)(e)?aH(e):void 0;{let o,i,a,s="";return"now"===e.substring(0,3)?(o=((e,t,r)=>"utc"===e?((e,t)=>oH().utc(e,t))(t,r):aH(t,r))(r),s=e.substring("now".length)):(i=e.indexOf("||"),-1===i?(a=e,s=""):(a=e.substring(0,i),s=e.substring(i+2)),o=aH(a,iH)),s.length?function(e,t,r,n=0){const o=e.replace(/\s/g,""),i=t;let a=0;const s=o.length;for(;a<s;){const e=o.charAt(a++);let t,s,l,c=!1;if("/"===e)t=0;else if("+"===e)t=1;else{if("-"!==e)return;t=2}if(isNaN(parseInt(o.charAt(a),10)))s=1;else if(2===o.length)s=parseInt(o.charAt(a),10);else{const e=a;for(;!isNaN(parseInt(o.charAt(a),10));)if(a++,a>10)return;s=parseInt(o.substring(e,a),10)}if(0===t&&1!==s)return;if(l=o.charAt(a++),"f"===l&&(l=o.charAt(a++),c=!0),!(0,su.includes)(sH,l))return;0===t?r?c?cH(n,i,l,r):i.endOf(l):c?cH(n,i,l,r):i.startOf(l):1===t?i.add(s,l):2===t&&i.subtract(s,l)}return i}(s,o,t,n):o}var o}}function cH(e,t,r,n){switch(r){case"y":return n?cH(e,t,r,!1).add(11,"M").endOf("M"):t.subtract((t.month()-e+12)%12,"M").startOf("M"),t;case"Q":return n?cH(e,t,r,!1).add(2,"M").endOf("M"):t.subtract((t.month()-e+3)%3,"M").startOf("M"),t;default:return}}function uH(){return uH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uH.apply(this,arguments)}const dH=n().memo((e=>{var{icon:t,color:o,text:i,tooltip:s,className:l}=e,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["icon","color","text","tooltip","className"]);const u=O((0,r.useCallback)((e=>pH(e,o)),[o])),d=n().createElement("div",uH({className:(0,a.cx)(u.wrapper,l)},c),n().createElement(S,{align:"center",spacing:"xs"},t&&n().createElement(ce,{name:t,size:"sm"}),n().createElement("span",null,i)));return s?n().createElement(Yt,{content:s,placement:"auto"},d):d}));dH.displayName="Badge";const pH=(e,t)=>{let r=e.visualization.getColorByName(t),n="",o="",i="";return e.isDark?(o=D()(r).setAlpha(.15).toString(),n=D()(r).darken(30).toString(),i=D()(r).lighten(15).toString()):(o=D()(r).setAlpha(.15).toString(),n=D()(r).lighten(20).toString(),i=D()(r).darken(15).toString()),{wrapper:a.css`
      font-size: ${e.typography.size.sm};
      display: inline-flex;
      padding: 1px 4px;
      border-radius: 3px;
      background: ${o};
      border: 1px solid ${n};
      color: ${i};
      font-weight: ${e.typography.fontWeightRegular};

      > span {
        position: relative;
        top: 1px;
        margin-left: 2px;
      }
    `}};function fH(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hH(){return hH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hH.apply(this,arguments)}function mH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){fH(e,t,r[t])}))}return e}function gH(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function vH(e){const t=e.annotation,r=e.onAnnotationChange,o={expr:t.expr,refId:t.name,interval:t.step};return n().createElement(n().Fragment,null,n().createElement(eu,null,n().createElement(bL,hH({},e,{query:o,showExplain:!1,onChange:e=>{r(gH(mH({},t),{expr:e.expr}))}})),n().createElement(rm,null,n().createElement(Xm,{label:"Min step",tooltip:n().createElement(n().Fragment,null,"An additional lower limit for the step parameter of the Prometheus query and for the"," ",n().createElement("code",null,"$__interval")," and ",n().createElement("code",null,"$__rate_interval")," variables.")},n().createElement(JC,{type:"text","aria-label":"Set lower limit for the step parameter",placeholder:"auto",minWidth:10,onCommitChange:e=>{r(gH(mH({},t),{step:e.currentTarget.value}))},defaultValue:o.interval})))),n().createElement(Wc,{v:.5}),n().createElement(rm,null,n().createElement(Xm,{label:"Title",tooltip:"Use either the name or a pattern. For example, {{instance}} is replaced with label value for the label instance."},n().createElement(he,{type:"text",placeholder:"{{alertname}}",value:t.titleFormat,onChange:e=>{r(gH(mH({},t),{titleFormat:e.currentTarget.value}))}})),n().createElement(Xm,{label:"Tags"},n().createElement(he,{type:"text",placeholder:"label1,label2",value:t.tagKeys,onChange:e=>{r(gH(mH({},t),{tagKeys:e.currentTarget.value}))}})),n().createElement(Xm,{label:"Text",tooltip:"Use either the name or a pattern. For example, {{instance}} is replaced with label value for the label instance."},n().createElement(he,{type:"text",placeholder:"{{instance}}",value:t.textFormat,onChange:e=>{r(gH(mH({},t),{textFormat:e.currentTarget.value}))}})),n().createElement(Xm,{label:"Series value as timestamp",tooltip:"The unit of timestamp is milliseconds. If the unit of the series value is seconds, multiply its range vector by 1000."},n().createElement(oD,{value:t.useValueForTime,onChange:e=>{r(gH(mH({},t),{useValueForTime:e.currentTarget.value}))}}))))}function bH(e,t){return e.replace(/\{\{\s*(.+?)\s*\}\}/g,((e,r)=>t[r]?t[r]:r))}class yH{process(){if(this.query.match(/^label_names\(\)\s*$/))return this.labelNamesQuery();const e=this.query.match(/^label_values\((?:(.+),\s*)?([a-zA-Z_][a-zA-Z0-9_]*)\)\s*$/);if(e)return e[1]?this.labelValuesQuery(e[2],e[1]):this.labelValuesQuery(e[2]);const t=this.query.match(/^metrics\((.+)\)\s*$/);if(t)return this.metricNameQuery(t[1]);const r=this.query.match(/^query_result\((.+)\)\s*$/);return r?(0,hV.lastValueFrom)(this.queryResultQuery(r[1])):this.metricNameAndLabelsQuery(this.query)}labelNamesQuery(){const e=this.datasource.getPrometheusTime(this.range.from,!1),t=this.datasource.getPrometheusTime(this.range.to,!0),r={start:e.toString(),end:t.toString()};return this.datasource.metadataRequest("/api/v1/labels",r).then((e=>(0,su.map)(e.data.data,(e=>({text:e})))))}labelValuesQuery(e,t){const r=this.datasource.getPrometheusTime(this.range.from,!1),n=this.datasource.getPrometheusTime(this.range.to,!0);let o;if(t){const i={"match[]":t,start:r.toString(),end:n.toString()};return o="/api/v1/series",this.datasource.metadataRequest(o,i).then((t=>{const r=(0,su.map)(t.data.data,(t=>t[e]||"")).filter((e=>""!==e));return(0,su.uniq)(r).map((e=>({text:e,expandable:!0})))}))}{const t={start:r.toString(),end:n.toString()};return o=`/api/v1/label/${e}/values`,this.datasource.metadataRequest(o,t).then((e=>(0,su.map)(e.data.data,(e=>({text:e})))))}}metricNameQuery(e){const t=this.datasource.getPrometheusTime(this.range.from,!1),r=this.datasource.getPrometheusTime(this.range.to,!0),n={start:t.toString(),end:r.toString()};return this.datasource.metadataRequest("/api/v1/label/__name__/values",n).then((t=>(0,su.chain)(t.data.data).filter((t=>new RegExp(e).test(t))).map((e=>({text:e,expandable:!0}))).value()))}queryResultQuery(e){const t=this.datasource.getPrometheusTime(this.range.to,!0),r={expr:e};return this.datasource.performInstantQuery(r,t).pipe(UV((e=>{switch(e.data.data.resultType){case"scalar":case"string":return[{text:e.data.data.result[1]||"",expandable:!1}];case"vector":return(0,su.map)(e.data.data.result,(e=>{let t=e.metric.__name__||"";return delete e.metric.__name__,t+="{"+(0,su.map)(e.metric,((e,t)=>t+'="'+e+'"')).join(",")+"}",t+=" "+e.value[1]+" "+1e3*e.value[0],{text:t,expandable:!0}}));default:throw Error(`Unknown/Unhandled result type: [${e.data.data.resultType}]`)}})))}metricNameAndLabelsQuery(e){const t=this.datasource.getPrometheusTime(this.range.from,!1),r=this.datasource.getPrometheusTime(this.range.to,!0),n={"match[]":e,start:t.toString(),end:r.toString()},o=this;return this.datasource.metadataRequest("/api/v1/series",n).then((e=>(0,su.map)(e.data.data,(e=>({text:o.datasource.getOriginalMetricName(e),expandable:!0})))))}constructor(e,t){this.datasource=e,this.query=t,this.datasource=e,this.query=t,this.range=sq().timeRange()}}function wH(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OH(e,t,r){const n=[];if(e.trim().match(/^\w+_bucket$|^\w+_bucket{.*}$/)){const t="Selected metric has buckets.";n.push({type:"HISTOGRAM_QUANTILE",label:t,fix:{label:"Consider calculating aggregated quantile by adding histogram_quantile().",action:{type:"ADD_HISTOGRAM_QUANTILE",query:e}}})}if(-1===e.indexOf("rate(")&&-1===e.indexOf("increase(")){var o;const t=e.match(/\b(\w+_(total|sum|count))\b/);let a=t?t[1]:"";const s=null==r||null===(o=r.languageProvider)||void 0===o?void 0:o.metricsMetadata;let l=!1;if(s){const t=Array.from(e.matchAll(/\$?[a-zA-Z_:][a-zA-Z0-9_:]*/g)).map((([e])=>e)).filter((e=>!e.startsWith("$"))).flatMap((e=>e.split(":")));var i;a=null!==(i=t.find((e=>{const t=s[e];return!(!t||"counter"!==t.type.toLowerCase()||(l=!0,0))})))&&void 0!==i?i:""}if(a){const t=e.trim().match(/^\w+$|^\w+{.*}$/);let r,o=`Selected metric ${l?"is":"looks like"} a counter.`;t?r={label:"Consider calculating rate of counter by adding rate().",action:{type:"ADD_RATE",query:e}}:o=`${o} Consider calculating rate of counter by adding rate().`,n.push({type:"APPLY_RATE",label:o,fix:r})}}if(r&&r.ruleMappings){const t=r.ruleMappings,o=Object.keys(t).reduce(((r,n)=>{return e.search(n)>-1?(o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){wH(e,t,r[t])}))}return e}({},r),i=null!=(i={[n]:t[n]})?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(i)).forEach((function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})),o):r;var o,i}),{});if((0,su.size)(o)>0){const t="Query contains recording rules.";n.push({type:"EXPAND_RULES",label:t,fix:{label:"Expand rules",action:{type:"EXPAND_RULES",query:e,options:o}}})}}return t&&t.length>=20&&e.trim().match(/^\w+$/)&&n.push({type:"ADD_SUM",label:"Many time series results returned.",fix:{label:"Consider aggregating with sum().",action:{type:"ADD_SUM",query:e,preventSubmit:!0}}}),n}var xH=v(38200);function _H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){_H(e,t,r[t])}))}return e}function SH(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function kH(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const PH=/^[+-]?inf(?:inity)?$/i;const CH="le";function TH(e,r){const n={format:r.target.format,step:r.query.step,legendFormat:r.target.legendFormat,start:r.query.start,end:r.query.end,query:r.query.expr,responseListLength:r.responseListLength,scopedVars:r.scopedVars,refId:r.target.refId,valueWithRefId:r.target.valueWithRefId,meta:{preferredVisualisationType:r.query.instant?"table":"graph"}},o=e.data.data;if(null!=(l=o)&&Array.isArray(l)&&l.length&&"exemplars"in l[0]){var a;const e=[];o.forEach((r=>{const n=r.exemplars.map((e=>EH({[t.TIME_SERIES_TIME_FIELD_NAME]:1e3*e.timestamp,[t.TIME_SERIES_VALUE_FIELD_NAME]:e.value},e.labels,r.seriesLabels)));e.push(...n)}));const i=function(e,r){const n=r.step||15,o={},i=[];for(const r of e){const e=String(Math.floor(r[t.TIME_SERIES_TIME_FIELD_NAME]/1e3/n)*n*1e3);o[e]||(o[e]=[]),o[e].push(r),i.push(r[t.TIME_SERIES_VALUE_FIELD_NAME])}const a=(0,xH.deviation)(i),s=Object.keys(o).sort(),l=[];for(const e of s){const r=o[e];if(1===r.length)l.push(r[0]);else{const e=r.map((e=>e[t.TIME_SERIES_VALUE_FIELD_NAME])).sort(xH.descending).reduce(((e,t)=>{if(0===e.length)e.push(t);else{const r=e[e.length-1];a&&r-t>=2*a&&e.push(t)}return e}),[]);l.push(...e.map((e=>r.find((r=>r[t.TIME_SERIES_VALUE_FIELD_NAME]===e)))))}}return l}(e,n),l=new t.ArrayDataFrame(i);if(l.meta={dataTopic:t.DataTopic.Annotations},null===(a=r.exemplarTraceIdDestinations)||void 0===a?void 0:a.length)for(const e of r.exemplarTraceIdDestinations){const t=l.fields.find((t=>t.name===e.name));if(t){var s;const r=DH(e);t.config.links=(null===(s=t.config.links)||void 0===s?void 0:s.length)?[...t.config.links,...r]:r}}return[l]}var l;if(!(null==o?void 0:o.result))return[];if("scalar"===o.resultType)return[{meta:n.meta,refId:n.refId,length:1,fields:[AH([o.result]),jH({data:[o.result]})]}];if("table"===n.format){const e=function(e,r){if(!e||0===e.length)return{meta:r.meta,refId:r.refId,length:0,fields:[]};const n=r.responseListLength>1||r.valueWithRefId?`Value #${r.refId}`:"Value",o=AH([]),i=Object.keys(e.reduce(((e,t)=>EH({},e,t.metric)),{})).sort().map((e=>({name:e,config:{filterable:!0},type:e===CH?t.FieldType.number:t.FieldType.string,values:new t.ArrayVector}))),a=jH({data:[],valueName:n});return e.forEach((e=>{Lf(e)?e.values.forEach((t=>{o.values.add(1e3*t[0]),i.forEach((t=>t.values.add(IH(e.metric,t.name)))),a.values.add(LH(t[1]))})):(o.values.add(1e3*e.value[0]),i.forEach((t=>t.values.add(IH(e.metric,t.name)))),a.values.add(LH(e.value[1])))})),{meta:r.meta,refId:r.refId,length:o.values.length,fields:[o,...i,a]}}(o.result,n);return[e]}const c=[];return o.result.forEach((e=>c.push(function(e,r){const{name:n,labels:o}=function(e,r){if(null==r?void 0:r.legendFormat)return{name:bH((0,i.getTemplateSrv)().replace(r.legendFormat,null==r?void 0:r.scopedVars),e),labels:e};const{__name__:n}=e,o=kH(e,["__name__"]);let a=`${null!=n?n:""}${(0,t.formatLabels)(o)}`;return a||(a=r.query),{name:a,labels:o}}(e.metric,r),a=[];if(Lf(e)){const t=r.step?1e3*r.step:NaN;let i=1e3*r.start;const s=[];for(const r of e.values){let e=LH(r[1]);isNaN(e)&&(e=null);const n=1e3*r[0];for(let e=i;e<n;e+=t)s.push([e,null]);i=n+t,s.push([n,e])}const l=1e3*r.end;for(let e=i;e<=l;e+=t)s.push([e,null]);a.push(AH(s,!0)),a.push(jH({data:s,parseValue:!1,labels:o,displayNameFromDS:n}))}else a.push(AH([e.value])),a.push(jH({data:[e.value],labels:o,displayNameFromDS:n}));return{meta:r.meta,refId:r.refId,length:a[0].values.length,fields:a,name:n}}(e,n)))),"heatmap"===n.format?MH(NH(c.sort(RH))):c}function DH(e){const t=[];if(e.datasourceUid){const n=(0,i.getDataSourceSrv)().getInstanceSettings(e.datasourceUid);var r;n&&t.push({title:e.urlDisplayLabel||`Query with ${null==n?void 0:n.name}`,url:"",internal:{query:{query:"${__value.raw}",queryType:"traceId"},datasourceUid:e.datasourceUid,datasourceName:null!==(r=null==n?void 0:n.name)&&void 0!==r?r:"Data source not found"}})}return e.url&&t.push({title:e.urlDisplayLabel||`Go to ${e.url}`,url:e.url,targetBlank:!0}),t}function IH(e,t){return e.hasOwnProperty(t)?t===CH?LH(e[t]):e[t]:""}function AH(e,r=!1){return{name:t.TIME_SERIES_TIME_FIELD_NAME,type:t.FieldType.time,config:{},values:new t.ArrayVector(e.map((e=>r?e[0]:1e3*e[0])))}}function jH({data:e,valueName:r=t.TIME_SERIES_VALUE_FIELD_NAME,parseValue:n=!0,labels:o,displayNameFromDS:i}){return{name:r,type:t.FieldType.number,display:(0,t.getDisplayProcessor)(),config:{displayNameFromDS:i},labels:o,values:new t.ArrayVector(e.map((e=>n?LH(e[1]):e[1])))}}function MH(e){if(0===e.length)return[];const r=e[0].fields.find((e=>e.type===t.FieldType.time)),n=e.map((e=>{let r=e.fields.find((e=>e.type===t.FieldType.number));return SH(EH({},r),{name:r.config.displayNameFromDS})}));return[SH(EH({},e[0]),{meta:SH(EH({},e[0].meta),{type:t.DataFrameType.HeatmapRows}),fields:[r,...n]})]}function NH(e){for(let r=e.length-1;r>0;r--){const n=e[r].fields.find((e=>e.name===t.TIME_SERIES_VALUE_FIELD_NAME)),o=e[r-1].fields.find((e=>e.name===t.TIME_SERIES_VALUE_FIELD_NAME));if(!n||!o)throw new Error("Prometheus heatmap transform error: data should be a time series");for(let e=0;e<n.values.length;e++){const t=o.values.get(e)||[0];n.values.toArray()[e]-=t}}return e}function RH(e,t){let r,n;try{var o,i;r=LH(null!==(o=e.name)&&void 0!==o?o:""),n=LH(null!==(i=t.name)&&void 0!==i?i:"")}catch(e){return console.error(e),0}return r>n?1:r<n?-1:0}function LH(e){return PH.test(e)?"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY:parseFloat(e)}function $H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class VH extends t.StandardVariableSupport{query(e){const r=e.targets[0].expr;if(!r)return(0,hV.of)({data:[]});const n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){$H(e,t,r[t])}))}return e}({__interval:{text:this.datasource.interval,value:this.datasource.interval},__interval_ms:{text:t.rangeUtil.intervalToMs(this.datasource.interval),value:t.rangeUtil.intervalToMs(this.datasource.interval)}},this.datasource.getRangeScopedVars(this.timeSrv.timeRange()),this.datasource.getDashboardScopedVars()),o=this.templateSrv.replace(r,n,this.datasource.interpolateQueryExpr),i=new yH(this.datasource,o);return(0,hV.from)(i.process()).pipe(UV((e=>({data:e}))))}toDataQuery(e){return{refId:"PrometheusDatasource-VariableQuery",expr:e.query}}constructor(e,t=(0,i.getTemplateSrv)(),r=sq()){super(),this.datasource=e,this.templateSrv=t,this.timeSrv=r,this.query=this.query.bind(this)}}function zH(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function FH(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){zH(i,n,o,a,s,"next",e)}function s(e){zH(i,n,o,a,s,"throw",e)}a(void 0)}))}}function qH(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){qH(e,t,r[t])}))}return e}function HH(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const WH=["api/v1/query","api/v1/query_range","api/v1/series","api/v1/labels"];class UH extends i.DataSourceWithBackend{getQueryDisplayText(e){return e.expr}_addTracingHeaders(e,t){e.headers={},!this.url.match(/^http/)&&(e.headers["X-Dashboard-Id"]=t.dashboardId,e.headers["X-Dashboard-UID"]=t.dashboardUID||"",e.headers["X-Panel-Id"]=t.panelId)}_request(e,t,r={}){t=t||{};for(const[e,r]of this.customQueryParameters)null==t[e]&&(t[e]=r);let n=this.url+e;e.startsWith(`/api/datasources/proxy/${this.id}`)&&(n=e);const o=(0,su.defaults)(r,{url:n,method:this.httpMethod,headers:{}});return"GET"===o.method?t&&Object.keys(t).length&&(o.url=o.url+(o.url.search(/\?/)>=0?"&":"?")+Object.entries(t).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&")):(o.headers["Content-Type"]="application/x-www-form-urlencoded",o.data=t),(this.basicAuth||this.withCredentials)&&(o.withCredentials=!0),this.basicAuth&&(o.headers.Authorization=this.basicAuth),(0,i.getBackendSrv)().fetch(o)}importFromAbstractQueries(e){var t=this;return FH((function*(){return e.map((e=>t.languageProvider.importFromAbstractQuery(e)))}))()}exportToAbstractQueries(e){var t=this;return FH((function*(){return e.map((e=>t.languageProvider.exportToAbstractQuery(e)))}))()}metadataRequest(e,t={},r){var n=this;return FH((function*(){if(WH.some((t=>e.includes(t))))try{return yield(0,hV.lastValueFrom)(n._request(`/api/datasources/proxy/${n.id}${e}`,t,BH({method:n.httpMethod,hideFromInspector:!0,showErrorAlert:!1},r)))}catch(e){if("POST"!==n.httpMethod||!(0,i.isFetchError)(e)||405!==e.status&&400!==e.status)throw e;console.warn("Couldn't use configured POST HTTP method for this request. Trying to use GET method instead.")}return yield(0,hV.lastValueFrom)(n._request(`/api/datasources/proxy/${n.id}${e}`,t,BH({method:"GET",hideFromInspector:!0},r)))}))()}interpolateQueryExpr(e=[],t){if(!t.multi&&!t.includeAll)return QH(e);if("string"==typeof e)return GH(e);const r=e.map((e=>GH(e)));return 1===r.length?r[0]:"("+r.join("|")+")"}targetContainsTemplate(e){return this.templateSrv.containsTemplate(e.expr)}shouldRunExemplarQuery(e,t){if(e.exemplar){const r=this.languageProvider.histogramMetrics.find((t=>e.expr.includes(t))),n=t.targets.findIndex((t=>t.refId===e.refId)),o=t.targets.slice(0,n).filter((e=>!e.hide)),i=!r||r&&!o.some((e=>e.expr.includes(r)));return!!i}return!1}processTargetV2(e,t){return HH(BH({},e),{queryType:Nf.timeSeriesQuery,exemplar:this.shouldRunExemplarQuery(e,t),requestId:t.panelId+e.refId,utcOffsetSec:60*this.timeSrv.timeRange().to.utcOffset()})}query(e){if("proxy"===this.access){const r=e.targets.map((t=>this.processTargetV2(t,e)));return super.query(HH(BH({},e),{targets:r})).pipe(UV((r=>function(e,r,n){const[o,i]=(0,su.partition)(e.data,(e=>((e,r)=>{var n,o,i,a;if(r.app===t.CoreApp.Explore&&("vector"===(null===(n=e.meta)||void 0===n||null===(o=n.custom)||void 0===o?void 0:o.resultType)||"scalar"===(null===(i=e.meta)||void 0===i||null===(a=i.custom)||void 0===a?void 0:a.resultType)))return!0;const s=r.targets.find((t=>t.refId===e.refId));return"table"===(null==s?void 0:s.format)})(e,r))),a=function(e){if(0===e.length||1===e.length&&0===e[0].length)return e;const r=(0,su.groupBy)(e,"refId"),n=Object.keys(r),o=n.map((o=>{const i=function(e,t=""){return e>1?`Value #${t}`:"Value"}(n.length,o),a=jH({data:[],valueName:i}),s=AH([]),l=[];return r[o].forEach((e=>{var r;const n=null!==(r=e.fields[1].labels)&&void 0!==r?r:{};Object.keys(n).sort().forEach((e=>{if(!l.some((t=>t.name===e))){const r=e===CH;l.push({name:e,config:{filterable:!0},type:r?t.FieldType.number:t.FieldType.string,values:new t.ArrayVector})}}))})),r[o].forEach((e=>{e.fields[0].values.toArray().forEach((e=>s.values.add(e))),e.fields[1].values.toArray().forEach((t=>{var r;a.values.add(LH(t));const n=null!==(r=e.fields[1].labels)&&void 0!==r?r:{};l.forEach((e=>e.values.add(IH(n,e.name))))}))})),{refId:o,fields:[s,...l,a],meta:SH(EH({},e[0].meta),{preferredVisualisationType:"table"}),length:s.values.length}}));return o}(o),[s,l]=(0,su.partition)(i,(e=>{var t,r;return"exemplar"===(null===(t=e.meta)||void 0===t||null===(r=t.custom)||void 0===r?void 0:r.resultType)})),{exemplarTraceIdDestinations:c}=n,u=s.map((e=>{if(null==c?void 0:c.length)for(const t of c){const n=e.fields.find((e=>e.name===t.name));if(n){var r;const e=DH(t);n.config.links=(null===(r=n.config.links)||void 0===r?void 0:r.length)?[...n.config.links,...e]:e}}return SH(EH({},e),{meta:SH(EH({},e.meta),{dataTopic:t.DataTopic.Annotations})})})),[d,p]=(0,su.partition)(l,(e=>((e,t)=>{const r=t.targets.find((t=>t.refId===e.refId));return"heatmap"===(null==r?void 0:r.format)})(e,r))),f=(0,su.groupBy)(d,(e=>e.refId));let h=[];for(const e in f){var m=e;const r=f[m],n=(0,su.groupBy)(r,(e=>{const r=e.fields.find((e=>e.name===t.TIME_SERIES_VALUE_FIELD_NAME));if((null==r?void 0:r.labels)&&CH in r.labels){const e=null==r?void 0:r.labels,{le:t}=e,n=kH(e,["le"]);return Object.values(n).join()}var n;return Object.values(null!==(n=null==r?void 0:r.labels)&&void 0!==n?n:[]).join()}));(0,su.forOwn)(n,((e,t)=>{const r=e.sort(RH);h.push(MH(NH(r)))}))}const g=p.map((e=>SH(EH({},e),{meta:SH(EH({},e.meta),{preferredVisualisationType:"graph"})}))),v=(0,su.flatten)(h);return SH(EH({},e),{data:[...g,...a,...v,...u]})}(r,e,{exemplarTraceIdDestinations:this.exemplarTraceIdDestinations}))))}{const t=this.getPrometheusTime(e.range.from,!1),r=this.getPrometheusTime(e.range.to,!0),{queries:n,activeTargets:o}=this.prepareTargets(e,t,r);return n&&n.length?e.app===GB.Explore?this.exploreQuery(n,o,r):this.panelsQuery(n,o,r,e.requestId,e.scopedVars):(0,hV.of)({data:[],state:vq.Done})}}exploreQuery(e,t,r){let n=e.length;const o=e.map(((o,i)=>{const a=t[i],s=(0,hV.pipe)((d=mV(l=()=>n--)?{next:l,error:c,complete:u}:l)?gV((function(e,t){var r;null===(r=d.subscribe)||void 0===r||r.call(d);var n=!0;e.subscribe(HV(t,(function(e){var r;null===(r=d.next)||void 0===r||r.call(d,e),t.next(e)}),(function(){var e;n=!1,null===(e=d.complete)||void 0===e||e.call(d),t.complete()}),(function(e){var r;n=!1,null===(r=d.error)||void 0===r||r.call(d,e),t.error(e)}),(function(){var e,t;n&&(null===(e=d.unsubscribe)||void 0===e||e.call(d)),null===(t=d.finalize)||void 0===t||t.call(d)})))})):QV,GV((e=>!e.cancelled)),UV((t=>({data:TH(t,{query:o,target:a,responseListLength:e.length,exemplarTraceIdDestinations:this.exemplarTraceIdDestinations}),key:o.requestId,state:0===n?vq.Done:vq.Loading}))));var l,c,u,d;return this.runQuery(o,r,s)}));return(0,hV.merge)(...o)}panelsQuery(e,t,r,n,o){const i=e.map(((n,i)=>{const a=t[i],s=(0,hV.pipe)(GV((e=>!e.cancelled)),UV((t=>TH(t,{query:n,target:a,responseListLength:e.length,scopedVars:BH({},o,this.getDashboardScopedVars()),exemplarTraceIdDestinations:this.exemplarTraceIdDestinations}))));return this.runQuery(n,r,s)}));return(0,hV.forkJoin)(i).pipe(UV((e=>({data:e.reduce(((e,t)=>[...e,...t]),[]),key:n,state:vq.Done}))))}runQuery(e,t,r){return e.instant?this.performInstantQuery(e,t).pipe(r):e.exemplar?this.getExemplars(e).pipe(sz((()=>(0,hV.of)({data:[],state:vq.Done}))),r):this.performTimeSeriesQuery(e,e.start,e.end).pipe(r)}createQuery(e,t,r,n){const o={hinting:e.hinting,instant:e.instant,exemplar:e.exemplar,step:0,expr:"",requestId:e.requestId,refId:e.refId,start:0,end:0},i=Math.ceil(n-r);let a=tH(t.interval);const s=tH(this.templateSrv.replace(e.interval||t.interval,t.scopedVars)),l=e.interval?tH(this.templateSrv.replace(e.interval,t.scopedVars)):tH(this.interval),c=e.intervalFactor||1,u=this.adjustInterval(a,s,i,c);let d=BH({},t.scopedVars,this.getRangeScopedVars(t.range),this.getRateIntervalScopedVariable(u,l),this.getDashboardScopedVars());a!==u&&(a=u,d=Object.assign({},t.scopedVars,BH({__interval:{text:a+"s",value:a+"s"},__interval_ms:{text:1e3*a,value:1e3*a}},this.getRateIntervalScopedVariable(a,l),this.getRangeScopedVars(t.range),this.getDashboardScopedVars()))),o.step=a;let p=e.expr;p=this.enhanceExprWithAdHocFilters(p),o.expr=this.templateSrv.replace(p,d,this.interpolateQueryExpr);const f=function(e,t,r,n){return{end:Math.floor((t+n)/r)*r-n,start:Math.floor((e+n)/r)*r-n}}(r,n,o.step,60*this.timeSrv.timeRange().to.utcOffset());return o.start=f.start,o.end=f.end,this._addTracingHeaders(o,t),o}getRateIntervalScopedVariable(e,t){0===t&&(t=15);const r=Math.max(e+t,4*t);return{__rate_interval:{text:r+"s",value:r+"s"}}}adjustInterval(e,t,r,n){let o=r/11e3;return o>1&&(o=Math.ceil(o)),Math.max(e*n,t,o)}performTimeSeriesQuery(e,t,r){if(t>r)throw{message:"Invalid time range"};const n={query:e.expr,start:t,end:r,step:e.step};return this.queryTimeout&&(n.timeout=this.queryTimeout),this._request("/api/v1/query_range",n,{requestId:e.requestId,headers:e.headers}).pipe(sz((t=>t.cancelled?(0,hV.of)(t):(0,hV.throwError)(this.handleErrors(t,e)))))}performInstantQuery(e,t){const r={query:e.expr,time:t};return this.queryTimeout&&(r.timeout=this.queryTimeout),this._request("/api/v1/query",r,{requestId:e.requestId,headers:e.headers}).pipe(sz((t=>t.cancelled?(0,hV.of)(t):(0,hV.throwError)(this.handleErrors(t,e)))))}metricFindQuery(e){if(!e)return Promise.resolve([]);const t=BH({__interval:{text:this.interval,value:this.interval},__interval_ms:{text:rH(this.interval),value:rH(this.interval)}},this.getRangeScopedVars(this.timeSrv.timeRange()),this.getDashboardScopedVars()),r=this.templateSrv.replace(e,t,this.interpolateQueryExpr);return new yH(this,r).process()}getRangeScopedVars(e=this.timeSrv.timeRange()){const t=e.to.diff(e.from),r=Math.round(t/1e3);return{__range_ms:{text:t,value:t},__range_s:{text:r,value:r},__range:{text:r+"s",value:r+"s"}}}getDashboardScopedVars(){const e=(0,i.getDataSourceSrv)().templateSrv.getVariables().map((e=>{var t,r;return{id:e.id,text:(null===(t=e.current)||void 0===t?void 0:t.text)||"None",value:(null===(r=e.current)||void 0===r?void 0:r.value)||""}})),t={};return e.forEach((e=>t[e.id]={text:e.text,value:e.value})),t}annotationQuery(e){var t=this;return FH((function*(){const r=e.annotation,{expr:n=""}=r;if(!n)return Promise.resolve([]);const o={expr:n,range:!0,instant:!1,exemplar:!1,interval:e.annotation.step||"60s",queryType:Nf.timeSeriesQuery,refId:"X",datasource:t.getRef()};return yield(0,hV.lastValueFrom)((0,i.getBackendSrv)().fetch({url:"/api/ds/query",method:"POST",data:{from:(1e3*t.getPrometheusTime(e.range.from,!1)).toString(),to:(1e3*t.getPrometheusTime(e.range.to,!0)).toString(),queries:[t.applyTemplateVariables(o,{})]},requestId:`prom-query-${r.name}`}).pipe(UV((r=>t.processAnnotationResponse(e,r.data)))))}))()}getExemplars(e){return this._request("/api/v1/query_exemplars",{query:e.expr,start:e.start.toString(),end:e.end.toString()},{requestId:e.requestId,headers:e.headers})}getTagKeys(e){var t=this;return FH((function*(){if(null==e?void 0:e.series){const r=yield Promise.all(e.series.map((e=>t.languageProvider.fetchSeriesLabels(e))));let n=[];return r.map((e=>n=n.concat(Object.keys(e)))),[...new Set(n)].map((e=>({text:e})))}{var r,n;const e=yield t.metadataRequest("/api/v1/labels");var o;return null!==(o=null==e||null===(r=e.data)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.map((e=>({text:e}))))&&void 0!==o?o:[]}}))()}getTagValues(e={}){var t=this;return FH((function*(){var r,n;const o=yield t.metadataRequest(`/api/v1/label/${e.key}/values`);var i;return null!==(i=null==o||null===(r=o.data)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.map((e=>({text:e}))))&&void 0!==i?i:[]}))()}getBuildInfo(){var e=this;return FH((function*(){try{return yield function(e){return Tz.apply(this,arguments)}({url:e.url,name:e.name,type:"prometheus"})}catch(e){return}}))()}getBuildInfoMessage(e){const t=n().createElement(dH,{color:"green",icon:"check",text:"Ruler API enabled"}),r=n().createElement(dH,{color:"orange",icon:"exclamation-triangle",text:"Ruler API not enabled"}),o=n().createElement(Yt,{placement:"top",content:"Prometheus does not allow editing rules, connect to either a Mimir or Cortex datasource to manage alerts via Grafana."},n().createElement("div",null,n().createElement(dH,{color:"red",icon:"exclamation-triangle",text:"Ruler API not supported"}))),i={[nz.Lotex]:"/public/app/plugins/datasource/prometheus/img/cortex_logo.svg",[nz.Mimir]:"/public/app/plugins/datasource/prometheus/img/mimir_logo.svg",[nz.Prometheus]:"/public/app/plugins/datasource/prometheus/img/vm_logo.svg"},a={[nz.Lotex]:"blue",[nz.Mimir]:"orange",[nz.Prometheus]:"red"},s={[nz.Lotex]:"Cortex",[nz.Mimir]:"Mimir",[nz.Prometheus]:"Prometheus"};var l,c;const u=n().createElement(dH,{text:n().createElement("span",null,n().createElement("img",{style:{width:14,height:14,verticalAlign:"text-bottom"},src:i[null!==(l=e.application)&&void 0!==l?l:nz.Prometheus],alt:""})," ",e.application?s[e.application]:"Unknown"),color:a[null!==(c=e.application)&&void 0!==c?c:nz.Prometheus]});return n().createElement("div",{style:{display:"grid",gridTemplateColumns:"max-content max-content",rowGap:"0.5rem",columnGap:"2rem",marginTop:"1rem"}},n().createElement("div",null,"Type"),n().createElement("div",null,u),n().createElement(n().Fragment,null,n().createElement("div",null,"Ruler API"),e.application===nz.Prometheus&&n().createElement("div",null,o),e.application!==nz.Prometheus&&n().createElement("div",null,e.features.rulerApiEnabled?t:r)))}testDatasource(){var e=this;return FH((function*(){const t=(new Date).getTime(),r={targets:[{refId:"test",expr:"1+1",instant:!0}],requestId:`${e.id}-health`,scopedVars:{},dashboardId:0,panelId:0,interval:"1m",intervalMs:6e4,maxDataPoints:1,range:{from:aH(t-1e3),to:aH(t)}},n=yield e.getBuildInfo();return(0,hV.lastValueFrom)(e.query(r)).then((t=>{return t&&t.data&&t.state===vq.Done?{status:"success",message:"Data source is working",details:n&&{verboseMessage:e.getBuildInfoMessage(n)}}:{status:"error",message:`Error reading Prometheus: ${null==t||null===(r=t.error)||void 0===r?void 0:r.message}`};var r})).catch((e=>(console.error("Prometheus Error",e),{status:"error",message:e.message})))}))()}interpolateVariablesInQueries(e,t){let r=e;return e&&e.length&&(r=e.map((e=>HH(BH({},e),{datasource:this.getRef(),expr:this.templateSrv.replace(e.expr,t,this.interpolateQueryExpr),interval:this.templateSrv.replace(e.interval,t)})))),r}getQueryHints(e,t){var r;return OH(null!==(r=e.expr)&&void 0!==r?r:"",t,this)}getInitHints(){return function(e){const t=[];return e.directUrl.includes("/loki")&&!e.languageProvider.metrics.length&&t.push({label:"Using Loki as a Prometheus data source is no longer supported. You must use the Loki data source for your Loki instance.",type:"INFO"}),e.lookupsDisabled&&t.push({label:"Labels and metrics lookup was disabled in data source settings.",type:"INFO"}),t}(this)}loadRules(){var e=this;return FH((function*(){try{var t,r;const n=null===(t=(yield e.metadataRequest("/api/v1/rules",{},{showErrorAlert:!1})).data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.groups;n&&(e.ruleMappings=function(e){return e.reduce(((e,t)=>t.rules.filter((e=>"recording"===e.type)).reduce(((e,t)=>HH(BH({},e),{[t.name]:t.query})),e)),{})}(n))}catch(e){console.log("Rules API is experimental. Ignore next error."),console.error(e)}}))()}areExemplarsAvailable(){var e=this;return FH((function*(){try{return"success"===(yield e.metadataRequest("/api/v1/query_exemplars",{query:"test",start:aH().subtract(30,"minutes").valueOf().toString(),end:aH().valueOf().toString()},{showErrorAlert:!1})).data.status}catch(e){return!1}}))()}modifyQuery(e,t){var r;let n=null!==(r=e.expr)&&void 0!==r?r:"";switch(t.type){case"ADD_FILTER":{var o;const{key:e,value:r}=null!==(o=t.options)&&void 0!==o?o:{};e&&r&&(n=cm(n,e,r));break}case"ADD_FILTER_OUT":{var i;const{key:e,value:r}=null!==(i=t.options)&&void 0!==i?i:{};e&&r&&(n=cm(n,e,r,"!="));break}case"ADD_HISTOGRAM_QUANTILE":n=`histogram_quantile(0.95, sum(rate(${n}[$__rate_interval])) by (le))`;break;case"ADD_RATE":n=`rate(${n}[$__rate_interval])`;break;case"ADD_SUM":n=`sum(${n.trim()}) by ($1)`;break;case"EXPAND_RULES":t.options&&(n=function(e,t){const r=Object.keys(t),n=new RegExp(`(\\s|^)(${r.join("|")})(\\s|$|\\(|\\[|\\{)`,"ig"),o=e.replace(n,((e,r,n,o)=>`${r}${t[n]}${o}`)).split(/(\+|\-|\*|\/|\%|\^)/),i=/(\)\{|\}\{|\]\{)/,a=o.map((e=>function(e,t){const r=e.match(t);if(!r)return e;var n;const o=null!==(n=r.index)&&void 0!==n?n:0,i=e.slice(0,o+1),a=e.slice(o+1),s=[];a.replace(fm,((e,t,r,n)=>(s.push({key:t,operator:r,value:n}),"")));let l=i;return s.filter(Boolean).forEach((e=>{const t=e.value.slice(1,-1);l=cm(l,e.key,t,e.operator)})),l}(e,i)));return a.join("")}(n,t.options))}return HH(BH({},e),{expr:n})}getPrometheusTime(e,t){return"string"==typeof e&&(e=lH(e,t)),Math.ceil(e.valueOf()/1e3)}getTimeRangeParams(){const e=this.timeSrv.timeRange();return{start:this.getPrometheusTime(e.from,!1).toString(),end:this.getPrometheusTime(e.to,!0).toString()}}getOriginalMetricName(e){return function(e){const t=e.__name__||"";return delete e.__name__,`${t}{${Object.entries(e).map((e=>`${e[0]}="${e[1]}"`)).join(",")}}`}(e)}enhanceExprWithAdHocFilters(e){return this.templateSrv.getAdhocFilters(this.name).reduce(((e,t)=>{const{key:r,operator:n}=t;let{value:o}=t;return"=~"!==n&&"!~"!==n||(o=QH(o)),cm(e,r,o,n)}),e)}filterQuery(e){return!(e.hide||!e.expr)}applyTemplateVariables(e,t){const r=(0,su.cloneDeep)(t);delete r.__interval,delete r.__interval_ms;const n=this.enhanceExprWithAdHocFilters(e.expr);return HH(BH({},e),{legendFormat:this.templateSrv.replace(e.legendFormat,r),expr:this.templateSrv.replace(n,r,this.interpolateQueryExpr),interval:this.templateSrv.replace(e.interval,r)})}getVariables(){return this.templateSrv.getVariables().map((e=>`$${e.name}`))}interpolateString(e){return this.templateSrv.replace(e,void 0,this.interpolateQueryExpr)}constructor(e,t=(()=>QB)(),r=sq(),n){super(e),this.templateSrv=t,this.timeSrv=r;var o,a,s=this;this.init=FH((function*(){yield s.loadRules(),s.exemplarsAvailable=yield s.areExemplarsAvailable()})),this.prepareTargets=(e,t,r)=>{const n=[],o=[],i=(0,su.cloneDeep)(e.targets);for(const a of i){if(!a.expr||a.hide)continue;a.requestId=e.panelId+a.refId;const i=this.languageProvider.histogramMetrics.find((e=>a.expr.includes(e)));if(e.app===GB.Explore&&a.range===a.instant){const s=(0,su.cloneDeep)(a);s.format="table",s.instant=!0,s.range=!1,s.valueWithRefId=!0,delete s.maxDataPoints,s.requestId+="_instant";const l=(0,su.cloneDeep)(a);if(l.format="time_series",l.instant=!1,s.range=!0,a.exemplar){if(!i||i&&!o.some((e=>e.expr.includes(i)))){const i=(0,su.cloneDeep)(a);i.instant=!1,i.requestId+="_exemplar",n.push(this.createQuery(i,e,t,r)),o.push(i)}s.exemplar=!1,l.exemplar=!1}o.push(s,l),n.push(this.createQuery(s,e,t,r),this.createQuery(l,e,t,r))}else if(a.instant&&e.app===GB.Explore){const i=(0,su.cloneDeep)(a);i.format="table",n.push(this.createQuery(i,e,t,r)),o.push(i)}else{if(a.exemplar&&!a.instant){if(!i||i&&!o.some((e=>e.expr.includes(i)))){const i=(0,su.cloneDeep)(a);i.requestId+="_exemplar",n.push(this.createQuery(i,e,t,r)),o.push(i)}a.exemplar=!1}n.push(this.createQuery(a,e,t,r)),o.push(a)}}return{queries:n,activeTargets:o}},this.handleErrors=(e,t)=>{const r={message:e&&e.statusText||"Unknown error during query transaction. Please check JS console logs.",refId:t.refId};return e.data?"string"==typeof e.data?r.message=e.data:e.data.error&&(r.message=((e,t)=>{if(!e)return"";try{return JSON.stringify(e,null,void 0)}catch(e){console.error(e)}return""})(e.data.error)):e.message?r.message=e.message:"string"==typeof e&&(r.message=e),r.status=e.status,r.statusText=e.statusText,r},this.processAnnotationResponse=(e,t)=>{const r=(0,i.toDataQueryResponse)({data:t}).data;if(!r||!r.length)return[];const n=e.annotation,{tagKeys:o="",titleFormat:a="",textFormat:s=""}=n,l=1e3*tH(n.step||"60s"),c=o.split(","),u=[];for(const t of r){const r=t.fields[0],o=t.fields[1],i=(null==o?void 0:o.labels)||{},p=Object.keys(i).filter((e=>c.includes(e))).map((e=>i[e])),f=[];let h=0;o.values.toArray().forEach((t=>{let n,o;const i=r.values.get(h);e.annotation.useValueForTime?(n=Math.floor(parseFloat(t)),o=1):(n=Math.floor(parseFloat(i)),o=parseFloat(t)),h++,f.push([n,o])}));const m=f.filter((e=>e[1]>=1)).map((e=>e[0]));let g=null;for(const e of m){var d;g&&(null!==(d=g.timeEnd)&&void 0!==d?d:0)+l>=e?g.timeEnd=e:(g&&u.push(g),g={time:e,timeEnd:e,annotation:n,title:bH(a,i),tags:p,text:bH(s,i)})}g&&(g.timeEnd=m[m.length-1],u.push(g))}return u},this.type="prometheus",this.subType=nz.Prometheus,this.rulerEnabled=!1,this.editorSrc="app/features/prometheus/partials/query.editor.html",this.id=e.id,this.url=e.url,this.access="direct",this.basicAuth=e.basicAuth,this.withCredentials=e.withCredentials,this.interval=e.jsonData.timeInterval||"15s",this.queryTimeout=e.jsonData.queryTimeout,this.httpMethod=e.jsonData.httpMethod||"GET",this.directUrl=null!==(o=e.jsonData.directUrl)&&void 0!==o?o:this.url,this.exemplarTraceIdDestinations=e.jsonData.exemplarTraceIdDestinations,this.ruleMappings={},this.languageProvider=null!=n?n:new Rm(this),this.lookupsDisabled=null!==(a=e.jsonData.disableMetricsLookup)&&void 0!==a&&a,this.customQueryParameters=new URLSearchParams(e.jsonData.customQueryParameters),this.variables=new VH(this,this.templateSrv,this.timeSrv),this.exemplarsAvailable=!0,this.annotations={QueryEditor:vH}}}function QH(e){return"string"==typeof e?e.replace(/\\/g,"\\\\").replace(/'/g,"\\\\'"):e}function GH(e){return"string"==typeof e?e.replace(/\\/g,"\\\\\\\\").replace(/[$^*{}\[\]'+?.()|]/g,"\\\\$&"):e}const XH=new t.DataSourcePlugin(UH).setQueryEditor(AL).setConfigEditor((e=>{const{options:t,onOptionsChange:o}=e,a=i$().filter((e=>e.type===E$.Alertmanager)),s=(0,r.useRef)("direct"===e.options.access),l={azureAuthSupported:i.config.azureAuthEnabled,getAzureAuthEnabled:e=>function(e){return!!e.jsonData.azureCredentials}(e),setAzureAuthEnabled:(e,t)=>t?function(e){return{jsonData:R$(N$({},e.jsonData),{azureCredentials:z$()})}}(e):function(e){return{jsonData:R$(N$({},e.jsonData),{azureAuth:void 0,azureCredentials:void 0,azureEndpointResourceId:void 0})}}(e),azureSettingsUI:X$};return n().createElement(n().Fragment,null,"direct"===t.access&&n().createElement(lm.Alert,{title:"Error",severity:"error"},"Browser access mode in the Prometheus datasource is no longer available. Switch to server access mode."),n().createElement("div",{className:"gf-form-group"},n().createElement("h3",{className:"page-heading"},"Tips on how to setup"),n().createElement("div",{className:"submenu-controls"},n().createElement("div",{className:"gf-form"},n().createElement("a",{className:"gf-form-label gf-form-label--dashlink",href:"https://docs.victoriametrics.com/Cluster-VictoriaMetrics.html#url-format",target:"_blank",rel:"noreferrer"},n().createElement(lm.Icon,{name:"file-alt"}),n().createElement("span",{style:{marginLeft:"4px"}},"Cluster VM"))),n().createElement("div",{className:"gf-form"},n().createElement("a",{className:"gf-form-label gf-form-label--dashlink",href:"https://docs.victoriametrics.com/Single-server-VictoriaMetrics.html#grafana-setup",target:"_blank",rel:"noreferrer"},n().createElement(lm.Icon,{name:"file-alt"}),n().createElement("span",{style:{marginLeft:"4px"}},"Grafana setup"))))),n().createElement(lm.DataSourceHttpSettings,{defaultUrl:"http://localhost:8428",dataSourceConfig:t,showAccessOptions:s.current,onChange:o,sigV4AuthToggleEnabled:i.config.sigV4AuthEnabled,azureAuthSettings:l,renderSigV4Editor:n().createElement(o$.SIGV4ConnectionConfig,fV({},e))}),n().createElement(lm.AlertingSettings,{alertmanagerDataSources:a,options:t,onOptionsChange:o}),n().createElement(lV,{options:t,onOptionsChange:o}))})).setQueryEditorHelp((e=>n().createElement("div",null,n().createElement("h2",null,"PromQL Cheat Sheet"),o.map(((t,r)=>n().createElement("div",{className:"cheat-sheet-item",key:r},n().createElement("div",{className:"cheat-sheet-item__title"},t.title),t.expression?n().createElement("div",{className:"cheat-sheet-item__example",onClick:r=>e.onClickExample({refId:"A",expr:t.expression})},n().createElement("code",null,t.expression)):null,n().createElement("div",{className:"cheat-sheet-item__label"},t.label)))))))})(),b})()));
//# sourceMappingURL=module.js.map