/*! For license information please see module.js.LICENSE.txt */
define(["@grafana/data","react","@grafana/runtime","@grafana/ui","lodash","@emotion/css","prismjs","react-dom","redux","react-redux","rxjs","d3"],((e,t,r,n,i,o,a,s,l,c,u,d)=>(()=>{var p,f={4932:(e,t,r)=>{var n,i=r(2650),o=(n=i)&&"object"==typeof n&&"default"in n?n.default:n,a=r(7388),s=r(3305),l=(r(5980),function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)});function c(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}var u,d=["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","cn-north-1","cn-northwest-1","eu-central-1","eu-north-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-gov-east-1","us-gov-west-1","us-iso-east-1","us-isob-east-1","us-west-1","us-west-2"];(u=t._e||(t._e={})).Keys="keys",u.Credentials="credentials",u.Default="default",u.EC2IAMRole="ec2_iam_role",u.ARN="arn";var p,f=[{label:"Workspace IAM Role",value:t._e.EC2IAMRole},{label:"AWS SDK Default",value:t._e.Default},{label:"Access & secret key",value:t._e.Keys},{label:"Credentials file",value:t._e.Credentials}],h=function(e){return{value:e,label:e}},m=function(e){var r,n,u,p,m,g,v,b,y,w=c(i.useState((e.standardRegions||d).map(h)),2),x=w[0],O=w[1],_=e.loadRegions,E=e.onOptionsChange,S=e.skipHeader,k=void 0!==S&&S,P=e.skipEndpoint,T=void 0!==P&&P,C=e.options,I=C.jsonData.profile;void 0===I&&(I=C.database);var D=window.grafanaBootData.settings,A=null!==(r=D.awsAllowedAuthProviders)&&void 0!==r?r:[t._e.Default,t._e.Keys,t._e.Credentials],R=null===(n=D.awsAssumeRoleEnabled)||void 0===n||n,N=f.find((function(e){return e.value===C.jsonData.authType}));return i.useEffect((function(){!N&&A.length&&E(l(l({},C),{jsonData:l(l({},C.jsonData),{authType:A[0]})}))}),[N,C,E]),i.useEffect((function(){_&&_().then((function(e){return O(e.map(h))}))}),[_]),o.createElement(a.FieldSet,{label:k?"":"Connection Details","data-testid":"connection-config"},o.createElement(a.InlineField,{label:"Authentication Provider",labelWidth:28,tooltip:"Specify which AWS credentials chain to use."},o.createElement(a.Select,{"aria-label":"Authentication Provider",className:"width-30",value:N,options:f.filter((function(e){return A.includes(e.value)})),defaultValue:C.jsonData.authType,onChange:function(t){s.onUpdateDatasourceJsonDataOptionSelect(e,"authType")(t)},menuShouldPortal:!0})),"credentials"===C.jsonData.authType&&o.createElement(a.InlineField,{label:"Credentials Profile Name",labelWidth:28,tooltip:"Credentials profile name, as specified in ~/.aws/credentials, leave blank for default."},o.createElement(a.Input,{"aria-label":"Credentials Profile Name",className:"width-30",placeholder:"default",value:I,onChange:s.onUpdateDatasourceJsonDataOption(e,"profile")})),"keys"===C.jsonData.authType&&o.createElement(o.Fragment,null,o.createElement(a.InlineField,{label:"Access Key ID",labelWidth:28},(null===(u=e.options.secureJsonFields)||void 0===u?void 0:u.accessKey)?o.createElement(a.ButtonGroup,{className:"width-30"},o.createElement(a.Input,{disabled:!0,placeholder:"Configured"}),o.createElement(a.ToolbarButton,{icon:"edit",tooltip:"Edit Access Key ID",type:"button",onClick:s.onUpdateDatasourceResetOption(e,"accessKey")})):o.createElement(a.Input,{"aria-label":"Access Key ID",className:"width-30",value:null!==(m=null===(p=C.secureJsonData)||void 0===p?void 0:p.accessKey)&&void 0!==m?m:"",onChange:s.onUpdateDatasourceSecureJsonDataOption(e,"accessKey")})),o.createElement(a.InlineField,{label:"Secret Access Key",labelWidth:28},(null===(g=e.options.secureJsonFields)||void 0===g?void 0:g.secretKey)?o.createElement(a.ButtonGroup,{className:"width-30"},o.createElement(a.Input,{disabled:!0,placeholder:"Configured"}),o.createElement(a.ToolbarButton,{icon:"edit",type:"button",tooltip:"Edit Secret Access Key",onClick:s.onUpdateDatasourceResetOption(e,"secretKey")})):o.createElement(a.Input,{"aria-label":"Secret Access Key",className:"width-30",value:null!==(b=null===(v=C.secureJsonData)||void 0===v?void 0:v.secretKey)&&void 0!==b?b:"",onChange:s.onUpdateDatasourceSecureJsonDataOption(e,"secretKey")}))),R&&o.createElement(o.Fragment,null,o.createElement(a.InlineField,{label:"Assume Role ARN",labelWidth:28,tooltip:"Optionally, specify the ARN of a role to assume. Specifying a role here will ensure that the selected authentication provider is used to assume the specified role rather than using the credentials directly. Leave blank if you don't need to assume a role at all"},o.createElement(a.Input,{"aria-label":"Assume Role ARN",className:"width-30",placeholder:"arn:aws:iam:*",value:C.jsonData.assumeRoleArn||"",onChange:s.onUpdateDatasourceJsonDataOption(e,"assumeRoleArn")})),o.createElement(a.InlineField,{label:"External ID",labelWidth:28,tooltip:"If you are assuming a role in another account, that has been created with an external ID, specify the external ID here."},o.createElement(a.Input,{"aria-label":"External ID",className:"width-30",placeholder:"External ID",value:C.jsonData.externalId||"",onChange:s.onUpdateDatasourceJsonDataOption(e,"externalId")}))),!T&&o.createElement(a.InlineField,{label:"Endpoint",labelWidth:28,tooltip:"Optionally, specify a custom endpoint for the service"},o.createElement(a.Input,{"aria-label":"Endpoint",className:"width-30",placeholder:null!==(y=e.defaultEndpoint)&&void 0!==y?y:"https://{service}.{region}.amazonaws.com",value:C.jsonData.endpoint||"",onChange:s.onUpdateDatasourceJsonDataOption(e,"endpoint")})),o.createElement(a.InlineField,{label:"Default Region",labelWidth:28,tooltip:"Specify the region, such as for US West (Oregon) use ` us-west-2 ` as the region."},o.createElement(a.Select,{"aria-label":"Default Region",className:"width-30",value:x.find((function(e){return e.value===C.jsonData.defaultRegion})),options:x,defaultValue:C.jsonData.defaultRegion,allowCustomValue:!0,onChange:s.onUpdateDatasourceJsonDataOptionSelect(e,"defaultRegion"),formatCreateLabel:function(e){return"Use region: "+e},menuShouldPortal:!0})),e.children)};(p=t.rB||(t.rB={}))[p.Previous=0]="Previous",p[p.Null=1]="Null",p[p.Value=2]="Value";t.rB.Previous,t.rB.Null,t.rB.Value;t.SIGV4ConnectionConfig=function(e){var t,r,n,i,a=e.onOptionsChange,s=e.options,c={onOptionsChange:function(e){var t,r,n,i,o=l(l({},s),{jsonData:l(l({},s.jsonData),{sigV4AuthType:e.jsonData.authType,sigV4Profile:e.jsonData.profile,sigV4AssumeRoleArn:e.jsonData.assumeRoleArn,sigV4ExternalId:e.jsonData.externalId,sigV4Region:e.jsonData.defaultRegion,sigV4Endpoint:e.jsonData.endpoint}),secureJsonFields:{sigV4AccessKey:null===(t=e.secureJsonFields)||void 0===t?void 0:t.accessKey,sigV4SecretKey:null===(r=e.secureJsonFields)||void 0===r?void 0:r.secretKey},secureJsonData:{sigV4AccessKey:null===(n=e.secureJsonData)||void 0===n?void 0:n.accessKey,sigV4SecretKey:null===(i=e.secureJsonData)||void 0===i?void 0:i.secretKey}});a(o)},options:l(l({},s),{jsonData:l(l({},s.jsonData),{authType:s.jsonData.sigV4AuthType,profile:s.jsonData.sigV4Profile,assumeRoleArn:s.jsonData.sigV4AssumeRoleArn,externalId:s.jsonData.sigV4ExternalId,defaultRegion:s.jsonData.sigV4Region,endpoint:s.jsonData.sigV4Endpoint}),secureJsonFields:{accessKey:null===(t=s.secureJsonFields)||void 0===t?void 0:t.sigV4AccessKey,secretKey:null===(r=s.secureJsonFields)||void 0===r?void 0:r.sigV4SecretKey},secureJsonData:{accessKey:null===(n=s.secureJsonData)||void 0===n?void 0:n.sigV4AccessKey,secretKey:null===(i=s.secureJsonData)||void 0===i?void 0:i.sigV4SecretKey}})};return o.createElement(o.Fragment,null,o.createElement("div",{className:"gf-form"},o.createElement("h6",null,"SigV4 Auth Details")),o.createElement(m,l({},c,{skipHeader:!0,skipEndpoint:!0})))}},2199:(e,t,r)=>{"use strict";e.exports=r(4932)},7667:(e,t,r)=>{"use strict";e.exports=r(7250)},7250:(e,t)=>{"use strict";const r={TimePicker:{openButton:"data-testid TimePicker Open Button",fromField:"Time Range from field",toField:"Time Range to field",applyTimeRange:"data-testid TimePicker submit button",calendar:{label:"Time Range calendar",openButton:"Open time range calendar",closeButton:"Close time range Calendar"},absoluteTimeRangeTitle:"data-testid-absolute-time-range-narrow"},DataSource:{TestData:{QueryTab:{scenarioSelectContainer:"Test Data Query scenario select container",scenarioSelect:"Test Data Query scenario select",max:"TestData max",min:"TestData min",noise:"TestData noise",seriesCount:"TestData series count",spread:"TestData spread",startValue:"TestData start value",drop:"TestData drop values"}},DataSourceHttpSettings:{urlInput:"Datasource HTTP settings url"},Jaeger:{traceIDInput:"Trace ID"},Prometheus:{configPage:{exemplarsAddButton:"Add exemplar config button",internalLinkSwitch:"Internal link switch"},exemplarMarker:"Exemplar marker"}},Menu:{MenuComponent:e=>`${e} menu`,MenuGroup:e=>`${e} menu group`,MenuItem:e=>`${e} menu item`,SubMenu:{container:"SubMenu container",icon:"SubMenu icon"}},Panels:{Panel:{title:e=>`data-testid Panel header ${e}`,headerItems:e=>`Panel header item ${e}`,containerByTitle:e=>`${e} panel`,headerCornerInfo:e=>`Panel header ${e}`},Visualization:{Graph:{VisualizationTab:{legendSection:"Legend section"},Legend:{legendItemAlias:e=>`gpl alias ${e}`,showLegendSwitch:"gpl show legend"},xAxis:{labels:()=>"div.flot-x-axis > div.flot-tick-label"}},BarGauge:{value:"Bar gauge value",valueV2:"data-testid Bar gauge value"},PieChart:{svgSlice:"Pie Chart Slice"},Text:{container:()=>".markdown-html"},Table:{header:"table header",footer:"table-footer"}}},VizLegend:{seriesName:e=>`VizLegend series ${e}`},Drawer:{General:{title:e=>`Drawer title ${e}`,expand:"Drawer expand",contract:"Drawer contract",close:"Drawer close",rcContentWrapper:()=>".drawer-content-wrapper"}},PanelEditor:{General:{content:"Panel editor content"},OptionsPane:{content:"Panel editor option pane content",select:"Panel editor option pane select",fieldLabel:e=>`${e} field property editor`},DataPane:{content:"Panel editor data pane content"},applyButton:"Apply changes and go back to dashboard",toggleVizPicker:"toggle-viz-picker",toggleVizOptions:"toggle-viz-options",toggleTableView:"toggle-table-view"},PanelInspector:{Data:{content:"Panel inspector Data content"},Stats:{content:"Panel inspector Stats content"},Json:{content:"Panel inspector Json content"},Query:{content:"Panel inspector Query content",refreshButton:"Panel inspector Query refresh button",jsonObjectKeys:()=>".json-formatter-key"}},Tab:{title:e=>`Tab ${e}`,active:()=>'[class*="-activeTabStyle"]'},RefreshPicker:{runButton:"RefreshPicker run button",intervalButton:"RefreshPicker interval button",runButtonV2:"data-testid RefreshPicker run button",intervalButtonV2:"data-testid RefreshPicker interval button"},QueryTab:{content:"Query editor tab content",queryInspectorButton:"Query inspector button",queryHistoryButton:"Rich history button",addQuery:"Query editor add query button"},QueryHistory:{queryText:"Query text"},QueryEditorRows:{rows:"Query editor row"},QueryEditorRow:{actionButton:e=>`${e} query operation action`,title:e=>`Query editor row title ${e}`,container:e=>`Query editor row ${e}`},AlertTab:{content:"Alert editor tab content"},Alert:{alert:e=>`Alert ${e}`,alertV2:e=>`data-testid Alert ${e}`},TransformTab:{content:"Transform editor tab content",newTransform:e=>`New transform ${e}`,transformationEditor:e=>`Transformation editor ${e}`,transformationEditorDebugger:e=>`Transformation editor debugger ${e}`},Transforms:{card:e=>`New transform ${e}`,Reduce:{modeLabel:"Transform mode label",calculationsLabel:"Transform calculations label"},searchInput:"search transformations"},PageToolbar:{container:()=>".page-toolbar",item:e=>`${e}`},QueryEditorToolbarItem:{button:e=>`QueryEditor toolbar item button ${e}`},BackButton:{backArrow:"Go Back"},OptionsGroup:{group:e=>e?`Options group ${e}`:"Options group",toggle:e=>e?`Options group ${e} toggle`:"Options group toggle"},PluginVisualization:{item:e=>`Plugin visualization item ${e}`,current:()=>'[class*="-currentVisualizationItem"]'},Select:{option:"Select option",input:()=>'input[id*="time-options-input"]',singleValue:()=>'div[class*="-singleValue"]'},FieldConfigEditor:{content:"Field config editor content"},OverridesConfigEditor:{content:"Field overrides editor content"},FolderPicker:{container:"Folder picker select container",containerV2:"data-testid Folder picker select container",input:"Select a folder"},ReadonlyFolderPicker:{container:"data-testid Readonly folder picker select container"},DataSourcePicker:{container:"Data source picker select container",input:()=>'input[id="data-source-picker"]',inputV2:"Select a data source"},TimeZonePicker:{container:"Time zone picker select container",containerV2:"data-testid Time zone picker select container"},WeekStartPicker:{container:"Choose starting day of the week",containerV2:"data-testid Choose starting day of the week",placeholder:"Choose starting day of the week"},TraceViewer:{spanBar:"data-testid SpanBar--wrapper"},QueryField:{container:"Query field"},QueryBuilder:{queryPatterns:"Query patterns",labelSelect:"Select label",valueSelect:"Select value",matchOperatorSelect:"Select match operator"},ValuePicker:{button:e=>`Value picker button ${e}`,select:e=>`Value picker select ${e}`},Search:{section:"Search section",sectionV2:"data-testid Search section",items:"Search items",itemsV2:"data-testid Search items",cards:"data-testid Search cards",collapseFolder:e=>`data-testid Collapse folder ${e}`,expandFolder:e=>`data-testid Expand folder ${e}`,dashboardItem:e=>`${r.Search.dashboardItems} ${e}`,dashboardCard:e=>`data-testid Search card ${e}`,dashboardItems:"data-testid Dashboard search item"},DashboardLinks:{container:"data-testid Dashboard link container",dropDown:"data-testid Dashboard link dropdown",link:"data-testid Dashboard link"},LoadingIndicator:{icon:"Loading indicator"},CallToActionCard:{button:e=>`Call to action button ${e}`,buttonV2:e=>`data-testid Call to action button ${e}`},DataLinksContextMenu:{singleLink:"Data link"},CodeEditor:{container:"Code editor container"},DashboardImportPage:{textarea:"data-testid-import-dashboard-textarea",submit:"data-testid-load-dashboard"},ImportDashboardForm:{name:"data-testid-import-dashboard-title",submit:"data-testid-import-dashboard-submit"},PanelAlertTabContent:{content:"Unified alert editor tab content"},VisualizationPreview:{card:e=>`data-testid suggestion-${e}`},ColorSwatch:{name:"data-testid-colorswatch"},DashboardRow:{title:e=>`data-testid dashboard-row-title-${e}`},UserProfile:{profileSaveButton:"data-testid-user-profile-save",preferencesSaveButton:"data-testid-shared-prefs-save",orgsTable:"data-testid-user-orgs-table",sessionsTable:"data-testid-user-sessions-table"},FileUpload:{inputField:"data-testid-file-upload-input-field",fileNameSpan:"data-testid-file-upload-file-name"}},n={pages:{Login:{url:"/login",username:"Username input field",password:"Password input field",submit:"Login button",skip:"Skip change password button"},Home:{url:"/"},DataSource:{name:"Data source settings page name input field",delete:"Data source settings page Delete button",readOnly:"Data source settings page read only message",saveAndTest:"Data source settings page Save and Test button",alert:"Data source settings page Alert"},DataSources:{url:"/datasources",dataSources:e=>`Data source list item ${e}`},AddDataSource:{url:"/datasources/new",dataSourcePlugins:e=>`Data source plugin item ${e}`,dataSourcePluginsV2:e=>`Add data source ${e}`},ConfirmModal:{delete:"Confirm Modal Danger Button"},AddDashboard:{url:"/dashboard/new",addNewPanel:"Add new panel",addNewRow:"Add new row",addNewPanelLibrary:"Add new panel from panel library"},Dashboard:{url:e=>`/d/${e}`,DashNav:{nav:"Dashboard navigation",navV2:"data-testid Dashboard navigation",publicDashboardTag:"data-testid public dashboard tag"},SubMenu:{submenu:"Dashboard submenu",submenuItem:"data-testid template variable",submenuItemLabels:e=>`data-testid Dashboard template variables submenu Label ${e}`,submenuItemValueDropDownValueLinkTexts:e=>`data-testid Dashboard template variables Variable Value DropDown value link text ${e}`,submenuItemValueDropDownDropDown:"Variable options",submenuItemValueDropDownOptionTexts:e=>`data-testid Dashboard template variables Variable Value DropDown option text ${e}`},Settings:{General:{deleteDashBoard:"Dashboard settings page delete dashboard button",sectionItems:e=>`Dashboard settings section item ${e}`,saveDashBoard:"Dashboard settings aside actions Save button",saveAsDashBoard:"Dashboard settings aside actions Save As button",timezone:"Time zone picker select container",title:"Dashboard settings page title"},Annotations:{List:{addAnnotationCTA:r.CallToActionCard.button("Add annotation query"),addAnnotationCTAV2:r.CallToActionCard.buttonV2("Add annotation query")},Settings:{name:"Annotations settings name input"}},Variables:{List:{addVariableCTA:r.CallToActionCard.button("Add variable"),addVariableCTAV2:r.CallToActionCard.buttonV2("Add variable"),newButton:"Variable editor New variable button",table:"Variable editor Table",tableRowNameFields:e=>`Variable editor Table Name field ${e}`,tableRowDefinitionFields:e=>`Variable editor Table Definition field ${e}`,tableRowArrowUpButtons:e=>`Variable editor Table ArrowUp button ${e}`,tableRowArrowDownButtons:e=>`Variable editor Table ArrowDown button ${e}`,tableRowDuplicateButtons:e=>`Variable editor Table Duplicate button ${e}`,tableRowRemoveButtons:e=>`Variable editor Table Remove button ${e}`},Edit:{General:{headerLink:"Variable editor Header link",modeLabelNew:"Variable editor Header mode New",modeLabelEdit:"Variable editor Header mode Edit",generalNameInput:"Variable editor Form Name field",generalNameInputV2:"data-testid Variable editor Form Name field",generalTypeSelect:"Variable editor Form Type select",generalTypeSelectV2:"data-testid Variable editor Form Type select",generalLabelInput:"Variable editor Form Label field",generalLabelInputV2:"data-testid Variable editor Form Label field",generalHideSelect:"Variable editor Form Hide select",generalHideSelectV2:"data-testid Variable editor Form Hide select",selectionOptionsMultiSwitch:"Variable editor Form Multi switch",selectionOptionsIncludeAllSwitch:"Variable editor Form IncludeAll switch",selectionOptionsCustomAllInput:"Variable editor Form IncludeAll field",selectionOptionsCustomAllInputV2:"data-testid Variable editor Form IncludeAll field",previewOfValuesOption:"Variable editor Preview of Values option",submitButton:"Variable editor Submit button"},QueryVariable:{queryOptionsDataSourceSelect:r.DataSourcePicker.container,queryOptionsRefreshSelect:"Variable editor Form Query Refresh select",queryOptionsRefreshSelectV2:"data-testid Variable editor Form Query Refresh select",queryOptionsRegExInput:"Variable editor Form Query RegEx field",queryOptionsRegExInputV2:"data-testid Variable editor Form Query RegEx field",queryOptionsSortSelect:"Variable editor Form Query Sort select",queryOptionsSortSelectV2:"data-testid Variable editor Form Query Sort select",queryOptionsQueryInput:"Variable editor Form Default Variable Query Editor textarea",valueGroupsTagsEnabledSwitch:"Variable editor Form Query UseTags switch",valueGroupsTagsTagsQueryInput:"Variable editor Form Query TagsQuery field",valueGroupsTagsTagsValuesQueryInput:"Variable editor Form Query TagsValuesQuery field"},ConstantVariable:{constantOptionsQueryInput:"Variable editor Form Constant Query field",constantOptionsQueryInputV2:"data-testid Variable editor Form Constant Query field"},DatasourceVariable:{datasourceSelect:"data-testid datasource variable datasource type"},TextBoxVariable:{textBoxOptionsQueryInput:"Variable editor Form TextBox Query field",textBoxOptionsQueryInputV2:"data-testid Variable editor Form TextBox Query field"},CustomVariable:{customValueInput:"data-testid custom-variable-input"},IntervalVariable:{intervalsValueInput:"data-testid interval variable intervals input"}}}}},Dashboards:{url:"/dashboards",dashboards:e=>`Dashboard search item ${e}`},SaveDashboardAsModal:{newName:"Save dashboard title field",save:"Save dashboard button"},SaveDashboardModal:{save:"Dashboard settings Save Dashboard Modal Save button",saveVariables:"Dashboard settings Save Dashboard Modal Save variables checkbox",saveTimerange:"Dashboard settings Save Dashboard Modal Save timerange checkbox"},SharePanelModal:{linkToRenderedImage:"Link to rendered image"},ShareDashboardModal:{shareButton:"Share dashboard or panel",PublicDashboard:{Tab:"Tab Public Dashboard",WillBePublicCheckbox:"data-testid public dashboard will be public checkbox",LimitedDSCheckbox:"data-testid public dashboard limited datasources checkbox",CostIncreaseCheckbox:"data-testid public dashboard cost may increase checkbox",EnableSwitch:"data-testid public dashboard on off switch",SaveConfigButton:"data-testid public dashboard save config button",CopyUrlInput:"data-testid public dashboard copy url input",CopyUrlButton:"data-testid public dashboard copy url button",TemplateVariablesWarningAlert:"data-testid public dashboard disabled template variables alert"}},Explore:{url:"/explore",General:{container:"data-testid Explore",graph:"Explore Graph",table:"Explore Table",scrollView:"data-testid explorer scroll view"}},SoloPanel:{url:e=>`/d-solo/${e}`},PluginsList:{page:"Plugins list page",list:"Plugins list",listItem:"Plugins list item",signatureErrorNotice:"Unsigned plugins notice"},PluginPage:{page:"Plugin page",signatureInfo:"Plugin signature info",disabledInfo:"Plugin disabled info"},PlaylistForm:{name:"Playlist name",interval:"Playlist interval",itemRow:"Playlist item row",itemIdType:"Playlist item dashboard by ID type",itemTagType:"Playlist item dashboard by Tag type",itemMoveUp:"Move playlist item order up",itemMoveDown:"Move playlist item order down",itemDelete:"Delete playlist item"}},components:r};t.selectors=n},1498:e=>{var t={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,r){return"number"!=typeof r||t[e]?r:r+"px"}},42:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var a=i.apply(null,r);a&&e.push(a)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},8575:(e,t,r)=>{var n=r(2780),i=r(7602),o={float:"cssFloat"},a=r(1498);function s(e,t,r){var s=o[t];if(void 0===s&&(s=function(e){var t=i(e),r=n(t);return o[t]=o[e]=o[r]=r,r}(t)),s){if(void 0===r)return e.style[s];e.style[s]=a(s,r)}}function l(e,t){for(var r in t)t.hasOwnProperty(r)&&s(e,r,t[r])}function c(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:l(arguments[0],arguments[1]):s(arguments[0],arguments[1],arguments[2])}e.exports=c,e.exports.set=c,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce((function(t,r){return t[r]=s(e,r||""),t}),{}):s(e,t||"")}},1792:(e,t,r)=>{var n;!function(){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},5839:(e,t,r)=>{"use strict";var n=r(9185),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?a:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(h){var i=f(r);i&&i!==h&&e(t,i,n)}var a=u(r);d&&(a=a.concat(d(r)));for(var s=l(t),m=l(r),g=0;g<a.length;++g){var v=a[g];if(!(o[v]||n&&n[v]||m&&m[v]||s&&s[v])){var b=p(r,v);try{c(t,v,b)}catch(e){}}}}return t}},5295:e=>{const t="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,r="function"==typeof AbortController?AbortController:class{constructor(){this.signal=new o}abort(){this.signal.dispatchEvent("abort")}},n="function"==typeof AbortSignal,i="function"==typeof r.AbortSignal,o=n?AbortSignal:i?r.AbortController:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(e){if("abort"===e){this.aborted=!0;const t={type:e,target:this};this.onabort(t),this._listeners.forEach((e=>e(t)),this)}}onabort(){}addEventListener(e,t){"abort"===e&&this._listeners.push(t)}removeEventListener(e,t){"abort"===e&&(this._listeners=this._listeners.filter((e=>e!==t)))}},a=new Set,s=(e,t)=>{const r=`LRU_CACHE_OPTION_${e}`;u(r)&&d(r,`${e} option`,`options.${t}`,g)},l=(e,t)=>{const r=`LRU_CACHE_METHOD_${e}`;if(u(r)){const{prototype:n}=g,{get:i}=Object.getOwnPropertyDescriptor(n,e);d(r,`${e} method`,`cache.${t}()`,i)}},c=(...e)=>{"object"==typeof process&&process&&"function"==typeof process.emitWarning?process.emitWarning(...e):console.error(...e)},u=e=>!a.has(e),d=(e,t,r,n)=>{a.add(e),c(`The ${t} is deprecated. Please use ${r} instead.`,"DeprecationWarning",e,n)},p=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),f=e=>p(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?h:null:null;class h extends Array{constructor(e){super(e),this.fill(0)}}class m{constructor(e){if(0===e)return[];const t=f(e);this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class g{constructor(e={}){const{max:t=0,ttl:r,ttlResolution:n=1,ttlAutopurge:i,updateAgeOnGet:o,updateAgeOnHas:l,allowStale:d,dispose:h,disposeAfter:v,noDisposeOnSet:b,noUpdateTTL:y,maxSize:w=0,maxEntrySize:x=0,sizeCalculation:O,fetchMethod:_,fetchContext:E,noDeleteOnFetchRejection:S,noDeleteOnStaleGet:k}=e,{length:P,maxAge:T,stale:C}=e instanceof g?{}:e;if(0!==t&&!p(t))throw new TypeError("max option must be a nonnegative integer");const I=t?f(t):Array;if(!I)throw new Error("invalid max value: "+t);if(this.max=t,this.maxSize=w,this.maxEntrySize=x||this.maxSize,this.sizeCalculation=O||P,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=_||null,this.fetchMethod&&"function"!=typeof this.fetchMethod)throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=E,!this.fetchMethod&&void 0!==E)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(t).fill(null),this.valList=new Array(t).fill(null),this.next=new I(t),this.prev=new I(t),this.head=0,this.tail=0,this.free=new m(t),this.initialFill=1,this.size=0,"function"==typeof h&&(this.dispose=h),"function"==typeof v?(this.disposeAfter=v,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!b,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!S,0!==this.maxEntrySize){if(0!==this.maxSize&&!p(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!p(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!d||!!C,this.noDeleteOnStaleGet=!!k,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!l,this.ttlResolution=p(n)||0===n?n:1,this.ttlAutopurge=!!i,this.ttl=r||T||0,this.ttl){if(!p(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(0===this.max&&0===this.ttl&&0===this.maxSize)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const e="LRU_CACHE_UNBOUNDED";u(e)&&(a.add(e),c("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,g))}C&&s("stale","allowStale"),T&&s("maxAge","ttl"),P&&s("length","sizeCalculation")}getRemainingTTL(e){return this.has(e,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new h(this.max),this.starts=new h(this.max),this.setItemTTL=(e,r,n=t.now())=>{if(this.starts[e]=0!==r?n:0,this.ttls[e]=r,0!==r&&this.ttlAutopurge){const t=setTimeout((()=>{this.isStale(e)&&this.delete(this.keyList[e])}),r+1);t.unref&&t.unref()}},this.updateItemAge=e=>{this.starts[e]=0!==this.ttls[e]?t.now():0};let e=0;const r=()=>{const r=t.now();if(this.ttlResolution>0){e=r;const t=setTimeout((()=>e=0),this.ttlResolution);t.unref&&t.unref()}return r};this.getRemainingTTL=t=>{const n=this.keyMap.get(t);return void 0===n?0:0===this.ttls[n]||0===this.starts[n]?1/0:this.starts[n]+this.ttls[n]-(e||r())},this.isStale=t=>0!==this.ttls[t]&&0!==this.starts[t]&&(e||r())-this.starts[t]>this.ttls[t]}updateItemAge(e){}setItemTTL(e,t,r){}isStale(e){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new h(this.max),this.removeItemSize=e=>{this.calculatedSize-=this.sizes[e],this.sizes[e]=0},this.requireSize=(e,t,r,n)=>{if(!p(r)){if(!n)throw new TypeError("invalid size value (must be positive integer)");if("function"!=typeof n)throw new TypeError("sizeCalculation must be a function");if(r=n(t,e),!p(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r},this.addItemSize=(e,t)=>{this.sizes[e]=t;const r=this.maxSize-this.sizes[e];for(;this.calculatedSize>r;)this.evict(!0);this.calculatedSize+=this.sizes[e]}}removeItemSize(e){}addItemSize(e,t){}requireSize(e,t,r,n){if(r||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:e=this.allowStale}={}){if(this.size)for(let t=this.tail;this.isValidIndex(t)&&(!e&&this.isStale(t)||(yield t),t!==this.head);)t=this.prev[t]}*rindexes({allowStale:e=this.allowStale}={}){if(this.size)for(let t=this.head;this.isValidIndex(t)&&(!e&&this.isStale(t)||(yield t),t!==this.tail);)t=this.next[t]}isValidIndex(e){return this.keyMap.get(this.keyList[e])===e}*entries(){for(const e of this.indexes())yield[this.keyList[e],this.valList[e]]}*rentries(){for(const e of this.rindexes())yield[this.keyList[e],this.valList[e]]}*keys(){for(const e of this.indexes())yield this.keyList[e]}*rkeys(){for(const e of this.rindexes())yield this.keyList[e]}*values(){for(const e of this.indexes())yield this.valList[e]}*rvalues(){for(const e of this.rindexes())yield this.valList[e]}[Symbol.iterator](){return this.entries()}find(e,t={}){for(const r of this.indexes())if(e(this.valList[r],this.keyList[r],this))return this.get(this.keyList[r],t)}forEach(e,t=this){for(const r of this.indexes())e.call(t,this.valList[r],this.keyList[r],this)}rforEach(e,t=this){for(const r of this.rindexes())e.call(t,this.valList[r],this.keyList[r],this)}get prune(){return l("prune","purgeStale"),this.purgeStale}purgeStale(){let e=!1;for(const t of this.rindexes({allowStale:!0}))this.isStale(t)&&(this.delete(this.keyList[t]),e=!0);return e}dump(){const e=[];for(const r of this.indexes({allowStale:!0})){const n=this.keyList[r],i=this.valList[r],o={value:this.isBackgroundFetch(i)?i.__staleWhileFetching:i};if(this.ttls){o.ttl=this.ttls[r];const e=t.now()-this.starts[r];o.start=Math.floor(Date.now()-e)}this.sizes&&(o.size=this.sizes[r]),e.unshift([n,o])}return e}load(e){this.clear();for(const[r,n]of e){if(n.start){const e=Date.now()-n.start;n.start=t.now()-e}this.set(r,n.value,n)}}dispose(e,t,r){}set(e,t,{ttl:r=this.ttl,start:n,noDisposeOnSet:i=this.noDisposeOnSet,size:o=0,sizeCalculation:a=this.sizeCalculation,noUpdateTTL:s=this.noUpdateTTL}={}){if(o=this.requireSize(e,t,o,a),this.maxEntrySize&&o>this.maxEntrySize)return this;let l=0===this.size?void 0:this.keyMap.get(e);if(void 0===l)l=this.newIndex(),this.keyList[l]=e,this.valList[l]=t,this.keyMap.set(e,l),this.next[this.tail]=l,this.prev[l]=this.tail,this.tail=l,this.size++,this.addItemSize(l,o),s=!1;else{const r=this.valList[l];t!==r&&(this.isBackgroundFetch(r)?r.__abortController.abort():i||(this.dispose(r,e,"set"),this.disposeAfter&&this.disposed.push([r,e,"set"])),this.removeItemSize(l),this.valList[l]=t,this.addItemSize(l,o)),this.moveToTail(l)}if(0===r||0!==this.ttl||this.ttls||this.initializeTTLTracking(),s||this.setItemTTL(l,r,n),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return 0===this.size?this.tail:this.size===this.max&&0!==this.max?this.evict(!1):0!==this.free.length?this.free.pop():this.initialFill++}pop(){if(this.size){const e=this.valList[this.head];return this.evict(!0),e}}evict(e){const t=this.head,r=this.keyList[t],n=this.valList[t];return this.isBackgroundFetch(n)?n.__abortController.abort():(this.dispose(n,r,"evict"),this.disposeAfter&&this.disposed.push([n,r,"evict"])),this.removeItemSize(t),e&&(this.keyList[t]=null,this.valList[t]=null,this.free.push(t)),this.head=this.next[t],this.keyMap.delete(r),this.size--,t}has(e,{updateAgeOnHas:t=this.updateAgeOnHas}={}){const r=this.keyMap.get(e);return void 0!==r&&!this.isStale(r)&&(t&&this.updateItemAge(r),!0)}peek(e,{allowStale:t=this.allowStale}={}){const r=this.keyMap.get(e);if(void 0!==r&&(t||!this.isStale(r))){const e=this.valList[r];return this.isBackgroundFetch(e)?e.__staleWhileFetching:e}}backgroundFetch(e,t,n,i){const o=void 0===t?void 0:this.valList[t];if(this.isBackgroundFetch(o))return o;const a=new r,s={signal:a.signal,options:n,context:i},l=new Promise((t=>t(this.fetchMethod(e,o,s)))).then((t=>(a.signal.aborted||this.set(e,t,s.options),t)),(r=>{if(this.valList[t]===l&&(n.noDeleteOnFetchRejection&&void 0!==l.__staleWhileFetching?this.valList[t]=l.__staleWhileFetching:this.delete(e)),l.__returned===l)throw r}));return l.__abortController=a,l.__staleWhileFetching=o,l.__returned=null,void 0===t?(this.set(e,l,s.options),t=this.keyMap.get(e)):this.valList[t]=l,l}isBackgroundFetch(e){return e&&"object"==typeof e&&"function"==typeof e.then&&Object.prototype.hasOwnProperty.call(e,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(e,"__returned")&&(e.__returned===e||null===e.__returned)}async fetch(e,{allowStale:t=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:i=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:s=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL,noDeleteOnFetchRejection:c=this.noDeleteOnFetchRejection,fetchContext:u=this.fetchContext,forceRefresh:d=!1}={}){if(!this.fetchMethod)return this.get(e,{allowStale:t,updateAgeOnGet:r,noDeleteOnStaleGet:n});const p={allowStale:t,updateAgeOnGet:r,noDeleteOnStaleGet:n,ttl:i,noDisposeOnSet:o,size:a,sizeCalculation:s,noUpdateTTL:l,noDeleteOnFetchRejection:c};let f=this.keyMap.get(e);if(void 0===f){const t=this.backgroundFetch(e,f,p,u);return t.__returned=t}{const n=this.valList[f];if(this.isBackgroundFetch(n))return t&&void 0!==n.__staleWhileFetching?n.__staleWhileFetching:n.__returned=n;if(!d&&!this.isStale(f))return this.moveToTail(f),r&&this.updateItemAge(f),n;const i=this.backgroundFetch(e,f,p,u);return t&&void 0!==i.__staleWhileFetching?i.__staleWhileFetching:i.__returned=i}}get(e,{allowStale:t=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet}={}){const i=this.keyMap.get(e);if(void 0!==i){const o=this.valList[i],a=this.isBackgroundFetch(o);if(this.isStale(i))return a?t?o.__staleWhileFetching:void 0:(n||this.delete(e),t?o:void 0);if(a)return;return this.moveToTail(i),r&&this.updateItemAge(i),o}}connect(e,t){this.prev[t]=e,this.next[e]=t}moveToTail(e){e!==this.tail&&(e===this.head?this.head=this.next[e]:this.connect(this.prev[e],this.next[e]),this.connect(this.tail,e),this.tail=e)}get del(){return l("del","delete"),this.delete}delete(e){let t=!1;if(0!==this.size){const r=this.keyMap.get(e);if(void 0!==r)if(t=!0,1===this.size)this.clear();else{this.removeItemSize(r);const t=this.valList[r];this.isBackgroundFetch(t)?t.__abortController.abort():(this.dispose(t,e,"delete"),this.disposeAfter&&this.disposed.push([t,e,"delete"])),this.keyMap.delete(e),this.keyList[r]=null,this.valList[r]=null,r===this.tail?this.tail=this.prev[r]:r===this.head?this.head=this.next[r]:(this.next[this.prev[r]]=this.next[r],this.prev[this.next[r]]=this.prev[r]),this.size--,this.free.push(r)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return t}clear(){for(const e of this.rindexes({allowStale:!0})){const t=this.valList[e];if(this.isBackgroundFetch(t))t.__abortController.abort();else{const r=this.keyList[e];this.dispose(t,r,"delete"),this.disposeAfter&&this.disposed.push([t,r,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return l("reset","clear"),this.clear}get length(){return((e,t)=>{const r="LRU_CACHE_PROPERTY_length";if(u(r)){const{prototype:t}=g,{get:n}=Object.getOwnPropertyDescriptor(t,e);d(r,"length property","cache.size",n)}})("length"),this.size}static get AbortController(){return r}static get AbortSignal(){return o}}e.exports=g},6948:function(e){(function(){var t,r,n,i,o,a;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-o)/1e6},r=process.hrtime,i=(t=function(){var e;return 1e9*(e=r())[0]+e[1]})(),a=1e9*process.uptime(),o=i-a):Date.now?(e.exports=function(){return Date.now()-n},n=Date.now()):(e.exports=function(){return(new Date).getTime()-n},n=(new Date).getTime())}).call(this)},6407:function(e){e.exports=function(){var e=[],t=[],r={},n={},i={};function o(e){return"string"==typeof e?new RegExp("^"+e+"$","i"):e}function a(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function s(e,t){return e.replace(/\$(\d{1,2})/g,(function(e,r){return t[r]||""}))}function l(e,t){return e.replace(t[0],(function(r,n){var i=s(t[1],arguments);return a(""===r?e[n-1]:r,i)}))}function c(e,t,n){if(!e.length||r.hasOwnProperty(e))return t;for(var i=n.length;i--;){var o=n[i];if(o[0].test(t))return l(t,o)}return t}function u(e,t,r){return function(n){var i=n.toLowerCase();return t.hasOwnProperty(i)?a(n,i):e.hasOwnProperty(i)?a(n,e[i]):c(i,n,r)}}function d(e,t,r,n){return function(n){var i=n.toLowerCase();return!!t.hasOwnProperty(i)||!e.hasOwnProperty(i)&&c(i,i,r)===i}}function p(e,t,r){return(r?t+" ":"")+(1===t?p.singular(e):p.plural(e))}return p.plural=u(i,n,e),p.isPlural=d(i,n,e),p.singular=u(n,i,t),p.isSingular=d(n,i,t),p.addPluralRule=function(t,r){e.push([o(t),r])},p.addSingularRule=function(e,r){t.push([o(e),r])},p.addUncountableRule=function(e){"string"!=typeof e?(p.addPluralRule(e,"$0"),p.addSingularRule(e,"$0")):r[e.toLowerCase()]=!0},p.addIrregularRule=function(e,t){t=t.toLowerCase(),e=e.toLowerCase(),i[e]=t,n[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach((function(e){return p.addIrregularRule(e[0],e[1])})),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(e){return p.addPluralRule(e[0],e[1])})),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(e){return p.addSingularRule(e[0],e[1])})),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(p.addUncountableRule),p}()},2780:e=>{var t=null,r=["Webkit","Moz","O","ms"];e.exports=function(e){t||(t=document.createElement("div"));var n=t.style;if(e in n)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),o=r.length;o>=0;o--){var a=r[o]+i;if(a in n)return a}return!1}},8772:(e,t,r)=>{"use strict";var n=r(331);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},3615:(e,t,r)=>{e.exports=r(8772)()},331:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5026:(e,t,r)=>{for(var n=r(6948),i="undefined"==typeof window?r.g:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],l=i["cancel"+a]||i["cancelRequest"+a],c=0;!s&&c<o.length;c++)s=i[o[c]+"Request"+a],l=i[o[c]+"Cancel"+a]||i[o[c]+"CancelRequest"+a];if(!s||!l){var u=0,d=0,p=[];s=function(e){if(0===p.length){var t=n(),r=Math.max(0,16.666666666666668-(t-u));u=r+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(r))}return p.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){l.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}},5035:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.renderViewDefault=function(e){return o.default.createElement("div",e)},t.renderTrackHorizontalDefault=function(e){var t=e.style,r=a(e,["style"]),i=n({},t,{right:2,bottom:2,left:2,borderRadius:3});return o.default.createElement("div",n({style:i},r))},t.renderTrackVerticalDefault=function(e){var t=e.style,r=a(e,["style"]),i=n({},t,{right:2,bottom:2,top:2,borderRadius:3});return o.default.createElement("div",n({style:i},r))},t.renderThumbHorizontalDefault=function(e){var t=e.style,r=a(e,["style"]),i=n({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return o.default.createElement("div",n({style:i},r))},t.renderThumbVerticalDefault=function(e){var t=e.style,r=a(e,["style"]),i=n({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return o.default.createElement("div",n({style:i},r))};var i,o=(i=r(2650))&&i.__esModule?i:{default:i};function a(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}},5543:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(5026),a=v(o),s=v(r(8575)),l=r(2650),c=v(r(3615)),u=v(r(430)),d=v(r(845)),p=v(r(1426)),f=v(r(8028)),h=v(r(6045)),m=r(9106),g=r(5035);function v(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function(e){function t(e){var r;b(this,t);for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a=y(this,(r=t.__proto__||Object.getPrototypeOf(t)).call.apply(r,[this,e].concat(i)));return a.getScrollLeft=a.getScrollLeft.bind(a),a.getScrollTop=a.getScrollTop.bind(a),a.getScrollWidth=a.getScrollWidth.bind(a),a.getScrollHeight=a.getScrollHeight.bind(a),a.getClientWidth=a.getClientWidth.bind(a),a.getClientHeight=a.getClientHeight.bind(a),a.getValues=a.getValues.bind(a),a.getThumbHorizontalWidth=a.getThumbHorizontalWidth.bind(a),a.getThumbVerticalHeight=a.getThumbVerticalHeight.bind(a),a.getScrollLeftForOffset=a.getScrollLeftForOffset.bind(a),a.getScrollTopForOffset=a.getScrollTopForOffset.bind(a),a.scrollLeft=a.scrollLeft.bind(a),a.scrollTop=a.scrollTop.bind(a),a.scrollToLeft=a.scrollToLeft.bind(a),a.scrollToTop=a.scrollToTop.bind(a),a.scrollToRight=a.scrollToRight.bind(a),a.scrollToBottom=a.scrollToBottom.bind(a),a.handleTrackMouseEnter=a.handleTrackMouseEnter.bind(a),a.handleTrackMouseLeave=a.handleTrackMouseLeave.bind(a),a.handleHorizontalTrackMouseDown=a.handleHorizontalTrackMouseDown.bind(a),a.handleVerticalTrackMouseDown=a.handleVerticalTrackMouseDown.bind(a),a.handleHorizontalThumbMouseDown=a.handleHorizontalThumbMouseDown.bind(a),a.handleVerticalThumbMouseDown=a.handleVerticalThumbMouseDown.bind(a),a.handleWindowResize=a.handleWindowResize.bind(a),a.handleScroll=a.handleScroll.bind(a),a.handleDrag=a.handleDrag.bind(a),a.handleDragEnd=a.handleDragEnd.bind(a),a.state={didMountUniversal:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,o.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var e=this.view||{},t=e.scrollLeft,r=void 0===t?0:t,n=e.scrollTop,i=void 0===n?0:n,o=e.scrollWidth,a=void 0===o?0:o,s=e.scrollHeight,l=void 0===s?0:s,c=e.clientWidth,u=void 0===c?0:c,d=e.clientHeight,p=void 0===d?0:d;return{left:r/(a-u)||0,top:i/(l-p)||0,scrollLeft:r,scrollTop:i,scrollWidth:a,scrollHeight:l,clientWidth:u,clientHeight:p}}},{key:"getThumbHorizontalWidth",value:function(){var e=this.props,t=e.thumbSize,r=e.thumbMinSize,n=this.view,i=n.scrollWidth,o=n.clientWidth,a=(0,f.default)(this.trackHorizontal),s=Math.ceil(o/i*a);return a<=s?0:t||Math.max(s,r)}},{key:"getThumbVerticalHeight",value:function(){var e=this.props,t=e.thumbSize,r=e.thumbMinSize,n=this.view,i=n.scrollHeight,o=n.clientHeight,a=(0,h.default)(this.trackVertical),s=Math.ceil(o/i*a);return a<=s?0:t||Math.max(s,r)}},{key:"getScrollLeftForOffset",value:function(e){var t=this.view,r=t.scrollWidth,n=t.clientWidth;return e/((0,f.default)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(r-n)}},{key:"getScrollTopForOffset",value:function(e){var t=this.view,r=t.scrollHeight,n=t.clientHeight;return e/((0,h.default)(this.trackVertical)-this.getThumbVerticalHeight())*(r-n)}},{key:"scrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollLeft=e)}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollTop=e)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,r=this.trackVertical,n=this.thumbHorizontal,i=this.thumbVertical;e.addEventListener("scroll",this.handleScroll),(0,d.default)()&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),r.addEventListener("mouseenter",this.handleTrackMouseEnter),r.addEventListener("mouseleave",this.handleTrackMouseLeave),r.addEventListener("mousedown",this.handleVerticalTrackMouseDown),n.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if("undefined"!=typeof document&&this.view){var e=this.view,t=this.trackHorizontal,r=this.trackVertical,n=this.thumbHorizontal,i=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),(0,d.default)()&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),r.removeEventListener("mouseenter",this.handleTrackMouseEnter),r.removeEventListener("mouseleave",this.handleTrackMouseLeave),r.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),n.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(e){var t=this,r=this.props,n=r.onScroll,i=r.onScrollFrame;n&&n(e),this.update((function(e){var r=e.scrollLeft,n=e.scrollTop;t.viewScrollLeft=r,t.viewScrollTop=n,i&&i(e)})),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){(0,d.default)(!1),this.forceUpdate()}},{key:"handleHorizontalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,r=e.clientX,n=t.getBoundingClientRect().left,i=this.getThumbHorizontalWidth(),o=Math.abs(n-r)-i/2;this.view.scrollLeft=this.getScrollLeftForOffset(o)}},{key:"handleVerticalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,r=e.clientY,n=t.getBoundingClientRect().top,i=this.getThumbVerticalHeight(),o=Math.abs(n-r)-i/2;this.view.scrollTop=this.getScrollTopForOffset(o)}},{key:"handleHorizontalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,r=e.clientX,n=t.offsetWidth,i=t.getBoundingClientRect().left;this.prevPageX=n-(r-i)}},{key:"handleVerticalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,r=e.clientY,n=t.offsetHeight,i=t.getBoundingClientRect().top;this.prevPageY=n-(r-i)}},{key:"setupDragging",value:function(){(0,s.default)(document.body,m.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=p.default}},{key:"teardownDragging",value:function(){(0,s.default)(document.body,m.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(e){if(this.prevPageX){var t=e.clientX,r=-this.trackHorizontal.getBoundingClientRect().left+t-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(r)}if(this.prevPageY){var n=e.clientY,i=-this.trackVertical.getBoundingClientRect().top+n-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(i)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,s.default)(this.trackHorizontal,{opacity:1}),(0,s.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout((function(){(0,s.default)(e.trackHorizontal,{opacity:0}),(0,s.default)(e.trackVertical,{opacity:0})}),t)}}},{key:"detectScrolling",value:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval((function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop}),100))}},{key:"raf",value:function(e){var t=this;this.requestFrame&&a.default.cancel(this.requestFrame),this.requestFrame=(0,a.default)((function(){t.requestFrame=void 0,e()}))}},{key:"update",value:function(e){var t=this;this.raf((function(){return t._update(e)}))}},{key:"_update",value:function(e){var t=this.props,r=t.onUpdate,n=t.hideTracksWhenNotNeeded,i=this.getValues();if((0,d.default)()){var o=i.scrollLeft,a=i.clientWidth,l=i.scrollWidth,c=(0,f.default)(this.trackHorizontal),u=this.getThumbHorizontalWidth(),p={width:u,transform:"translateX("+o/(l-a)*(c-u)+"px)"},m=i.scrollTop,g=i.clientHeight,v=i.scrollHeight,b=(0,h.default)(this.trackVertical),y=this.getThumbVerticalHeight(),w={height:y,transform:"translateY("+m/(v-g)*(b-y)+"px)"};if(n){var x={visibility:l>a?"visible":"hidden"},O={visibility:v>g?"visible":"hidden"};(0,s.default)(this.trackHorizontal,x),(0,s.default)(this.trackVertical,O)}(0,s.default)(this.thumbHorizontal,p),(0,s.default)(this.thumbVertical,w)}r&&r(i),"function"==typeof e&&e(i)}},{key:"render",value:function(){var e=this,t=(0,d.default)(),r=this.props,i=(r.onScroll,r.onScrollFrame,r.onScrollStart,r.onScrollStop,r.onUpdate,r.renderView),o=r.renderTrackHorizontal,a=r.renderTrackVertical,s=r.renderThumbHorizontal,c=r.renderThumbVertical,p=r.tagName,f=(r.hideTracksWhenNotNeeded,r.autoHide),h=(r.autoHideTimeout,r.autoHideDuration),g=(r.thumbSize,r.thumbMinSize,r.universal),v=r.autoHeight,b=r.autoHeightMin,y=r.autoHeightMax,w=r.style,x=r.children,O=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(r,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),_=this.state.didMountUniversal,E=n({},m.containerStyleDefault,v&&n({},m.containerStyleAutoHeight,{minHeight:b,maxHeight:y}),w),S=n({},m.viewStyleDefault,{marginRight:t?-t:0,marginBottom:t?-t:0},v&&n({},m.viewStyleAutoHeight,{minHeight:(0,u.default)(b)?"calc("+b+" + "+t+"px)":b+t,maxHeight:(0,u.default)(y)?"calc("+y+" + "+t+"px)":y+t}),v&&g&&!_&&{minHeight:b,maxHeight:y},g&&!_&&m.viewStyleUniversalInitial),k={transition:"opacity "+h+"ms",opacity:0},P=n({},m.trackHorizontalStyleDefault,f&&k,(!t||g&&!_)&&{display:"none"}),T=n({},m.trackVerticalStyleDefault,f&&k,(!t||g&&!_)&&{display:"none"});return(0,l.createElement)(p,n({},O,{style:E,ref:function(t){e.container=t}}),[(0,l.cloneElement)(i({style:S}),{key:"view",ref:function(t){e.view=t}},x),(0,l.cloneElement)(o({style:P}),{key:"trackHorizontal",ref:function(t){e.trackHorizontal=t}},(0,l.cloneElement)(s({style:m.thumbHorizontalStyleDefault}),{ref:function(t){e.thumbHorizontal=t}})),(0,l.cloneElement)(a({style:T}),{key:"trackVertical",ref:function(t){e.trackVertical=t}},(0,l.cloneElement)(c({style:m.thumbVerticalStyleDefault}),{ref:function(t){e.thumbVertical=t}}))])}}]),t}(l.Component);t.default=w,w.propTypes={onScroll:c.default.func,onScrollFrame:c.default.func,onScrollStart:c.default.func,onScrollStop:c.default.func,onUpdate:c.default.func,renderView:c.default.func,renderTrackHorizontal:c.default.func,renderTrackVertical:c.default.func,renderThumbHorizontal:c.default.func,renderThumbVertical:c.default.func,tagName:c.default.string,thumbSize:c.default.number,thumbMinSize:c.default.number,hideTracksWhenNotNeeded:c.default.bool,autoHide:c.default.bool,autoHideTimeout:c.default.number,autoHideDuration:c.default.number,autoHeight:c.default.bool,autoHeightMin:c.default.oneOfType([c.default.number,c.default.string]),autoHeightMax:c.default.oneOfType([c.default.number,c.default.string]),universal:c.default.bool,style:c.default.object,children:c.default.node},w.defaultProps={renderView:g.renderViewDefault,renderTrackHorizontal:g.renderTrackHorizontalDefault,renderTrackVertical:g.renderTrackVerticalDefault,renderThumbHorizontal:g.renderThumbHorizontalDefault,renderThumbVertical:g.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}},9106:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},t.containerStyleAutoHeight={height:"auto"},t.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},t.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},t.trackHorizontalStyleDefault={position:"absolute",height:6},t.trackVerticalStyleDefault={position:"absolute",width:6},t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},t.disableSelectStyle={userSelect:"none"},t.disableSelectStyleReset={userSelect:""}},9672:(e,t,r)=>{"use strict";var n,i=(n=r(5543))&&n.__esModule?n:{default:n};t.ZP=i.default,i.default},6045:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientHeight,r=getComputedStyle(e),n=r.paddingTop,i=r.paddingBottom;return t-parseFloat(n)-parseFloat(i)}},8028:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientWidth,r=getComputedStyle(e),n=r.paddingLeft,i=r.paddingRight;return t-parseFloat(n)-parseFloat(i)}},845:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e&&!1!==o)return o;if("undefined"!=typeof document){var t=document.createElement("div");(0,i.default)(t,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(t),o=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}else o=0;return o||0};var n,i=(n=r(8575))&&n.__esModule?n:{default:n},o=!1},430:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e}},1426:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!1}},4335:e=>{var t="undefined"!=typeof Element,r="function"==typeof Map,n="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,l,c,u;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(l=s;0!=l--;)if(!o(e[l],a[l]))return!1;return!0}if(r&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!o(l.value[1],a.get(l.value[0])))return!1;return!0}if(n&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(l=s;0!=l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!=l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!o(e[c[l]],a[c[l]]))return!1;return!0}return e!=e&&a!=a}e.exports=function(e,t){try{return o(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},5464:(e,t,r)=>{e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=(n=r(2))&&n.__esModule?n:{default:n};t.default=i.default,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function i(e){return e&&e.__esModule?e:{default:e}}t.default=c;var o=r(3),a=i(r(4)),s=r(14),l=i(r(15));function c(e){var t=e.activeClassName,r=void 0===t?"":t,i=e.activeIndex,a=void 0===i?-1:i,c=e.activeStyle,u=e.autoEscape,d=e.caseSensitive,p=void 0!==d&&d,f=e.className,h=e.findChunks,m=e.highlightClassName,g=void 0===m?"":m,v=e.highlightStyle,b=void 0===v?{}:v,y=e.highlightTag,w=void 0===y?"mark":y,x=e.sanitize,O=e.searchWords,_=e.textToHighlight,E=e.unhighlightClassName,S=void 0===E?"":E,k=e.unhighlightStyle,P=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightClassName","unhighlightStyle"]),T=(0,o.findAll)({autoEscape:u,caseSensitive:p,findChunks:h,sanitize:x,searchWords:O,textToHighlight:_}),C=w,I=-1,D="",A=void 0,R=(0,l.default)((function(e){var t={};for(var r in e)t[r.toLowerCase()]=e[r];return t}));return(0,s.createElement)("span",n({className:f},P,{children:T.map((function(e,t){var n=_.substr(e.start,e.end-e.start);if(e.highlight){I++;var i;i="object"==typeof g?p?g[n]:(g=R(g))[n.toLowerCase()]:g;var o=I===+a;D=i+" "+(o?r:""),A=!0===o&&null!=c?Object.assign({},b,c):b;var l={children:n,className:D,key:t,style:A};return"string"!=typeof C&&(l.highlightIndex=I),(0,s.createElement)(C,l)}return(0,s.createElement)("span",{children:n,className:S,key:t,style:k})}))}))}c.propTypes={activeClassName:a.default.string,activeIndex:a.default.number,activeStyle:a.default.object,autoEscape:a.default.bool,className:a.default.string,findChunks:a.default.func,highlightClassName:a.default.oneOfType([a.default.object,a.default.string]),highlightStyle:a.default.object,highlightTag:a.default.oneOfType([a.default.node,a.default.func,a.default.string]),sanitize:a.default.func,searchWords:a.default.arrayOf(a.default.oneOfType([a.default.string,a.default.instanceOf(RegExp)])).isRequired,textToHighlight:a.default.string.isRequired,unhighlightClassName:a.default.string,unhighlightStyle:a.default.object},e.exports=t.default},function(e,t){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);Object.defineProperty(t,"combineChunks",{enumerable:!0,get:function(){return n.combineChunks}}),Object.defineProperty(t,"fillInChunks",{enumerable:!0,get:function(){return n.fillInChunks}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return n.findAll}}),Object.defineProperty(t,"findChunks",{enumerable:!0,get:function(){return n.findChunks}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=function(e){var t=e.autoEscape,o=e.caseSensitive,a=void 0!==o&&o,s=e.findChunks,l=void 0===s?n:s,c=e.sanitize,u=e.searchWords,d=e.textToHighlight;return i({chunksToHighlight:r({chunks:l({autoEscape:t,caseSensitive:a,sanitize:c,searchWords:u,textToHighlight:d})}),totalLength:d?d.length:0})};var r=t.combineChunks=function(e){var t=e.chunks;return t.sort((function(e,t){return e.start-t.start})).reduce((function(e,t){if(0===e.length)return[t];var r=e.pop();if(t.start<=r.end){var n=Math.max(r.end,t.end);e.push({start:r.start,end:n})}else e.push(r,t);return e}),[])},n=function(e){var t=e.autoEscape,r=e.caseSensitive,n=e.sanitize,i=void 0===n?o:n,a=e.searchWords,s=e.textToHighlight;return s=i(s),a.filter((function(e){return e})).reduce((function(e,n){n=i(n),t&&(n=n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"));for(var o=new RegExp(n,r?"g":"gi"),a=void 0;a=o.exec(s);){var l=a.index,c=o.lastIndex;c>l&&e.push({start:l,end:c}),a.index==o.lastIndex&&o.lastIndex++}return e}),[])};t.findChunks=n;var i=t.fillInChunks=function(e){var t=e.chunksToHighlight,r=e.totalLength,n=[],i=function(e,t,r){t-e>0&&n.push({start:e,end:t,highlight:r})};if(0===t.length)i(0,r,!1);else{var o=0;t.forEach((function(e){i(o,e.start,!1),i(e.start,e.end,!0),o=e.end})),i(o,r,!1)}return n};function o(e){return e}}])},function(e,t,r){(function(t){if("production"!==t.env.NODE_ENV){var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r(6)((function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}),!0)}else e.exports=r(13)()}).call(t,r(5))},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){(function(t){"use strict";var n=r(7),i=r(8),o=r(9),a=r(10),s=r(11),l=r(12);e.exports=function(e,r){var c="function"==typeof Symbol&&Symbol.iterator,u="<<anonymous>>",d={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:f(n.thatReturnsNull),arrayOf:function(e){return f((function(t,r,n,i,o){if("function"!=typeof e)return new p("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var a=t[r];if(!Array.isArray(a))return new p("Invalid "+i+" `"+o+"` of type `"+g(a)+"` supplied to `"+n+"`, expected an array.");for(var l=0;l<a.length;l++){var c=e(a,l,n,i,o+"["+l+"]",s);if(c instanceof Error)return c}return null}))},element:f((function(t,r,n,i,o){var a=t[r];return e(a)?null:new p("Invalid "+i+" `"+o+"` of type `"+g(a)+"` supplied to `"+n+"`, expected a single ReactElement.")})),instanceOf:function(e){return f((function(t,r,n,i,o){if(!(t[r]instanceof e)){var a=e.name||u;return new p("Invalid "+i+" `"+o+"` of type `"+((s=t[r]).constructor&&s.constructor.name?s.constructor.name:u)+"` supplied to `"+n+"`, expected instance of `"+a+"`.")}var s;return null}))},node:f((function(e,t,r,n,i){return m(e[t])?null:new p("Invalid "+n+" `"+i+"` supplied to `"+r+"`, expected a ReactNode.")})),objectOf:function(e){return f((function(t,r,n,i,o){if("function"!=typeof e)return new p("Property `"+o+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var a=t[r],l=g(a);if("object"!==l)return new p("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+n+"`, expected an object.");for(var c in a)if(a.hasOwnProperty(c)){var u=e(a,c,n,i,o+"."+c,s);if(u instanceof Error)return u}return null}))},oneOf:function(e){return Array.isArray(e)?f((function(t,r,n,i,o){for(var a=t[r],s=0;s<e.length;s++)if(l=a,c=e[s],l===c?0!==l||1/l==1/c:l!=l&&c!=c)return null;var l,c;return new p("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+n+"`, expected one of "+JSON.stringify(e)+".")})):("production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),n.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),n.thatReturnsNull;for(var r=0;r<e.length;r++){var i=e[r];if("function"!=typeof i)return o(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",b(i),r),n.thatReturnsNull}return f((function(t,r,n,i,o){for(var a=0;a<e.length;a++)if(null==(0,e[a])(t,r,n,i,o,s))return null;return new p("Invalid "+i+" `"+o+"` supplied to `"+n+"`.")}))},shape:function(e){return f((function(t,r,n,i,o){var a=t[r],l=g(a);if("object"!==l)return new p("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+n+"`, expected `object`.");for(var c in e){var u=e[c];if(u){var d=u(a,c,n,i,o+"."+c,s);if(d)return d}}return null}))},exact:function(e){return f((function(t,r,n,i,o){var l=t[r],c=g(l);if("object"!==c)return new p("Invalid "+i+" `"+o+"` of type `"+c+"` supplied to `"+n+"`, expected `object`.");var u=a({},t[r],e);for(var d in u){var f=e[d];if(!f)return new p("Invalid "+i+" `"+o+"` key `"+d+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(t[r],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var h=f(l,d,n,i,o+"."+d,s);if(h)return h}return null}))}};function p(e){this.message=e,this.stack=""}function f(e){if("production"!==t.env.NODE_ENV)var n={},a=0;function l(l,c,d,f,h,m,g){if(f=f||u,m=m||d,g!==s)if(r)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var v=f+":"+d;!n[v]&&a<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",m,f),n[v]=!0,a++)}return null==c[d]?l?null===c[d]?new p("The "+h+" `"+m+"` is marked as required in `"+f+"`, but its value is `null`."):new p("The "+h+" `"+m+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(c,d,f,h,m)}var c=l.bind(null,!1);return c.isRequired=l.bind(null,!0),c}function h(e){return f((function(t,r,n,i,o,a){var s=t[r];return g(s)!==e?new p("Invalid "+i+" `"+o+"` of type `"+v(s)+"` supplied to `"+n+"`, expected `"+e+"`."):null}))}function m(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(m);if(null===t||e(t))return!0;var r=function(e){var t=e&&(c&&e[c]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!r)return!1;var n,i=r.call(t);if(r!==t.entries){for(;!(n=i.next()).done;)if(!m(n.value))return!1}else for(;!(n=i.next()).done;){var o=n.value;if(o&&!m(o[1]))return!1}return!0;default:return!1}}function g(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function v(e){if(null==e)return""+e;var t=g(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function b(e){var t=v(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return p.prototype=Error.prototype,d.checkPropTypes=l,d.PropTypes=d,d}}).call(t,r(5))},function(e,t){"use strict";function r(e){return function(){return e}}var n=function(){};n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){(function(t){"use strict";var r=function(e){};"production"!==t.env.NODE_ENV&&(r=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=function(e,t,n,i,o,a,s,l){if(r(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,o,a,s,l],d=0;(c=new Error(t.replace(/%s/g,(function(){return u[d++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}}).call(t,r(5))},function(e,t,r){(function(t){"use strict";var n=r(7);if("production"!==t.env.NODE_ENV){var i=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0,o="Warning: "+e.replace(/%s/g,(function(){return r[i++]}));"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}};n=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];i.apply(void 0,[t].concat(n))}}}e.exports=n}).call(t,r(5))},function(e,t){"use strict";var r=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var a,s,l=o(e),c=1;c<arguments.length;c++){for(var u in a=Object(arguments[c]))n.call(a,u)&&(l[u]=a[u]);if(r){s=r(a);for(var d=0;d<s.length;d++)i.call(a,s[d])&&(l[s[d]]=a[s[d]])}}return l}},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){(function(t){"use strict";if("production"!==t.env.NODE_ENV)var n=r(8),i=r(9),o=r(11),a={};e.exports=function(e,r,s,l,c){if("production"!==t.env.NODE_ENV)for(var u in e)if(e.hasOwnProperty(u)){var d;try{n("function"==typeof e[u],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",l||"React class",s,u,typeof e[u]),d=e[u](r,u,l,s,null,o)}catch(e){d=e}if(i(!d||d instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",l||"React class",s,u,typeof d),d instanceof Error&&!(d.message in a)){a[d.message]=!0;var p=c?c():"";i(!1,"Failed %s type: %s%s",s,d.message,null!=p?p:"")}}}}).call(t,r(5))},function(e,t,r){"use strict";var n=r(7),i=r(8),o=r(11);e.exports=function(){function e(e,t,r,n,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=n,r.PropTypes=r,r}},function(e,t){e.exports=r(2650)},function(e,t){"use strict";var r=function(e,t){return e===t};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=void 0,i=[],o=void 0,a=!1,s=function(e,r){return t(e,i[r])},l=function(){for(var t=arguments.length,r=Array(t),l=0;l<t;l++)r[l]=arguments[l];return a&&n===this&&r.length===i.length&&r.every(s)?o:(a=!0,n=this,i=r,o=e.apply(this,r))};return l}}])},8702:(e,t)=>{"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,y=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case m:case l:return e;default:return t}}case i:return t}}}function O(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=n,t.ForwardRef=p,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return O(e)||x(e)===u},t.isConcurrentMode=O,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return x(e)===p},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===s||e===a||e===f||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===b||e.$$typeof===y||e.$$typeof===w||e.$$typeof===v)},t.typeOf=x},9185:(e,t,r)=>{"use strict";e.exports=r(8702)},3729:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNavigator=t.isBrowser=t.off=t.on=t.noop=void 0,t.noop=function(){},t.on=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.addEventListener&&e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)},t.isBrowser="undefined"!=typeof window,t.isNavigator="undefined"!=typeof navigator},5777:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2650),i=r(3729).isBrowser?n.useLayoutEffect:n.useEffect;t.default=i},9218:(e,t,r)=>{"use strict";var n=r(9312),i=r(2650),o=n.__importDefault(r(5777)),a=r(3729),s={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};t.Z=a.isBrowser&&void 0!==window.ResizeObserver?function(){var e=i.useState(null),t=e[0],r=e[1],n=i.useState(s),a=n[0],l=n[1],c=i.useMemo((function(){return new window.ResizeObserver((function(e){if(e[0]){var t=e[0].contentRect,r=t.x,n=t.y,i=t.width,o=t.height,a=t.top,s=t.left,c=t.bottom,u=t.right;l({x:r,y:n,width:i,height:o,top:a,left:s,bottom:c,right:u})}}))}),[]);return o.default((function(){if(t)return c.observe(t),function(){c.disconnect()}}),[t]),[r,a]}:function(){return[a.noop,s]}},3198:(e,t,r)=>{var n;!function(i){var o=/^\s+/,a=/\s+$/,s=0,l=i.round,c=i.min,u=i.max,d=i.random;function p(e,t){if(t=t||{},(e=e||"")instanceof p)return e;if(!(this instanceof p))return new p(e,t);var r=function(e){var t,r,n,s={r:0,g:0,b:0},l=1,d=null,p=null,f=null,h=!1,m=!1;return"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(a,"").toLowerCase();var t,r=!1;if(I[e])e=I[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=B.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=B.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=B.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=B.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=B.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=B.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=B.hex8.exec(e))?{r:M(t[1]),g:M(t[2]),b:M(t[3]),a:F(t[4]),format:r?"name":"hex8"}:(t=B.hex6.exec(e))?{r:M(t[1]),g:M(t[2]),b:M(t[3]),format:r?"name":"hex"}:(t=B.hex4.exec(e))?{r:M(t[1]+""+t[1]),g:M(t[2]+""+t[2]),b:M(t[3]+""+t[3]),a:F(t[4]+""+t[4]),format:r?"name":"hex8"}:!!(t=B.hex3.exec(e))&&{r:M(t[1]+""+t[1]),g:M(t[2]+""+t[2]),b:M(t[3]+""+t[3]),format:r?"name":"hex"}}(e)),"object"==typeof e&&(H(e.r)&&H(e.g)&&H(e.b)?(t=e.r,r=e.g,n=e.b,s={r:255*R(t,255),g:255*R(r,255),b:255*R(n,255)},h=!0,m="%"===String(e.r).substr(-1)?"prgb":"rgb"):H(e.h)&&H(e.s)&&H(e.v)?(d=L(e.s),p=L(e.v),s=function(e,t,r){e=6*R(e,360),t=R(t,100),r=R(r,100);var n=i.floor(e),o=e-n,a=r*(1-t),s=r*(1-o*t),l=r*(1-(1-o)*t),c=n%6;return{r:255*[r,s,a,a,l,r][c],g:255*[l,r,r,s,a,a][c],b:255*[a,a,l,r,r,s][c]}}(e.h,d,p),h=!0,m="hsv"):H(e.h)&&H(e.s)&&H(e.l)&&(d=L(e.s),f=L(e.l),s=function(e,t,r){var n,i,o;function a(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=R(e,360),t=R(t,100),r=R(r,100),0===t)n=i=o=r;else{var s=r<.5?r*(1+t):r+t-r*t,l=2*r-s;n=a(l,s,e+1/3),i=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*n,g:255*i,b:255*o}}(e.h,d,f),h=!0,m="hsl"),e.hasOwnProperty("a")&&(l=e.a)),l=A(l),{ok:h,format:e.format||m,r:c(255,u(s.r,0)),g:c(255,u(s.g,0)),b:c(255,u(s.b,0)),a:l}}(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=l(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=r.ok,this._tc_id=s++}function f(e,t,r){e=R(e,255),t=R(t,255),r=R(r,255);var n,i,o=u(e,t,r),a=c(e,t,r),s=(o+a)/2;if(o==a)n=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case e:n=(t-r)/l+(t<r?6:0);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:i,l:s}}function h(e,t,r){e=R(e,255),t=R(t,255),r=R(r,255);var n,i,o=u(e,t,r),a=c(e,t,r),s=o,l=o-a;if(i=0===o?0:l/o,o==a)n=0;else{switch(o){case e:n=(t-r)/l+(t<r?6:0);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:i,v:s}}function m(e,t,r,n){var i=[j(l(e).toString(16)),j(l(t).toString(16)),j(l(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function g(e,t,r,n){return[j($(n)),j(l(e).toString(16)),j(l(t).toString(16)),j(l(r).toString(16))].join("")}function v(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.s-=t/100,r.s=N(r.s),p(r)}function b(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.s+=t/100,r.s=N(r.s),p(r)}function y(e){return p(e).desaturate(100)}function w(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.l+=t/100,r.l=N(r.l),p(r)}function x(e,t){t=0===t?0:t||10;var r=p(e).toRgb();return r.r=u(0,c(255,r.r-l(-t/100*255))),r.g=u(0,c(255,r.g-l(-t/100*255))),r.b=u(0,c(255,r.b-l(-t/100*255))),p(r)}function O(e,t){t=0===t?0:t||10;var r=p(e).toHsl();return r.l-=t/100,r.l=N(r.l),p(r)}function _(e,t){var r=p(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,p(r)}function E(e){var t=p(e).toHsl();return t.h=(t.h+180)%360,p(t)}function S(e){var t=p(e).toHsl(),r=t.h;return[p(e),p({h:(r+120)%360,s:t.s,l:t.l}),p({h:(r+240)%360,s:t.s,l:t.l})]}function k(e){var t=p(e).toHsl(),r=t.h;return[p(e),p({h:(r+90)%360,s:t.s,l:t.l}),p({h:(r+180)%360,s:t.s,l:t.l}),p({h:(r+270)%360,s:t.s,l:t.l})]}function P(e){var t=p(e).toHsl(),r=t.h;return[p(e),p({h:(r+72)%360,s:t.s,l:t.l}),p({h:(r+216)%360,s:t.s,l:t.l})]}function T(e,t,r){t=t||6,r=r||30;var n=p(e).toHsl(),i=360/r,o=[p(e)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,o.push(p(n));return o}function C(e,t){t=t||6;for(var r=p(e).toHsv(),n=r.h,i=r.s,o=r.v,a=[],s=1/t;t--;)a.push(p({h:n,s:i,v:o})),o=(o+s)%1;return a}p.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n=this.toRgb();return e=n.r/255,t=n.g/255,r=n.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:i.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=A(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=h(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=h(this._r,this._g,this._b),t=l(360*e.h),r=l(100*e.s),n=l(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=f(this._r,this._g,this._b),t=l(360*e.h),r=l(100*e.s),n=l(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,r,n,i){var o=[j(l(e).toString(16)),j(l(t).toString(16)),j(l(r).toString(16)),j($(n))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*R(this._r,255))+"%",g:l(100*R(this._g,255))+"%",b:l(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*R(this._r,255))+"%, "+l(100*R(this._g,255))+"%, "+l(100*R(this._b,255))+"%)":"rgba("+l(100*R(this._r,255))+"%, "+l(100*R(this._g,255))+"%, "+l(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(D[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+g(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var i=p(e);r="#"+g(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return p(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(O,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(y,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(E,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(P,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(k,arguments)}},p.fromRatio=function(e,t){if("object"==typeof e){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]="a"===n?e[n]:L(e[n]));e=r}return p(e,t)},p.equals=function(e,t){return!(!e||!t)&&p(e).toRgbString()==p(t).toRgbString()},p.random=function(){return p.fromRatio({r:d(),g:d(),b:d()})},p.mix=function(e,t,r){r=0===r?0:r||50;var n=p(e).toRgb(),i=p(t).toRgb(),o=r/100;return p({r:(i.r-n.r)*o+n.r,g:(i.g-n.g)*o+n.g,b:(i.b-n.b)*o+n.b,a:(i.a-n.a)*o+n.a})},p.readability=function(e,t){var r=p(e),n=p(t);return(i.max(r.getLuminance(),n.getLuminance())+.05)/(i.min(r.getLuminance(),n.getLuminance())+.05)},p.isReadable=function(e,t,r){var n,i,o,a,s,l=p.readability(e,t);switch(i=!1,(o=r,"AA"!==(a=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==a&&(a="AA"),"small"!==(s=(o.size||"small").toLowerCase())&&"large"!==s&&(s="small"),n={level:a,size:s}).level+n.size){case"AAsmall":case"AAAlarge":i=l>=4.5;break;case"AAlarge":i=l>=3;break;case"AAAsmall":i=l>=7}return i},p.mostReadable=function(e,t,r){var n,i,o,a,s=null,l=0;i=(r=r||{}).includeFallbackColors,o=r.level,a=r.size;for(var c=0;c<t.length;c++)(n=p.readability(e,t[c]))>l&&(l=n,s=p(t[c]));return p.isReadable(e,s,{level:o,size:a})||!i?s:(r.includeFallbackColors=!1,p.mostReadable(e,["#fff","#000"],r))};var I=p.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},D=p.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(I);function A(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function R(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=c(t,u(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function N(e){return c(1,u(0,e))}function M(e){return parseInt(e,16)}function j(e){return 1==e.length?"0"+e:""+e}function L(e){return e<=1&&(e=100*e+"%"),e}function $(e){return i.round(255*parseFloat(e)).toString(16)}function F(e){return M(e)/255}var q,V,z,B=(V="[\\s|\\(]+("+(q="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?",z="[\\s|\\(]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?",{CSS_UNIT:new RegExp(q),rgb:new RegExp("rgb"+V),rgba:new RegExp("rgba"+z),hsl:new RegExp("hsl"+V),hsla:new RegExp("hsla"+z),hsv:new RegExp("hsv"+V),hsva:new RegExp("hsva"+z),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function H(e){return!!B.CSS_UNIT.exec(e)}e.exports?e.exports=p:void 0===(n=function(){return p}.call(t,r,t,e))||(e.exports=n)}(Math)},7602:(e,t,r)=>{var n=r(2746);e.exports=function(e){return n(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},7519:e=>{e.exports=function(e){return t.test(e)?e.toLowerCase():r.test(e)?(function(e){return e.replace(i,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():n.test(e)?function(e){return e.replace(o,(function(e,t,r){return t+" "+r.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var t=/\s/,r=/(_|-|\.|:)/,n=/([a-z][A-Z]|[A-Z][a-z])/,i=/[\W_]+(.|$)/g,o=/(.)([A-Z]+)/g},2746:(e,t,r)=>{var n=r(7519);e.exports=function(e){return n(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},9312:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>o,__asyncDelegator:()=>x,__asyncGenerator:()=>w,__asyncValues:()=>O,__await:()=>y,__awaiter:()=>u,__classPrivateFieldGet:()=>P,__classPrivateFieldIn:()=>C,__classPrivateFieldSet:()=>T,__createBinding:()=>p,__decorate:()=>s,__exportStar:()=>f,__extends:()=>i,__generator:()=>d,__importDefault:()=>k,__importStar:()=>S,__makeTemplateObject:()=>_,__metadata:()=>c,__param:()=>l,__read:()=>m,__rest:()=>a,__spread:()=>g,__spreadArray:()=>b,__spreadArrays:()=>v,__values:()=>h});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function s(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}function l(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))}function d(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var p=Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function f(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||p(t,e,r)}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}function b(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function w(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{(r=i[e](t)).value instanceof y?Promise.resolve(r.value.v).then(l,c):u(o[0][2],r)}catch(e){u(o[0][3],e)}var r}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function x(e){var t,r;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:y(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function O(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=h(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,i,(t=e[r](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var E=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&p(t,e,r);return E(t,e),t}function k(e){return e&&e.__esModule?e:{default:e}}function P(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function T(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}function C(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}},7644:e=>{"use strict";e.exports=o},3305:t=>{"use strict";t.exports=e},3545:e=>{"use strict";e.exports=r},7388:e=>{"use strict";e.exports=n},8200:e=>{"use strict";e.exports=d},5980:e=>{"use strict";e.exports=i},3342:e=>{"use strict";e.exports=a},2650:e=>{"use strict";e.exports=t},2729:e=>{"use strict";e.exports=s},3929:e=>{"use strict";e.exports=c},3129:e=>{"use strict";e.exports=l},1177:e=>{"use strict";e.exports=u}},h={};function m(e){var t=h[e];if(void 0!==t)return t.exports;var r=h[e]={id:e,exports:{}};return f[e].call(r.exports,r,r.exports,m),r.exports}m.m=f,m.amdO={},m.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return m.d(t,{a:t}),t},m.d=(e,t)=>{for(var r in t)m.o(t,r)&&!m.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},m.f={},m.e=e=>Promise.all(Object.keys(m.f).reduce(((t,r)=>(m.f[r](e,t),t)),[])),m.u=e=>e+".js",m.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),m.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),p={},m.l=(e,t,r,n)=>{if(p[e])p[e].push(t);else{var i,o;if(void 0!==r)for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var l=a[s];if(l.getAttribute("src")==e){i=l;break}}i||(o=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,m.nc&&i.setAttribute("nonce",m.nc),i.src=e),p[e]=[t];var c=(t,r)=>{i.onerror=i.onload=null,clearTimeout(u);var n=p[e];if(delete p[e],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((e=>e(r))),t)return t(r)},u=setTimeout(c.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=c.bind(null,i.onerror),i.onload=c.bind(null,i.onload),o&&document.head.appendChild(i)}},m.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},m.p="/public/plugins/victoria-metrics/",(()=>{m.b=document.baseURI||self.location.href;var e={1261:0};m.f.j=(t,r)=>{var n=m.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var i=new Promise(((r,i)=>n=e[t]=[r,i]));r.push(n[2]=i);var o=m.p+m.u(t),a=new Error;m.l(o,(r=>{if(m.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,n[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,i,[o,a,s]=r,l=0;if(o.some((t=>0!==e[t]))){for(n in a)m.o(a,n)&&(m.m[n]=a[n]);s&&s(m)}for(t&&t(r);l<o.length;l++)i=o[l],m.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),m.nc=void 0;var g={};return(()=>{"use strict";m.r(g),m.d(g,{plugin:()=>AT});var e={};m.r(e),m.d(e,{getChildId:()=>Bp,renderOrCallToRender:()=>Hp});var t=m(3305),r=m(2650),n=m.n(r);const i=[{title:"Request Rate",expression:"rate(http_request_total[5m])",label:"Given an HTTP request counter, this query calculates the per-second average request rate over the last 5 minutes."},{title:"95th Percentile of Request Latencies",expression:"histogram_quantile(0.95, sum(rate(prometheus_http_request_duration_seconds_bucket[5m])) by (le))",label:"Calculates the 95th percentile of HTTP request rate over 5 minute windows."},{title:"Alerts Firing",expression:'sort_desc(sum(sum_over_time(ALERTS{alertstate="firing"}[24h])) by (alertname))',label:"Sums up the alerts that have been firing over the last 24 hours."},{title:"Step",label:"Defines the graph resolution using a duration format (15s, 1m, 3h, ...). Small steps create high-resolution graphs but can be slow over larger time ranges. Using a longer step lowers the resolution and smooths the graph by producing fewer datapoints. If no step is given the resolution is calculated automatically."}];var o=m(3545),a=m(7388),s=m(7644);const l=({children:e})=>{const t=(0,a.useTheme2)(),r=c(t);return n().createElement("div",{className:r.root},e)},c=(0,a.stylesFactory)((e=>({root:(0,s.css)({display:"flex",flexWrap:"wrap",alignItems:"center",gap:e.spacing(3),minHeight:e.spacing(4)})})));function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}var d=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),p=Math.abs,f=String.fromCharCode,h=Object.assign;function v(e){return e.trim()}function b(e,t,r){return e.replace(t,r)}function y(e,t){return e.indexOf(t)}function w(e,t){return 0|e.charCodeAt(t)}function x(e,t,r){return e.slice(t,r)}function O(e){return e.length}function _(e){return e.length}function E(e,t){return t.push(e),e}var S=1,k=1,P=0,T=0,C=0,I="";function D(e,t,r,n,i,o,a){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:S,column:k,length:a,return:""}}function A(e,t){return h(D("",null,null,"",null,null,0),e,{length:-e.length},t)}function R(){return C=T>0?w(I,--T):0,k--,10===C&&(k=1,S--),C}function N(){return C=T<P?w(I,T++):0,k++,10===C&&(k=1,S++),C}function M(){return w(I,T)}function j(){return T}function L(e,t){return x(I,e,t)}function $(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function F(e){return S=k=1,P=O(I=e),T=0,[]}function q(e){return I="",e}function V(e){return v(L(T-1,H(91===e?e+2:40===e?e+1:e)))}function z(e){for(;(C=M())&&C<33;)N();return $(e)>2||$(C)>3?"":" "}function B(e,t){for(;--t&&N()&&!(C<48||C>102||C>57&&C<65||C>70&&C<97););return L(e,j()+(t<6&&32==M()&&32==N()))}function H(e){for(;N();)switch(C){case e:return T;case 34:case 39:34!==e&&39!==e&&H(C);break;case 40:41===e&&H(e);break;case 92:N()}return T}function Q(e,t){for(;N()&&e+C!==57&&(e+C!==84||47!==M()););return"/*"+L(t,T-1)+"*"+f(47===e?e:N())}function W(e){for(;!$(M());)N();return L(e,T)}var U="-ms-",X="-moz-",G="-webkit-",K="comm",Y="rule",J="decl",Z="@keyframes";function ee(e,t){for(var r="",n=_(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function te(e,t,r,n){switch(e.type){case"@import":case J:return e.return=e.return||e.value;case K:return"";case Z:return e.return=e.value+"{"+ee(e.children,n)+"}";case Y:e.value=e.props.join(",")}return O(r=ee(e.children,n))?e.return=e.value+"{"+r+"}":""}function re(e,t){switch(function(e,t){return(((t<<2^w(e,0))<<2^w(e,1))<<2^w(e,2))<<2^w(e,3)}(e,t)){case 5103:return G+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return G+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return G+e+X+e+U+e+e;case 6828:case 4268:return G+e+U+e+e;case 6165:return G+e+U+"flex-"+e+e;case 5187:return G+e+b(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return G+e+U+"flex-item-"+b(e,/flex-|-self/,"")+e;case 4675:return G+e+U+"flex-line-pack"+b(e,/align-content|flex-|-self/,"")+e;case 5548:return G+e+U+b(e,"shrink","negative")+e;case 5292:return G+e+U+b(e,"basis","preferred-size")+e;case 6060:return G+"box-"+b(e,"-grow","")+G+e+U+b(e,"grow","positive")+e;case 4554:return G+b(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return b(b(b(e,/(zoom-|grab)/,G+"$1"),/(image-set)/,G+"$1"),e,"")+e;case 5495:case 3959:return b(e,/(image-set\([^]*)/,G+"$1$`$1");case 4968:return b(b(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+G+e+e;case 4095:case 3583:case 4068:case 2532:return b(e,/(.+)-inline(.+)/,G+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(O(e)-1-t>6)switch(w(e,t+1)){case 109:if(45!==w(e,t+4))break;case 102:return b(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+X+(108==w(e,t+3)?"$3":"$2-$3"))+e;case 115:return~y(e,"stretch")?re(b(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==w(e,t+1))break;case 6444:switch(w(e,O(e)-3-(~y(e,"!important")&&10))){case 107:return b(e,":",":"+G)+e;case 101:return b(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+G+(45===w(e,14)?"inline-":"")+"box$3$1"+G+"$2$3$1"+U+"$2box$3")+e}break;case 5936:switch(w(e,t+11)){case 114:return G+e+U+b(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return G+e+U+b(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return G+e+U+b(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return G+e+U+e+e}return e}function ne(e){return q(ie("",null,null,null,[""],e=F(e),0,[0],e))}function ie(e,t,r,n,i,o,a,s,l){for(var c=0,u=0,d=a,p=0,h=0,m=0,g=1,v=1,w=1,x=0,_="",S=i,k=o,P=n,T=_;v;)switch(m=x,x=N()){case 40:if(108!=m&&58==T.charCodeAt(d-1)){-1!=y(T+=b(V(x),"&","&\f"),"&\f")&&(w=-1);break}case 34:case 39:case 91:T+=V(x);break;case 9:case 10:case 13:case 32:T+=z(m);break;case 92:T+=B(j()-1,7);continue;case 47:switch(M()){case 42:case 47:E(ae(Q(N(),j()),t,r),l);break;default:T+="/"}break;case 123*g:s[c++]=O(T)*w;case 125*g:case 59:case 0:switch(x){case 0:case 125:v=0;case 59+u:h>0&&O(T)-d&&E(h>32?se(T+";",n,r,d-1):se(b(T," ","")+";",n,r,d-2),l);break;case 59:T+=";";default:if(E(P=oe(T,t,r,c,u,i,s,_,S=[],k=[],d),o),123===x)if(0===u)ie(T,t,P,P,S,o,d,s,k);else switch(p){case 100:case 109:case 115:ie(e,P,P,n&&E(oe(e,P,P,0,0,i,s,_,i,S=[],d),k),i,k,d,s,n?S:k);break;default:ie(T,P,P,P,[""],k,0,s,k)}}c=u=h=0,g=w=1,_=T="",d=a;break;case 58:d=1+O(T),h=m;default:if(g<1)if(123==x)--g;else if(125==x&&0==g++&&125==R())continue;switch(T+=f(x),x*g){case 38:w=u>0?1:(T+="\f",-1);break;case 44:s[c++]=(O(T)-1)*w,w=1;break;case 64:45===M()&&(T+=V(N())),p=M(),u=d=O(_=T+=W(j())),x++;break;case 45:45===m&&2==O(T)&&(g=0)}}return o}function oe(e,t,r,n,i,o,a,s,l,c,u){for(var d=i-1,f=0===i?o:[""],h=_(f),m=0,g=0,y=0;m<n;++m)for(var w=0,O=x(e,d+1,d=p(g=a[m])),E=e;w<h;++w)(E=v(g>0?f[w]+" "+O:b(O,/&\f/g,f[w])))&&(l[y++]=E);return D(e,t,r,0===i?Y:s,l,c,u)}function ae(e,t,r){return D(e,t,r,K,f(C),x(e,2,-2),0)}function se(e,t,r,n){return D(e,t,r,J,x(e,0,n),x(e,n+1,-1),n)}var le=function(e,t,r){for(var n=0,i=0;n=i,i=M(),38===n&&12===i&&(t[r]=1),!$(i);)N();return L(e,T)},ce=new WeakMap,ue=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ce.get(r))&&!n){ce.set(e,!0);for(var i=[],o=function(e,t){return q(function(e,t){var r=-1,n=44;do{switch($(n)){case 0:38===n&&12===M()&&(t[r]=1),e[r]+=le(T-1,t,r);break;case 2:e[r]+=V(n);break;case 4:if(44===n){e[++r]=58===M()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=f(n)}}while(n=N());return e}(F(e),t))}(t,i),a=r.props,s=0,l=0;s<o.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},de=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},pe=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case J:e.return=re(e.value,e.length);break;case Z:return ee([A(e,{value:b(e.value,"@","@"+G)})],n);case Y:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return ee([A(e,{props:[b(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return ee([A(e,{props:[b(t,/:(plac\w+)/,":-webkit-input-$1")]}),A(e,{props:[b(t,/:(plac\w+)/,":-moz-$1")]}),A(e,{props:[b(t,/:(plac\w+)/,U+"input-$1")]})],n)}return""}))}}];const fe=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var n,i,o=e.stylisPlugins||pe,a={},s=[];n=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)a[t[r]]=!0;s.push(e)}));var l,c,u,p,f=[te,(p=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&p(e)})],h=(c=[ue,de].concat(o,f),u=_(c),function(e,t,r,n){for(var i="",o=0;o<u;o++)i+=c[o](e,t,r,n)||"";return i});i=function(e,t,r,n){l=r,ee(ne(e?e+"{"+t.styles+"}":t.styles),h),n&&(m.inserted[t.name]=!0)};var m={key:t,sheet:new d({key:t,container:n,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return m.sheet.hydrate(s),m};function he(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "})),n}var me=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},ge=function(e,t,r){me(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+n:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}};const ve=function(e){for(var t,r=0,n=0,i=e.length;i>=4;++n,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},be={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ye=function(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}};var we=/[A-Z]|^ms/g,xe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Oe=function(e){return 45===e.charCodeAt(1)},_e=function(e){return null!=e&&"boolean"!=typeof e},Ee=ye((function(e){return Oe(e)?e:e.replace(we,"-$&").toLowerCase()})),Se=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(xe,(function(e,t,r){return Pe={name:t,styles:r,next:Pe},t}))}return 1===be[e]||Oe(e)||"number"!=typeof t||0===t?t:t+"px"};function ke(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return Pe={name:r.name,styles:r.styles,next:Pe},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)Pe={name:n.name,styles:n.styles,next:Pe},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=ke(e,t,r[i])+";";else for(var o in r){var a=r[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?n+=o+"{"+t[a]+"}":_e(a)&&(n+=Ee(o)+":"+Se(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=ke(e,t,a);switch(o){case"animation":case"animationName":n+=Ee(o)+":"+s+";";break;default:n+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)_e(a[l])&&(n+=Ee(o)+":"+Se(o,a[l])+";")}return n}(e,t,r);case"function":if(void 0!==e){var i=Pe,o=r(e);return Pe=i,ke(e,t,o)}}if(null==t)return r;var a=t[r];return void 0!==a?a:r}var Pe,Te=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ce=function(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,i="";Pe=void 0;var o=e[0];null==o||void 0===o.raw?(n=!1,i+=ke(r,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=ke(r,t,e[a]),n&&(i+=o[a]);Te.lastIndex=0;for(var s,l="";null!==(s=Te.exec(i));)l+="-"+s[1];return{name:ve(i)+l,styles:i,next:Pe}},Ie={}.hasOwnProperty,De=(0,r.createContext)("undefined"!=typeof HTMLElement?fe({key:"css"}):null),Ae=(De.Provider,function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(De);return e(t,i,n)}))}),Re=(0,r.createContext)({}),Ne=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};function Me(e){Ne(e)}var je="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Le=function(e,t){var r={};for(var n in t)Ie.call(t,n)&&(r[n]=t[n]);return r[je]=e,r},$e=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return me(t,r,n),Me((function(){return ge(t,r,n)})),null},Fe=Ae((function(e,t,n){var i=e.css;"string"==typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var o=e[je],a=[i],s="";"string"==typeof e.className?s=he(t.registered,a,e.className):null!=e.className&&(s=e.className+" ");var l=Ce(a,void 0,(0,r.useContext)(Re));s+=t.key+"-"+l.name;var c={};for(var u in e)Ie.call(e,u)&&"css"!==u&&u!==je&&(c[u]=e[u]);return c.ref=n,c.className=s,(0,r.createElement)(r.Fragment,null,(0,r.createElement)($e,{cache:t,serialized:l,isStringTag:"string"==typeof o}),(0,r.createElement)(o,c))})),qe=m(5839),Ve=m.n(qe),ze=function(e,t){var n=arguments;if(null==t||!Ie.call(t,"css"))return r.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=Fe,o[1]=Le(e,t);for(var a=2;a<i;a++)o[a]=n[a];return r.createElement.apply(null,o)};function Be(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ce(t)}r.useInsertionEffect?r.useInsertionEffect:r.useLayoutEffect;var He=function e(t){for(var r=t.length,n=0,i="";n<r;n++){var o=t[n];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};function Qe(e,t,r){var n=[],i=he(e,n,r);return n.length<2?r:i+t(n)}var We=function(e){var t=e.cache,r=e.serializedArr;return Me((function(){for(var e=0;e<r.length;e++)ge(t,r[e],!1)})),null},Ue=Ae((function(e,t){var n=[],i=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o=Ce(r,t.registered);return n.push(o),me(t,o,!1),t.key+"-"+o.name},o={css:i,cx:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Qe(t.registered,i,He(r))},theme:(0,r.useContext)(Re)},a=e.children(o);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(We,{cache:t,serializedArr:n}),a)}));function Xe(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ke(e,t){if(e){if("string"==typeof e)return Ge(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ge(e,t):void 0}}function Ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||Ke(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function Ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tt(e,t,r){return t&&et(e.prototype,t),r&&et(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rt(e,t){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rt(e,t)}function nt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rt(e,t)}function it(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ot=m(2729),at=m.n(ot);function st(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(r),!0).forEach((function(t){st(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ut(e){return ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ut(e)}function dt(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ut(e);if(t){var i=ut(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return dt(this,r)}}var ft=["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],ht=function(){};function mt(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function gt(e,t,r){var n=[r];if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&n.push("".concat(mt(e,i)));return n.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var vt=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===Je(e)&&null!==e?[e]:[];var t},bt=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,ct({},Xe(e,ft))};function yt(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function wt(e){return yt(e)?window.pageYOffset:e.scrollTop}function xt(e,t){yt(e)?window.scrollTo(0,t):e.scrollTop=t}function Ot(e,t,r,n){return r*((e=e/n-1)*e*e+1)+t}function _t(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ht,i=wt(e),o=t-i,a=10,s=0;function l(){var t=Ot(s+=a,i,o,r);xt(e,t),s<r?window.requestAnimationFrame(l):n(e)}l()}function Et(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var St=!1,kt={get passive(){return St=!0}},Pt="undefined"!=typeof window?window:{};Pt.addEventListener&&Pt.removeEventListener&&(Pt.addEventListener("p",ht,kt),Pt.removeEventListener("p",ht,!1));var Tt=St;function Ct(e){return null!=e}function It(e,t,r){return e?t:r}function Dt(e){var t=e.maxHeight,r=e.menuEl,n=e.minHeight,i=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.theme.spacing,l=function(e){var t=getComputedStyle(e),r="absolute"===t.position,n=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!r||"static"!==t.position)&&n.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}(r),c={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return c;var u,d=l.getBoundingClientRect().height,p=r.getBoundingClientRect(),f=p.bottom,h=p.height,m=p.top,g=r.offsetParent.getBoundingClientRect().top,v=a||yt(u=l)?window.innerHeight:u.clientHeight,b=wt(l),y=parseInt(getComputedStyle(r).marginBottom,10),w=parseInt(getComputedStyle(r).marginTop,10),x=g-w,O=v-m,_=x+b,E=d-b-m,S=f-v+b+y,k=b+m-w,P=160;switch(i){case"auto":case"bottom":if(O>=h)return{placement:"bottom",maxHeight:t};if(E>=h&&!a)return o&&_t(l,S,P),{placement:"bottom",maxHeight:t};if(!a&&E>=n||a&&O>=n)return o&&_t(l,S,P),{placement:"bottom",maxHeight:a?O-y:E-y};if("auto"===i||a){var T=t,C=a?x:_;return C>=n&&(T=Math.min(C-y-s.controlHeight,t)),{placement:"top",maxHeight:T}}if("bottom"===i)return o&&xt(l,S),{placement:"bottom",maxHeight:t};break;case"top":if(x>=h)return{placement:"top",maxHeight:t};if(_>=h&&!a)return o&&_t(l,k,P),{placement:"top",maxHeight:t};if(!a&&_>=n||a&&x>=n){var I=t;return(!a&&_>=n||a&&x>=n)&&(I=a?x-w:_-w),o&&_t(l,k,P),{placement:"top",maxHeight:I}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}var At=function(e){return"auto"===e?"bottom":e},Rt=(0,r.createContext)({getPortalPlacement:null}),Nt=function(e){nt(r,e);var t=pt(r);function r(){var e;Ze(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={maxHeight:e.props.maxMenuHeight,placement:null},e.context=void 0,e.getPlacement=function(t){var r=e.props,n=r.minMenuHeight,i=r.maxMenuHeight,o=r.menuPlacement,a=r.menuPosition,s=r.menuShouldScrollIntoView,l=r.theme;if(t){var c="fixed"===a,u=Dt({maxHeight:i,menuEl:t,minHeight:n,placement:o,shouldScroll:s&&!c,isFixedPosition:c,theme:l}),d=e.context.getPortalPlacement;d&&d(u),e.setState(u)}},e.getUpdatedProps=function(){var t=e.props.menuPlacement,r=e.state.placement||At(t);return ct(ct({},e.props),{},{placement:r,maxHeight:e.state.maxHeight})},e}return tt(r,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),r}(r.Component);Nt.contextType=Rt;var Mt=function(e){var t=e.theme,r=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px"),textAlign:"center"}},jt=Mt,Lt=Mt,$t=function(e){var t=e.children,r=e.className,n=e.cx,i=e.getStyles,o=e.innerProps;return ze("div",u({css:i("noOptionsMessage",e),className:n({"menu-notice":!0,"menu-notice--no-options":!0},r)},o),t)};$t.defaultProps={children:"No options"};var Ft=function(e){var t=e.children,r=e.className,n=e.cx,i=e.getStyles,o=e.innerProps;return ze("div",u({css:i("loadingMessage",e),className:n({"menu-notice":!0,"menu-notice--loading":!0},r)},o),t)};Ft.defaultProps={children:"Loading..."};var qt,Vt,zt,Bt=function(e){nt(r,e);var t=pt(r);function r(){var e;Ze(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={placement:null},e.getPortalPlacement=function(t){var r=t.placement;r!==At(e.props.menuPlacement)&&e.setState({placement:r})},e}return tt(r,[{key:"render",value:function(){var e=this.props,t=e.appendTo,r=e.children,n=e.className,i=e.controlElement,o=e.cx,a=e.innerProps,s=e.menuPlacement,l=e.menuPosition,c=e.getStyles,d="fixed"===l;if(!t&&!d||!i)return null;var p=this.state.placement||At(s),f=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(i),h=d?0:window.pageYOffset,m=f[p]+h,g=ze("div",u({css:c("menuPortal",{offset:m,position:l,rect:f}),className:o({"menu-portal":!0},n)},a),r);return ze(Rt.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},t?(0,ot.createPortal)(g,t):g)}}]),r}(r.Component),Ht=["size"],Qt={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Wt=function(e){var t=e.size,r=Xe(e,Ht);return ze("svg",u({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Qt},r))},Ut=function(e){return ze(Wt,u({size:20},e),ze("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Xt=function(e){return ze(Wt,u({size:20},e),ze("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Gt=function(e){var t=e.isFocused,r=e.theme,n=r.spacing.baseUnit,i=r.colors;return{label:"indicatorContainer",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*n,transition:"color 150ms",":hover":{color:t?i.neutral80:i.neutral40}}},Kt=Gt,Yt=Gt,Jt=function(){var e=Be.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(qt||(Vt=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],zt||(zt=Vt.slice(0)),qt=Object.freeze(Object.defineProperties(Vt,{raw:{value:Object.freeze(zt)}})))),Zt=function(e){var t=e.delay,r=e.offset;return ze("span",{css:Be({animation:"".concat(Jt," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},er=function(e){var t=e.className,r=e.cx,n=e.getStyles,i=e.innerProps,o=e.isRtl;return ze("div",u({css:n("loadingIndicator",e),className:r({indicator:!0,"loading-indicator":!0},t)},i),ze(Zt,{delay:0,offset:o}),ze(Zt,{delay:160,offset:!0}),ze(Zt,{delay:320,offset:!o}))};er.defaultProps={size:4};var tr=["data"],rr=["innerRef","isDisabled","isHidden","inputClassName"],nr={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},ir={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ct({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},nr)},or=function(e){return ct({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},nr)},ar=function(e){var t=e.children,r=e.innerProps;return ze("div",r,t)},sr={ClearIndicator:function(e){var t=e.children,r=e.className,n=e.cx,i=e.getStyles,o=e.innerProps;return ze("div",u({css:i("clearIndicator",e),className:n({indicator:!0,"clear-indicator":!0},r)},o),t||ze(Ut,null))},Control:function(e){var t=e.children,r=e.cx,n=e.getStyles,i=e.className,o=e.isDisabled,a=e.isFocused,s=e.innerRef,l=e.innerProps,c=e.menuIsOpen;return ze("div",u({ref:s,css:n("control",e),className:r({control:!0,"control--is-disabled":o,"control--is-focused":a,"control--menu-is-open":c},i)},l),t)},DropdownIndicator:function(e){var t=e.children,r=e.className,n=e.cx,i=e.getStyles,o=e.innerProps;return ze("div",u({css:i("dropdownIndicator",e),className:n({indicator:!0,"dropdown-indicator":!0},r)},o),t||ze(Xt,null))},DownChevron:Xt,CrossIcon:Ut,Group:function(e){var t=e.children,r=e.className,n=e.cx,i=e.getStyles,o=e.Heading,a=e.headingProps,s=e.innerProps,l=e.label,c=e.theme,d=e.selectProps;return ze("div",u({css:i("group",e),className:n({group:!0},r)},s),ze(o,u({},a,{selectProps:d,theme:c,getStyles:i,cx:n}),l),ze("div",null,t))},GroupHeading:function(e){var t=e.getStyles,r=e.cx,n=e.className,i=bt(e);i.data;var o=Xe(i,tr);return ze("div",u({css:t("groupHeading",e),className:r({"group-heading":!0},n)},o))},IndicatorsContainer:function(e){var t=e.children,r=e.className,n=e.cx,i=e.innerProps,o=e.getStyles;return ze("div",u({css:o("indicatorsContainer",e),className:n({indicators:!0},r)},i),t)},IndicatorSeparator:function(e){var t=e.className,r=e.cx,n=e.getStyles,i=e.innerProps;return ze("span",u({},i,{css:n("indicatorSeparator",e),className:r({"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,r=e.cx,n=e.getStyles,i=e.value,o=bt(e),a=o.innerRef,s=o.isDisabled,l=o.isHidden,c=o.inputClassName,d=Xe(o,rr);return ze("div",{className:r({"input-container":!0},t),css:n("input",e),"data-value":i||""},ze("input",u({className:r({input:!0},c),ref:a,style:or(l),disabled:s},d)))},LoadingIndicator:er,Menu:function(e){var t=e.children,r=e.className,n=e.cx,i=e.getStyles,o=e.innerRef,a=e.innerProps;return ze("div",u({css:i("menu",e),className:n({menu:!0},r),ref:o},a),t)},MenuList:function(e){var t=e.children,r=e.className,n=e.cx,i=e.getStyles,o=e.innerProps,a=e.innerRef,s=e.isMulti;return ze("div",u({css:i("menuList",e),className:n({"menu-list":!0,"menu-list--is-multi":s},r),ref:a},o),t)},MenuPortal:Bt,LoadingMessage:Ft,NoOptionsMessage:$t,MultiValue:function(e){var t=e.children,r=e.className,n=e.components,i=e.cx,o=e.data,a=e.getStyles,s=e.innerProps,l=e.isDisabled,c=e.removeProps,u=e.selectProps,d=n.Container,p=n.Label,f=n.Remove;return ze(Ue,null,(function(n){var h=n.css,m=n.cx;return ze(d,{data:o,innerProps:ct({className:m(h(a("multiValue",e)),i({"multi-value":!0,"multi-value--is-disabled":l},r))},s),selectProps:u},ze(p,{data:o,innerProps:{className:m(h(a("multiValueLabel",e)),i({"multi-value__label":!0},r))},selectProps:u},t),ze(f,{data:o,innerProps:ct({className:m(h(a("multiValueRemove",e)),i({"multi-value__remove":!0},r)),"aria-label":"Remove ".concat(t||"option")},c),selectProps:u}))}))},MultiValueContainer:ar,MultiValueLabel:ar,MultiValueRemove:function(e){var t=e.children,r=e.innerProps;return ze("div",u({role:"button"},r),t||ze(Ut,{size:14}))},Option:function(e){var t=e.children,r=e.className,n=e.cx,i=e.getStyles,o=e.isDisabled,a=e.isFocused,s=e.isSelected,l=e.innerRef,c=e.innerProps;return ze("div",u({css:i("option",e),className:n({option:!0,"option--is-disabled":o,"option--is-focused":a,"option--is-selected":s},r),ref:l,"aria-disabled":o},c),t)},Placeholder:function(e){var t=e.children,r=e.className,n=e.cx,i=e.getStyles,o=e.innerProps;return ze("div",u({css:i("placeholder",e),className:n({placeholder:!0},r)},o),t)},SelectContainer:function(e){var t=e.children,r=e.className,n=e.cx,i=e.getStyles,o=e.innerProps,a=e.isDisabled,s=e.isRtl;return ze("div",u({css:i("container",e),className:n({"--is-disabled":a,"--is-rtl":s},r)},o),t)},SingleValue:function(e){var t=e.children,r=e.className,n=e.cx,i=e.getStyles,o=e.isDisabled,a=e.innerProps;return ze("div",u({css:i("singleValue",e),className:n({"single-value":!0,"single-value--is-disabled":o},r)},a),t)},ValueContainer:function(e){var t=e.children,r=e.className,n=e.cx,i=e.innerProps,o=e.isMulti,a=e.getStyles,s=e.hasValue;return ze("div",u({css:a("valueContainer",e),className:n({"value-container":!0,"value-container--is-multi":o,"value-container--has-value":s},r)},i),t)}},lr=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function cr(e){var t=e.defaultInputValue,n=void 0===t?"":t,i=e.defaultMenuIsOpen,o=void 0!==i&&i,a=e.defaultValue,s=void 0===a?null:a,l=e.inputValue,c=e.menuIsOpen,u=e.onChange,d=e.onInputChange,p=e.onMenuClose,f=e.onMenuOpen,h=e.value,m=Xe(e,lr),g=Ye((0,r.useState)(void 0!==l?l:n),2),v=g[0],b=g[1],y=Ye((0,r.useState)(void 0!==c?c:o),2),w=y[0],x=y[1],O=Ye((0,r.useState)(void 0!==h?h:s),2),_=O[0],E=O[1],S=(0,r.useCallback)((function(e,t){"function"==typeof u&&u(e,t),E(e)}),[u]),k=(0,r.useCallback)((function(e,t){var r;"function"==typeof d&&(r=d(e,t)),b(void 0!==r?r:e)}),[d]),P=(0,r.useCallback)((function(){"function"==typeof f&&f(),x(!0)}),[f]),T=(0,r.useCallback)((function(){"function"==typeof p&&p(),x(!1)}),[p]),C=void 0!==l?l:v,I=void 0!==c?c:w,D=void 0!==h?h:_;return ct(ct({},m),{},{inputValue:C,menuIsOpen:I,onChange:S,onInputChange:k,onMenuClose:T,onMenuOpen:P,value:D})}function ur(e){return function(e){if(Array.isArray(e))return Ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var dr=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function pr(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!((n=e[r])===(i=t[r])||dr(n)&&dr(i)))return!1;var n,i;return!0}for(var fr={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},hr=function(e){return ze("span",u({css:fr},e))},mr={guidance:function(e){var t=e.isSearchable,r=e.isMulti,n=e.isDisabled,i=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(n?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,n=void 0===r?"":r,i=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return"option ".concat(n,o?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,n=e.options,i=e.label,o=void 0===i?"":i,a=e.selectValue,s=e.isDisabled,l=e.isSelected,c=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&a)return"value ".concat(o," focused, ").concat(c(a,r),".");if("menu"===t){var u=s?" disabled":"",d="".concat(l?"selected":"focused").concat(u);return"option ".concat(o," ").concat(d,", ").concat(c(n,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},gr=function(e){var t=e.ariaSelection,n=e.focusedOption,i=e.focusedValue,o=e.focusableOptions,a=e.isFocused,s=e.selectValue,l=e.selectProps,c=e.id,u=l.ariaLiveMessages,d=l.getOptionLabel,p=l.inputValue,f=l.isMulti,h=l.isOptionDisabled,m=l.isSearchable,g=l.menuIsOpen,v=l.options,b=l.screenReaderStatus,y=l.tabSelectsValue,w=l["aria-label"],x=l["aria-live"],O=(0,r.useMemo)((function(){return ct(ct({},mr),u||{})}),[u]),_=(0,r.useMemo)((function(){var e,r="";if(t&&O.onChange){var n=t.option,i=t.options,o=t.removedValue,a=t.removedValues,l=t.value,c=o||n||(e=l,Array.isArray(e)?null:e),u=c?d(c):"",p=i||a||void 0,f=p?p.map(d):[],m=ct({isDisabled:c&&h(c,s),label:u,labels:f},t);r=O.onChange(m)}return r}),[t,O,h,s,d]),E=(0,r.useMemo)((function(){var e="",t=n||i,r=!!(n&&s&&s.includes(n));if(t&&O.onFocus){var o={focused:t,label:d(t),isDisabled:h(t,s),isSelected:r,options:v,context:t===n?"menu":"value",selectValue:s};e=O.onFocus(o)}return e}),[n,i,d,h,O,v,s]),S=(0,r.useMemo)((function(){var e="";if(g&&v.length&&O.onFilter){var t=b({count:o.length});e=O.onFilter({inputValue:p,resultsMessage:t})}return e}),[o,p,g,O,v,b]),k=(0,r.useMemo)((function(){var e="";if(O.guidance){var t=i?"value":g?"menu":"input";e=O.guidance({"aria-label":w,context:t,isDisabled:n&&h(n,s),isMulti:f,isSearchable:m,tabSelectsValue:y})}return e}),[w,n,i,f,h,m,g,O,s,y]),P="".concat(E," ").concat(S," ").concat(k),T=ze(r.Fragment,null,ze("span",{id:"aria-selection"},_),ze("span",{id:"aria-context"},P)),C="initial-input-focus"===(null==t?void 0:t.action);return ze(r.Fragment,null,ze(hr,{id:c},C&&T),ze(hr,{"aria-live":x,"aria-atomic":"false","aria-relevant":"additions text"},a&&!C&&T))},vr=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],br=new RegExp("["+vr.map((function(e){return e.letters})).join("")+"]","g"),yr={},wr=0;wr<vr.length;wr++)for(var xr=vr[wr],Or=0;Or<xr.letters.length;Or++)yr[xr.letters[Or]]=xr.base;var _r=function(e){return e.replace(br,(function(e){return yr[e]}))},Er=function(e,t){var r;void 0===t&&(t=pr);var n,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&r===this&&t(a,i)||(n=e.apply(this,a),o=!0,r=this,i=a),n}}(_r),Sr=function(e){return e.replace(/^\s+|\s+$/g,"")},kr=function(e){return"".concat(e.label," ").concat(e.value)},Pr=["innerRef"];function Tr(e){var t=e.innerRef,r=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=Object.entries(e).filter((function(e){var t=Ye(e,1)[0];return!r.includes(t)}));return i.reduce((function(e,t){var r=Ye(t,2),n=r[0],i=r[1];return e[n]=i,e}),{})}(Xe(e,Pr),"onExited","in","enter","exit","appear");return ze("input",u({ref:t},r,{css:Be({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Cr=["boxSizing","height","overflow","paddingRight","position"],Ir={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Dr(e){e.preventDefault()}function Ar(e){e.stopPropagation()}function Rr(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;0===e?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function Nr(){return"ontouchstart"in window||navigator.maxTouchPoints}var Mr=!("undefined"==typeof window||!window.document||!window.document.createElement),jr=0,Lr={capture:!1,passive:!1},$r=function(){return document.activeElement&&document.activeElement.blur()},Fr={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function qr(e){var t=e.children,n=e.lockEnabled,i=e.captureEnabled,o=function(e){var t=e.isEnabled,n=e.onBottomArrive,i=e.onBottomLeave,o=e.onTopArrive,a=e.onTopLeave,s=(0,r.useRef)(!1),l=(0,r.useRef)(!1),c=(0,r.useRef)(0),u=(0,r.useRef)(null),d=(0,r.useCallback)((function(e,t){if(null!==u.current){var r=u.current,c=r.scrollTop,d=r.scrollHeight,p=r.clientHeight,f=u.current,h=t>0,m=d-p-c,g=!1;m>t&&s.current&&(i&&i(e),s.current=!1),h&&l.current&&(a&&a(e),l.current=!1),h&&t>m?(n&&!s.current&&n(e),f.scrollTop=d,g=!0,s.current=!0):!h&&-t>c&&(o&&!l.current&&o(e),f.scrollTop=0,g=!0,l.current=!0),g&&function(e){e.preventDefault(),e.stopPropagation()}(e)}}),[n,i,o,a]),p=(0,r.useCallback)((function(e){d(e,e.deltaY)}),[d]),f=(0,r.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),h=(0,r.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;d(e,t)}),[d]),m=(0,r.useCallback)((function(e){if(e){var t=!!Tt&&{passive:!1};e.addEventListener("wheel",p,t),e.addEventListener("touchstart",f,t),e.addEventListener("touchmove",h,t)}}),[h,f,p]),g=(0,r.useCallback)((function(e){e&&(e.removeEventListener("wheel",p,!1),e.removeEventListener("touchstart",f,!1),e.removeEventListener("touchmove",h,!1))}),[h,f,p]);return(0,r.useEffect)((function(){if(t){var e=u.current;return m(e),function(){g(e)}}}),[t,m,g]),function(e){u.current=e}}({isEnabled:void 0===i||i,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),a=function(e){var t=e.isEnabled,n=e.accountForScrollbars,i=void 0===n||n,o=(0,r.useRef)({}),a=(0,r.useRef)(null),s=(0,r.useCallback)((function(e){if(Mr){var t=document.body,r=t&&t.style;if(i&&Cr.forEach((function(e){var t=r&&r[e];o.current[e]=t})),i&&jr<1){var n=parseInt(o.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,s=window.innerWidth-a+n||0;Object.keys(Ir).forEach((function(e){var t=Ir[e];r&&(r[e]=t)})),r&&(r.paddingRight="".concat(s,"px"))}t&&Nr()&&(t.addEventListener("touchmove",Dr,Lr),e&&(e.addEventListener("touchstart",Rr,Lr),e.addEventListener("touchmove",Ar,Lr))),jr+=1}}),[i]),l=(0,r.useCallback)((function(e){if(Mr){var t=document.body,r=t&&t.style;jr=Math.max(jr-1,0),i&&jr<1&&Cr.forEach((function(e){var t=o.current[e];r&&(r[e]=t)})),t&&Nr()&&(t.removeEventListener("touchmove",Dr,Lr),e&&(e.removeEventListener("touchstart",Rr,Lr),e.removeEventListener("touchmove",Ar,Lr)))}}),[i]);return(0,r.useEffect)((function(){if(t){var e=a.current;return s(e),function(){l(e)}}}),[t,s,l]),function(e){a.current=e}}({isEnabled:n});return ze(r.Fragment,null,n&&ze("div",{onClick:$r,css:Fr}),t((function(e){o(e),a(e)})))}var Vr=function(e){return e.label},zr=function(e){return e.value},Br={clearIndicator:Yt,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e){var t=e.isDisabled,r=e.isFocused,n=e.theme,i=n.colors,o=n.borderRadius,a=n.spacing;return{label:"control",alignItems:"center",backgroundColor:t?i.neutral5:i.neutral0,borderColor:t?i.neutral10:r?i.primary:i.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(i.primary):void 0,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:r?i.primary:i.neutral30}}},dropdownIndicator:Kt,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,r=e.theme,n=r.spacing.baseUnit,i=r.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?i.neutral10:i.neutral20,marginBottom:2*n,marginTop:2*n,width:1}},input:function(e){var t=e.isDisabled,r=e.value,n=e.theme,i=n.spacing,o=n.colors;return ct({margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,visibility:t?"hidden":"visible",color:o.neutral80,transform:r?"translateZ(0)":""},ir)},loadingIndicator:function(e){var t=e.isFocused,r=e.size,n=e.theme,i=n.colors,o=n.spacing.baseUnit;return{label:"loadingIndicator",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*o,transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"}},loadingMessage:Lt,menu:function(e){var t,r=e.placement,n=e.theme,i=n.borderRadius,o=n.spacing,a=n.colors;return it(t={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(r),"100%"),it(t,"backgroundColor",a.neutral0),it(t,"borderRadius",i),it(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),it(t,"marginBottom",o.menuGutter),it(t,"marginTop",o.menuGutter),it(t,"position","absolute"),it(t,"width","100%"),it(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,r=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:r,paddingTop:r,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,r=e.offset,n=e.position;return{left:t.left,position:n,top:r,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,r=t.spacing,n=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:n/2,display:"flex",margin:r.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,r=t.borderRadius,n=t.colors,i=e.cropWithEllipsis;return{borderRadius:r/2,color:n.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:i||void 0===i?"ellipsis":void 0,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,r=t.spacing,n=t.borderRadius,i=t.colors;return{alignItems:"center",borderRadius:n/2,backgroundColor:e.isFocused?i.dangerLight:void 0,display:"flex",paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}}},noOptionsMessage:jt,option:function(e){var t=e.isDisabled,r=e.isFocused,n=e.isSelected,i=e.theme,o=i.spacing,a=i.colors;return{label:"option",backgroundColor:n?a.primary:r?a.primary25:"transparent",color:t?a.neutral20:n?a.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:t?void 0:n?a.primary:a.primary50}}},placeholder:function(e){var t=e.theme,r=t.spacing;return{label:"placeholder",color:t.colors.neutral50,gridArea:"1 / 1 / 2 / 3",marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2}},singleValue:function(e){var t=e.isDisabled,r=e.theme,n=r.spacing,i=r.colors;return{label:"singleValue",color:t?i.neutral40:i.neutral80,gridArea:"1 / 1 / 2 / 3",marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},valueContainer:function(e){var t=e.theme.spacing,r=e.isMulti,n=e.hasValue,i=e.selectProps.controlShouldRenderValue;return{alignItems:"center",display:r&&n&&i?"flex":"grid",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}},Hr={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Qr={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Et(),captureMenuScroll:!Et(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var r=ct({ignoreCase:!0,ignoreAccents:!0,stringify:kr,trim:!0,matchFrom:"any"},void 0),n=r.ignoreCase,i=r.ignoreAccents,o=r.stringify,a=r.trim,s=r.matchFrom,l=a?Sr(t):t,c=a?Sr(o(e)):o(e);return n&&(l=l.toLowerCase(),c=c.toLowerCase()),i&&(l=Er(l),c=_r(c)),"start"===s?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:Vr,getOptionValue:zr,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0};function Wr(e,t,r,n){return{type:"option",data:t,isDisabled:Jr(e,t,r),isSelected:Zr(e,t,r),label:Kr(e,t),value:Yr(e,t),index:n}}function Ur(e,t){return e.options.map((function(r,n){if("options"in r){var i=r.options.map((function(r,n){return Wr(e,r,t,n)})).filter((function(t){return Gr(e,t)}));return i.length>0?{type:"group",data:r,options:i,index:n}:void 0}var o=Wr(e,r,t,n);return Gr(e,o)?o:void 0})).filter(Ct)}function Xr(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,ur(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function Gr(e,t){var r=e.inputValue,n=void 0===r?"":r,i=t.data,o=t.isSelected,a=t.label,s=t.value;return(!tn(e)||!o)&&en(e,{label:a,value:s,data:i},n)}var Kr=function(e,t){return e.getOptionLabel(t)},Yr=function(e,t){return e.getOptionValue(t)};function Jr(e,t,r){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,r)}function Zr(e,t,r){if(r.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,r);var n=Yr(e,t);return r.some((function(t){return Yr(e,t)===n}))}function en(e,t,r){return!e.filterOption||e.filterOption(t,r)}var tn=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return void 0===t?r:t},rn=1,nn=function(e){nt(n,e);var t=pt(n);function n(e){var r;return Ze(this,n),(r=t.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.instancePrefix="",r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.controlRef=null,r.getControlRef=function(e){r.controlRef=e},r.focusedOptionRef=null,r.getFocusedOptionRef=function(e){r.focusedOptionRef=e},r.menuListRef=null,r.getMenuListRef=function(e){r.menuListRef=e},r.inputRef=null,r.getInputRef=function(e){r.inputRef=e},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(e,t){var n=r.props,i=n.onChange,o=n.name;t.name=o,r.ariaOnChange(e,t),i(e,t)},r.setValue=function(e,t,n){var i=r.props,o=i.closeMenuOnSelect,a=i.isMulti,s=i.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:s}),o&&(r.setState({inputIsHiddenAfterUpdate:!a}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(e,{action:t,option:n})},r.selectOption=function(e){var t=r.props,n=t.blurInputOnSelect,i=t.isMulti,o=t.name,a=r.state.selectValue,s=i&&r.isOptionSelected(e,a),l=r.isOptionDisabled(e,a);if(s){var c=r.getOptionValue(e);r.setValue(a.filter((function(e){return r.getOptionValue(e)!==c})),"deselect-option",e)}else{if(l)return void r.ariaOnChange(e,{action:"select-option",option:e,name:o});i?r.setValue([].concat(ur(a),[e]),"select-option",e):r.setValue(e,"select-option")}n&&r.blurInput()},r.removeValue=function(e){var t=r.props.isMulti,n=r.state.selectValue,i=r.getOptionValue(e),o=n.filter((function(e){return r.getOptionValue(e)!==i})),a=It(t,o,o[0]||null);r.onChange(a,{action:"remove-value",removedValue:e}),r.focusInput()},r.clearValue=function(){var e=r.state.selectValue;r.onChange(It(r.props.isMulti,[],null),{action:"clear",removedValues:e})},r.popValue=function(){var e=r.props.isMulti,t=r.state.selectValue,n=t[t.length-1],i=t.slice(0,t.length-1),o=It(e,i,i[0]||null);r.onChange(o,{action:"pop-value",removedValue:n})},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gt.apply(void 0,[r.props.classNamePrefix].concat(t))},r.getOptionLabel=function(e){return Kr(r.props,e)},r.getOptionValue=function(e){return Yr(r.props,e)},r.getStyles=function(e,t){var n=Br[e](t);n.boxSizing="border-box";var i=r.props.styles[e];return i?i(n,t):n},r.getElementId=function(e){return"".concat(r.instancePrefix,"-").concat(e)},r.getComponents=function(){return e=r.props,ct(ct({},sr),e.components);var e},r.buildCategorizedOptions=function(){return Ur(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return Xr(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(e,t){r.setState({ariaSelection:ct({value:e},t)})},r.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(e){r.blockOptionHover=!1},r.onControlMouseDown=function(e){if(!e.defaultPrevented){var t=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&r.onMenuClose():t&&r.openMenu("first"):(t&&(r.openAfterFocus=!0),r.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},r.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||r.props.isDisabled)){var t=r.props,n=t.isMulti,i=t.menuIsOpen;r.focusInput(),i?(r.setState({inputIsHiddenAfterUpdate:!n}),r.onMenuClose()):r.openMenu("first"),e.preventDefault()}},r.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(r.clearValue(),e.preventDefault(),r.openAfterFocus=!1,"touchend"===e.type?r.focusInput():setTimeout((function(){return r.focusInput()})))},r.onScroll=function(e){"boolean"==typeof r.props.closeMenuOnScroll?e.target instanceof HTMLElement&&yt(e.target)&&r.props.onMenuClose():"function"==typeof r.props.closeMenuOnScroll&&r.props.closeMenuOnScroll(e)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(r.initialTouchX=n.clientX,r.initialTouchY=n.clientY,r.userIsDragging=!1)},r.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var i=Math.abs(n.clientX-r.initialTouchX),o=Math.abs(n.clientY-r.initialTouchY);r.userIsDragging=i>5||o>5}},r.onTouchEnd=function(e){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(e.target)&&r.menuListRef&&!r.menuListRef.contains(e.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(e){r.userIsDragging||r.onControlMouseDown(e)},r.onClearIndicatorTouchEnd=function(e){r.userIsDragging||r.onClearIndicatorMouseDown(e)},r.onDropdownIndicatorTouchEnd=function(e){r.userIsDragging||r.onDropdownIndicatorMouseDown(e)},r.handleInputChange=function(e){var t=r.props.inputValue,n=e.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(n,{action:"input-change",prevInputValue:t}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(e){r.props.onFocus&&r.props.onFocus(e),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(e){var t=r.props.inputValue;r.menuListRef&&r.menuListRef.contains(document.activeElement)?r.inputRef.focus():(r.props.onBlur&&r.props.onBlur(e),r.onInputChange("",{action:"input-blur",prevInputValue:t}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1}))},r.onOptionHover=function(e){r.blockOptionHover||r.state.focusedOption===e||r.setState({focusedOption:e})},r.shouldHideSelectedOptions=function(){return tn(r.props)},r.onKeyDown=function(e){var t=r.props,n=t.isMulti,i=t.backspaceRemovesValue,o=t.escapeClearsValue,a=t.inputValue,s=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,u=t.onKeyDown,d=t.tabSelectsValue,p=t.openMenuOnFocus,f=r.state,h=f.focusedOption,m=f.focusedValue,g=f.selectValue;if(!(l||"function"==typeof u&&(u(e),e.defaultPrevented))){switch(r.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||a)return;r.focusValue("previous");break;case"ArrowRight":if(!n||a)return;r.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(m)r.removeValue(m);else{if(!i)return;n?r.popValue():s&&r.clearValue()}break;case"Tab":if(r.isComposing)return;if(e.shiftKey||!c||!d||!h||p&&r.isOptionSelected(h,g))return;r.selectOption(h);break;case"Enter":if(229===e.keyCode)break;if(c){if(!h)return;if(r.isComposing)return;r.selectOption(h);break}return;case"Escape":c?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:a}),r.onMenuClose()):s&&o&&r.clearValue();break;case" ":if(a)return;if(!c){r.openMenu("first");break}if(!h)return;r.selectOption(h);break;case"ArrowUp":c?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":c?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!c)return;r.focusOption("pageup");break;case"PageDown":if(!c)return;r.focusOption("pagedown");break;case"Home":if(!c)return;r.focusOption("first");break;case"End":if(!c)return;r.focusOption("last");break;default:return}e.preventDefault()}},r.instancePrefix="react-select-"+(r.props.instanceId||++rn),r.state.selectValue=vt(e.value),r}return tt(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(e){var t,r,n,i,o,a=this.props,s=a.isDisabled,l=a.menuIsOpen,c=this.state.isFocused;(c&&!s&&e.isDisabled||c&&l&&!e.menuIsOpen)&&this.focusInput(),c&&s&&!e.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(t=this.menuListRef,r=this.focusedOptionRef,n=t.getBoundingClientRect(),i=r.getBoundingClientRect(),o=r.offsetHeight/3,i.bottom+o>n.bottom?xt(t,Math.min(r.offsetTop+r.clientHeight-t.offsetHeight+o,t.scrollHeight)):i.top-o<n.top&&xt(t,Math.max(r.offsetTop-o,0)),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,r=this.state,n=r.selectValue,i=r.isFocused,o=this.buildFocusableOptions(),a="first"===e?0:o.length-1;if(!this.props.isMulti){var s=o.indexOf(n[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[a]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,r=t.selectValue,n=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=r.indexOf(n);n||(i=-1);var o=r.length-1,a=-1;if(r.length){switch(e){case"previous":a=0===i?0:-1===i?o:i-1;break;case"next":i>-1&&i<o&&(a=i+1)}this.setState({inputIsHidden:-1!==a,focusedValue:r[a]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,r=this.state.focusedOption,n=this.getFocusableOptions();if(n.length){var i=0,o=n.indexOf(r);r||(o=-1),"up"===e?i=o>0?o-1:n.length-1:"down"===e?i=(o+1)%n.length:"pageup"===e?(i=o-t)<0&&(i=0):"pagedown"===e?(i=o+t)>n.length-1&&(i=n.length-1):"last"===e&&(i=n.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:n[i],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(Hr):ct(ct({},Hr),this.props.theme):Hr}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,r=this.getStyles,n=this.getValue,i=this.selectOption,o=this.setValue,a=this.props,s=a.isMulti,l=a.isRtl,c=a.options;return{clearValue:e,cx:t,getStyles:r,getValue:n,hasValue:this.hasValue(),isMulti:s,isRtl:l,options:c,selectOption:i,selectProps:a,setValue:o,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,r=e.isMulti;return void 0===t?r:t}},{key:"isOptionDisabled",value:function(e,t){return Jr(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return Zr(this.props,e,t)}},{key:"filterOption",value:function(e,t){return en(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var r=this.props.inputValue,n=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:r,selectValue:n})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,i=e.inputId,o=e.inputValue,a=e.tabIndex,s=e.form,l=e.menuIsOpen,c=this.getComponents().Input,d=this.state,p=d.inputIsHidden,f=d.ariaSelection,h=this.commonProps,m=i||this.getElementId("input"),g=ct(ct(ct({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],role:"combobox"},l&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==f?void 0:f.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?r.createElement(c,u({},h,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:a,form:s,type:"text",value:o},g)):r.createElement(Tr,u({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:ht,onFocus:this.onInputFocus,disabled:t,tabIndex:a,inputMode:"none",form:s,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,i=t.MultiValueContainer,o=t.MultiValueLabel,a=t.MultiValueRemove,s=t.SingleValue,l=t.Placeholder,c=this.commonProps,d=this.props,p=d.controlShouldRenderValue,f=d.isDisabled,h=d.isMulti,m=d.inputValue,g=d.placeholder,v=this.state,b=v.selectValue,y=v.focusedValue,w=v.isFocused;if(!this.hasValue()||!p)return m?null:r.createElement(l,u({},c,{key:"placeholder",isDisabled:f,isFocused:w,innerProps:{id:this.getElementId("placeholder")}}),g);if(h)return b.map((function(t,s){var l=t===y,d="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return r.createElement(n,u({},c,{components:{Container:i,Label:o,Remove:a},isFocused:l,isDisabled:f,key:d,index:s,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))}));if(m)return null;var x=b[0];return r.createElement(s,u({},c,{data:x,isDisabled:f}),this.formatOptionLabel(x,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,i=n.isDisabled,o=n.isLoading,a=this.state.isFocused;if(!this.isClearable()||!e||i||!this.hasValue()||o)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return r.createElement(e,u({},t,{innerProps:s,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,i=n.isDisabled,o=n.isLoading,a=this.state.isFocused;return e&&o?r.createElement(e,u({},t,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:a})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var i=this.commonProps,o=this.props.isDisabled,a=this.state.isFocused;return r.createElement(n,u({},i,{isDisabled:o,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,i=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return r.createElement(e,u({},t,{innerProps:o,isDisabled:n,isFocused:i}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,i=t.GroupHeading,o=t.Menu,a=t.MenuList,s=t.MenuPortal,l=t.LoadingMessage,c=t.NoOptionsMessage,d=t.Option,p=this.commonProps,f=this.state.focusedOption,h=this.props,m=h.captureMenuScroll,g=h.inputValue,v=h.isLoading,b=h.loadingMessage,y=h.minMenuHeight,w=h.maxMenuHeight,x=h.menuIsOpen,O=h.menuPlacement,_=h.menuPosition,E=h.menuPortalTarget,S=h.menuShouldBlockScroll,k=h.menuShouldScrollIntoView,P=h.noOptionsMessage,T=h.onMenuScrollToTop,C=h.onMenuScrollToBottom;if(!x)return null;var I,D=function(t,n){var i=t.type,o=t.data,a=t.isDisabled,s=t.isSelected,l=t.label,c=t.value,h=f===o,m=a?void 0:function(){return e.onOptionHover(o)},g=a?void 0:function(){return e.selectOption(o)},v="".concat(e.getElementId("option"),"-").concat(n),b={id:v,onClick:g,onMouseMove:m,onMouseOver:m,tabIndex:-1};return r.createElement(d,u({},p,{innerProps:b,data:o,isDisabled:a,isSelected:s,key:v,label:l,type:i,value:c,isFocused:h,innerRef:h?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())I=this.getCategorizedOptions().map((function(t){if("group"===t.type){var o=t.data,a=t.options,s=t.index,l="".concat(e.getElementId("group"),"-").concat(s),c="".concat(l,"-heading");return r.createElement(n,u({},p,{key:l,data:o,options:a,Heading:i,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return D(e,"".concat(s,"-").concat(e.index))})))}if("option"===t.type)return D(t,"".concat(t.index))}));else if(v){var A=b({inputValue:g});if(null===A)return null;I=r.createElement(l,p,A)}else{var R=P({inputValue:g});if(null===R)return null;I=r.createElement(c,p,R)}var N={minMenuHeight:y,maxMenuHeight:w,menuPlacement:O,menuPosition:_,menuShouldScrollIntoView:k},M=r.createElement(Nt,u({},p,N),(function(t){var n=t.ref,i=t.placerProps,s=i.placement,l=i.maxHeight;return r.createElement(o,u({},p,N,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove,id:e.getElementId("listbox")},isLoading:v,placement:s}),r.createElement(qr,{captureEnabled:m,onTopArrive:T,onBottomArrive:C,lockEnabled:S},(function(t){return r.createElement(a,u({},p,{innerRef:function(r){e.getMenuListRef(r),t(r)},isLoading:v,maxHeight:l,focusedOption:f}),I)})))}));return E||"fixed"===_?r.createElement(s,u({},p,{appendTo:E,controlElement:this.controlRef,menuPlacement:O,menuPosition:_}),M):M}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,i=t.isDisabled,o=t.isMulti,a=t.name,s=this.state.selectValue;if(a&&!i){if(o){if(n){var l=s.map((function(t){return e.getOptionValue(t)})).join(n);return r.createElement("input",{name:a,type:"hidden",value:l})}var c=s.length>0?s.map((function(t,n){return r.createElement("input",{key:"i-".concat(n),name:a,type:"hidden",value:e.getOptionValue(t)})})):r.createElement("input",{name:a,type:"hidden"});return r.createElement("div",null,c)}var u=s[0]?this.getOptionValue(s[0]):"";return r.createElement("input",{name:a,type:"hidden",value:u})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,i=t.focusedOption,o=t.focusedValue,a=t.isFocused,s=t.selectValue,l=this.getFocusableOptions();return r.createElement(gr,u({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:i,focusedValue:o,isFocused:a,selectValue:s,focusableOptions:l}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,i=e.SelectContainer,o=e.ValueContainer,a=this.props,s=a.className,l=a.id,c=a.isDisabled,d=a.menuIsOpen,p=this.state.isFocused,f=this.commonProps=this.getCommonProps();return r.createElement(i,u({},f,{className:s,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:p}),this.renderLiveRegion(),r.createElement(t,u({},f,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:p,menuIsOpen:d}),r.createElement(o,u({},f,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),r.createElement(n,u({},f,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=t.prevProps,n=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,o=t.ariaSelection,a=t.isFocused,s=t.prevWasFocused,l=e.options,c=e.value,u=e.menuIsOpen,d=e.inputValue,p=e.isMulti,f=vt(c),h={};if(r&&(c!==r.value||l!==r.options||u!==r.menuIsOpen||d!==r.inputValue)){var m=u?function(e,t){return Xr(Ur(e,t))}(e,f):[],g=n?function(e,t){var r=e.focusedValue,n=e.selectValue.indexOf(r);if(n>-1){if(t.indexOf(r)>-1)return r;if(n<t.length)return t[n]}return null}(t,f):null,v=function(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}(t,m);h={selectValue:f,focusedOption:v,focusedValue:g,clearFocusValueOnUpdate:!1}}var b=null!=i&&e!==r?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{},y=o,w=a&&s;return a&&!w&&(y={value:It(p,f,f[0]||null),options:f,action:"initial-input-focus"},w=!s),"initial-input-focus"===(null==o?void 0:o.action)&&(y=null),ct(ct(ct({},h),b),{},{prevProps:e,ariaSelection:y,prevWasFocused:w})}}]),n}(r.Component);nn.defaultProps=Qr;var on=(0,r.forwardRef)((function(e,t){var n=cr(e);return r.createElement(nn,u({ref:t},n))}));r.Component;const an=on;var sn=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];function ln(e){var t=e.defaultOptions,n=void 0!==t&&t,i=e.cacheOptions,o=void 0!==i&&i,a=e.loadOptions;e.options;var s=e.isLoading,l=void 0!==s&&s,c=e.onInputChange,u=e.filterOption,d=void 0===u?null:u,p=Xe(e,sn),f=p.inputValue,h=(0,r.useRef)(void 0),m=(0,r.useRef)(!1),g=Ye((0,r.useState)(Array.isArray(n)?n:void 0),2),v=g[0],b=g[1],y=Ye((0,r.useState)(void 0!==f?f:""),2),w=y[0],x=y[1],O=Ye((0,r.useState)(!0===n),2),_=O[0],E=O[1],S=Ye((0,r.useState)(void 0),2),k=S[0],P=S[1],T=Ye((0,r.useState)([]),2),C=T[0],I=T[1],D=Ye((0,r.useState)(!1),2),A=D[0],R=D[1],N=Ye((0,r.useState)({}),2),M=N[0],j=N[1],L=Ye((0,r.useState)(void 0),2),$=L[0],F=L[1],q=Ye((0,r.useState)(void 0),2),V=q[0],z=q[1];o!==V&&(j({}),z(o)),n!==$&&(b(Array.isArray(n)?n:void 0),F(n)),(0,r.useEffect)((function(){return m.current=!0,function(){m.current=!1}}),[]);var B=(0,r.useCallback)((function(e,t){if(!a)return t();var r=a(e,t);r&&"function"==typeof r.then&&r.then(t,(function(){return t()}))}),[a]);(0,r.useEffect)((function(){!0===n&&B(w,(function(e){m.current&&(b(e||[]),E(!!h.current))}))}),[]);var H=(0,r.useCallback)((function(e,t){var r=function(e,t,r){if(r){var n=r(e,t);if("string"==typeof n)return n}return e}(e,t,c);if(!r)return h.current=void 0,x(""),P(""),I([]),E(!1),void R(!1);if(o&&M[r])x(r),P(r),I(M[r]),E(!1),R(!1);else{var n=h.current={};x(r),E(!0),R(!k),B(r,(function(e){m&&n===h.current&&(h.current=void 0,E(!1),P(r),I(e||[]),R(!1),j(e?ct(ct({},M),{},it({},r,e)):M))}))}}),[o,B,k,M,c]),Q=A?[]:w&&k?C:v||[];return ct(ct({},p),{},{options:Q,isLoading:_||l,onInputChange:H,filterOption:d})}var cn=(0,r.forwardRef)((function(e,t){var n=cr(ln(e));return r.createElement(nn,u({ref:t},n))}));const un=cn;var dn=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],pn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=String(e).toLowerCase(),i=String(r.getOptionValue(t)).toLowerCase(),o=String(r.getOptionLabel(t)).toLowerCase();return i===n||o===n},fn={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,r,n){return!(!e||t.some((function(t){return pn(e,t,n)}))||r.some((function(t){return pn(e,t,n)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}};function hn(e){var t=e.allowCreateWhileLoading,n=void 0!==t&&t,i=e.createOptionPosition,o=void 0===i?"last":i,a=e.formatCreateLabel,s=void 0===a?fn.formatCreateLabel:a,l=e.isValidNewOption,c=void 0===l?fn.isValidNewOption:l,u=e.getNewOptionData,d=void 0===u?fn.getNewOptionData:u,p=e.onCreateOption,f=e.options,h=void 0===f?[]:f,m=e.onChange,g=Xe(e,dn),v=g.getOptionValue,b=void 0===v?zr:v,y=g.getOptionLabel,w=void 0===y?Vr:y,x=g.inputValue,O=g.isLoading,_=g.isMulti,E=g.value,S=g.name,k=(0,r.useMemo)((function(){return c(x,vt(E),h,{getOptionValue:b,getOptionLabel:w})?d(x,s(x)):void 0}),[s,d,w,b,x,c,h,E]),P=(0,r.useMemo)((function(){return!n&&O||!k?h:"first"===o?[k].concat(ur(h)):[].concat(ur(h),[k])}),[n,o,O,k,h]),T=(0,r.useCallback)((function(e,t){if("select-option"!==t.action)return m(e,t);var r=Array.isArray(e)?e:[e];if(r[r.length-1]!==k)m(e,t);else if(p)p(x);else{var n=d(x,x),i={action:"create-option",name:S,option:n};m(It(_,[].concat(ur(vt(E)),[n]),n),i)}}),[d,x,_,S,k,p,m,E]);return ct(ct({},g),{},{options:P,onChange:T})}var mn=(0,r.forwardRef)((function(e,t){var n=hn(cr(ln(e)));return r.createElement(nn,u({ref:t},n))}));const gn=mn;var vn=(0,r.forwardRef)((function(e,t){var n=hn(cr(e));return r.createElement(nn,u({ref:t},n))}));const bn=vn,yn={google:!0,microsoft:!0,github:!0,gitlab:!0,okta:!0,anchor:!0,"angle-double-down":!0,"angle-double-right":!0,"angle-double-up":!0,"angle-down":!0,"angle-left":!0,"angle-right":!0,"angle-up":!0,apps:!0,arrow:!0,"arrow-down":!0,"arrow-from-right":!0,"arrow-left":!0,"arrow-random":!0,"arrow-right":!0,"arrow-up":!0,"arrows-h":!0,"arrows-v":!0,backward:!0,bars:!0,bell:!0,"bell-slash":!0,bolt:!0,book:!0,bookmark:!0,"book-open":!0,"brackets-curly":!0,bug:!0,building:!0,"calculator-alt":!0,"calendar-alt":!0,camera:!0,capture:!0,"channel-add":!0,"chart-line":!0,check:!0,"check-circle":!0,"check-square":!0,circle:!0,"clipboard-alt":!0,"clock-nine":!0,cloud:!0,"cloud-download":!0,"cloud-upload":!0,"code-branch":!0,cog:!0,columns:!0,"comment-alt":!0,"comment-alt-message":!0,"comment-alt-share":!0,"comments-alt":!0,compass:!0,copy:!0,"credit-card":!0,cube:!0,dashboard:!0,database:!0,"document-info":!0,"download-alt":!0,draggabledots:!0,edit:!0,"ellipsis-v":!0,envelope:!0,"exchange-alt":!0,"exclamation-triangle":!0,"exclamation-circle":!0,"external-link-alt":!0,eye:!0,"eye-slash":!0,"ellipsis-h":!0,"fa fa-spinner":!0,favorite:!0,"file-alt":!0,"file-blank":!0,"file-copy-alt":!0,filter:!0,folder:!0,font:!0,fire:!0,"folder-open":!0,"folder-plus":!0,"folder-upload":!0,forward:!0,"gf-bar-alignment-after":!0,"gf-bar-alignment-before":!0,"gf-bar-alignment-center":!0,"gf-glue":!0,"gf-grid":!0,"gf-interpolation-linear":!0,"gf-interpolation-smooth":!0,"gf-interpolation-step-after":!0,"gf-interpolation-step-before":!0,"gf-landscape":!0,"gf-layout-simple":!0,"gf-logs":!0,"gf-portrait":!0,"gf-service-account":!0,grafana:!0,"graph-bar":!0,heart:!0,"heart-break":!0,history:!0,home:!0,"home-alt":!0,"horizontal-align-center":!0,"horizontal-align-left":!0,"horizontal-align-right":!0,hourglass:!0,import:!0,info:!0,"info-circle":!0,"key-skeleton-alt":!0,keyboard:!0,"layer-group":!0,"library-panel":!0,"line-alt":!0,link:!0,"list-ui-alt":!0,"list-ul":!0,lock:!0,"map-marker":!0,message:!0,minus:!0,"minus-circle":!0,"mobile-android":!0,monitor:!0,palette:!0,"panel-add":!0,pause:!0,pen:!0,percentage:!0,play:!0,plug:!0,plus:!0,"plus-circle":!0,"plus-square":!0,power:!0,"presentation-play":!0,process:!0,"question-circle":!0,"record-audio":!0,repeat:!0,rocket:!0,"ruler-combined":!0,save:!0,search:!0,"search-minus":!0,"search-plus":!0,"share-alt":!0,shield:!0,"shield-exclamation":!0,signal:!0,signin:!0,signout:!0,sitemap:!0,slack:!0,"sliders-v-alt":!0,"sort-amount-down":!0,"sort-amount-up":!0,"square-shape":!0,star:!0,"step-backward":!0,"stopwatch-slash":!0,sync:!0,table:!0,"tag-alt":!0,"text-fields":!0,times:!0,"toggle-on":!0,"trash-alt":!0,unlock:!0,upload:!0,user:!0,"users-alt":!0,"vertical-align-bottom":!0,"vertical-align-center":!0,"vertical-align-top":!0,"wrap-text":!0,rss:!0,x:!0};var wn=["br","col","colgroup","dl","hr","iframe","img","input","link","menuitem","meta","ol","param","select","table","tbody","tfoot","thead","tr","ul","wbr"],xn={"accept-charset":"acceptCharset",acceptcharset:"acceptCharset",accesskey:"accessKey",allowfullscreen:"allowFullScreen",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",cellpadding:"cellPadding",cellspacing:"cellSpacing",charset:"charSet",class:"className",classid:"classID",classname:"className",colspan:"colSpan",contenteditable:"contentEditable",contextmenu:"contextMenu",controlslist:"controlsList",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",datetime:"dateTime",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",enctype:"encType",for:"htmlFor",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",innerhtml:"innerHTML",inputmode:"inputMode",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",marginwidth:"marginWidth",marginheight:"marginHeight",maxlength:"maxLength",mediagroup:"mediaGroup",minlength:"minLength",nomodule:"noModule",novalidate:"noValidate",playsinline:"playsInline",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rowspan:"rowSpan",spellcheck:"spellCheck",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",tabindex:"tabIndex",typemustmatch:"typeMustMatch",usemap:"useMap",accentheight:"accentHeight","accent-height":"accentHeight",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",arabicform:"arabicForm","arabic-form":"arabicForm",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",edgemode:"edgeMode",enablebackground:"enableBackground","enable-background":"enableBackground",externalresourcesrequired:"externalResourcesRequired",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",imagerendering:"imageRendering","image-rendering":"imageRendering",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",vmathematical:"vMathematical","v-mathematical":"vMathematical",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan",onblur:"onBlur",onchange:"onChange",onclick:"onClick",oncontextmenu:"onContextMenu",ondoubleclick:"onDoubleClick",ondrag:"onDrag",ondragend:"onDragEnd",ondragenter:"onDragEnter",ondragexit:"onDragExit",ondragleave:"onDragLeave",ondragover:"onDragOver",ondragstart:"onDragStart",ondrop:"onDrop",onerror:"onError",onfocus:"onFocus",oninput:"onInput",oninvalid:"onInvalid",onkeydown:"onKeyDown",onkeypress:"onKeyPress",onkeyup:"onKeyUp",onload:"onLoad",onmousedown:"onMouseDown",onmouseenter:"onMouseEnter",onmouseleave:"onMouseLeave",onmousemove:"onMouseMove",onmouseout:"onMouseOut",onmouseover:"onMouseOver",onmouseup:"onMouseUp",onscroll:"onScroll",onsubmit:"onSubmit",ontouchcancel:"onTouchCancel",ontouchend:"onTouchEnd",ontouchmove:"onTouchMove",ontouchstart:"onTouchStart",onwheel:"onWheel"},On=function(){return On=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},On.apply(this,arguments)},_n=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},En=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};function Sn(e,t){var r={key:t};if(e instanceof Element){var n=e.getAttribute("class");n&&(r.className=n),En([],_n(e.attributes),!1).forEach((function(e){switch(e.name){case"class":break;case"style":r[e.name]=e.value.split(/ ?; ?/).reduce((function(e,t){var r=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}(t.split(/ ?: ?/),2),n=r[0],i=r[1];return n&&i&&(e[n.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))]=Number.isNaN(Number(i))?i:Number(i)),e}),{});break;case"allowfullscreen":case"allowpaymentrequest":case"async":case"autofocus":case"autoplay":case"checked":case"controls":case"default":case"defer":case"disabled":case"formnovalidate":case"hidden":case"ismap":case"itemscope":case"loop":case"multiple":case"muted":case"nomodule":case"novalidate":case"open":case"readonly":case"required":case"reversed":case"selected":case"typemustmatch":r[xn[e.name]||e.name]=!0;break;default:r[xn[e.name]||e.name]=e.value}}))}return r}function kn(e,t){var n;if(void 0===t&&(t={}),!(e&&e instanceof Node))return null;var i,o=t.actions,a=void 0===o?[]:o,s=t.index,l=void 0===s?0:s,c=t.level,u=void 0===c?0:c,d=t.randomKey,p=e,f="".concat(u,"-").concat(l),h=[];if(d&&0===u&&(f="".concat(function(e){void 0===e&&(e=6);for(var t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r="",n=e;n>0;--n)r+=t[Math.round(Math.random()*(t.length-1))];return r}(),"-").concat(f)),Array.isArray(a)&&a.forEach((function(t){t.condition(p,f,u)&&("function"==typeof t.pre&&((p=t.pre(p,f,u))instanceof Node||(p=e)),"function"==typeof t.post&&h.push(t.post(p,f,u)))})),h.length)return h;switch(p.nodeType){case 1:return r.createElement((i=p.nodeName,/[a-z]+[A-Z]+[a-z]+/.test(i)?i:i.toLowerCase()),Sn(p,f),function(e,t,r){var n=En([],_n(e),!1).map((function(e,n){return kn(e,On(On({},r),{index:n,level:t+1}))})).filter(Boolean);return n.length?n:null}(p.childNodes,u,t));case 3:var m=(null===(n=p.nodeValue)||void 0===n?void 0:n.toString())||"";if(/^\s+$/.test(m)&&!/[\u00A0\u202F]/.test(m))return null;if(!p.parentNode)return m;var g=p.parentNode.nodeName.toLowerCase();return wn.includes(g)?(/\S/.test(m)&&console.warn("A textNode is not allowed inside '".concat(g,"'. Your text \"").concat(m,'" will be ignored')),null):m;default:return null}}function Pn(e,t){return void 0===t&&(t={}),"string"==typeof e?function(e,t){if(void 0===t&&(t={}),!e||"string"!=typeof e)return null;var r=t.nodeOnly,n=void 0!==r&&r,i=t.selector,o=void 0===i?"body > *":i,a=t.type,s=void 0===a?"text/html":a;try{var l=(new DOMParser).parseFromString(e,s).querySelector(o);if(!(l instanceof Node))throw new TypeError("Error parsing input");return n?l:kn(l,t)}catch(e){}return null}(e,t):e instanceof Node?kn(e,t):null}var Tn=m(1792),Cn={FAILED:"failed",LOADED:"loaded",LOADING:"loading",PENDING:"pending",READY:"ready",UNSUPPORTED:"unsupported"};function In(){return Tn.canUseDOM}function Dn(e){return e[Math.floor(Math.random()*e.length)]}var An,Rn=(An=function(e,t){return An=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},An(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}An(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Nn=function(){return Nn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Nn.apply(this,arguments)},Mn=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},jn=Object.create(null),Ln=function(e){function t(t){var r=e.call(this,t)||this;return r.isActive=!1,r.handleLoad=function(e){r.isActive&&r.setState({content:e,status:Cn.LOADED},r.getElement)},r.handleError=function(e){var t=r.props.onError,n="Browser does not support SVG"===e.message?Cn.UNSUPPORTED:Cn.FAILED;r.isActive&&r.setState({status:n},(function(){"function"==typeof t&&t(e)}))},r.request=function(){var e=r.props,t=e.cacheRequests,n=e.fetchOptions,i=e.src;try{return t&&(jn[i]={content:"",status:Cn.LOADING}),fetch(i,n).then((function(e){var t=e.headers.get("content-type"),r=Mn((t||"").split(/ ?; ?/),1)[0];if(e.status>299)throw new Error("Not found");if(!["image/svg+xml","text/plain"].some((function(e){return r.includes(e)})))throw new Error("Content type isn't valid: ".concat(r));return e.text()})).then((function(e){var n=r.props.src;if(i===n){if(r.handleLoad(e),t){var o=jn[i];o&&(o.content=e,o.status=Cn.LOADED)}}else jn[i].status===Cn.LOADING&&delete jn[i]})).catch((function(e){r.handleError(e),t&&jn[i]&&delete jn[i]}))}catch(e){return r.handleError(new Error(e.message))}},r.state={content:"",element:null,hasCache:!!t.cacheRequests&&!!jn[t.src],status:Cn.PENDING},r.hash=t.uniqueHash||function(e){for(var t="abcdefghijklmnopqrstuvwxyz",r="".concat(t).concat(t.toUpperCase()).concat("1234567890"),n="",i=0;i<8;i++)n+=Dn(r);return n}(),r}return Rn(t,e),t.prototype.componentDidMount=function(){if(this.isActive=!0,In()){var e=this.state.status,t=this.props.src;try{if(e===Cn.PENDING){if(!function(){if(!document)return!1;var e=document.createElement("div");e.innerHTML="<svg />";var t=e.firstChild;return!!t&&"http://www.w3.org/2000/svg"===t.namespaceURI}()||"undefined"==typeof window||null===window)throw new Error("Browser does not support SVG");if(!t)throw new Error("Missing src");this.load()}}catch(e){this.handleError(e)}}},t.prototype.componentDidUpdate=function(e,t){if(In()){var r=this.state,n=r.hasCache,i=r.status,o=this.props,a=o.onLoad,s=o.src;if(t.status!==Cn.READY&&i===Cn.READY&&a&&a(s,n),e.src!==s){if(!s)return void this.handleError(new Error("Missing src"));this.load()}}},t.prototype.componentWillUnmount=function(){this.isActive=!1},t.prototype.getNode=function(){var e=this.props,t=e.description,r=e.title;try{var n=Pn(this.processSVG(),{nodeOnly:!0});if(!(n&&n instanceof SVGSVGElement))throw new Error("Could not convert the src to a DOM Node");var i=this.updateSVGAttributes(n);if(t){var o=i.querySelector("desc");o&&o.parentNode&&o.parentNode.removeChild(o);var a=document.createElement("desc");a.innerHTML=t,i.prepend(a)}if(r){var s=i.querySelector("title");s&&s.parentNode&&s.parentNode.removeChild(s);var l=document.createElement("title");l.innerHTML=r,i.prepend(l)}return i}catch(e){return this.handleError(e)}},t.prototype.getElement=function(){try{var e=Pn(this.getNode());if(!e||!r.isValidElement(e))throw new Error("Could not convert the src to a React element");this.setState({element:e,status:Cn.READY})}catch(e){this.handleError(new Error(e.message))}},t.prototype.load=function(){var e=this;this.isActive&&this.setState({content:"",element:null,status:Cn.LOADING},(function(){var t=e.props,r=t.cacheRequests,n=t.src,i=r&&jn[n];if(i&&i.status===Cn.LOADED)e.handleLoad(i.content);else{var o,a=n.match(/data:image\/svg[^,]*?(;base64)?,(.*)/);a?o=a[1]?window.atob(a[2]):decodeURIComponent(a[2]):n.includes("<svg")&&(o=n),o?e.handleLoad(o):e.request()}}))},t.prototype.updateSVGAttributes=function(e){var t=this,r=this.props,n=r.baseURL,i=void 0===n?"":n,o=r.uniquifyIDs,a=["id","href","xlink:href","xlink:role","xlink:arcrole"],s=["href","xlink:href"];return o?(function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}([],Mn(e.children),!1).map((function(e){if(e.attributes&&e.attributes.length){var r=Object.values(e.attributes).map((function(e){var r=e,n=e.value.match(/url\((.*?)\)/);return n&&n[1]&&(r.value=e.value.replace(n[0],"url(".concat(i).concat(n[1],"__").concat(t.hash,")"))),r}));a.forEach((function(e){var n,i,o=r.find((function(t){return t.name===e}));o&&(n=e,i=o.value,!s.includes(n)||!i||i.includes("#"))&&(o.value="".concat(o.value,"__").concat(t.hash))}))}return e.children.length?t.updateSVGAttributes(e):e})),e):e},t.prototype.processSVG=function(){var e=this.state.content,t=this.props.preProcessor;return t?t(e):e},t.prototype.render=function(){var e=this.state,t=e.element,n=e.status,i=this.props,o=i.children,a=void 0===o?null:o,s=i.innerRef,l=i.loader,c=void 0===l?null:l,u=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(t.includes(i)||(n[i]=e[i]));return n}(this.props,"baseURL","cacheRequests","children","description","fetchOptions","innerRef","loader","onError","onLoad","preProcessor","src","title","uniqueHash","uniquifyIDs");return In()?t?r.cloneElement(t,Nn({ref:s},u)):[Cn.UNSUPPORTED,Cn.FAILED].includes(n)?a:c:c},t.defaultProps={cacheRequests:!0,uniquifyIDs:!1},t}(r.PureComponent);const $n=Ln;let Fn=!1,qn="img/icons/";const Vn=["grafana","favorite","heart-break","heart","panel-add","library-panel"];function zn(e){switch(e){case"xs":return 12;case"sm":return 14;case"md":return 16;case"lg":return 18;case"xl":return 24;case"xxl":return 36;case"xxxl":return 48}}function Bn(){return Bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bn.apply(this,arguments)}const Hn=e=>({container:s.css`
      label: Icon;
      display: inline-block;
      line-height: 0;
    `,icon:s.css`
      vertical-align: middle;
      display: inline-block;
      fill: currentColor;
    `,orange:s.css`
      fill: ${e.v1.palette.orange};
    `}),Qn=n().forwardRef(((e,t)=>{var{size:r="md",type:i="default",name:o,className:l,style:c,title:u=""}=e,d=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["size","type","name","className","style","title"]);const p=(0,a.useStyles2)(Hn);if(null==o?void 0:o.startsWith("fa fa-"))return n().createElement("i",Bn({className:Wn(o,l)},d,{style:c}));var f;"panel-add"===o&&(r="xl"),Fn||function(){Fn=!0;const e="undefined"!=typeof window&&window.__grafana_public_path__;e&&(qn=e+"img/icons/")}(),(f=o)&&"string"==typeof f&&f in yn||console.warn("Icon component passed an invalid icon name",o);const h=zn(r),m=h,g=(null==o?void 0:o.startsWith("gf-bar-align"))?16:(null==o?void 0:o.startsWith("gf-interp"))?30:h,v=function(e,t){return(null==e?void 0:e.startsWith("gf-"))?"custom":Vn.includes(e)?"mono":"default"===t?"unicons":"solid"===t?"solid":"mono"}(o,i),b=`${qn}${v}/${o}.svg`;return n().createElement("div",Bn({className:p.container},d,{ref:t}),n().createElement($n,{src:b,width:g,height:m,title:u,className:(0,s.cx)(p.icon,l,"mono"===i?{[p.orange]:"favorite"===o}:""),style:c}))}));function Wn(e,t){return(0,s.cx)(e,{"fa-spin":"fa fa-spinner"===e},t)}Qn.displayName="Icon";const Un=(0,a.stylesFactory)(((e,t)=>({wrapper:s.css`
      font-size: ${e}px;
      ${t?s.css`
            display: inline-block;
          `:""}
    `}))),Xn=e=>{const{className:t,inline:r=!1,iconClassName:i,style:o,size:a=16}=e,l=Un(a,r);return n().createElement("div",{"data-testid":"Spinner",style:o,className:(0,s.cx)(l.wrapper,t)},n().createElement(Qn,{className:(0,s.cx)("fa-spin",i),name:"fa fa-spinner"}))},Gn=({isOpen:e})=>{const t=e?"search":"angle-down",r=e?"sm":"md";return n().createElement(Qn,{name:t,size:r})};var Kn=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Yn(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!((n=e[r])===(i=t[r])||Kn(n)&&Kn(i)))return!1;var n,i;return!0}function Jn(e){return function(e,t){void 0===t&&(t=Yn);var r=null;function n(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(r&&r.lastThis===this&&t(n,r.lastArgs))return r.lastResult;var o=e.apply(this,n);return r={lastResult:o,lastArgs:n,lastThis:this},o}return n.clear=function(){r=null},n}(e)}function Zn(){return Zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zn.apply(this,arguments)}const ei=new WeakMap,ti=n().createContext((0,t.createTheme)());function ri(){return(0,r.useContext)(ti)}function ni(e){const t=ri();let r=ei.get(e);return r||(r=Jn(e),ei.set(e,r)),r(t)}ti.displayName="ThemeContext";var ii=m(9218);m(3198);const oi=e=>{const t=(e=>e.hasOwnProperty("v1"))(e);return`\n  outline: 2px dotted transparent;\n  outline-offset: 2px;\n  box-shadow: 0 0 0 2px ${t?e.colors.background.canvas:e.colors.bodyBg}, 0 0 0px 4px ${t?e.colors.primary.main:e.colors.formFocusOutline};\n  transition-property: outline, outline-offset, box-shadow;\n  transition-duration: 0.2s;\n  transition-timing-function: cubic-bezier(0.19, 1, 0.22, 1);`};function ai(e){return{outline:"2px dotted transparent",outlineOffset:"2px",boxShadow:`0 0 0 2px ${e.colors.background.canvas}, 0 0 0px 4px ${e.colors.primary.main}`,transitionTimingFunction:"cubic-bezier(0.19, 1, 0.22, 1)",transitionDuration:"0.2s",transitionProperty:"outline, outline-offset, box-shadow"}}const si=e=>s.css`
  &:focus {
    ${oi(e)}
  }
`,li=(e,t=!1)=>{const r=t?e.colors.error.border:e.components.input.borderColor,n=t?e.colors.error.shade:e.components.input.borderHover,i=e.components.input.background,o=e.components.input.text,a=e.isDark?"#2e2f35":"#bab4ca";return(0,s.cx)(ci(e),s.css`
      background: ${i};
      line-height: ${e.typography.body.lineHeight};
      font-size: ${e.typography.size.md};
      color: ${o};
      border: 1px solid ${r};

      &:-webkit-autofill,
      &:-webkit-autofill:hover {
        /* Welcome to 2005. This is a HACK to get rid od Chromes default autofill styling */
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0), inset 0 0 0 100px ${i}!important;
        -webkit-text-fill-color: ${o} !important;
        border-color: ${a};
      }

      &:-webkit-autofill:focus {
        /* Welcome to 2005. This is a HACK to get rid od Chromes default autofill styling */
        box-shadow: 0 0 0 2px ${e.colors.background.primary}, 0 0 0px 4px ${e.colors.primary.main},
          inset 0 0 0 1px rgba(255, 255, 255, 0), inset 0 0 0 100px ${i}!important;
        -webkit-text-fill-color: ${o} !important;
      }

      &:hover {
        border-color: ${n};
      }

      &:focus {
        outline: none;
      }

      &:disabled {
        background-color: ${e.colors.action.disabledBackground};
        color: ${e.colors.action.disabledText};
        border: 1px solid ${e.colors.action.disabledBackground};

        &:hover {
          border-color: ${r};
        }
      }

      &::placeholder {
        color: ${e.colors.text.disabled};
        opacity: 1;
      }
    `)},ci=e=>s.css`
    padding: ${e.spacing(0,1,0,1)};
  `;function ui(){return ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ui.apply(this,arguments)}const di=n().forwardRef(((e,t)=>{const{className:r,addonAfter:i,addonBefore:o,prefix:l,suffix:c,invalid:u,loading:d,width:p=0}=e,f=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["className","addonAfter","addonBefore","prefix","suffix","invalid","loading","width"]),[h,m]=(0,ii.Z)(),[g,v]=(0,ii.Z)(),b=(0,a.useTheme2)(),y=pi({theme:b,invalid:!!u,width:p});return n().createElement("div",{className:(0,s.cx)(y.wrapper,r),"data-testid":"input-wrapper"},!!o&&n().createElement("div",{className:y.addon},o),n().createElement("div",{className:y.inputWrapper},l&&n().createElement("div",{className:y.prefix,ref:h},l),n().createElement("input",ui({ref:t,className:y.input},f,{style:{paddingLeft:l?m.width+12:void 0,paddingRight:c||d?v.width+12:void 0}})),(c||d)&&n().createElement("div",{className:y.suffix,ref:g},d&&n().createElement(Xn,{className:y.loadingIndicator,inline:!0}),c)),!!i&&n().createElement("div",{className:y.addon},i))}));di.displayName="Input";const pi=(0,a.stylesFactory)((({theme:e,invalid:t=!1,width:r})=>{const n="28px",i=s.css`
    position: absolute;
    top: 0;
    z-index: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-grow: 0;
    flex-shrink: 0;
    font-size: ${e.typography.size.md};
    height: 100%;
    /* Min width specified for prefix/suffix classes used outside React component*/
    min-width: ${n};
    color: ${e.colors.text.secondary};
  `;return{wrapper:(0,s.cx)(s.css`
        label: input-wrapper;
        display: flex;
        width: ${r?`${e.spacing(r)}`:"100%"};
        height: ${e.spacing(e.components.height.md)};
        border-radius: ${e.shape.borderRadius()};
        &:hover {
          > .prefix,
          .suffix,
          .input {
            border-color: ${t?e.colors.error.border:e.colors.primary.border};
          }

          // only show number buttons on hover
          input[type='number'] {
            -moz-appearance: number-input;
            -webkit-appearance: number-input;
            appearance: textfield;
          }

          input[type='number']::-webkit-inner-spin-button,
          input[type='number']::-webkit-outer-spin-button {
            -webkit-appearance: inner-spin-button !important;
            opacity: 1;
          }
        }
      `),inputWrapper:s.css`
      label: input-inputWrapper;
      position: relative;
      flex-grow: 1;
      /* we want input to be above addons, especially for focused state */
      z-index: 1;

      /* when input rendered with addon before only*/
      &:not(:first-child):last-child {
        > input {
          border-left: none;
          border-top-left-radius: 0;
          border-bottom-left-radius: 0;
        }
      }

      /* when input rendered with addon after only*/
      &:first-child:not(:last-child) {
        > input {
          border-right: none;
          border-top-right-radius: 0;
          border-bottom-right-radius: 0;
        }
      }

      /* when rendered with addon before and after */
      &:not(:first-child):not(:last-child) {
        > input {
          border-right: none;
          border-top-right-radius: 0;
          border-bottom-right-radius: 0;
          border-top-left-radius: 0;
          border-bottom-left-radius: 0;
        }
      }

      input {
        /* paddings specified for classes used outside React component */
        &:not(:first-child) {
          padding-left: ${n};
        }
        &:not(:last-child) {
          padding-right: ${n};
        }
        &[readonly] {
          cursor: default;
        }
      }
    `,input:(0,s.cx)(si(e),li(e,t),s.css`
        label: input-input;
        position: relative;
        z-index: 0;
        flex-grow: 1;
        border-radius: ${e.shape.borderRadius()};
        height: 100%;
        width: 100%;
      `),inputDisabled:s.css`
      background-color: ${e.colors.action.disabledBackground};
      color: ${e.colors.action.disabledText};
      border: 1px solid ${e.colors.action.disabledBackground};
      &:focus {
        box-shadow: none;
      }
    `,addon:s.css`
      label: input-addon;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-grow: 0;
      flex-shrink: 0;
      position: relative;

      &:first-child {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
        > :last-child {
          border-top-right-radius: 0;
          border-bottom-right-radius: 0;
        }
      }

      &:last-child {
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
        > :first-child {
          border-top-left-radius: 0;
          border-bottom-left-radius: 0;
        }
      }
      > *:focus {
        /* we want anything that has focus and is an addon to be above input */
        z-index: 2;
      }
    `,prefix:(0,s.cx)(i,s.css`
        label: input-prefix;
        padding-left: ${e.spacing(1)};
        padding-right: ${e.spacing(.5)};
        border-right: none;
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
      `),suffix:(0,s.cx)(i,s.css`
        label: input-suffix;
        padding-left: ${e.spacing(1)};
        padding-right: ${e.spacing(1)};
        margin-bottom: -2px;
        border-left: none;
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
        right: 0;
      `),loadingIndicator:s.css`
      & + * {
        margin-left: ${e.spacing(.5)};
      }
    `}})),fi=n().forwardRef(((e,t)=>{const{children:r}=e,i=ri(),o=pi({theme:i,invalid:!1});return n().createElement("div",{className:(0,s.cx)(o.suffix,s.css`
          position: relative;
        `),ref:t},r)}));function hi(){return hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hi.apply(this,arguments)}fi.displayName="IndicatorsContainer";const mi=(0,a.stylesFactory)(((e,t,r)=>{const n=pi({theme:e,invalid:t});return{input:(0,s.cx)(ci(e),s.css`
        width: 100%;
        max-width: 100%;
        display: flex;
        flex-direction: row;
        align-items: center;
        flex-wrap: wrap;
        justify-content: space-between;
        padding-right: 0;
        position: relative;
        box-sizing: border-box;
      `,r&&s.css`
          padding-left: 0;
        `),prefix:(0,s.cx)(n.prefix,s.css`
        position: relative;
      `)}})),gi=n().forwardRef((function(e,t){var{focused:r,invalid:i,disabled:o,children:a,innerProps:l,prefix:c}=e;!function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}}(e,["focused","invalid","disabled","children","innerProps","prefix"]);const u=ri(),d=mi(u,i,!!c);return n().createElement("div",hi({className:d.input},l,{ref:t}),c&&n().createElement("div",{className:(0,s.cx)(d.prefix)},c),a)}));function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vi.apply(this,arguments)}function bi(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function yi(e){return e instanceof bi(e).Element||e instanceof Element}function wi(e){return e instanceof bi(e).HTMLElement||e instanceof HTMLElement}function xi(e){return"undefined"!=typeof ShadowRoot&&(e instanceof bi(e).ShadowRoot||e instanceof ShadowRoot)}var Oi=Math.max,_i=Math.min,Ei=Math.round;function Si(e,t){void 0===t&&(t=!1);var r=e.getBoundingClientRect(),n=1,i=1;if(wi(e)&&t){var o=e.offsetHeight,a=e.offsetWidth;a>0&&(n=Ei(r.width)/a||1),o>0&&(i=Ei(r.height)/o||1)}return{width:r.width/n,height:r.height/i,top:r.top/i,right:r.right/n,bottom:r.bottom/i,left:r.left/n,x:r.left/n,y:r.top/i}}function ki(e){var t=bi(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Pi(e){return e?(e.nodeName||"").toLowerCase():null}function Ti(e){return((yi(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ci(e){return Si(Ti(e)).left+ki(e).scrollLeft}function Ii(e){return bi(e).getComputedStyle(e)}function Di(e){var t=Ii(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function Ai(e,t,r){void 0===r&&(r=!1);var n=wi(t),i=wi(t)&&function(e){var t=e.getBoundingClientRect(),r=Ei(t.width)/e.offsetWidth||1,n=Ei(t.height)/e.offsetHeight||1;return 1!==r||1!==n}(t),o=Ti(t),a=Si(e,i),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&(("body"!==Pi(t)||Di(o))&&(s=function(e){return e!==bi(e)&&wi(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:ki(e);var t}(t)),wi(t)?((l=Si(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Ci(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Ri(e){var t=Si(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function Ni(e){return"html"===Pi(e)?e:e.assignedSlot||e.parentNode||(xi(e)?e.host:null)||Ti(e)}function Mi(e){return["html","body","#document"].indexOf(Pi(e))>=0?e.ownerDocument.body:wi(e)&&Di(e)?e:Mi(Ni(e))}function ji(e,t){var r;void 0===t&&(t=[]);var n=Mi(e),i=n===(null==(r=e.ownerDocument)?void 0:r.body),o=bi(n),a=i?[o].concat(o.visualViewport||[],Di(n)?n:[]):n,s=t.concat(a);return i?s:s.concat(ji(Ni(a)))}function Li(e){return["table","td","th"].indexOf(Pi(e))>=0}function $i(e){return wi(e)&&"fixed"!==Ii(e).position?e.offsetParent:null}function Fi(e){for(var t=bi(e),r=$i(e);r&&Li(r)&&"static"===Ii(r).position;)r=$i(r);return r&&("html"===Pi(r)||"body"===Pi(r)&&"static"===Ii(r).position)?t:r||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&wi(e)&&"fixed"===Ii(e).position)return null;var r=Ni(e);for(xi(r)&&(r=r.host);wi(r)&&["html","body"].indexOf(Pi(r))<0;){var n=Ii(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(e)||t}var qi="top",Vi="bottom",zi="right",Bi="left",Hi="auto",Qi=[qi,Vi,zi,Bi],Wi="start",Ui="end",Xi="viewport",Gi="popper",Ki=Qi.reduce((function(e,t){return e.concat([t+"-"+Wi,t+"-"+Ui])}),[]),Yi=[].concat(Qi,[Hi]).reduce((function(e,t){return e.concat([t,t+"-"+Wi,t+"-"+Ui])}),[]),Ji=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Zi(e){var t=new Map,r=new Set,n=[];function i(e){r.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!r.has(e)){var n=t.get(e);n&&i(n)}})),n.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){r.has(e.name)||i(e)})),n}function eo(e){var t;return function(){return t||(t=new Promise((function(r){Promise.resolve().then((function(){t=void 0,r(e())}))}))),t}}var to={placement:"bottom",modifiers:[],strategy:"absolute"};function ro(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function no(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,i=t.defaultOptions,o=void 0===i?to:i;return function(e,t,r){void 0===r&&(r=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},to,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:i,setOptions:function(r){var s="function"==typeof r?r(i.options):r;c(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:yi(e)?ji(e):e.contextElement?ji(e.contextElement):[],popper:ji(t)};var u,d,p=function(e){var t=Zi(e);return Ji.reduce((function(e,r){return e.concat(t.filter((function(e){return e.phase===r})))}),[])}((u=[].concat(n,i.options.modifiers),d=u.reduce((function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e}),{}),Object.keys(d).map((function(e){return d[e]}))));return i.orderedModifiers=p.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,r=e.options,n=void 0===r?{}:r,o=e.effect;if("function"==typeof o){var s=o({state:i,name:t,instance:l,options:n});a.push(s||function(){})}})),l.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,r=e.popper;if(ro(t,r)){i.rects={reference:Ai(t,Fi(r),"fixed"===i.options.strategy),popper:Ri(r)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var n=0;n<i.orderedModifiers.length;n++)if(!0!==i.reset){var o=i.orderedModifiers[n],a=o.fn,c=o.options,u=void 0===c?{}:c,d=o.name;"function"==typeof a&&(i=a({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,n=-1}}},update:eo((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),s=!0}};if(!ro(e,t))return l;function c(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(r).then((function(e){!s&&r.onFirstUpdate&&r.onFirstUpdate(e)})),l}}var io={passive:!0};const oo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=void 0===i||i,a=n.resize,s=void 0===a||a,l=bi(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",r.update,io)})),s&&l.addEventListener("resize",r.update,io),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",r.update,io)})),s&&l.removeEventListener("resize",r.update,io)}},data:{}};function ao(e){return e.split("-")[0]}function so(e){return e.split("-")[1]}function lo(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function co(e){var t,r=e.reference,n=e.element,i=e.placement,o=i?ao(i):null,a=i?so(i):null,s=r.x+r.width/2-n.width/2,l=r.y+r.height/2-n.height/2;switch(o){case qi:t={x:s,y:r.y-n.height};break;case Vi:t={x:s,y:r.y+r.height};break;case zi:t={x:r.x+r.width,y:l};break;case Bi:t={x:r.x-n.width,y:l};break;default:t={x:r.x,y:r.y}}var c=o?lo(o):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case Wi:t[c]=t[c]-(r[u]/2-n[u]/2);break;case Ui:t[c]=t[c]+(r[u]/2-n[u]/2)}}return t}const uo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=co({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};var po={top:"auto",right:"auto",bottom:"auto",left:"auto"};function fo(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,p=a.x,f=void 0===p?0:p,h=a.y,m=void 0===h?0:h,g="function"==typeof u?u({x:f,y:m}):{x:f,y:m};f=g.x,m=g.y;var v=a.hasOwnProperty("x"),b=a.hasOwnProperty("y"),y=Bi,w=qi,x=window;if(c){var O=Fi(r),_="clientHeight",E="clientWidth";O===bi(r)&&"static"!==Ii(O=Ti(r)).position&&"absolute"===s&&(_="scrollHeight",E="scrollWidth"),(i===qi||(i===Bi||i===zi)&&o===Ui)&&(w=Vi,m-=(d&&O===x&&x.visualViewport?x.visualViewport.height:O[_])-n.height,m*=l?1:-1),i!==Bi&&(i!==qi&&i!==Vi||o!==Ui)||(y=zi,f-=(d&&O===x&&x.visualViewport?x.visualViewport.width:O[E])-n.width,f*=l?1:-1)}var S,k=Object.assign({position:s},c&&po),P=!0===u?function(e){var t=e.x,r=e.y,n=window.devicePixelRatio||1;return{x:Ei(t*n)/n||0,y:Ei(r*n)/n||0}}({x:f,y:m}):{x:f,y:m};return f=P.x,m=P.y,l?Object.assign({},k,((S={})[w]=b?"0":"",S[y]=v?"0":"",S.transform=(x.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",S)):Object.assign({},k,((t={})[w]=b?m+"px":"",t[y]=v?f+"px":"",t.transform="",t))}const ho={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=void 0===n||n,o=r.adaptive,a=void 0===o||o,s=r.roundOffsets,l=void 0===s||s,c={placement:ao(t.placement),variation:so(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,fo(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,fo(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},mo={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},i=t.elements[e];wi(i)&&Pi(i)&&(Object.assign(i.style,r),Object.keys(n).forEach((function(e){var t=n[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach((function(e){var n=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce((function(e,t){return e[t]="",e}),{});wi(n)&&Pi(n)&&(Object.assign(n.style,o),Object.keys(i).forEach((function(e){n.removeAttribute(e)})))}))}},requires:["computeStyles"]},go={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=void 0===i?[0,0]:i,a=Yi.reduce((function(e,r){return e[r]=function(e,t,r){var n=ao(e),i=[Bi,qi].indexOf(n)>=0?-1:1,o="function"==typeof r?r(Object.assign({},t,{placement:e})):r,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Bi,zi].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}(r,t.rects,o),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=a}};var vo={left:"right",right:"left",bottom:"top",top:"bottom"};function bo(e){return e.replace(/left|right|bottom|top/g,(function(e){return vo[e]}))}var yo={start:"end",end:"start"};function wo(e){return e.replace(/start|end/g,(function(e){return yo[e]}))}function xo(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&xi(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Oo(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function _o(e,t){return t===Xi?Oo(function(e){var t=bi(e),r=Ti(e),n=t.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,s=0;return n&&(i=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=n.offsetLeft,s=n.offsetTop)),{width:i,height:o,x:a+Ci(e),y:s}}(e)):yi(t)?function(e){var t=Si(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Oo(function(e){var t,r=Ti(e),n=ki(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=Oi(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Oi(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+Ci(e),l=-n.scrollTop;return"rtl"===Ii(i||r).direction&&(s+=Oi(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(Ti(e)))}function Eo(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function So(e,t){return t.reduce((function(t,r){return t[r]=e,t}),{})}function ko(e,t){void 0===t&&(t={});var r=t,n=r.placement,i=void 0===n?e.placement:n,o=r.boundary,a=void 0===o?"clippingParents":o,s=r.rootBoundary,l=void 0===s?Xi:s,c=r.elementContext,u=void 0===c?Gi:c,d=r.altBoundary,p=void 0!==d&&d,f=r.padding,h=void 0===f?0:f,m=Eo("number"!=typeof h?h:So(h,Qi)),g=u===Gi?"reference":Gi,v=e.rects.popper,b=e.elements[p?g:u],y=function(e,t,r){var n="clippingParents"===t?function(e){var t=ji(Ni(e)),r=["absolute","fixed"].indexOf(Ii(e).position)>=0&&wi(e)?Fi(e):e;return yi(r)?t.filter((function(e){return yi(e)&&xo(e,r)&&"body"!==Pi(e)})):[]}(e):[].concat(t),i=[].concat(n,[r]),o=i[0],a=i.reduce((function(t,r){var n=_o(e,r);return t.top=Oi(n.top,t.top),t.right=_i(n.right,t.right),t.bottom=_i(n.bottom,t.bottom),t.left=Oi(n.left,t.left),t}),_o(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(yi(b)?b:b.contextElement||Ti(e.elements.popper),a,l),w=Si(e.elements.reference),x=co({reference:w,element:v,strategy:"absolute",placement:i}),O=Oo(Object.assign({},v,x)),_=u===Gi?O:w,E={top:y.top-_.top+m.top,bottom:_.bottom-y.bottom+m.bottom,left:y.left-_.left+m.left,right:_.right-y.right+m.right},S=e.modifiersData.offset;if(u===Gi&&S){var k=S[i];Object.keys(E).forEach((function(e){var t=[zi,Vi].indexOf(e)>=0?1:-1,r=[qi,Vi].indexOf(e)>=0?"y":"x";E[e]+=k[r]*t}))}return E}const Po={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=void 0===i||i,a=r.altAxis,s=void 0===a||a,l=r.fallbackPlacements,c=r.padding,u=r.boundary,d=r.rootBoundary,p=r.altBoundary,f=r.flipVariations,h=void 0===f||f,m=r.allowedAutoPlacements,g=t.options.placement,v=ao(g),b=l||(v!==g&&h?function(e){if(ao(e)===Hi)return[];var t=bo(e);return[wo(e),t,wo(t)]}(g):[bo(g)]),y=[g].concat(b).reduce((function(e,r){return e.concat(ao(r)===Hi?function(e,t){void 0===t&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,a=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,c=void 0===l?Yi:l,u=so(n),d=u?s?Ki:Ki.filter((function(e){return so(e)===u})):Qi,p=d.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=d);var f=p.reduce((function(t,r){return t[r]=ko(e,{placement:r,boundary:i,rootBoundary:o,padding:a})[ao(r)],t}),{});return Object.keys(f).sort((function(e,t){return f[e]-f[t]}))}(t,{placement:r,boundary:u,rootBoundary:d,padding:c,flipVariations:h,allowedAutoPlacements:m}):r)}),[]),w=t.rects.reference,x=t.rects.popper,O=new Map,_=!0,E=y[0],S=0;S<y.length;S++){var k=y[S],P=ao(k),T=so(k)===Wi,C=[qi,Vi].indexOf(P)>=0,I=C?"width":"height",D=ko(t,{placement:k,boundary:u,rootBoundary:d,altBoundary:p,padding:c}),A=C?T?zi:Bi:T?Vi:qi;w[I]>x[I]&&(A=bo(A));var R=bo(A),N=[];if(o&&N.push(D[P]<=0),s&&N.push(D[A]<=0,D[R]<=0),N.every((function(e){return e}))){E=k,_=!1;break}O.set(k,N)}if(_)for(var M=function(e){var t=y.find((function(t){var r=O.get(t);if(r)return r.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},j=h?3:1;j>0&&"break"!==M(j);j--);t.placement!==E&&(t.modifiersData[n]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function To(e,t,r){return Oi(e,_i(t,r))}const Co={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=void 0===i||i,a=r.altAxis,s=void 0!==a&&a,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,d=r.padding,p=r.tether,f=void 0===p||p,h=r.tetherOffset,m=void 0===h?0:h,g=ko(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=ao(t.placement),b=so(t.placement),y=!b,w=lo(v),x="x"===w?"y":"x",O=t.modifiersData.popperOffsets,_=t.rects.reference,E=t.rects.popper,S="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,k="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),P=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(O){if(o){var C,I="y"===w?qi:Bi,D="y"===w?Vi:zi,A="y"===w?"height":"width",R=O[w],N=R+g[I],M=R-g[D],j=f?-E[A]/2:0,L=b===Wi?_[A]:E[A],$=b===Wi?-E[A]:-_[A],F=t.elements.arrow,q=f&&F?Ri(F):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=V[I],B=V[D],H=To(0,_[A],q[A]),Q=y?_[A]/2-j-H-z-k.mainAxis:L-H-z-k.mainAxis,W=y?-_[A]/2+j+H+B+k.mainAxis:$+H+B+k.mainAxis,U=t.elements.arrow&&Fi(t.elements.arrow),X=U?"y"===w?U.clientTop||0:U.clientLeft||0:0,G=null!=(C=null==P?void 0:P[w])?C:0,K=R+W-G,Y=To(f?_i(N,R+Q-G-X):N,R,f?Oi(M,K):M);O[w]=Y,T[w]=Y-R}if(s){var J,Z="x"===w?qi:Bi,ee="x"===w?Vi:zi,te=O[x],re="y"===x?"height":"width",ne=te+g[Z],ie=te-g[ee],oe=-1!==[qi,Bi].indexOf(v),ae=null!=(J=null==P?void 0:P[x])?J:0,se=oe?ne:te-_[re]-E[re]-ae+k.altAxis,le=oe?te+_[re]+E[re]-ae-k.altAxis:ie,ce=f&&oe?function(e,t,r){var n=To(e,t,r);return n>r?r:n}(se,te,le):To(f?se:ne,te,f?le:ie);O[x]=ce,T[x]=ce-te}t.modifiersData[n]=T}},requiresIfExists:["offset"]},Io={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,a=r.modifiersData.popperOffsets,s=ao(r.placement),l=lo(s),c=[Bi,zi].indexOf(s)>=0?"height":"width";if(o&&a){var u=function(e,t){return Eo("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:So(e,Qi))}(i.padding,r),d=Ri(o),p="y"===l?qi:Bi,f="y"===l?Vi:zi,h=r.rects.reference[c]+r.rects.reference[l]-a[l]-r.rects.popper[c],m=a[l]-r.rects.reference[l],g=Fi(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=h/2-m/2,y=u[p],w=v-d[c]-u[f],x=v/2-d[c]/2+b,O=To(y,x,w),_=l;r.modifiersData[n]=((t={})[_]=O,t.centerOffset=O-x,t)}},effect:function(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&xo(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Do(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Ao(e){return[qi,zi,Vi,Bi].some((function(t){return e[t]>=0}))}const Ro={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=ko(t,{elementContext:"reference"}),s=ko(t,{altBoundary:!0}),l=Do(a,n),c=Do(s,i,o),u=Ao(l),d=Ao(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}};var No=no({defaultModifiers:[oo,uo,ho,mo,go,Po,Co,Io,Ro]}),Mo=m(4335),jo=m.n(Mo),Lo=function(e){return e.reduce((function(e,t){var r=t[0],n=t[1];return e[r]=n,e}),{})},$o="undefined"!=typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect,Fo=[];function qo(e){var t=r.useRef(e);return t.current=e,r.useCallback((function(){return t.current}),[])}var Vo=function(){};function zo(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),function(){return{width:0,height:0,top:t,right:e,bottom:t,left:e,x:0,y:0,toJSON:function(){return null}}}}var Bo=["styles","attributes"],Ho={getBoundingClientRect:zo()},Qo={closeOnOutsideClick:!0,closeOnTriggerHidden:!1,defaultVisible:!1,delayHide:0,delayShow:0,followCursor:!1,interactive:!1,mutationObserverOptions:{attributes:!0,childList:!0,subtree:!0},offset:[0,6],trigger:"hover"};function Wo(e,t){var n,i,o;void 0===e&&(e={}),void 0===t&&(t={});var a=Object.keys(Qo).reduce((function(e,t){var r;return vi({},e,((r={})[t]=void 0!==e[t]?e[t]:Qo[t],r))}),e),s=r.useMemo((function(){return[{name:"offset",options:{offset:a.offset}}]}),Array.isArray(a.offset)?a.offset:[]),l=vi({},t,{placement:t.placement||a.placement,modifiers:t.modifiers||s}),c=r.useState(null),u=c[0],d=c[1],p=r.useState(null),f=p[0],h=p[1],m=function(e){var t=e.initial,n=e.value,i=e.onChange,o=void 0===i?Vo:i;if(void 0===t&&void 0===n)throw new TypeError('Either "value" or "initial" variable must be set. Now both are undefined');var a=r.useState(t),s=a[0],l=a[1],c=qo(s),u=r.useCallback((function(e){var t=c(),r="function"==typeof e?e(t):e;"function"==typeof r.persist&&r.persist(),l(r),"function"==typeof o&&o(r)}),[c,o]),d=void 0!==n;return[d?n:s,d?o:u]}({initial:a.defaultVisible,value:a.visible,onChange:a.onVisibleChange}),g=m[0],v=m[1],b=r.useRef();r.useEffect((function(){return function(){return clearTimeout(b.current)}}),[]);var y=function(e,t,n){void 0===n&&(n={});var i=r.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||Fo},a=r.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=a[0],l=a[1],c=r.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,r=Object.keys(t.elements);ot.flushSync((function(){l({styles:Lo(r.map((function(e){return[e,t.styles[e]||{}]}))),attributes:Lo(r.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),u=r.useMemo((function(){var e={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[c,{name:"applyStyles",enabled:!1}])};return jo()(i.current,e)?i.current||e:(i.current=e,e)}),[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,c]),d=r.useRef();return $o((function(){d.current&&d.current.setOptions(u)}),[u]),$o((function(){if(null!=e&&null!=t){var r=(n.createPopper||No)(e,t,u);return d.current=r,function(){r.destroy(),d.current=null}}}),[e,t,n.createPopper]),{state:d.current?d.current.state:null,styles:s.styles,attributes:s.attributes,update:d.current?d.current.update:null,forceUpdate:d.current?d.current.forceUpdate:null}}(a.followCursor?Ho:u,f,l),w=y.styles,x=y.attributes,O=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(y,Bo),_=O.update,E=qo({visible:g,triggerRef:u,tooltipRef:f,finalConfig:a}),S=r.useCallback((function(e){return Array.isArray(a.trigger)?a.trigger.includes(e):a.trigger===e}),Array.isArray(a.trigger)?a.trigger:[a.trigger]),k=r.useCallback((function(){clearTimeout(b.current),b.current=window.setTimeout((function(){return v(!1)}),a.delayHide)}),[a.delayHide,v]),P=r.useCallback((function(){clearTimeout(b.current),b.current=window.setTimeout((function(){return v(!0)}),a.delayShow)}),[a.delayShow,v]),T=r.useCallback((function(){E().visible?k():P()}),[E,k,P]);r.useEffect((function(){if(E().finalConfig.closeOnOutsideClick){var e=function(e){var t,r=E(),n=r.tooltipRef,i=r.triggerRef,o=(null==e.composedPath||null==(t=e.composedPath())?void 0:t[0])||e.target;o instanceof Node&&(null==n||null==i||n.contains(o)||i.contains(o)||k())};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}}),[E,k]),r.useEffect((function(){if(null!=u&&S("click"))return u.addEventListener("click",T),function(){return u.removeEventListener("click",T)}}),[u,S,T]),r.useEffect((function(){if(null!=u&&S("double-click"))return u.addEventListener("dblclick",T),function(){return u.removeEventListener("dblclick",T)}}),[u,S,T]),r.useEffect((function(){if(null!=u&&S("right-click")){var e=function(e){e.preventDefault(),T()};return u.addEventListener("contextmenu",e),function(){return u.removeEventListener("contextmenu",e)}}}),[u,S,T]),r.useEffect((function(){if(null!=u&&S("focus"))return u.addEventListener("focus",P),u.addEventListener("blur",k),function(){u.removeEventListener("focus",P),u.removeEventListener("blur",k)}}),[u,S,P,k]),r.useEffect((function(){if(null!=u&&S("hover"))return u.addEventListener("mouseenter",P),u.addEventListener("mouseleave",k),function(){u.removeEventListener("mouseenter",P),u.removeEventListener("mouseleave",k)}}),[u,S,P,k]),r.useEffect((function(){if(null!=f&&S("hover")&&E().finalConfig.interactive)return f.addEventListener("mouseenter",P),f.addEventListener("mouseleave",k),function(){f.removeEventListener("mouseenter",P),f.removeEventListener("mouseleave",k)}}),[f,S,P,k,E]);var C=null==O||null==(n=O.state)||null==(i=n.modifiersData)||null==(o=i.hide)?void 0:o.isReferenceHidden;return r.useEffect((function(){a.closeOnTriggerHidden&&C&&k()}),[a.closeOnTriggerHidden,k,C]),r.useEffect((function(){if(a.followCursor&&null!=u)return u.addEventListener("mousemove",e),function(){return u.removeEventListener("mousemove",e)};function e(e){var t=e.clientX,r=e.clientY;Ho.getBoundingClientRect=zo(t,r),null==_||_()}}),[a.followCursor,u,_]),r.useEffect((function(){if(null!=f&&null!=_&&null!=a.mutationObserverOptions){var e=new MutationObserver(_);return e.observe(f,a.mutationObserverOptions),function(){return e.disconnect()}}}),[a.mutationObserverOptions,f,_]),vi({getArrowProps:function(e){return void 0===e&&(e={}),vi({},e,x.arrow,{style:vi({},e.style,w.arrow),"data-popper-arrow":!0})},getTooltipProps:function(e){return void 0===e&&(e={}),vi({},e,{style:vi({},e.style,w.popper)},x.popper,{"data-popper-interactive":a.interactive})},setTooltipRef:h,setTriggerRef:d,tooltipRef:f,triggerRef:u,visible:g},O)}function Uo(){return Uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uo.apply(this,arguments)}function Xo(e){const{children:t,className:i,root:o,forwardedRef:s}=e,l=(0,a.useTheme2)(),c=(0,r.useRef)(null),u=null!=o?o:function(){var e;return null!==(e=window.document.getElementById("grafana-portal-container"))&&void 0!==e?e:document.body}();return c.current||(c.current=document.createElement("div"),i&&(c.current.className=i),c.current.style.position="relative",c.current.style.zIndex=`${l.zIndex.portal}`),(0,r.useLayoutEffect)((()=>(c.current&&u.appendChild(c.current),()=>{c.current&&u.removeChild(c.current)})),[u]),at().createPortal(n().createElement("div",{ref:s},t),c.current)}const Go=n().forwardRef(((e,t)=>n().createElement(Xo,Uo({},e,{forwardedRef:t}))));function Ko(){return Ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ko.apply(this,arguments)}Go.displayName="RefForwardingPortal";const Yo=n().memo((({children:e,theme:t,interactive:i,show:o,placement:a,content:s})=>{const[l,c]=n().useState(o);(0,r.useEffect)((()=>{if(!1!==l){const e=e=>{"Escape"===e.key&&c(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}}),[l]);const{getArrowProps:u,getTooltipProps:d,setTooltipRef:p,setTriggerRef:f,visible:h,update:m}=Wo({visible:l,placement:a,interactive:i,delayHide:i?100:0,delayShow:150,offset:[0,8],trigger:["hover","focus"],onVisibleChange:c}),g=ni(Jo)[null!=t?t:"info"];return n().createElement(n().Fragment,null,n().cloneElement(e,{ref:f}),h&&n().createElement(Xo,null,n().createElement("div",Ko({ref:p},d({className:g})),n().createElement("div",Ko({},u({className:"tooltip-arrow"}))),"string"==typeof s&&s,n().isValidElement(s)&&n().cloneElement(s),"function"==typeof s&&s({updatePopperPosition:m}))))}));function Jo(e){function r(r,n,i){return s.css`
      background-color: ${r};
      border-radius: 3px;
      border: 1px solid ${n};
      box-shadow: ${e.shadows.z2};
      color: ${i};
      font-size: ${e.typography.bodySmall.fontSize};
      padding: ${e.spacing(.5,1)};
      transition: opacity 0.3s;
      z-index: ${e.zIndex.tooltip};
      max-width: 400px;
      overflow-wrap: break-word;

      &[data-popper-interactive='false'] {
        pointer-events: none;
      }

      .tooltip-arrow {
        height: 1rem;
        position: absolute;
        width: 1rem;
        pointer-events: none;
      }

      .tooltip-arrow::before {
        border-style: solid;
        content: '';
        display: block;
        height: 0;
        margin: auto;
        width: 0;
      }

      .tooltip-arrow::after {
        border-style: solid;
        content: '';
        display: block;
        height: 0;
        margin: auto;
        position: absolute;
        width: 0;
      }

      &[data-popper-placement*='bottom'] .tooltip-arrow {
        left: 0;
        margin-top: -10px;
        top: 0;
      }

      &[data-popper-placement*='bottom'] .tooltip-arrow::before {
        border-color: transparent transparent ${n} transparent;
        border-width: 0 8px 7px 8px;
        position: absolute;
        top: -1px;
      }

      &[data-popper-placement*='bottom'] .tooltip-arrow::after {
        border-color: transparent transparent ${r} transparent;
        border-width: 0 8px 7px 8px;
      }

      &[data-popper-placement*='top'] .tooltip-arrow {
        bottom: 0;
        left: 0;
        margin-bottom: -11px;
      }

      &[data-popper-placement*='top'] .tooltip-arrow::before {
        border-color: ${n} transparent transparent transparent;
        border-width: 7px 8px 0 7px;
        position: absolute;
        top: 1px;
      }

      &[data-popper-placement*='top'] .tooltip-arrow::after {
        border-color: ${r} transparent transparent transparent;
        border-width: 7px 8px 0 7px;
      }

      &[data-popper-placement*='right'] .tooltip-arrow {
        left: 0;
        margin-left: -11px;
      }

      &[data-popper-placement*='right'] .tooltip-arrow::before {
        border-color: transparent ${n} transparent transparent;
        border-width: 7px 6px 7px 0;
      }

      &[data-popper-placement*='right'] .tooltip-arrow::after {
        border-color: transparent ${r} transparent transparent;
        border-width: 6px 7px 7px 0;
        left: 2px;
        top: 1px;
      }

      &[data-popper-placement*='left'] .tooltip-arrow {
        margin-right: -10px;
        right: 0;
      }

      &[data-popper-placement*='left'] .tooltip-arrow::before {
        border-color: transparent transparent transparent ${n};
        border-width: 7px 0px 6px 7px;
      }

      &[data-popper-placement*='left'] .tooltip-arrow::after {
        border-color: transparent transparent transparent ${r};
        border-width: 6px 0 5px 5px;
        left: 1px;
        top: 1px;
      }

      code {
        border: none;
        display: inline;
        background: ${t.colorManipulator.darken(r,.1)};
        color: ${i};
      }

      pre {
        background: ${t.colorManipulator.darken(r,.1)};
        color: ${i};
      }

      a {
        color: ${i};
        text-decoration: underline;
      }

      a:hover {
        text-decoration: none;
      }
    `}const n=r(e.components.tooltip.background,e.components.tooltip.background,e.components.tooltip.text);return{info:n,"info-alt":n,error:r(e.colors.error.main,e.colors.error.main,e.colors.error.contrastText)}}function Zo(){return Zo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zo.apply(this,arguments)}Yo.displayName="Tooltip";const ea=n().forwardRef(((e,t)=>{var{name:r,size:i="md",iconType:o,tooltip:a,tooltipPlacement:l,ariaLabel:c,className:u,variant:d="secondary"}=e,p=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["name","size","iconType","tooltip","tooltipPlacement","ariaLabel","className","variant"]);const f=ri(),h=ta(f,i,d),m="string"==typeof a?a:"",g=n().createElement("button",Zo({ref:t,"aria-label":c||m},p,{className:(0,s.cx)(h.button,u)}),n().createElement(Qn,{name:r,size:i,className:h.icon,type:o}));return a?n().createElement(Yo,{content:a,placement:l},g):g}));ea.displayName="IconButton";const ta=Jn(((e,r,n)=>{const i=zn(r),o=Math.max(i/3,8);let a=e.colors.text.primary;return"primary"===n?a=e.colors.primary.text:"destructive"===n&&(a=e.colors.error.text),{button:s.css`
      width: ${i}px;
      height: ${i}px;
      background: transparent;
      border: none;
      color: ${a};
      padding: 0;
      margin: 0;
      outline: none;
      box-shadow: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      position: relative;
      border-radius: ${e.shape.borderRadius()};
      z-index: 0;
      margin-right: ${e.spacing(.5)};

      &[disabled],
      &:disabled {
        cursor: not-allowed;
        color: ${e.colors.action.disabledText};
        opacity: 0.65;
        box-shadow: none;
      }

      &:before {
        content: '';
        display: block;
        opacity: 1;
        position: absolute;
        transition-duration: 0.2s;
        transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        z-index: -1;
        bottom: -${o}px;
        left: -${o}px;
        right: -${o}px;
        top: -${o}px;
        background: none;
        border-radius: 50%;
        box-sizing: border-box;
        transform: scale(0);
        transition-property: transform, opacity;
      }

      &:focus,
      &:focus-visible {
        ${ai(e)}
      }

      &:focus:not(:focus-visible) {
        ${{outline:"none",boxShadow:"none"}}
      }

      &:hover {
        color: ${a};

        &:before {
          background-color: ${"secondary"===n?e.colors.action.hover:t.colorManipulator.alpha(a,.12)};
          border: none;
          box-shadow: none;
          opacity: 1;
          transform: scale(0.8);
        }
      }
    `,icon:s.css`
      vertical-align: baseline;
      display: flex;
    `}})),ra=Jn((e=>({menu:s.css`
      label: grafana-select-menu;
      background: ${e.components.dropdown.background};
      box-shadow: ${e.shadows.z3};
      position: relative;
      min-width: 100%;
      z-index: 1;
    `,option:s.css`
      label: grafana-select-option;
      padding: 8px;
      display: flex;
      align-items: center;
      flex-direction: row;
      flex-shrink: 0;
      white-space: nowrap;
      cursor: pointer;
      border-left: 2px solid transparent;

      &:hover {
        background: ${e.colors.action.hover};
      }
    `,optionIcon:s.css`
      margin-right: ${e.spacing(1)};
    `,optionImage:s.css`
      label: grafana-select-option-image;
      width: 16px;
      margin-right: 10px;
    `,optionDescription:s.css`
      label: grafana-select-option-description;
      font-weight: normal;
      font-size: ${e.typography.size.sm};
      color: ${e.colors.text.secondary};
      white-space: normal;
      line-height: ${e.typography.body.lineHeight};
    `,optionBody:s.css`
      label: grafana-select-option-body;
      display: flex;
      font-weight: ${e.typography.fontWeightMedium};
      flex-direction: column;
      flex-grow: 1;
    `,optionFocused:s.css`
      label: grafana-select-option-focused;
      background: ${e.colors.action.focus};
    `,optionSelected:s.css`
      background: ${e.colors.action.selected};
    `,optionDisabled:s.css`
      label: grafana-select-option-disabled;
      background-color: ${e.colors.action.disabledBackground};
      color: ${e.colors.action.disabledText};
      cursor: not-allowed;
    `,singleValue:s.css`
      label: grafana-select-single-value;
      color: ${e.components.input.text};
      grid-area: 1 / 1 / 2 / 3;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      box-sizing: border-box;
      max-width: 100%;
    `,valueContainer:s.css`
      label: grafana-select-value-container;
      align-items: center;
      display: grid;
      position: relative;
      box-sizing: border-box;
      flex: 1 1 0%;
      outline: none;
      overflow: hidden;
    `,valueContainerMulti:s.css`
      label: grafana-select-value-container-multi;
      flex-wrap: wrap;
      display: flex;
    `,loadingMessage:s.css`
      label: grafana-select-loading-message;
      padding: ${e.spacing(1)};
      text-align: center;
      width: 100%;
    `,multiValueContainer:s.css`
      label: grafana-select-multi-value-container;
      display: flex;
      align-items: center;
      line-height: 1;
      background: ${e.colors.background.secondary};
      border-radius: ${e.shape.borderRadius()};
      margin: ${e.spacing(.25,1,.25,0)};
      padding: ${e.spacing(.25,0,.25,1)};
      color: ${e.colors.text.primary};
      font-size: ${e.typography.size.sm};

      &:hover {
        background: ${e.colors.emphasize(e.colors.background.secondary)};
      }
    `,multiValueRemove:s.css`
      label: grafana-select-multi-value-remove;
      margin: ${e.spacing(0,.5)};
      cursor: pointer;
      svg {
        margin-bottom: 0;
      }
    `,singleValueRemove:s.css`
      cursor: pointer;
      &:hover {
        color: ${e.colors.text.primary};
      }
    `})));function na(){return na=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},na.apply(this,arguments)}const ia=({innerProps:e,children:t})=>{const r=(0,a.useTheme2)(),i=ra(r);return n().createElement("div",na({},e,{className:i.multiValueContainer}),t)},oa=({children:e,innerProps:t})=>{const r=(0,a.useTheme2)(),i=ra(r);return n().createElement(ea,na({},t,{name:"times",size:"sm",className:i.multiValueRemove}))};function aa(){return aa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aa.apply(this,arguments)}const sa=e=>{const{isDisabled:t,isFocused:r,children:i,selectProps:{invalid:o=!1}}=e,a=ri(),l=la(a,r,t,o);return n().createElement(sr.SelectContainer,aa({},e,{className:(0,s.cx)(l.wrapper,e.className)}),i)},la=(0,a.stylesFactory)(((e,t,r,n)=>{const i=pi({theme:e,invalid:n});return{wrapper:(0,s.cx)(i.wrapper,li(e,n),t&&s.css`
            ${oi(e.v1)}
          `,r&&i.inputDisabled,s.css`
          position: relative;
          box-sizing: border-box;
          /* The display property is set by the styles prop in SelectBase because it's dependant on the width prop  */
          flex-direction: row;
          flex-wrap: wrap;
          align-items: stretch;
          justify-content: space-between;

          min-height: 32px;
          height: auto;
          max-width: 100%;

          /* Input padding is applied to the InputControl so the menu is aligned correctly */
          padding: 0;
          cursor: ${r?"not-allowed":"pointer"};
        `)}}));var ca=m(9672),ua=m(42),da=m.n(ua);const pa=({children:e})=>{const[t,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),c=(0,r.useRef)(null),u=(0,r.useRef)(null),d=(0,a.useStyles2)(fa);return(0,r.useEffect)((()=>{const e=new IntersectionObserver((e=>{e.forEach((e=>{e.target===c.current?i(!e.isIntersecting):e.target===u.current&&l(!e.isIntersecting)}))}));return[c,u].forEach((t=>{t.current&&e.observe(t.current)})),()=>e.disconnect()}),[]),n().createElement(n().Fragment,null,n().createElement("div",{className:(0,s.cx)(d.scrollIndicator,d.scrollTopIndicator,{[d.scrollIndicatorVisible]:t})},n().createElement(Qn,{className:da()(d.scrollIcon,d.scrollTopIcon),name:"angle-up"})),n().createElement("div",{className:d.scrollContent},n().createElement("div",{ref:c}),e,n().createElement("div",{ref:u})),n().createElement("div",{className:(0,s.cx)(d.scrollIndicator,d.scrollBottomIndicator,{[d.scrollIndicatorVisible]:o})},n().createElement(Qn,{className:da()(d.scrollIcon,d.scrollBottomIcon),name:"angle-down"})))},fa=e=>({scrollContent:(0,s.css)({flex:1,position:"relative"}),scrollIndicator:(0,s.css)({height:e.spacing(6),left:0,opacity:0,pointerEvents:"none",position:"absolute",right:0,transition:e.transitions.create("opacity"),zIndex:1}),scrollTopIndicator:(0,s.css)({background:`linear-gradient(0deg, transparent, ${e.colors.background.canvas})`,top:0}),scrollBottomIndicator:(0,s.css)({background:`linear-gradient(180deg, transparent, ${e.colors.background.canvas})`,bottom:0}),scrollIndicatorVisible:(0,s.css)({opacity:1}),scrollIcon:(0,s.css)({left:"50%",position:"absolute",transform:"translateX(-50%)"}),scrollTopIcon:(0,s.css)({top:0}),scrollBottomIcon:(0,s.css)({bottom:0})});function ha(){return ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ha.apply(this,arguments)}const ma=({autoHide:e=!1,autoHideTimeout:t=200,setScrollTop:i,className:o,testId:l,autoHeightMin:c="0",autoHeightMax:u="100%",hideTracksWhenNotNeeded:d=!1,hideHorizontalTrack:p,hideVerticalTrack:f,scrollRefCallback:h,showScrollIndicators:m=!1,updateAfterMountMs:g,scrollTop:v,onScroll:b,children:y})=>{const w=(0,r.useRef)(null),x=(0,a.useStyles2)(ga);function O(e,t,r){return r.style&&t&&(r.style.display="none"),n().createElement("div",ha({},r,{className:e}))}(0,r.useEffect)((()=>{w.current&&h&&h(w.current.view)}),[w,h]),(0,r.useEffect)((()=>{w.current&&null!=v&&w.current.scrollTop(v)}),[v]),(0,r.useEffect)((()=>{g&&setTimeout((()=>{const e=w.current;(null==e?void 0:e.update)&&e.update()}),g)}),[g]);const _=(0,r.useCallback)((e=>O("track-horizontal",p,e)),[p]),E=(0,r.useCallback)((e=>O("track-vertical",f,e)),[f]),S=(0,r.useCallback)((e=>n().createElement("div",ha({},e,{className:"thumb-horizontal"}))),[]),k=(0,r.useCallback)((e=>n().createElement("div",ha({},e,{className:"thumb-vertical"}))),[]),P=(0,r.useCallback)((e=>n().createElement("div",ha({},e,{className:"scrollbar-view"}))),[]),T=(0,r.useCallback)((()=>{w.current&&i&&i(w.current.getValues())}),[i]);return n().createElement(ca.ZP,{"data-testid":l,ref:w,className:(0,s.cx)(x.customScrollbar,o,{[x.scrollbarWithScrollIndicators]:m}),onScrollStop:T,autoHeight:!0,autoHide:e,autoHideTimeout:t,hideTracksWhenNotNeeded:d,autoHeightMax:u,autoHeightMin:c,renderTrackHorizontal:_,renderTrackVertical:E,renderThumbHorizontal:S,renderThumbVertical:k,renderView:P,onScroll:b},m?n().createElement(pa,null,y):y)},ga=e=>({customScrollbar:s.css`
      // Fix for Firefox. For some reason sometimes .view container gets a height of its content, but in order to
      // make scroll working it should fit outer container size (scroll appears only when inner container size is
      // greater than outer one).
      display: flex;
      flex-grow: 1;
      .scrollbar-view {
        display: flex;
        flex-grow: 1;
        flex-direction: column;
      }
      .track-vertical {
        border-radius: ${e.shape.borderRadius(2)};
        width: ${e.spacing(1)} !important;
        right: 0px;
        bottom: ${e.spacing(.25)};
        top: ${e.spacing(.25)};
      }
      .track-horizontal {
        border-radius: ${e.shape.borderRadius(2)};
        height: ${e.spacing(1)} !important;
        right: ${e.spacing(.25)};
        bottom: ${e.spacing(.25)};
        left: ${e.spacing(.25)};
      }
      .thumb-vertical {
        background: ${e.colors.action.focus};
        border-radius: ${e.shape.borderRadius(2)};
        opacity: 0;
      }
      .thumb-horizontal {
        background: ${e.colors.action.focus};
        border-radius: ${e.shape.borderRadius(2)};
        opacity: 0;
      }
      &:hover {
        .thumb-vertical,
        .thumb-horizontal {
          opacity: 1;
          transition: opacity 0.3s ease-in-out;
        }
      }
    `,scrollbarWithScrollIndicators:s.css`
      .scrollbar-view {
        position: static !important;
      }
    `});function va(){return va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},va.apply(this,arguments)}const ba=({children:e,maxHeight:t,innerRef:r,innerProps:i})=>{const o=ri(),a=ra(o);return n().createElement("div",va({},i,{className:a.menu,style:{maxHeight:t},"aria-label":"Select options menu"}),n().createElement(ma,{scrollRefCallback:r,autoHide:!1,autoHeightMax:"inherit",hideHorizontalTrack:!0},e))};ba.displayName="SelectMenu";const ya=({children:e,data:r,innerProps:i,innerRef:o,isFocused:a,isSelected:l,renderOptionLabel:c})=>{const u=ri(),d=ra(u),p=r.icon?(0,t.toIconName)(r.icon):void 0;return n().createElement("div",va({ref:o,className:(0,s.cx)(d.option,a&&d.optionFocused,l&&d.optionSelected,r.isDisabled&&d.optionDisabled)},i,{"aria-label":"Select option",title:r.title}),p&&n().createElement(Qn,{name:p,className:d.optionIcon}),r.imgUrl&&n().createElement("img",{className:d.optionImage,src:r.imgUrl,alt:r.label||r.value}),n().createElement("div",{className:d.optionBody},n().createElement("span",null,c?c(r):e),r.description&&n().createElement("div",{className:d.optionDescription},r.description),r.component&&n().createElement(r.component,null)))};ya.displayName="SelectMenuOptions";const wa=(0,a.stylesFactory)((e=>({header:s.css`
      display: flex;
      align-items: center;
      justify-content: flex-start;
      justify-items: center;
      cursor: pointer;
      padding: 7px 10px;
      width: 100%;
      border-bottom: 1px solid ${e.colors.background.secondary};

      &:hover {
        color: ${e.colors.text.maxContrast};
      }
    `,label:s.css`
      flex-grow: 1;
    `,icon:s.css`
      padding-right: 2px;
    `})));class xa extends r.PureComponent{componentDidMount(){if(this.props.data.expanded)this.setState({expanded:!0});else if(this.props.selectProps&&this.props.selectProps.value){const{value:e}=this.props.selectProps.value;e&&this.props.options.some((t=>t.value===e))&&this.setState({expanded:!0})}}componentDidUpdate(e){""!==e.selectProps.inputValue&&this.setState({expanded:!0})}render(){const{children:e,label:t,theme:r}=this.props,{expanded:i}=this.state,o=wa(r);return n().createElement("div",null,n().createElement("div",{className:o.header,onClick:this.onToggleChildren},n().createElement("span",{className:o.label},t),n().createElement(Qn,{className:o.icon,name:i?"angle-up":"angle-down"})," "),i&&e)}constructor(...e){super(...e),this.state={expanded:!1},this.onToggleChildren=()=>{this.setState((e=>({expanded:!e.expanded})))}}}const Oa=(0,a.withTheme2)(xa);function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_a.apply(this,arguments)}function Ea(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function Sa(e,t){return Sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Sa(e,t)}function ka(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Sa(e,t)}function Pa(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Ta=n().createContext(null);var Ca="unmounted",Ia="exited",Da="entering",Aa="entered",Ra="exiting",Na=function(e){function t(t,r){var n;n=e.call(this,t,r)||this;var i,o=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?o?(i=Ia,n.appearStatus=Da):i=Aa:i=t.unmountOnExit||t.mountOnEnter?Ca:Ia,n.state={status:i},n.nextCallback=null,n}ka(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ca?{status:Ia}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==Da&&r!==Aa&&(t=Da):r!==Da&&r!==Aa||(t=Ra)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Da?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Ia&&this.setState({status:Ca})},r.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,i=this.props.nodeRef?[n]:[at().findDOMNode(this),n],o=i[0],a=i[1],s=this.getTimeouts(),l=n?s.appear:s.enter;e||r?(this.props.onEnter(o,a),this.safeSetState({status:Da},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:Aa},(function(){t.props.onEntered(o,a)}))}))}))):this.safeSetState({status:Aa},(function(){t.props.onEntered(o)}))},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:at().findDOMNode(this);t?(this.props.onExit(n),this.safeSetState({status:Ra},(function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:Ia},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:Ia},(function(){e.props.onExited(n)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:at().findDOMNode(this),n=null==e&&!this.props.addEndListener;if(r&&!n){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Ca)return null;var t=this.props,r=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Ea(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return n().createElement(Ta.Provider,{value:null},"function"==typeof r?r(e,i):n().cloneElement(n().Children.only(r),i))},t}(n().Component);function Ma(){}Na.contextType=Ta,Na.propTypes={},Na.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ma,onEntering:Ma,onEntered:Ma,onExit:Ma,onExiting:Ma,onExited:Ma},Na.UNMOUNTED=Ca,Na.EXITED=Ia,Na.ENTERING=Da,Na.ENTERED=Aa,Na.EXITING=Ra;const ja=Na;var La=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return n=t,void((r=e).classList?r.classList.remove(n):"string"==typeof r.className?r.className=Pa(r.className,n):r.setAttribute("class",Pa(r.className&&r.className.baseVal||"",n)));var r,n}))},$a=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,r){var n=t.resolveArguments(e,r),i=n[0],o=n[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var n=t.resolveArguments(e,r),i=n[0],o=n[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var n=t.resolveArguments(e,r),i=n[0],o=n[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"appear"),t.removeClasses(r,"enter"),t.addClass(r,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.resolveArguments(e)[0];t.addClass(r,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"exit"),t.addClass(r,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,r){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,r]},t.getClassNames=function(e){var r=t.props.classNames,n="string"==typeof r,i=n?(n&&r?r+"-":"")+e:r[e];return{baseClassName:i,activeClassName:n?i+"-active":r[e+"Active"],doneClassName:n?i+"-done":r[e+"Done"]}},t}ka(t,e);var r=t.prototype;return r.addClass=function(e,t,r){var n=this.getClassNames(t)[r+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===r&&i&&(n+=" "+i),"active"===r&&e&&e.scrollTop,n&&(this.appliedClasses[t][r]=n,function(e,t){e&&t&&t.split(" ").forEach((function(t){return n=t,void((r=e).classList?r.classList.add(n):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,n)||("string"==typeof r.className?r.className=r.className+" "+n:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+n)));var r,n}))}(e,n))},r.removeClasses=function(e,t){var r=this.appliedClasses[t],n=r.base,i=r.active,o=r.done;this.appliedClasses[t]={},n&&La(e,n),i&&La(e,i),o&&La(e,o)},r.render=function(){var e=this.props,t=(e.classNames,Ea(e,["classNames"]));return n().createElement(ja,_a({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(n().Component);$a.defaultProps={classNames:""},$a.propTypes={};const Fa=$a,qa=(0,a.stylesFactory)((e=>({enter:s.css`
      label: enter;
      opacity: 0;
    `,enterActive:s.css`
      label: enterActive;
      opacity: 1;
      transition: opacity ${e}ms ease-out;
    `,exit:s.css`
      label: exit;
      opacity: 1;
    `,exitActive:s.css`
      label: exitActive;
      opacity: 0;
      transition: opacity ${e}ms ease-out;
    `})));function Va(e){const{visible:t,children:r,duration:i=250}=e,o=qa(i);return n().createElement(Fa,{in:t,mountOnEnter:!0,unmountOnExit:!0,timeout:i,classNames:o},r)}const za=(0,a.stylesFactory)(((e,t,r)=>({enter:s.css`
      label: enter;
      ${t}: 0;
      opacity: 0;
    `,enterActive:s.css`
      label: enterActive;
      ${t}: ${r}px;
      opacity: 1;
      transition: opacity ${e}ms ease-out, ${t} ${e}ms ease-out;
    `,exit:s.css`
      label: exit;
      ${t}: ${r}px;
      opacity: 1;
    `,exitActive:s.css`
      label: exitActive;
      opacity: 0;
      ${t}: 0;
      transition: opacity ${e}ms ease-out, ${t} ${e}ms ease-out;
    `})));function Ba(e){const{visible:t,children:r,duration:i=250,horizontal:o,size:a}=e,s=za(i,o?"width":"height",a);return n().createElement(Fa,{in:t,mountOnEnter:!0,unmountOnExit:!0,timeout:i,classNames:s},r)}function Ha(){return Ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ha.apply(this,arguments)}const Qa=e=>({singleValue:s.css`
    label: singleValue;
    color: ${e.components.input.text};
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    box-sizing: border-box;
    max-width: 100%;
    grid-area: 1 / 1 / 2 / 3;
  `,spinnerWrapper:s.css`
    width: 16px;
    height: 16px;
    display: inline-block;
    margin-right: 10px;
    position: relative;
    vertical-align: middle;
    overflow: hidden;
  `,spinnerIcon:s.css`
    width: 100%;
    height: 100%;
    position: absolute;
  `,disabled:s.css`
    color: ${e.colors.text.disabled};
  `,isOpen:s.css`
    color: ${e.colors.text.disabled};
  `}),Wa=e=>{const{children:t,data:i,isDisabled:o}=e,l=(0,a.useStyles2)(Qa),c=function(e,t={}){const{duration:n=250,delay:i=250}=t,[o,a]=(0,r.useState)(e),s=(0,r.useRef)();return(0,r.useEffect)((()=>{let t;if(e)t=setTimeout((()=>{s.current=new Date,a(e)}),i);else{const r=s.current?Date.now()-s.current.valueOf():0,i=()=>{s.current=void 0,a(e)};r>=n?i():t=setTimeout(i,n-r)}return()=>{t&&(clearTimeout(t),t=void 0)}}),[e,n,i]),o}(i.loading||!1,{delay:250,duration:750});var u;return n().createElement(sr.SingleValue,Ha({},e,{className:(0,s.cx)(l.singleValue,o&&l.disabled,e.selectProps.menuIsOpen&&l.isOpen)}),i.imgUrl?n().createElement(Ua,{loading:c,imgUrl:i.imgUrl,styles:l,alt:null!==(u=i.label)&&void 0!==u?u:i.value}):n().createElement(Ba,{horizontal:!0,size:16,visible:c,duration:150},n().createElement("div",{className:l.spinnerWrapper},n().createElement(Xn,{className:l.spinnerIcon,inline:!0}))),!i.hideText&&t)},Ua=e=>n().createElement("div",{className:e.styles.spinnerWrapper},n().createElement(Va,{duration:150,visible:e.loading},n().createElement(Xn,{className:e.styles.spinnerIcon,inline:!0})),n().createElement(Va,{duration:150,visible:!e.loading},n().createElement("img",{className:e.styles.spinnerIcon,src:e.imgUrl,alt:e.alt})));class Xa extends r.Component{render(){const{children:e}=this.props,{selectProps:t}=this.props;if(t&&Array.isArray(e)&&Array.isArray(e[0])&&void 0!==t.maxVisibleValues&&(!t.showAllSelectedWhenOpen||!t.menuIsOpen)){const[r,...n]=e,i=r.slice(0,t.maxVisibleValues);return this.renderContainer([i,...n])}return this.renderContainer(e)}renderContainer(e){const{isMulti:t,theme:r}=this.props,i=ra(r),o=(0,s.cx)(i.valueContainer,t&&i.valueContainerMulti);return n().createElement("div",{className:o},e)}}const Ga=(e=>{const t=t=>{const r=ti;return n().createElement(r.Consumer,null,(r=>n().createElement(e,Zn({},t,{theme:r}))))};return t.displayName=`WithTheme(${e.displayName})`,Ve()(t,e),t})(Xa);function Ka(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ya(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ka(e,t,r[t])}))}return e}function Ja(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const Za=(e,t)=>{for(const r of t)if("options"in r){let t=Za(e,r.options);if(t)return t}else if("value"in r&&r.value===e)return r;return null};function es(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ts(){return ts=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ts.apply(this,arguments)}function rs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){es(e,t,r[t])}))}return e}const ns=e=>{const{children:t,innerProps:r,selectProps:{menuIsOpen:i,onMenuClose:o,onMenuOpen:a},isFocused:s,isMulti:l,getValue:c,innerRef:u}=e,d=e.selectProps;return d.renderControl?n().createElement(d.renderControl,{isOpen:i,value:l?c():c()[0],ref:u,onClick:i?o:a,onBlur:o,disabled:!!d.disabled,invalid:!!d.invalid}):n().createElement(gi,{ref:u,innerProps:r,prefix:d.prefix,focused:s,invalid:!!d.invalid,disabled:!!d.disabled},t)};function is({allowCustomValue:e=!1,allowCreateWhileLoading:t=!1,"aria-label":i,autoFocus:o=!1,backspaceRemovesValue:s=!0,cacheOptions:l,className:c,closeMenuOnSelect:u=!0,components:d,defaultOptions:p,defaultValue:f,disabled:h=!1,filterOption:m,formatCreateLabel:g,getOptionLabel:v,getOptionValue:b,inputValue:y,invalid:w,isClearable:x=!1,id:O,isLoading:_=!1,isMulti:E=!1,inputId:S,isOpen:k,isOptionDisabled:P,isSearchable:T=!0,loadOptions:C,loadingMessage:I="Loading options...",maxMenuHeight:D=300,minMenuHeight:A,maxVisibleValues:R,menuPlacement:N="auto",menuPosition:M,menuShouldPortal:j=!0,noOptionsMessage:L="No options found",onBlur:$,onChange:F,onCloseMenu:q,onCreateOption:V,onInputChange:z,onKeyDown:B,onOpenMenu:H,onFocus:Q,openMenuOnFocus:W=!1,options:U=[],placeholder:X="Choose",prefix:G,renderControl:K,showAllSelectedWhenOpen:Y=!0,tabSelectsValue:J=!0,value:Z,width:ee,isValidNewOption:te,formatOptionLabel:re}){const ne=(0,a.useTheme2)(),ie=ra(ne),oe=(0,r.useRef)(null),[ae,se]=(0,r.useState)(!1),le=function(e,t){return(0,r.useMemo)((()=>Ja(Ya({},function(e){return{clearIndicator:()=>({}),container:()=>({}),control:()=>({}),dropdownIndicator:()=>({}),group:()=>({}),groupHeading:()=>({}),indicatorsContainer:()=>({}),indicatorSeparator:()=>({}),input:function(e){return Ja(Ya({},e),{color:"inherit",margin:0,padding:0,zIndex:1})},loadingIndicator:()=>({}),loadingMessage:()=>({}),menu:()=>({}),menuList:({maxHeight:e})=>({maxHeight:e}),multiValue:()=>({}),multiValueLabel:()=>({}),multiValueRemove:()=>({}),noOptionsMessage:()=>({}),option:()=>({}),placeholder:t=>Ja(Ya({},t),{color:e.colors.text.disabled}),singleValue:()=>({}),valueContainer:()=>({})}}(e)),{menuPortal:t=>Ja(Ya({},t),{zIndex:e.zIndex.portal}),menu:({top:t,bottom:r,position:n})=>({top:t,bottom:r,position:n,minWidth:"100%",zIndex:e.zIndex.dropdown}),container:()=>({width:t?e.spacing(t):"100%",display:"auto"===t?"inline-flex":"flex"}),option:(e,t)=>Ja(Ya({},e),{opacity:t.isDisabled?.5:1})})),[e,t])}(ne,ee);(0,r.useEffect)((()=>{if(C&&k&&oe.current&&oe.current.controlRef&&"auto"===N){const e=window.innerHeight-oe.current.controlRef.getBoundingClientRect().bottom;se(e<D)}}),[D,N,C,k]);const ce=(0,r.useCallback)(((e,t)=>{if(E&&null==e)return F([],t);F(e,t)}),[E,F]);let ue=an;const de={};let pe,fe={};var he;if(E&&C)pe=Z;else if(E&&Z&&Array.isArray(Z)&&!C)pe=Z.map((e=>Za(null!==(he=e.value)&&void 0!==he?he:e,U)));else if(C){const e=f||Z;pe=e?[e]:[]}else pe=((e,t)=>{if(Array.isArray(e)){const t=e.filter(Boolean);return(null==t?void 0:t.length)?t:void 0}if("object"==typeof e)return[e];if("string"==typeof e||"number"==typeof e){const r=Za(e,t);if(r)return[r]}})(Z,U);const me={"aria-label":i,autoFocus:o,backspaceRemovesValue:s,captureMenuScroll:!1,closeMenuOnSelect:u,defaultValue:f,disabled:h,filterOption:m,getOptionLabel:v,getOptionValue:b,inputValue:y,invalid:w,isClearable:x,id:O,isDisabled:h,isLoading:_,isMulti:E,inputId:S,isOptionDisabled:P,isSearchable:T,maxMenuHeight:D,minMenuHeight:A,maxVisibleValues:R,menuIsOpen:k,menuPlacement:"auto"===N&&ae?"top":N,menuPosition:M,menuShouldBlockScroll:!0,menuPortalTarget:j&&"undefined"!=typeof document?document.body:void 0,menuShouldScrollIntoView:!1,onBlur:$,onChange:ce,onInputChange:z,onKeyDown:B,onMenuClose:q,onMenuOpen:H,onFocus:Q,formatOptionLabel:re,openMenuOnFocus:W,options:U,placeholder:X,prefix:G,renderControl:K,showAllSelectedWhenOpen:Y,tabSelectsValue:J,value:E?pe:null==pe?void 0:pe[0]};return e&&(ue=bn,de.allowCreateWhileLoading=t,de.formatCreateLabel=null!=g?g:os,de.onCreateOption=V,de.isValidNewOption=te),C&&(ue=e?gn:un,fe={loadOptions:C,cacheOptions:l,defaultOptions:p}),n().createElement(n().Fragment,null,n().createElement(ue,ts({ref:oe,components:rs({MenuList:ba,Group:Oa,ValueContainer:Ga,IndicatorsContainer(e){const{selectProps:t}=e,{value:r,showAllSelectedWhenOpen:i,maxVisibleValues:o,menuIsOpen:a}=t;if(void 0!==o){const t=r.length,s=[...e.children];return s.splice(-1,0,(e=>{const{maxVisibleValues:t,selectedValuesCount:r,menuIsOpen:i,showAllSelectedWhenOpen:o}=e;return!(void 0!==t&&r>t)||o&&i?null:n().createElement("span",{key:"excess-values",id:"excess-values"},"(+",r-t,")")})({maxVisibleValues:o,selectedValuesCount:t,showAllSelectedWhenOpen:i,menuIsOpen:a})),n().createElement(fi,ts({},e),s)}return n().createElement(fi,ts({},e))},IndicatorSeparator:()=>n().createElement(n().Fragment,null),Control:ns,Option:ya,ClearIndicator(e){const{clearValue:t}=e;return n().createElement(Qn,{name:"times",role:"button","aria-label":"select-clear-value",className:ie.singleValueRemove,onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),t()}})},LoadingIndicator:()=>n().createElement(Xn,{inline:!0}),LoadingMessage:()=>n().createElement("div",{className:ie.loadingMessage},I),NoOptionsMessage:()=>n().createElement("div",{className:ie.loadingMessage,"aria-label":"No options provided"},L),DropdownIndicator:e=>n().createElement(Gn,{isOpen:e.selectProps.menuIsOpen}),SingleValue:e=>n().createElement(Wa,ts({},e,{disabled:h})),SelectContainer:sa,MultiValueContainer:ia,MultiValueRemove:oa},d),styles:le,className:c},me,de,fe)))}function os(e){return n().createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},n().createElement("div",null,e),n().createElement("div",{style:{flexGrow:1}}),n().createElement("div",{className:"muted small",style:{display:"flex",gap:"8px",alignItems:"center"}},"Hit enter to add"))}function as(){return as=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},as.apply(this,arguments)}function ss(e){return n().createElement(is,as({},e))}function ls(){return ls=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ls.apply(this,arguments)}function cs(e){var{label:t}=e,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["label"]);const o=(0,a.useTheme2)(),[s]=(0,r.useState)((()=>Math.random().toString(16).slice(2))),l=ps(o),c={SelectContainer:us,ValueContainer:ds,SingleValue:ds};return n().createElement("div",{className:l.root},t&&n().createElement("label",{className:l.label,htmlFor:s},t,":"," "),n().createElement(ss,ls({openMenuOnFocus:!0,inputId:s},i,{components:c})))}const us=e=>{const{children:t}=e,r=(0,a.useTheme2)(),i=ps(r);return n().createElement(sa,ls({},e,{className:(0,s.cx)(e.className,i.container)}),t)},ds=e=>{const{className:t,children:r}=e,i=(0,a.useTheme2)(),o=ps(i);return n().createElement("div",{className:(0,s.cx)(t,o.valueContainer)},r)},ps=(0,a.stylesFactory)((e=>({root:(0,s.css)({display:"flex",fontSize:12,alignItems:"center"}),label:(0,s.css)({color:e.colors.text.secondary,whiteSpace:"nowrap"}),container:(0,s.css)({background:"none",borderColor:"transparent"}),valueContainer:(0,s.css)({display:"flex",alignItems:"center",flex:"initial",color:e.colors.text.secondary,fontSize:12})}))),fs=({grow:e,shrink:t})=>n().createElement("div",{style:{display:"block",flexGrow:e,flexShrink:t}}),hs=e=>{const t=(0,a.useTheme2)(),r=vs(t,e);return n().createElement("span",{className:(0,s.cx)(r.wrapper)})};var ms,gs;hs.defaultProps={v:0,h:0,layout:"block"};const vs=(0,a.stylesFactory)(((e,t)=>({wrapper:(0,s.css)([{paddingRight:e.spacing(null!==(ms=t.h)&&void 0!==ms?ms:0),paddingBottom:e.spacing(null!==(gs=t.v)&&void 0!==gs?gs:0)},"inline"===t.layout&&{display:"inline-block"},"block"===t.layout&&{display:"block"}])})));const bs=e=>{var{children:t}=e,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["children"]);const o=(0,a.useStyles2)((0,r.useCallback)((e=>Os(e,i)),[i]));return n().createElement("div",{className:o.root},t)};var ys,ws,xs;const Os=(e,t)=>({root:(0,s.css)({display:"flex",flexDirection:null!==(ys=t.direction)&&void 0!==ys?ys:"row",flexWrap:null===(ws=t.wrap)||void 0===ws||ws?"wrap":void 0,alignItems:t.alignItems,gap:e.spacing(null!==(xs=t.gap)&&void 0!==xs?xs:2),flexGrow:t.flexGrow})}),_s=({children:e})=>n().createElement(bs,{gap:.5,direction:"column"},e),Es=[{label:"$__interval",sortValue:"$__interval"},{label:"$__rate_interval",sortValue:"$__rate_interval"},{label:"$__range",sortValue:"$__range"},{label:"1m",sortValue:"00:01:00"},{label:"5m",sortValue:"00:05:00"},{label:"10m",sortValue:"00:10:00"},{label:"30m",sortValue:"00:30:00"},{label:"1h",sortValue:"01:00:00"},{label:"1d",sortValue:"24:00:00"}],Ss=[{label:"absent_over_time",insertText:"absent_over_time",detail:"absent_over_time(series_selector[d])",documentation:"returns 1 if the given lookbehind window `d` doesn't contain raw samples. Otherwise it returns an empty result. See also `present_over_time`."},{label:"aggr_over_time",insertText:"aggr_over_time",detail:'aggr_over_time(("rollup_func1", "rollup_func2", ...), series_selector[d])',documentation:'calculates all the listed `rollup_func*` for raw samples on the given lookbehind window `d`. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). `rollup_func*` can contain any rollup function. For instance, `aggr_over_time(("min_over_time", "max_over_time", "rate"), m[d])` would calculate `min_over_time` for `m[d]`.'},{label:"ascent_over_time",insertText:"ascent_over_time",detail:"ascent_over_time(series_selector[d])",documentation:"calculates ascent of raw sample values on the given lookbehind window `d`. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Useful for tracking height gains in GPS tracking. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"avg_over_time",insertText:"avg_over_time",detail:"avg_over_time(series_selector[d])",documentation:"calculates the average value over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). See also `median_over_time`."},{label:"changes",insertText:"changes",detail:"changes(series_selector[d])",documentation:"calculates the number of times the raw samples changed on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Unlike `changes()` in Prometheus it takes into account the change from the last sample before the given lookbehind window `d`. See [this article](https://medium.com/@romanhavronenko/victoriametrics-promql-compliance-d4318203f51e) for details. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"changes_prometheus",insertText:"changes_prometheus",detail:"changes_prometheus(series_selector[d])",documentation:"calculates the number of times the raw samples changed on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). It doesn't take into account the change from the last sample before the given lookbehind window `d` in the same way as Prometheus does. See [this article](https://medium.com/@romanhavronenko/victoriametrics-promql-compliance-d4318203f51e) for details. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"count_eq_over_time",insertText:"count_eq_over_time",detail:"count_eq_over_time(series_selector[d], eq)",documentation:"calculates the number of raw samples on the given lookbehind window `d`, which are equal to `eq`. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"count_gt_over_time",insertText:"count_gt_over_time",detail:"count_gt_over_time(series_selector[d], gt)",documentation:"calculates the number of raw samples on the given lookbehind window `d`, which are bigger than `gt`. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"count_le_over_time",insertText:"count_le_over_time",detail:"count_le_over_time(series_selector[d], le)",documentation:"calculates the number of raw samples on the given lookbehind window `d`, which don't exceed `le`. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"count_ne_over_time",insertText:"count_ne_over_time",detail:"count_ne_over_time(series_selector[d], ne)",documentation:"calculates the number of raw samples on the given lookbehind window `d`, which aren't equal to `ne`. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"count_over_time",insertText:"count_over_time",detail:"count_over_time(series_selector[d])",documentation:"calculates the number of raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"decreases_over_time",insertText:"decreases_over_time",detail:"decreases_over_time(series_selector[d])",documentation:"calculates the number of raw sample value decreases over the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"default_rollup",insertText:"default_rollup",detail:"default_rollup(series_selector[d])",documentation:"returns the last raw sample value on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering)."},{label:"delta",insertText:"delta",detail:"delta(series_selector[d])",documentation:"calculates the difference between the last sample before the given lookbehind window `d` and the last sample at the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). The behaviour of `delta()` function in MetricsQL is slightly different to the behaviour of `delta()` function in Prometheus. See [this article](https://medium.com/@romanhavronenko/victoriametrics-promql-compliance-d4318203f51e) for details. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"delta_prometheus",insertText:"delta_prometheus",detail:"delta_prometheus(series_selector[d])",documentation:"calculates the difference between the first and the last samples at the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). The behaviour of `delta_prometheus()` is close to the behaviour of `delta()` function in Prometheus. See [this article](https://medium.com/@romanhavronenko/victoriametrics-promql-compliance-d4318203f51e) for details. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"deriv",insertText:"deriv",detail:"deriv(series_selector[d])",documentation:"calculates per-second derivative over the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). The derivative is calculated using linear regression. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"deriv_fast",insertText:"deriv_fast",detail:"deriv_fast(series_selector[d])",documentation:"calculates per-second derivative using the first and the last raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"descent_over_time",insertText:"descent_over_time",detail:"descent_over_time(series_selector[d])",documentation:"calculates descent of raw sample values on the given lookbehind window `d`. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Useful for tracking height loss in GPS tracking. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"distinct_over_time",insertText:"distinct_over_time",detail:"distinct_over_time(series_selector[d])",documentation:"returns the number of distinct raw sample values on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"duration_over_time",insertText:"duration_over_time",detail:"duration_over_time(series_selector[d], max_interval)",documentation:"returns the duration in seconds when time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering) were present over the given lookbehind window `d`. It is expected that intervals between adjacent samples per each series don't exceed the `max_interval`. Otherwise such intervals are considered as gaps and aren't counted. See also `lifetime`."},{label:"first_over_time",insertText:"first_over_time",detail:"first_over_time(series_selector[d])",documentation:"returns the first raw sample value on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). See also `last_over_time`."},{label:"geomean_over_time",insertText:"geomean_over_time",detail:"geomean_over_time(series_selector[d])",documentation:"calculates [geometric mean](https://en.wikipedia.org/wiki/Geometric_mean) over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"histogram_over_time",insertText:"histogram_over_time",detail:"histogram_over_time(series_selector[d])",documentation:"calculates [VictoriaMetrics histogram](https://godoc.org/github.com/VictoriaMetrics/metrics#Histogram) over raw samples on the given lookbehind window `d`. It is calculated individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). The resulting histograms are useful to pass to `histogram_quantile``."},{label:"hoeffding_bound_lower",insertText:"hoeffding_bound_lower",detail:"hoeffding_bound_lower(phi, series_selector[d])",documentation:"calculates lower [Hoeffding bound](https://en.wikipedia.org/wiki/Hoeffding%27s_inequality) for the given `phi` in the range `[0...1]`. See also `hoeffding_bound_upper`."},{label:"hoeffding_bound_upper",insertText:"hoeffding_bound_upper",detail:"hoeffding_bound_upper(phi, series_selector[d])",documentation:"calculates upper [Hoeffding bound](https://en.wikipedia.org/wiki/Hoeffding%27s_inequality) for the given `phi` in the range `[0...1]`. See also `hoeffding_bound_lower`."},{label:"holt_winters",insertText:"holt_winters",detail:"holt_winters(series_selector[d], sf, tf)",documentation:"calculates Holt-Winters value (aka [double exponential smoothing](https://en.wikipedia.org/wiki/Exponential_smoothing#Double_exponential_smoothing)) for raw samples over the given lookbehind window `d` using the given smoothing factor `sf` and the given trend factor `tf`. Both `sf` and `tf` must be in the range `[0...1]`. It is expected that the [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering) returns time series of [gauge type](https://docs.victoriametrics.com/keyConcepts.html#gauge)."},{label:"idelta",insertText:"idelta",detail:"idelta(series_selector[d])",documentation:"calculates the difference between the last two raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"ideriv",insertText:"ideriv",detail:"ideriv(series_selector[d])",documentation:"calculates the per-second derivative based on the last two raw samples over the given lookbehind window `d`. The derivative is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"increase",insertText:"increase",detail:"increase(series_selector[d])",documentation:"calculates the increase over the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). It is expected that the `series_selector` returns time series of [counter type](https://docs.victoriametrics.com/keyConcepts.html#counter). Unlike Prometheus it takes into account the last sample before the given lookbehind window `d` when calculating the result. See [this article](https://medium.com/@romanhavronenko/victoriametrics-promql-compliance-d4318203f51e) for details. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"increase_prometheus",insertText:"increase_prometheus",detail:"increase_prometheus(series_selector[d])",documentation:"calculates the increase over the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). It is expected that the `series_selector` returns time series of [counter type](https://docs.victoriametrics.com/keyConcepts.html#counter). It doesn't take into account the last sample before the given lookbehind window `d` when calculating the result in the same way as Prometheus does. See [this article](https://medium.com/@romanhavronenko/victoriametrics-promql-compliance-d4318203f51e) for details. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"increase_pure",insertText:"increase_pure",detail:"increase_pure(series_selector[d])",documentation:"works the same as `increase` ignores the first value in a series if it is too big."},{label:"increases_over_time",insertText:"increases_over_time",detail:"increases_over_time(series_selector[d])",documentation:"calculates the number of raw sample value increases over the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"integrate",insertText:"integrate",detail:"integrate(series_selector[d])",documentation:"calculates the integral over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"irate",insertText:"irate",detail:"irate(series_selector[d])",documentation:'calculates the "instant" per-second increase rate over the last two raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). It is expected that the `series_selector` returns time series of [counter type](https://docs.victoriametrics.com/keyConcepts.html#counter). Metric names are stripped from the resulting rollups. Add `keep_metric_names`.'},{label:"lag",insertText:"lag",detail:"lag(series_selector[d])",documentation:"returns the duration in seconds between the last sample on the given lookbehind window `d` and the timestamp of the current point. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"last_over_time",insertText:"last_over_time",detail:"last_over_time(series_selector[d])",documentation:"returns the last raw sample value on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). See also `first_over_time`."},{label:"lifetime",insertText:"lifetime",detail:"lifetime(series_selector[d])",documentation:"returns the duration in seconds between the last and the first sample on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"max_over_time",insertText:"max_over_time",detail:"max_over_time(series_selector[d])",documentation:"calculates the maximum value over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). See also `tmax_over_time`."},{label:"median_over_time",insertText:"median_over_time",detail:"median_over_time(series_selector[d])",documentation:"calculates median value over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). See also `avg_over_time`."},{label:"min_over_time",insertText:"min_over_time",detail:"min_over_time(series_selector[d])",documentation:"calculates the minimum value over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). See also `tmin_over_time`."},{label:"mode_over_time",insertText:"mode_over_time",detail:"mode_over_time(series_selector[d])",documentation:"calculates [mode](https://en.wikipedia.org/wiki/Mode_(statistics)) for raw samples on the given lookbehind window `d`. It is calculated individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). It is expected that raw sample values are discrete."},{label:"predict_linear",insertText:"predict_linear",detail:"predict_linear(series_selector[d], t)",documentation:"calculates the value `t` seconds in the future using linear interpolation over raw samples on the given lookbehind window `d`. The predicted value is calculated individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering)."},{label:"present_over_time",insertText:"present_over_time",detail:"present_over_time(series_selector[d])",documentation:"returns 1 if there is at least a single raw sample on the given lookbehind window `d`. Otherwise an empty result is returned. Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"quantile_over_time",insertText:"quantile_over_time",detail:"quantile_over_time(phi, series_selector[d])",documentation:"calculates `phi`-quantile over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). The `phi` value must be in the range `[0...1]`. See also `quantiles_over_time`."},{label:"quantiles_over_time",insertText:"quantiles_over_time",detail:'quantiles_over_time("phiLabel", phi1, ..., phiN, series_selector[d])',documentation:'calculates `phi*`-quantiles over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). The function returns individual series per each `phi*` with `{phiLabel="phi*"}` label. `phi*` values must be in the range `[0...1]`. See also `quantile_over_time`.'},{label:"range_over_time",insertText:"range_over_time",detail:"range_over_time(series_selector[d])",documentation:"calculates value range over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). E.g. it calculates `max_over_time(series_selector[d]) - min_over_time(series_selector[d])`. Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"rate",insertText:"rate",detail:"rate(series_selector[d])",documentation:"calculates the average per-second increase rate over the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). It is expected that the `series_selector` returns time series of [counter type](https://docs.victoriametrics.com/keyConcepts.html#counter). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"rate_over_sum",insertText:"rate_over_sum",detail:"rate_over_sum(series_selector[d])",documentation:"calculates per-second rate over the sum of raw samples on the given lookbehind window `d`. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"resets",insertText:"resets",detail:"resets(series_selector[d])",documentation:"returns the number of [counter](https://docs.victoriametrics.com/keyConcepts.html#counter) resets over the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). It is expected that the `series_selector` returns time series of [counter type](https://docs.victoriametrics.com/keyConcepts.html#counter). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"rollup",insertText:"rollup",detail:"rollup(series_selector[d])",documentation:"calculates `min`, `max` and `avg` values for raw samples on the given lookbehind window `d`. These values are calculated individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering)."},{label:"rollup_candlestick",insertText:"rollup_candlestick",detail:"rollup_candlestick(series_selector[d])",documentation:"calculates `open`, `high`, `low` and `close` values (aka OHLC) over raw samples on the given lookbehind window `d`. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). This function is useful for financial applications."},{label:"rollup_delta",insertText:"rollup_delta",detail:"rollup_delta(series_selector[d])",documentation:"calculates differences between adjacent raw samples on the given lookbehind window `d` and returns `min`, `max` and `avg` values for the calculated differences. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"rollup_deriv",insertText:"rollup_deriv",detail:"rollup_deriv(series_selector[d])",documentation:"calculates per-second derivatives for adjacent raw samples on the given lookbehind window `d` and returns `min`, `max` and `avg` values for the calculated per-second derivatives. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"rollup_increase",insertText:"rollup_increase",detail:"rollup_increase(series_selector[d])",documentation:"calculates increases for adjacent raw samples on the given lookbehind window `d` and returns `min`, `max` and `avg` values for the calculated increases. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"rollup_rate",insertText:"rollup_rate",detail:"rollup_rate(series_selector[d])",documentation:"calculates per-second change rates for adjacent raw samples on the given lookbehind window `d` and returns `min`, `max` and `avg` values for the calculated per-second change rates. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"rollup_scrape_interval",insertText:"rollup_scrape_interval",detail:"rollup_scrape_interval(series_selector[d])",documentation:"calculates the interval in seconds between adjacent raw samples on the given lookbehind window `d` and returns `min`, `max` and `avg` values for the calculated interval. The calculations are performed individually per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"scrape_interval",insertText:"scrape_interval",detail:"scrape_interval(series_selector[d])",documentation:"calculates the average interval in seconds between raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"share_gt_over_time",insertText:"share_gt_over_time",detail:"share_gt_over_time(series_selector[d], gt)",documentation:"returns share (in the range `[0...1]`) of raw samples on the given lookbehind window `d`, which are bigger than `gt`. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"share_le_over_time",insertText:"share_le_over_time",detail:"share_le_over_time(series_selector[d], le)",documentation:"returns share (in the range `[0...1]`) of raw samples on the given lookbehind window `d`, which are smaller or equal to `le`. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"stale_samples_over_time",insertText:"stale_samples_over_time",detail:"stale_samples_over_time(series_selector[d])",documentation:"calculates the number of [staleness markers](https://docs.victoriametrics.com/vmagent.html#prometheus-staleness-markers) on the given lookbehind window `d` per each time series matching the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"stddev_over_time",insertText:"stddev_over_time",detail:"stddev_over_time(series_selector[d])",documentation:"calculates standard deviation over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"stdvar_over_time",insertText:"stdvar_over_time",detail:"stdvar_over_time(series_selector[d])",documentation:"calculates standard variance over raw samples on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"sum_over_time",insertText:"sum_over_time",detail:"sum_over_time(series_selector[d])",documentation:"calculates the sum of raw sample values on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"sum2_over_time",insertText:"sum2_over_time",detail:"sum2_over_time(series_selector[d])",documentation:"calculates the sum of squares for raw sample values on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"timestamp",insertText:"timestamp",detail:"timestamp(series_selector[d])",documentation:"returns the timestamp in seconds for the last raw sample on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"timestamp_with_name",insertText:"timestamp_with_name",detail:"timestamp_with_name(series_selector[d])",documentation:"returns the timestamp in seconds for the last raw sample on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are preserved in the resulting rollups. See also `timestamp`."},{label:"tfirst_over_time",insertText:"tfirst_over_time",detail:"tfirst_over_time(series_selector[d])",documentation:"returns the timestamp in seconds for the first raw sample on the given lookbehind window `d` per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"tlast_change_over_time",insertText:"tlast_change_over_time",detail:"tlast_change_over_time(series_selector[d])",documentation:"returns the timestamp in seconds for the last change per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering) on the given lookbehind window `d`. Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"tlast_over_time",insertText:"tlast_over_time",detail:"tlast_over_time(series_selector[d])",documentation:"is an alias for `timestamp`."},{label:"tmax_over_time",insertText:"tmax_over_time",detail:"tmax_over_time(series_selector[d])",documentation:"returns the timestamp in seconds for the raw sample with the maximum value on the given lookbehind window `d`. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"tmin_over_time",insertText:"tmin_over_time",detail:"tmin_over_time(series_selector[d])",documentation:"returns the timestamp in seconds for the raw sample with the minimum value on the given lookbehind window `d`. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names`."},{label:"zscore_over_time",insertText:"zscore_over_time",detail:"zscore_over_time(series_selector[d])",documentation:"calculates returns [z-score](https://en.wikipedia.org/wiki/Standard_score) for raw samples on the given lookbehind window `d`. It is calculated independently per each time series returned from the given [series_selector](https://docs.victoriametrics.com/keyConcepts.html#filtering). Metric names are stripped from the resulting rollups. Add `keep_metric_names` modifier in order to keep metric names."},{label:"abs",insertText:"abs",detail:"abs(q)",documentation:"calculates the absolute value for every point of every time series returned by `q`."},{label:"absent",insertText:"absent",detail:"absent(q)",documentation:"returns 1 if `q` has no points. Otherwise returns an empty result."},{label:"acos",insertText:"acos",detail:"acos(q)",documentation:"returns [inverse cosine](https://en.wikipedia.org/wiki/Inverse_trigonometric_functions) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"acosh",insertText:"acosh",detail:"acosh(q)",documentation:"returns [inverse hyperbolic cosine](https://en.wikipedia.org/wiki/Inverse_hyperbolic_functions#Inverse_hyperbolic_cosine) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"asin",insertText:"asin",detail:"asin(q)",documentation:"returns [inverse sine](https://en.wikipedia.org/wiki/Inverse_trigonometric_functions) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"asinh",insertText:"asinh",detail:"asinh(q)",documentation:"returns [inverse hyperbolic sine](https://en.wikipedia.org/wiki/Inverse_hyperbolic_functions#Inverse_hyperbolic_sine) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"atan",insertText:"atan",detail:"atan(q)",documentation:"returns [inverse tangent](https://en.wikipedia.org/wiki/Inverse_trigonometric_functions) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"atanh",insertText:"atanh",detail:"atanh(q)",documentation:"returns [inverse hyperbolic tangent](https://en.wikipedia.org/wiki/Inverse_hyperbolic_functions#Inverse_hyperbolic_tangent) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"bitmap_and",insertText:"bitmap_and",detail:"bitmap_and(q, mask)",documentation:"- calculates bitwise `v & mask` for every `v` point of every time series returned from `q`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"bitmap_or",insertText:"bitmap_or",detail:"bitmap_or(q, mask)",documentation:"calculates bitwise `v | mask` for every `v` point of every time series returned from `q`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"bitmap_xor",insertText:"bitmap_xor",detail:"bitmap_xor(q, mask)",documentation:"calculates bitwise `v ^ mask` for every `v` point of every time series returned from `q`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"buckets_limit",insertText:"buckets_limit",detail:"buckets_limit(limit, buckets)",documentation:"limits the number of [histogram buckets](https://valyala.medium.com/improving-histogram-usability-for-prometheus-and-grafana-bc7e5df0e350) to the given `limit`. See also `prometheus_buckets`."},{label:"ceil",insertText:"ceil",detail:"ceil(q)",documentation:"rounds every point for every time series returned by `q` to the upper nearest integer. See also `floor`."},{label:"clamp",insertText:"clamp",detail:"clamp(q, min, max)",documentation:"clamps every point for every time series returned by `q` with the given `min` and `max` values. See also `clamp_min`."},{label:"clamp_max",insertText:"clamp_max",detail:"clamp_max(q, max)",documentation:"clamps every point for every time series returned by `q` with the given `max` value. See also `clamp`."},{label:"clamp_min",insertText:"clamp_min",detail:"clamp_min(q, min)",documentation:"clamps every point for every time series returned by `q` with the given `min` value. See also `clamp`."},{label:"cos",insertText:"cos",detail:"cos(q)",documentation:"returns `cos(v)` for every `v` point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"cosh",insertText:"cosh",detail:"cosh(q)",documentation:"returns [hyperbolic cosine](https://en.wikipedia.org/wiki/Hyperbolic_functions) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"day_of_month",insertText:"day_of_month",detail:"day_of_month(q)",documentation:"returns the day of month for every point of every time series returned by `q`. It is expected that `q` returns unix timestamps. The returned values are in the range `[1...31]`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"day_of_week",insertText:"day_of_week",detail:"day_of_week(q)",documentation:"returns the day of week for every point of every time series returned by `q`. It is expected that `q` returns unix timestamps. The returned values are in the range `[0...6]`, where `0` means Sunday and `6` means Saturday. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"days_in_month",insertText:"days_in_month",detail:"days_in_month(q)",documentation:"returns the number of days in the month identified by every point of every time series returned by `q`. It is expected that `q` returns unix timestamps. The returned values are in the range `[28...31]`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"deg",insertText:"deg",detail:"deg(q)",documentation:"converts [Radians to degrees](https://en.wikipedia.org/wiki/Radian#Conversions) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"end",insertText:"end",detail:"end()",documentation:"returns the unix timestamp in seconds for the last point. See also `start`."},{label:"exp",insertText:"exp",detail:"exp(q)",documentation:"calculates the `e^v` for every point `v` of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"floor",insertText:"floor",detail:"floor(q)",documentation:"rounds every point for every time series returned by `q` to the lower nearest integer. See also `ceil`."},{label:"histogram_avg",insertText:"histogram_avg",detail:"histogram_avg(buckets)",documentation:"calculates the average value for the given `buckets`. It can be used for calculating the average over the given time range across multiple time series. For example, `histogram_avg(sum(histogram_over_time(response_time_duration_seconds[5m])) by (vmrange,job))` would return the average response time per each `job` over the last 5 minutes."},{label:"histogram_quantile",insertText:"histogram_quantile",detail:"histogram_quantile(phi, buckets)",documentation:"calculates `phi`-quantile over the given [histogram buckets](https://valyala.medium.com/improving-histogram-usability-for-prometheus-and-grafana-bc7e5df0e350). `phi` must be in the range `[0...1]`. For example, `histogram_quantile(0.5, sum(rate(http_request_duration_seconds_bucket[5m]) by (le))` would return median request duration for all the requests during the last 5 minutes. It accepts optional third arg - `boundsLabel`. In this case it returns `lower` and `upper` bounds for the estimated percentile. See [this issue for details](https://github.com/prometheus/prometheus/issues/5706). This function is supported by PromQL (except of the `boundLabel` arg). See also `histogram_quantiles`."},{label:"histogram_quantiles",insertText:"histogram_quantiles",detail:'histogram_quantiles("phiLabel", phi1, ..., phiN, buckets)',documentation:"calculates the given `phi*`-quantiles over the given [histogram buckets](https://valyala.medium.com/improving-histogram-usability-for-prometheus-and-grafana-bc7e5df0e350). Argument `phi*` must be in the range `[0...1]`. For example, `histogram_quantiles('le', 0.3, 0.5, sum(rate(http_request_duration_seconds_bucket[5m]) by (le))`. Each calculated quantile is returned in a separate time series with the corresponding `{phiLabel=\"phi*\"}` label. See also `histogram_quantile`."},{label:"histogram_share",insertText:"histogram_share",detail:"histogram_share(le, buckets)",documentation:"calculates the share (in the range `[0...1]`) for `buckets` that fall below `le`. Useful for calculating SLI and SLO. This is inverse to `histogram_quantile`."},{label:"histogram_stddev",insertText:"histogram_stddev",detail:"histogram_stddev(buckets)",documentation:"calculates standard deviation for the given `buckets`."},{label:"histogram_stdvar",insertText:"histogram_stdvar",detail:"histogram_stdvar(buckets)",documentation:"calculates standard variance for the given `buckets`. It can be used for calculating standard deviation over the given time range across multiple time series. For example, `histogram_stdvar(sum(histogram_over_time(temperature[24])) by (vmrange,country))` would return standard deviation for the temperature per each country over the last 24 hours."},{label:"hour",insertText:"hour",detail:"hour(q)",documentation:"returns the hour for every point of every time series returned by `q`. It is expected that `q` returns unix timestamps. The returned values are in the range `[0...23]`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"interpolate",insertText:"interpolate",detail:"interpolate(q)",documentation:"fills gaps with linearly interpolated values calculated from the last and the next non-empty points per each time series returned by `q`. See also `keep_last_value`."},{label:"keep_last_value",insertText:"keep_last_value",detail:"keep_last_value(q)",documentation:"fills gaps with the value of the last non-empty point in every time series returned by `q`. See also `keep_next_value`."},{label:"keep_next_value",insertText:"keep_next_value",detail:"keep_next_value(q)",documentation:"fills gaps with the value of the next non-empty point in every time series returned by `q`. See also `keep_last_value`."},{label:"limit_offset",insertText:"limit_offset",detail:"limit_offset(limit, offset, q)",documentation:"skips `offset` time series from series returned by `q` and then returns up to `limit` of the remaining time series per each group. This allows implementing simple paging for `q` time series. See also `limitk`."},{label:"ln",insertText:"ln",detail:"ln(q)",documentation:"calculates `ln(v)` for every point `v` of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"log2",insertText:"log2",detail:"log2(q)",documentation:"calculates `log2(v)` for every point `v` of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"log10",insertText:"log10",detail:"log10(q)",documentation:"calculates `log10(v)` for every point `v` of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"minute",insertText:"minute",detail:"minute(q)",documentation:"returns the minute for every point of every time series returned by `q`. It is expected that `q` returns unix timestamps. The returned values are in the range `[0...59]`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"month",insertText:"month",detail:"month(q)",documentation:"returns the month for every point of every time series returned by `q`. It is expected that `q` returns unix timestamps. The returned values are in the range `[1...12]`, where `1` means January and `12` means December. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"now",insertText:"now",detail:"now()",documentation:"returns the current timestamp as a floating-point value in seconds. See also `time`."},{label:"pi",insertText:"pi",detail:"pi()",documentation:"returns [Pi number](https://en.wikipedia.org/wiki/Pi)."},{label:"rad",insertText:"rad",detail:"rad(q)",documentation:"converts [degrees to Radians](https://en.wikipedia.org/wiki/Radian#Conversions) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"prometheus_buckets",insertText:"prometheus_buckets",detail:"prometheus_buckets(buckets)",documentation:"converts [VictoriaMetrics histogram buckets](https://valyala.medium.com/improving-histogram-usability-for-prometheus-and-grafana-bc7e5df0e350) with `vmrange` labels to Prometheus histogram buckets with `le` labels. This may be useful for building heatmaps in Grafana. See also `histogram_quantile`."},{label:"rand",insertText:"rand",detail:"rand(seed)",documentation:"returns pseudo-random numbers on the range `[0...1]` with even distribution. Optional `seed` can be used as a seed for pseudo-random number generator. See also `rand_normal`."},{label:"rand_exponential",insertText:"rand_exponential",detail:"rand_exponential(seed)",documentation:"returns pseudo-random numbers with [exponential distribution](https://en.wikipedia.org/wiki/Exponential_distribution). Optional `seed` can be used as a seed for pseudo-random number generator. See also `rand`."},{label:"rand_normal",insertText:"rand_normal",detail:"rand_normal(seed)",documentation:"returns pseudo-random numbers with [normal distribution](https://en.wikipedia.org/wiki/Normal_distribution). Optional `seed` can be used as a seed for pseudo-random number generator. See also `rand`."},{label:"range_avg",insertText:"range_avg",detail:"range_avg(q)",documentation:"calculates the avg value across points per each time series returned by `q`."},{label:"range_first",insertText:"range_first",detail:"range_first(q)",documentation:"returns the value for the first point per each time series returned by `q`."},{label:"range_last",insertText:"range_last",detail:"range_last(q)",documentation:"returns the value for the last point per each time series returned by `q`."},{label:"range_max",insertText:"range_max",detail:"range_max(q)",documentation:"calculates the max value across points per each time series returned by `q`."},{label:"range_median",insertText:"range_median",detail:"range_median(q)",documentation:"calculates the median value across points per each time series returned by `q`."},{label:"range_min",insertText:"range_min",detail:"range_min(q)",documentation:"calculates the min value across points per each time series returned by `q`."},{label:"range_quantile",insertText:"range_quantile",detail:"range_quantile(phi, q)",documentation:"returns `phi`-quantile across points per each time series returned by `q`. `phi` must be in the range `[0...1]`."},{label:"range_sum",insertText:"range_sum",detail:"range_sum(q)",documentation:"calculates the sum of points per each time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"remove_resets",insertText:"remove_resets",detail:"remove_resets(q)",documentation:"removes counter resets from time series returned by `q`."},{label:"round",insertText:"round",detail:"round(q, nearest)",documentation:"round every point of every time series returned by `q` to the `nearest` multiple. If `nearest` is missing then the rounding is performed to the nearest integer. See also `floor`."},{label:"ru",insertText:"ru",detail:"ru(free, max)",documentation:"calculates resource utilization in the range `[0%...100%]` for the given `free` and `max` resources. For instance, `ru(node_memory_MemFree_bytes, node_memory_MemTotal_bytes)` returns memory utilization over [node_exporter](https://github.com/prometheus/node_exporter) metrics."},{label:"running_avg",insertText:"running_avg",detail:"running_avg(q)",documentation:"calculates the running avg per each time series returned by `q`."},{label:"running_max",insertText:"running_max",detail:"running_max(q)",documentation:"calculates the running max per each time series returned by `q`."},{label:"running_min",insertText:"running_min",detail:"running_min(q)",documentation:"calculates the running min per each time series returned by `q`."},{label:"running_sum",insertText:"running_sum",detail:"running_sum(q)",documentation:"calculates the running sum per each time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"scalar",insertText:"scalar",detail:"scalar(q)",documentation:"returns `q` if `q` contains only a single time series. Otherwise it returns nothing."},{label:"sgn",insertText:"sgn",detail:"sgn(q)",documentation:"returns `1` if `v>0`, `-1` if `v<0` and `0` if `v==0` for every point `v` of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"sin",insertText:"sin",detail:"sin(q)",documentation:"returns `sin(v)` for every `v` point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"sinh",insertText:"sinh",detail:"sinh(q)",documentation:"returns [hyperbolic sine](https://en.wikipedia.org/wiki/Hyperbolic_functions) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"tan",insertText:"tan",detail:"tan(q)",documentation:"returns `tan(v)` for every `v` point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"tanh",insertText:"tanh",detail:"tanh(q)",documentation:"returns [hyperbolic tangent](https://en.wikipedia.org/wiki/Hyperbolic_functions) for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names`."},{label:"smooth_exponential",insertText:"smooth_exponential",detail:"smooth_exponential(q, sf)",documentation:"smooths points per each time series returned by `q` using [exponential moving average](https://en.wikipedia.org/wiki/Moving_average#Exponential_moving_average) with the given smooth factor `sf`."},{label:"sort",insertText:"sort",detail:"sort(q)",documentation:"sorts series in ascending order by the last point in every time series returned by `q`. See also `sort_desc`."},{label:"sort_by_label",insertText:"sort_by_label",detail:"sort_by_label(q, label1, ... labelN)",documentation:'sorts series in ascending order by the given set of labels. For example, `sort_by_label(foo, "bar")` would sort `foo` series by values of the label `bar` in these series. See also `sort_by_label_desc`.'},{label:"sort_by_label_desc",insertText:"sort_by_label_desc",detail:"sort_by_label_desc(q, label1, ... labelN)",documentation:'sorts series in descending order by the given set of labels. For example, `sort_by_label(foo, "bar")` would sort `foo` series by values of the label `bar` in these series. See also `sort_by_label`.'},{label:"sort_by_label_numeric",insertText:"sort_by_label_numeric",detail:"sort_by_label_numeric(q, label1, ... labelN)",documentation:'sorts series in ascending order by the given set of labels using [numeric sort](https://www.gnu.org/software/coreutils/manual/html_node/Version-sort-is-not-the-same-as-numeric-sort.html). For example, if `foo` series have `bar` label with values `1`, `101`, `15` and `2`, then `sort_by_label_numeric(foo, "bar")` would return series in the following order of `bar` label values: `1`, `2`, `15` and `101`.'},{label:"sort_by_label_numeric_desc",insertText:"sort_by_label_numeric_desc",detail:"sort_by_label_numeric_desc(q, label1, ... labelN)",documentation:'sorts series in descending order by the given set of labels using [numeric sort](https://www.gnu.org/software/coreutils/manual/html_node/Version-sort-is-not-the-same-as-numeric-sort.html). For example, if `foo` series have `bar` label with values `1`, `101`, `15` and `2`, then `sort_by_label_numeric(foo, "bar")` would return series in the following order of `bar` label values: `101`, `15`, `2` and `1`.'},{label:"sort_desc",insertText:"sort_desc",detail:"sort_desc(q)",documentation:"sorts series in descending order by the last point in every time series returned by `q`. See also `sort`."},{label:"sqrt",insertText:"sqrt",detail:"sqrt(q)",documentation:"calculates square root for every point of every time series returned by `q`. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"start",insertText:"start",detail:"start()",documentation:"returns unix timestamp in seconds for the first point. See also `end`."},{label:"step",insertText:"step",detail:"step()",documentation:"returns the step in seconds (aka interval) between the returned points. It is known as `step` query arg passed to [/api/v1/query_range](https://docs.victoriametrics.com/keyConcepts.html#range-query)."},{label:"time",insertText:"time",detail:"time()",documentation:"returns unix timestamp for every returned point."},{label:"timezone_offset",insertText:"timezone_offset",detail:"timezone_offset(tz)",documentation:'returns offset in seconds for the given timezone `tz` relative to UTC. This can be useful when combining with datetime-related functions. For example, `day_of_week(time()+timezone_offset("America/Los_Angeles"))` would return weekdays for `America/Los_Angeles` time zone. Special `Local` time zone can be used for returning an offset for the time zone set on the host where VictoriaMetrics runs. See [the list of supported timezones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones).'},{label:"ttf",insertText:"ttf",detail:"ttf(free)",documentation:"estimates the time in seconds needed to exhaust `free` resources. For instance, `ttf(node_filesystem_avail_byte)` returns the time to storage space exhaustion. This function may be useful for capacity planning."},{label:"union",insertText:"union",detail:"union(q1, ..., qN)",documentation:"returns a union of time series returned from `q1`, ..., `qN`. The `union` function name can be skipped - the following queries are equivalent: `union(q1, q2)` and `(q1, q2)`. It is expected that each `q*` query returns time series with unique sets of labels. Otherwise only the first time series out of series with identical set of labels is returned. Use `alias` functions for giving unique labelsets per each `q*` query:"},{label:"vector",insertText:"vector",detail:"vector(q)",documentation:"returns `q`, e.g. it does nothing in MetricsQL."},{label:"year",insertText:"year",detail:"year(q)",documentation:"returns the year for every point of every time series returned by `q`. It is expected that `q` returns unix timestamps. Metric names are stripped from the resulting series. Add `keep_metric_names` modifier in order to keep metric names."},{label:"alias",insertText:"alias",detail:'alias(q, "name")',documentation:'sets the given `name` to all the time series returned by `q`. For example, `alias(up, "foobar")` would rename `up` series to `foobar` series.'},{label:"drop_common_labels",insertText:"drop_common_labels",detail:"drop_common_labels(q1, ...., qN)",documentation:'drops common `label="value"` pairs among time series returned from `q1, ..., qN`.'},{label:"label_copy",insertText:"label_copy",detail:'label_copy(q, "src_label1", "dst_label1", ..., "src_labelN", "dst_labelN")',documentation:"copies label values from `src_label*` to `dst_label*` for all the time series returned by `q`. If `src_label` is empty, then the corresponding `dst_label` is left untouched."},{label:"label_del",insertText:"label_del",detail:'label_del(q, "label1", ..., "labelN")',documentation:"deletes the given `label*` labels from all the time series returned by `q`."},{label:"label_graphite_group",insertText:"label_graphite_group",detail:"label_graphite_group(q, groupNum1, ... groupNumN)",documentation:'replaces metric names returned from `q` with the given Graphite group values concatenated via `.` char. For example, `label_graphite_group({__graphite__="foo*.bar.*"}, 0, 2)` would substitute `foo<any_value>.bar.<other_value>` metric names with `foo<any_value>.<other_value>`. This function is useful for aggregating Graphite metrics with `aggregate functions`. For example, the following query would return per-app memory usage:'},{label:"label_join",insertText:"label_join",detail:'label_join(q, "dst_label", "separator", "src_label1", ..., "src_labelN")',documentation:'joins `src_label*` values with the given `separator` and stores the result in `dst_label`. This is performed individually per each time series returned by `q`. For example, `label_join(up{instance="xxx",job="yyy"}, "foo", "-", "instance", "job")` would store `xxx-yyy` label value into `foo` label.'},{label:"label_keep",insertText:"label_keep",detail:'label_keep(q, "label1", ..., "labelN")',documentation:"deletes all the labels except of the listed `label*` labels in all the time series returned by `q`."},{label:"label_lowercase",insertText:"label_lowercase",detail:'label_lowercase(q, "label1", ..., "labelN")',documentation:"lowercases values for the given `label*` labels in all the time series returned by `q`."},{label:"label_map",insertText:"label_map",detail:'label_map(q, "label", "src_value1", "dst_value1", ..., "src_valueN", "dst_valueN")',documentation:"maps `label` values from `src_*` to `dst*` for all the time series returned by `q`."},{label:"label_match",insertText:"label_match",detail:'label_match(q, "label", "regexp")',documentation:"drops time series from `q` with `label` not matching the given `regexp`. This function can be useful after `rollup`."},{label:"label_mismatch",insertText:"label_mismatch",detail:'label_mismatch(q, "label", "regexp")',documentation:"drops time series from `q` with `label` matching the given `regexp`. This function can be useful after `rollup`."},{label:"label_move",insertText:"label_move",detail:'label_move(q, "src_label1", "dst_label1", ..., "src_labelN", "dst_labelN")',documentation:"moves label values from `src_label*` to `dst_label*` for all the time series returned by `q`. If `src_label` is empty, then the corresponding `dst_label` is left untouched."},{label:"label_replace",insertText:"label_replace",detail:'label_replace(q, "dst_label", "replacement", "src_label", "regex")',documentation:'applies the given `regex` to `src_label` and stores the `replacement` in `dst_label` if the given `regex` matches `src_label`. The `replacement` may contain references to regex captures such as `$1`, `$2`, etc. These references are substituted by the corresponding regex captures. For example, `label_replace(up{job="node-exporter"}, "foo", "bar-$1", "job", "node-(.+)")` would store `bar-exporter` label value into `foo` label.'},{label:"label_set",insertText:"label_set",detail:'label_set(q, "label1", "value1", ..., "labelN", "valueN")',documentation:'sets `{label1="value1", ..., labelN="valueN"}` labels to all the time series returned by `q`.'},{label:"label_transform",insertText:"label_transform",detail:'label_transform(q, "label", "regexp", "replacement")',documentation:"substitutes all the `regexp` occurrences by the given `replacement` in the given `label`."},{label:"label_uppercase",insertText:"label_uppercase",detail:'label_uppercase(q, "label1", ..., "labelN")',documentation:"uppercases values for the given `label*` labels in all the time series returned by `q`."},{label:"label_value",insertText:"label_value",detail:'label_value(q, "label")',documentation:'returns number values for the given `label` for every time series returned by `q`. For example, if `label_value(foo, "bar")` is applied to `foo{bar="1.234"}`, then it will return a time series `foo{bar="1.234"}` with `1.234` value.'},{label:"any",insertText:"any",detail:"any(q) by (group_labels)",documentation:"returns a single series per `group_labels` out of time series returned by `q`. See also `group`."},{label:"avg",insertText:"avg",detail:"avg(q) by (group_labels)",documentation:"returns the average value per `group_labels` for time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"bottomk",insertText:"bottomk",detail:"bottomk(k, q)",documentation:"returns up to `k` points with the smallest values across all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp. See also `topk`."},{label:"bottomk_avg",insertText:"bottomk_avg",detail:'bottomk_avg(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q` with the smallest averages. If an optional `other_label=other_value` arg is set, then the sum of the remaining time series is returned with the given label. For example, `bottomk_avg(3, sum(process_resident_memory_bytes) by (job), "job=other")` would return up to 3 time series with the smallest averages plus a time series with `{job="other"}` label with the sum of the remaining series if any. See also `topk_avg`.'},{label:"bottomk_last",insertText:"bottomk_last",detail:'bottomk_last(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q` with the smallest last values. If an optional `other_label=other_value` arg is set, then the sum of the remaining time series is returned with the given label. For example, `bottomk_max(3, sum(process_resident_memory_bytes) by (job), "job=other")` would return up to 3 time series with the smallest maximums plus a time series with `{job="other"}` label with the sum of the remaining series if any. See also `topk_last`.'},{label:"bottomk_max",insertText:"bottomk_max",detail:'bottomk_max(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q` with the smallest maximums. If an optional `other_label=other_value` arg is set, then the sum of the remaining time series is returned with the given label. For example, `bottomk_max(3, sum(process_resident_memory_bytes) by (job), "job=other")` would return up to 3 time series with the smallest maximums plus a time series with `{job="other"}` label with the sum of the remaining series if any. See also `topk_max`.'},{label:"bottomk_median",insertText:"bottomk_median",detail:'bottomk_median(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q with the smallest medians. If an optional`other_label=other_value`arg is set, then the sum of the remaining time series is returned with the given label. For example,`bottomk_median(3, sum(process_resident_memory_bytes) by (job), "job=other")`would return up to 3 time series with the smallest medians plus a time series with`{job="other"}\\` label with the sum of the remaining series if any. See also `topk_median`.'},{label:"bottomk_min",insertText:"bottomk_min",detail:'bottomk_min(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q` with the smallest minimums. If an optional `other_label=other_value` arg is set, then the sum of the remaining time series is returned with the given label. For example, `bottomk_min(3, sum(process_resident_memory_bytes) by (job), "job=other")` would return up to 3 time series with the smallest minimums plus a time series with `{job="other"}` label with the sum of the remaining series if any. See also `topk_min`.'},{label:"count",insertText:"count",detail:"count(q) by (group_labels)",documentation:"returns the number of non-empty points per `group_labels` for time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"count_values",insertText:"count_values",detail:'count_values("label", q)',documentation:"counts the number of points with the same value and stores the counts in a time series with an additional `label`, which contains each initial value. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"distinct",insertText:"distinct",detail:"distinct(q)",documentation:"calculates the number of unique values per each group of points with the same timestamp."},{label:"geomean",insertText:"geomean",detail:"geomean(q)",documentation:"calculates geometric mean per each group of points with the same timestamp."},{label:"group",insertText:"group",detail:"group(q) by (group_labels)",documentation:"returns `1` per each `group_labels` for time series returned by `q`. See also `any`."},{label:"histogram",insertText:"histogram",detail:"histogram(q)",documentation:"calculates [VictoriaMetrics histogram](https://valyala.medium.com/improving-histogram-usability-for-prometheus-and-grafana-bc7e5df0e350) per each group of points with the same timestamp. Useful for visualizing big number of time series via a heatmap. See [this article](https://medium.com/@valyala/improving-histogram-usability-for-prometheus-and-grafana-bc7e5df0e350) for more details."},{label:"limitk",insertText:"limitk",detail:"limitk(k, q) by (group_labels)",documentation:"returns up to `k` time series per each `group_labels` out of time series returned by `q`. The returned set of time series remain the same across calls. See also `limit_offset`."},{label:"mad",insertText:"mad",detail:"mad(q) by (group_labels)",documentation:"returns the [Median absolute deviation](https://en.wikipedia.org/wiki/Median_absolute_deviation) per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp. See also `outliers_mad`."},{label:"max",insertText:"max",detail:"max(q) by (group_labels)",documentation:"returns the maximum value per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"median",insertText:"median",detail:"median(q) by (group_labels)",documentation:"returns the median value per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"min",insertText:"min",detail:"min(q) by (group_labels)",documentation:"returns the minimum value per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"mode",insertText:"mode",detail:"mode(q) by (group_labels)",documentation:"returns [mode](https://en.wikipedia.org/wiki/Mode_(statistics)) per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"outliers_mad",insertText:"outliers_mad",detail:"outliers_mad(tolerance, q)",documentation:"returns time series from `q` with at least a single point outside [Median absolute deviation](https://en.wikipedia.org/wiki/Median_absolute_deviation) (aka MAD) multiplied by `tolerance`. E.g. it returns time series with at least a single point below `median(q) - mad(q)` or a single point above `median(q) + mad(q)`. See also `outliersk`."},{label:"outliersk",insertText:"outliersk",detail:"outliersk(k, q)",documentation:"returns up to `k` time series with the biggest standard deviation (aka outliers) out of time series returned by `q`. See also `outliers_mad`."},{label:"quantile",insertText:"quantile",detail:"quantile(phi, q) by (group_labels)",documentation:"calculates `phi`-quantile per each `group_labels` for all the time series returned by `q`. `phi` must be in the range `[0...1]`. The aggregate is calculated individually per each group of points with the same timestamp. See also `quantiles`."},{label:"quantiles",insertText:"quantiles",detail:'quantiles("phiLabel", phi1, ..., phiN, q)',documentation:'calculates `phi*`-quantiles for all the time series returned by `q` and return them in time series with `{phiLabel="phi*"}` label. `phi*` must be in the range `[0...1]`. The aggregate is calculated individually per each group of points with the same timestamp. See also `quantile`.'},{label:"stddev",insertText:"stddev",detail:"stddev(q) by (group_labels)",documentation:"calculates standard deviation per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"stdvar",insertText:"stdvar",detail:"stdvar(q) by (group_labels)",documentation:"calculates standard variance per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"sum",insertText:"sum",detail:"sum(q) by (group_labels)",documentation:"returns the sum per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"sum2",insertText:"sum2",detail:"sum2(q) by (group_labels)",documentation:"calculates the sum of squares per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp."},{label:"topk",insertText:"topk",detail:"topk(k, q)",documentation:"returns up to `k` points with the biggest values across all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp. See also `bottomk`."},{label:"topk_avg",insertText:"topk_avg",detail:'topk_avg(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q` with the biggest averages. If an optional `other_label=other_value` arg is set, then the sum of the remaining time series is returned with the given label. For example, `topk_avg(3, sum(process_resident_memory_bytes) by (job), "job=other")` would return up to 3 time series with the biggest averages plus a time series with `{job="other"}` label with the sum of the remaining series if any. See also `bottomk_avg`.'},{label:"topk_last",insertText:"topk_last",detail:'topk_last(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q` with the biggest last values. If an optional `other_label=other_value` arg is set, then the sum of the remaining time series is returned with the given label. For example, `topk_max(3, sum(process_resident_memory_bytes) by (job), "job=other")` would return up to 3 time series with the biggest maximums plus a time series with `{job="other"}` label with the sum of the remaining series if any. See also `bottomk_last`.'},{label:"topk_max",insertText:"topk_max",detail:'topk_max(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q` with the biggest maximums. If an optional `other_label=other_value` arg is set, then the sum of the remaining time series is returned with the given label. For example, `topk_max(3, sum(process_resident_memory_bytes) by (job), "job=other")` would return up to 3 time series with the biggest maximums plus a time series with `{job="other"}` label with the sum of the remaining series if any. See also `bottomk_max`.'},{label:"topk_median",insertText:"topk_median",detail:'topk_median(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q` with the biggest medians. If an optional `other_label=other_value` arg is set, then the sum of the remaining time series is returned with the given label. For example, `topk_median(3, sum(process_resident_memory_bytes) by (job), "job=other")` would return up to 3 time series with the biggest medians plus a time series with `{job="other"}` label with the sum of the remaining series if any. See also `bottomk_median`.'},{label:"topk_min",insertText:"topk_min",detail:'topk_min(k, q, "other_label=other_value")',documentation:'returns up to `k` time series from `q` with the biggest minimums. If an optional `other_label=other_value` arg is set, then the sum of the remaining time series is returned with the given label. For example, `topk_min(3, sum(process_resident_memory_bytes) by (job), "job=other")` would return up to 3 time series with the biggest minimums plus a time series with `{job="other"}` label with the sum of the remaining series if any. See also `bottomk_min`.'},{label:"zscore",insertText:"zscore",detail:"zscore(q) by (group_labels)",documentation:"returns [z-score](https://en.wikipedia.org/wiki/Standard_score) values per each `group_labels` for all the time series returned by `q`. The aggregate is calculated individually per each group of points with the same timestamp. Useful for detecting anomalies in the group of related time series."},{insertText:"count_scalar",label:"count_scalar",detail:"count_scalar(v instant-vector)",documentation:"Returns the number of elements in a time series vector as a scalar. This is in contrast to the `count()` aggregation operator, which always returns a vector (an empty one if the input vector is empty) and allows grouping by labels via a `by` clause."}],ks=(Ss.map((e=>e.label)),{comment:{pattern:/#.*/},"context-aggregation":{pattern:/((by|without)\s*)\([^)]*\)/,lookbehind:!0,inside:{"label-key":{pattern:/[^(),\s][^,)]*[^),\s]*/,alias:"attr-name"},punctuation:/[()]/}},"context-labels":{pattern:/\{[^}]*(?=}?)/,greedy:!0,inside:{comment:{pattern:/#.*/},"label-key":{pattern:/[a-z_]\w*(?=\s*(=|!=|=~|!~))/,alias:"attr-name",greedy:!0},"label-value":{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0,alias:"attr-value"},punctuation:/[{]/}},function:new RegExp(`\\b(?:${Ss.map((e=>e.label)).join("|")})(?=\\s*\\()`,"i"),"context-range":[{pattern:/\[[^\]]*(?=])/,inside:{"range-duration":{pattern:/\b\d+[smhdwy]\b/i,alias:"number"}}},{pattern:/(offset\s+)\w+/,lookbehind:!0,inside:{"range-duration":{pattern:/\b\d+[smhdwy]\b/i,alias:"number"}}}],idList:{pattern:/\d+(\|\d+)+/,alias:"number"},number:/\b-?\d+((\.\d*)?([eE][+-]?\d+)?)?\b/,operator:new RegExp(`/[-+*/=%^~]|&&?|\\|?\\||!=?|<(?:=>?|<|>)?|>[>=]?|\\b(?:${["by","group_left","group_right","ignoring","on","offset","without"].join("|")})\\b`,"i"),punctuation:/[{};()`,.]/}),Ps=ks;var Ts,Cs,Is=m(5980),Ds=m(6407),As=m.n(Ds);function Rs(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function Ns(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Rs(o,n,i,a,s,"next",e)}function s(e){Rs(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Ms({onChange:e,index:i,operationIndex:o,value:s,query:l,datasource:c}){const[u,d]=(0,r.useState)({});return n().createElement(a.Select,{inputId:Xs(o,i),autoFocus:""===s||void 0,openMenuOnFocus:!0,onOpenMenu:Ns((function*(){d({isLoading:!0});const e=yield function(e,t){return js.apply(this,arguments)}(l,c);d({options:e,isLoading:void 0})})),isLoading:u.isLoading,allowCustomValue:!0,noOptionsMessage:"No labels found",loadingMessage:"Loading labels",options:u.options,value:(0,t.toOption)(s),onChange:t=>e(i,t.value)})}function js(){return js=Ns((function*(e,t){let r=e.labels;"prometheus"===t.type&&(r=[{label:"__name__",op:"=",value:e.metric},...e.labels]);const n=wl.renderLabels(r),i=yield t.languageProvider.fetchSeriesLabels(n);return Object.keys(i).map((e=>({label:e,value:e})))})),js.apply(this,arguments)}function Ls(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ls(e,t,r[t])}))}return e}function Fs(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function qs(e,t,r){const n=Qs(e,t),i=e.id+"(";return r&&n.push(r),i+n.join(", ")+")"}function Vs(e,t,r){const n=Qs(e,t),i=e.id+"(";return r&&n.unshift(r),i+n.join(", ")+")"}function zs(e,t,r,n){if(t.params.length<2)throw`Cannot render a function with params of length [${t.params.length}]`;var i,o;let a=null!==(o=(null!==(i=e.params)&&void 0!==i?i:[])[0])&&void 0!==o?o:"5m";const s=Qs(Fs($s({},e),{params:e.params.slice(1)}),Fs($s({},t),{params:t.params.slice(1),defaultParams:t.defaultParams.slice(1)})),l=e.id+"(";return r&&(n?s.push(`${r}[${a}]`):s.unshift(`${r}[${a}]`)),l+s.join(", ")+")"}function Bs(e,t,r){return zs(e,t,r,!1)}function Hs(e,t,r){return zs(e,t,r,!0)}function Qs(e,t,r){var n;return(null!==(n=e.params)&&void 0!==n?n:[]).map(((e,r)=>"string"===t.params[r].type?'"'+e+'"':e))}function Ws(e,t){const r={id:e.id,params:e.defaultParams};return Fs($s({},t),{operations:[...t.operations,r]})}function Us(e){return(0,Is.capitalize)(e.replace(/_/g," "))}function Xs(e,t){return`operations.${e}.param.${t}`}function Gs(e=!1){const t={name:"Range",type:"string",options:[{label:"$__interval",value:"$__interval"},{label:"1m",value:"1m"},{label:"5m",value:"5m"},{label:"10m",value:"10m"},{label:"1h",value:"1h"},{label:"24h",value:"24h"}]};return e&&t.options.unshift({label:"$__rate_interval",value:"$__rate_interval"}),t}function Ks(e,t={}){var r,n;return[$s({id:e,name:Us(e),params:[{name:"By label",type:"string",restParam:!0,optional:!0}],defaultParams:[],alternativesKey:"plain aggregations",category:Ts.Aggregations,renderer:qs,paramChangedHandler:(n=`__${e}_by`,function(e,t,r){return t.params.length===r.params.length?Fs($s({},t),{id:n}):t}),explainHandler:Zs(e,""),addOperationHandler:Ws},t),$s({id:`__${e}_by`,name:`${Us(e)} by`,params:[{name:"Label",type:"string",restParam:!0,optional:!0,editor:Ms}],defaultParams:[""],alternativesKey:"aggregations by",category:Ts.Aggregations,renderer:(r=e,function(e,t,n){return`${r} by(${e.params.join(", ")}) (${n})`}),paramChangedHandler:tl(e),explainHandler:Zs(e,"by"),addOperationHandler:Ws,hideFromList:!0},t),$s({id:`__${e}_without`,name:`${Us(e)} without`,params:[{name:"Label",type:"string",restParam:!0,optional:!0,editor:Ms}],defaultParams:[""],alternativesKey:"aggregations by",category:Ts.Aggregations,renderer:Js(e),paramChangedHandler:tl(e),explainHandler:Zs(e,"without"),addOperationHandler:Ws,hideFromList:!0},t)]}function Ys(e,t,r={}){const n=Ks(e,r);return n[0].params.unshift(...t.params),n[1].params.unshift(...t.params),n[2].params.unshift(...t.params),n[0].defaultParams=t.defaultParams,n[1].defaultParams=[...t.defaultParams,""],n[2].defaultParams=[...t.defaultParams,""],n[1].renderer=el(e),n[2].renderer=el(e),n}function Js(e){return function(t,r,n){return`${e} without(${t.params.join(", ")}) (${n})`}}function Zs(e,t){return function(r){const n=r.params.map((e=>`\`${e}\``)).join(" and "),i=As()("label",r.params.length);switch(t){case"by":return`Calculates ${e} over dimensions while preserving ${i} ${n}.`;case"without":return`Calculates ${e} over the dimensions ${n}. All other labels are preserved.`;default:return`Calculates ${e} over the dimensions.`}}}function el(e){return function(t,r,n){const i=r.params.findIndex((e=>e.restParam)),o=t.params.slice(0,i),a=t.params.slice(i);return`${e} by(${a.join(", ")}) (${o.map(((e,t)=>"string"===r.params[t].type?`"${e}"`:e)).join(", ")}, ${n})`}}function tl(e){return function(t,r,n){return r.params.length<n.params.length?Fs($s({},r),{id:e}):r}}!function(e){e.Aggregations="Aggregations",e.RangeFunctions="Range functions",e.Functions="Functions",e.BinaryOps="Binary operations",e.Trigonometric="Trigonometric",e.Time="Time Functions"}(Ts||(Ts={})),function(e){e.Abs="abs",e.Absent="absent",e.AbsentOverTime="absent_over_time",e.Acos="acos",e.Acosh="acosh",e.Asin="asin",e.Asinh="asinh",e.Atan="atan",e.Atanh="atanh",e.Avg="avg",e.AvgOverTime="avg_over_time",e.BottomK="bottomk",e.Ceil="ceil",e.Changes="changes",e.Clamp="clamp",e.ClampMax="clamp_max",e.ClampMin="clamp_min",e.Cos="cos",e.Cosh="cosh",e.Count="count",e.CountOverTime="count_over_time",e.CountScalar="count_scalar",e.CountValues="count_values",e.DayOfMonth="day_of_month",e.DayOfWeek="day_of_week",e.DaysInMonth="days_in_month",e.Deg="deg",e.Delta="delta",e.Deriv="deriv",e.DropCommonLabels="drop_common_labels",e.Exp="exp",e.Floor="floor",e.Group="group",e.HistogramQuantile="histogram_quantile",e.HoltWinters="holt_winters",e.Hour="hour",e.Idelta="idelta",e.Increase="increase",e.Irate="irate",e.LabelJoin="label_join",e.LabelReplace="label_replace",e.Last="last",e.LastOverTime="last_over_time",e.Ln="ln",e.Log10="log10",e.Log2="log2",e.Max="max",e.MaxOverTime="max_over_time",e.Min="min",e.MinOverTime="min_over_time",e.Minute="minute",e.Month="month",e.Pi="pi",e.PredictLinear="predict_linear",e.Present="present",e.PresentOverTime="present_over_time",e.Quantile="quantile",e.QuantileOverTime="quantile_over_time",e.Rad="rad",e.Rate="rate",e.Resets="resets",e.Round="round",e.Scalar="scalar",e.Sgn="sgn",e.Sin="sin",e.Sinh="sinh",e.Sort="sort",e.SortDesc="sort_desc",e.Sqrt="sqrt",e.Stddev="stddev",e.StddevOverTime="stddev_over_time",e.Sum="sum",e.SumOverTime="sum_over_time",e.Tan="tan",e.Tanh="tanh",e.Time="time",e.Timestamp="timestamp",e.TopK="topk",e.Vector="vector",e.Year="year",e.Addition="__addition",e.Subtraction="__subtraction",e.MultiplyBy="__multiply_by",e.DivideBy="__divide_by",e.Modulo="__modulo",e.Exponent="__exponent",e.NestedQuery="__nested_query",e.EqualTo="__equal_to",e.NotEqualTo="__not_equal_to",e.GreaterThan="__greater_than",e.LessThan="__less_than",e.GreaterOrEqual="__greater_or_equal",e.LessOrEqual="__less_or_equal"}(Cs||(Cs={}));const rl=[{id:Cs.Addition,name:"Add scalar",sign:"+"},{id:Cs.Subtraction,name:"Subtract scalar",sign:"-"},{id:Cs.MultiplyBy,name:"Multiply by scalar",sign:"*"},{id:Cs.DivideBy,name:"Divide by scalar",sign:"/"},{id:Cs.Modulo,name:"Modulo by scalar",sign:"%"},{id:Cs.Exponent,name:"Exponent",sign:"^"},{id:Cs.EqualTo,name:"Equal to",sign:"==",comparison:!0},{id:Cs.NotEqualTo,name:"Not equal to",sign:"!=",comparison:!0},{id:Cs.GreaterThan,name:"Greater than",sign:">",comparison:!0},{id:Cs.LessThan,name:"Less than",sign:"<",comparison:!0},{id:Cs.GreaterOrEqual,name:"Greater or equal to",sign:">=",comparison:!0},{id:Cs.LessOrEqual,name:"Less or equal to",sign:"<=",comparison:!0}],nl=rl.reduce(((e,t)=>(e[t.sign]={id:t.id,comparison:t.comparison},e)),{}),il=rl.map((e=>{const t=[{name:"Value",type:"number"}],r=[2];return e.comparison&&(t.push({name:"Bool",type:"boolean",description:"If checked comparison will return 0 or 1 for the value rather than filtering."}),r.push(!1)),{id:e.id,name:e.name,params:t,defaultParams:r,alternativesKey:"binary scalar operations",category:Ts.BinaryOps,renderer:ol(e.sign),addOperationHandler:Ws}}));function ol(e){return function(t,r,n){let i=t.params[0],o="";return 2===t.params.length&&(o=t.params[1]?" bool":""),`${n} ${e}${o} ${i}`}}function al(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){al(e,t,r[t])}))}return e}function ll(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function cl(e){var t,r,n,i,o,a;return ll(sl({},e),{id:e.id,name:null!==(t=e.name)&&void 0!==t?t:Us(e.id),params:null!==(r=e.params)&&void 0!==r?r:[],defaultParams:null!==(n=e.defaultParams)&&void 0!==n?n:[],category:null!==(i=e.category)&&void 0!==i?i:Ts.Functions,renderer:null!==(o=e.renderer)&&void 0!==o?o:e.params?Vs:qs,addOperationHandler:null!==(a=e.addOperationHandler)&&void 0!==a?a:Ws})}function ul(e,t=!1){return{id:e,name:Us(e),params:[Gs(t)],defaultParams:[t?"$__rate_interval":"$__interval"],alternativesKey:"range function",category:Ts.RangeFunctions,renderer:pl,addOperationHandler:fl,changeTypeHandler:dl}}function dl(e,t){return("$__rate_interval"===e.params[0]&&"$__rate_interval"!==t.defaultParams[0]||"$__interval"===e.params[0]&&"$__interval"!==t.defaultParams[0])&&(e.params=t.defaultParams),e}function pl(e,t,r){var n,i;let o=null!==(i=(null!==(n=e.params)&&void 0!==n?n:[])[0])&&void 0!==i?i:"5m";return`${t.id}(${r}[${o}])`}function fl(e,t,r){const n={id:e.id,params:e.defaultParams};return t.operations.length>0&&r.getOperationDef(t.operations[0].id).addOperationHandler===fl?ll(sl({},t),{operations:[n,...t.operations.slice(1)]}):ll(sl({},t),{operations:[n,...t.operations]})}function hl(e,t){var r;return ll(sl({},t),{binaryQueries:[...null!==(r=t.binaryQueries)&&void 0!==r?r:[],{operator:"/",query:t}]})}function ml(e,t,r){if("string"!=typeof e.params[1])throw"The separator must be a string";const n=`"${e.params[1]}"`;return`${e.id}(${r}, "${e.params[0]}", ${n}, "${e.params.slice(2).join(n)}")`}function gl(e,t){const r={id:e.id,params:e.defaultParams};return ll(sl({},t),{operations:[...t.operations,r]})}function vl(e){return{id:e,name:Us(e),params:[Gs()],defaultParams:["$__interval"],alternativesKey:"overtime function",category:Ts.RangeFunctions,renderer:bl,addOperationHandler:fl}}function bl(e,t,r){var n,i;let o=null!==(i=(null!==(n=e.params)&&void 0!==n?n:[])[0])&&void 0!==i?i:"$__interval";return`${t.id}(${r}[${o}])`}class yl extends class{setOperationCategories(e){this.categories=e}getOperationsForCategory(e){return this.operationsRegistry.list().filter((t=>t.category===e&&!t.hideFromList))}getAlternativeOperations(e){return this.operationsRegistry.list().filter((t=>t.alternativesKey&&t.alternativesKey===e))}getCategories(){return this.categories}getOperationDef(e){return this.operationsRegistry.getIfExists(e)}renderOperations(e,t){for(const r of t){const t=this.operationsRegistry.getIfExists(r.id);if(!t)throw new Error(`Could not find operation ${r.id} in the registry`);e=t.renderer(r,t,e)}return e}renderBinaryQueries(e,t){if(t)for(const r of t)e=`${this.renderBinaryQuery(e,r)}`;return e}renderBinaryQuery(e,t){let r=e+` ${t.operator} `;return t.vectorMatches&&(r+=`${t.vectorMatchesType}(${t.vectorMatches}) `),r+this.renderQuery(t.query,!0)}renderLabels(e){if(0===e.length)return"";let t="{";for(const r of e)"{"!==t&&(t+=", "),t+=`${r.label}${r.op}"${r.value}"`;return t+"}"}renderQuery(e,t){var r,n,i;let o=`${null!==(i=e.metric)&&void 0!==i?i:""}${this.renderLabels(e.labels)}`;return o=this.renderOperations(o,e.operations),!t&&this.hasBinaryOp(e)&&Boolean(null===(r=e.binaryQueries)||void 0===r?void 0:r.length)&&(o=`(${o})`),o=this.renderBinaryQueries(o,e.binaryQueries),t&&(this.hasBinaryOp(e)||Boolean(null===(n=e.binaryQueries)||void 0===n?void 0:n.length))&&(o=`(${o})`),o}hasBinaryOp(e){return void 0!==e.operations.find((e=>{const t=this.getOperationDef(e.id);return(null==t?void 0:t.category)===Ts.BinaryOps}))}constructor(e){this.categories=[],this.operationsRegistry=new t.Registry(e)}}{getQueryPatterns(){return[{name:"Rate then sum",operations:[{id:"rate",params:["$__rate_interval"]},{id:"sum",params:[]}]},{name:"Rate then sum by(label) then avg",operations:[{id:"rate",params:["$__rate_interval"]},{id:"__sum_by",params:[""]},{id:"avg",params:[]}]},{name:"Histogram quantile on rate",operations:[{id:"rate",params:["$__rate_interval"]},{id:"__sum_by",params:["le"]},{id:"histogram_quantile",params:[.95]}]},{name:"Histogram quantile on increase ",operations:[{id:"increase",params:["$__rate_interval"]},{id:"__max_by",params:["le"]},{id:"histogram_quantile",params:[.95]}]}]}constructor(){super((()=>{const e=[{id:Cs.HistogramQuantile,name:"Histogram quantile",params:[{name:"Quantile",type:"number",options:[.99,.95,.9,.75,.5,.25]}],defaultParams:[.9],category:Ts.Functions,renderer:qs,addOperationHandler:Ws},{id:Cs.LabelReplace,name:"Label replace",params:[{name:"Destination label",type:"string"},{name:"Replacement",type:"string"},{name:"Source label",type:"string"},{name:"Regex",type:"string"}],category:Ts.Functions,defaultParams:["","$1","","(.*)"],renderer:Vs,addOperationHandler:Ws},{id:Cs.Ln,name:"Ln",params:[],defaultParams:[],category:Ts.Functions,renderer:qs,addOperationHandler:Ws},ul(Cs.Changes),ul(Cs.Rate,!0),ul(Cs.Irate),ul(Cs.Increase,!0),ul(Cs.Idelta),ul(Cs.Delta),cl({id:Cs.HoltWinters,params:[Gs(),{name:"Smoothing Factor",type:"number"},{name:"Trend Factor",type:"number"}],defaultParams:["$__interval",.5,.5],alternativesKey:"range function",category:Ts.RangeFunctions,renderer:Bs,addOperationHandler:fl,changeTypeHandler:dl}),cl({id:Cs.PredictLinear,params:[Gs(),{name:"Seconds from now",type:"number"}],defaultParams:["$__interval",60],alternativesKey:"range function",category:Ts.RangeFunctions,renderer:Bs,addOperationHandler:fl,changeTypeHandler:dl}),cl({id:Cs.QuantileOverTime,params:[Gs(),{name:"Quantile",type:"number"}],defaultParams:["$__interval",.5],alternativesKey:"overtime function",category:Ts.RangeFunctions,renderer:Hs,addOperationHandler:fl,changeTypeHandler:dl}),...il,{id:Cs.NestedQuery,name:"Binary operation with query",params:[],defaultParams:[],category:Ts.BinaryOps,renderer:(e,t,r)=>r,addOperationHandler:hl},cl({id:Cs.Absent}),cl({id:Cs.Acos,category:Ts.Trigonometric}),cl({id:Cs.Acosh,category:Ts.Trigonometric}),cl({id:Cs.Asin,category:Ts.Trigonometric}),cl({id:Cs.Asinh,category:Ts.Trigonometric}),cl({id:Cs.Atan,category:Ts.Trigonometric}),cl({id:Cs.Atanh,category:Ts.Trigonometric}),cl({id:Cs.Ceil}),cl({id:Cs.Clamp,name:"Clamp",params:[{name:"Minimum Scalar",type:"number"},{name:"Maximum Scalar",type:"number"}],defaultParams:[1,1]}),cl({id:Cs.ClampMax,params:[{name:"Maximum Scalar",type:"number"}],defaultParams:[1]}),cl({id:Cs.ClampMin,params:[{name:"Minimum Scalar",type:"number"}],defaultParams:[1]}),cl({id:Cs.Cos,category:Ts.Trigonometric}),cl({id:Cs.Cosh,category:Ts.Trigonometric}),cl({id:Cs.DayOfMonth,category:Ts.Time}),cl({id:Cs.DayOfWeek,category:Ts.Time}),cl({id:Cs.DaysInMonth,category:Ts.Time}),cl({id:Cs.Deg}),ul(Cs.Deriv),cl({id:Cs.Exp}),cl({id:Cs.Floor}),cl({id:Cs.Group}),cl({id:Cs.Hour}),cl({id:Cs.LabelJoin,params:[{name:"Destination Label",type:"string",editor:Ms},{name:"Separator",type:"string"},{name:"Source Label",type:"string",restParam:!0,optional:!0,editor:Ms}],defaultParams:["",",",""],renderer:ml,addOperationHandler:gl}),cl({id:Cs.Log10}),cl({id:Cs.Log2}),cl({id:Cs.Minute}),cl({id:Cs.Month}),cl({id:Cs.Pi,renderer:e=>`${e.id}()`}),cl({id:Cs.Quantile,params:[{name:"Value",type:"number"}],defaultParams:[1],renderer:qs}),cl({id:Cs.Rad}),ul(Cs.Resets),cl({id:Cs.Round,category:Ts.Functions,params:[{name:"To Nearest",type:"number"}],defaultParams:[1]}),cl({id:Cs.Scalar}),cl({id:Cs.Sgn}),cl({id:Cs.Sin,category:Ts.Trigonometric}),cl({id:Cs.Sinh,category:Ts.Trigonometric}),cl({id:Cs.Sort}),cl({id:Cs.SortDesc}),cl({id:Cs.Sqrt}),cl({id:Cs.Stddev}),cl({id:Cs.Tan,category:Ts.Trigonometric}),cl({id:Cs.Tanh,category:Ts.Trigonometric}),cl({id:Cs.Time,renderer:e=>`${e.id}()`}),cl({id:Cs.Timestamp}),cl({id:Cs.Vector,params:[{name:"Value",type:"number"}],defaultParams:[1],renderer:e=>`${e.id}(${e.params[0]})`}),cl({id:Cs.Year}),...Ks(Cs.Sum),...Ks(Cs.Avg),...Ks(Cs.Min),...Ks(Cs.Max),...Ks(Cs.Count),...Ys(Cs.TopK,{params:[{name:"K-value",type:"number"}],defaultParams:[5]}),...Ys(Cs.BottomK,{params:[{name:"K-value",type:"number"}],defaultParams:[5]}),...Ys(Cs.CountValues,{params:[{name:"Identifier",type:"string"}],defaultParams:["count"]}),vl(Cs.SumOverTime),vl(Cs.AvgOverTime),vl(Cs.MinOverTime),vl(Cs.MaxOverTime),vl(Cs.CountOverTime),vl(Cs.LastOverTime),vl(Cs.PresentOverTime),vl(Cs.AbsentOverTime),vl(Cs.StddevOverTime)];for(const t of e){const e=Ss.find((e=>e.insertText===t.id));e&&(t.documentation=e.documentation)}return e})),this.setOperationCategories([Ts.Aggregations,Ts.RangeFunctions,Ts.Functions,Ts.BinaryOps,Ts.Trigonometric,Ts.Time])}}const wl=new yl,xl=1024;let Ol=0;class _l{constructor(e,t){this.from=e,this.to=t}}class El{constructor(e={}){this.id=Ol++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=kl.match(e)),t=>{let r=e(t);return void 0===r?null:[this,r]}}}El.closedBy=new El({deserialize:e=>e.split(" ")}),El.openedBy=new El({deserialize:e=>e.split(" ")}),El.group=new El({deserialize:e=>e.split(" ")}),El.contextHash=new El({perNode:!0}),El.lookAhead=new El({perNode:!0}),El.mounted=new El({perNode:!0});const Sl=Object.create(null);class kl{constructor(e,t,r,n=0){this.name=e,this.props=t,this.id=r,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):Sl,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),n=new kl(e.name||"",t,e.id,r);if(e.props)for(let r of e.props)if(Array.isArray(r)||(r=r(n)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[r[0].id]=r[1]}return n}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(El.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let n of r.split(" "))t[n]=e[r];return e=>{for(let r=e.prop(El.group),n=-1;n<(r?r.length:0);n++){let i=t[n<0?e.name:r[n]];if(i)return i}}}}kl.none=new kl("",Object.create(null),0,8);class Pl{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let n=null;for(let t of e){let e=t(r);e&&(n||(n=Object.assign({},r.props)),n[e[0].id]=e[1])}t.push(n?new kl(r.name,n,r.id,r.flags):r)}return new Pl(t)}}const Tl=new WeakMap,Cl=new WeakMap;var Il;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(Il||(Il={}));class Dl{constructor(e,t,r,n,i){if(this.type=e,this.children=t,this.positions=r,this.length=n,this.props=null,i&&i.length){this.props=Object.create(null);for(let[e,t]of i)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=this.prop(El.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let r=e.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new zl(this.topNode,e)}cursorAt(e,t=0,r=0){let n=Tl.get(this)||this.topNode,i=new zl(n);return i.moveTo(e,t),Tl.set(this,i._tree),i}get topNode(){return new Ll(this,0,0,null)}resolve(e,t=0){let r=jl(Tl.get(this)||this.topNode,e,t,!1);return Tl.set(this,r),r}resolveInner(e,t=0){let r=jl(Cl.get(this)||this.topNode,e,t,!0);return Cl.set(this,r),r}iterate(e){let{enter:t,leave:r,from:n=0,to:i=this.length}=e;for(let o=this.cursor((e.mode||0)|Il.IncludeAnonymous);;){let e=!1;if(o.from<=i&&o.to>=n&&(o.type.isAnonymous||!1!==t(o))){if(o.firstChild())continue;e=!0}for(;e&&r&&!o.type.isAnonymous&&r(o),!o.nextSibling();){if(!o.parent())return;e=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Wl(kl.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,r)=>new Dl(this.type,e,t,r,this.propValues)),e.makeTree||((e,t,r)=>new Dl(kl.none,e,t,r)))}static build(e){return function(e){var t;let{buffer:r,nodeSet:n,maxBufferLength:i=xl,reused:o=[],minRepeatType:a=n.types.length}=e,s=Array.isArray(r)?new Al(r,r.length):r,l=n.types,c=0,u=0;function d(e,t,r,m,g){let{id:v,start:b,end:y,size:w}=s,x=u;for(;w<0;){if(s.next(),-1==w){let t=o[v];return r.push(t),void m.push(b-e)}if(-3==w)return void(c=v);if(-4==w)return void(u=v);throw new RangeError(`Unrecognized record size: ${w}`)}let O,_,E=l[v],S=b-e;if(y-b<=i&&(_=function(e,t){let r=s.fork(),n=0,o=0,l=0,c=r.end-i,u={size:0,start:0,skip:0};e:for(let i=r.pos-e;r.pos>i;){let e=r.size;if(r.id==t&&e>=0){u.size=n,u.start=o,u.skip=l,l+=4,n+=4,r.next();continue}let s=r.pos-e;if(e<0||s<i||r.start<c)break;let d=r.id>=a?4:0,p=r.start;for(r.next();r.pos>s;){if(r.size<0){if(-3!=r.size)break e;d+=4}else r.id>=a&&(d+=4);r.next()}o=p,n+=e,l+=d}return(t<0||n==e)&&(u.size=n,u.start=o,u.skip=l),u.size>4?u:void 0}(s.pos-t,g))){let t=new Uint16Array(_.size-_.skip),r=s.pos-_.size,i=t.length;for(;s.pos>r;)i=h(_.start,t,i);O=new Rl(t,y-_.start,n),S=_.start-e}else{let e=s.pos-w;s.next();let t=[],r=[],n=v>=a?v:-1,o=0,l=y;for(;s.pos>e;)n>=0&&s.id==n&&s.size>=0?(s.end<=l-i&&(p(t,r,b,o,s.end,l,n,x),o=t.length,l=s.end),s.next()):d(b,e,t,r,n);if(n>=0&&o>0&&o<t.length&&p(t,r,b,o,b,l,n,x),t.reverse(),r.reverse(),n>-1&&o>0){let e=function(e){return(t,r,n)=>{let i,o,a=0,s=t.length-1;if(s>=0&&(i=t[s])instanceof Dl){if(!s&&i.type==e&&i.length==n)return i;(o=i.prop(El.lookAhead))&&(a=r[s]+i.length+o)}return f(e,t,r,n,a)}}(E);O=Wl(E,t,r,0,t.length,0,y-b,e,e)}else O=f(E,t,r,y-b,x-y)}r.push(O),m.push(S)}function p(e,t,r,i,o,a,s,l){let c=[],u=[];for(;e.length>i;)c.push(e.pop()),u.push(t.pop()+r-o);e.push(f(n.types[s],c,u,a-o,l-a)),t.push(o-r)}function f(e,t,r,n,i=0,o){if(c){let e=[El.contextHash,c];o=o?[e].concat(o):[e]}if(i>25){let e=[El.lookAhead,i];o=o?[e].concat(o):[e]}return new Dl(e,t,r,n,o)}function h(e,t,r){let{id:n,start:i,end:o,size:l}=s;if(s.next(),l>=0&&n<a){let a=r;if(l>4){let n=s.pos-(l-4);for(;s.pos>n;)r=h(e,t,r)}t[--r]=a,t[--r]=o-e,t[--r]=i-e,t[--r]=n}else-3==l?c=n:-4==l&&(u=n);return r}let m=[],g=[];for(;s.pos>0;)d(e.start||0,e.bufferStart||0,m,g,-1);let v=null!==(t=e.length)&&void 0!==t?t:m.length?g[0]+m[0].length:0;return new Dl(l[e.topID],m.reverse(),g.reverse(),v)}(e)}}Dl.empty=new Dl(kl.none,[],[],0);class Al{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Al(this.buffer,this.index)}}class Rl{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return kl.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],n=this.set.types[t],i=n.name;if(/\W/.test(i)&&!n.isError&&(i=JSON.stringify(i)),r==(e+=4))return i;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return i+"("+o.join(",")+")"}findChild(e,t,r,n,i){let{buffer:o}=this,a=-1;for(let s=e;s!=t&&!(Nl(i,n,o[s+1],o[s+2])&&(a=s,r>0));s=o[s+3]);return a}slice(e,t,r,n){let i=this.buffer,o=new Uint16Array(t-e);for(let n=e,a=0;n<t;)o[a++]=i[n++],o[a++]=i[n++]-r,o[a++]=i[n++]-r,o[a++]=i[n++]-e;return new Rl(o,n-r,this.set)}}function Nl(e,t,r,n){switch(e){case-2:return r<t;case-1:return n>=t&&r<t;case 0:return r<t&&n>t;case 1:return r<=t&&n>t;case 2:return n>t;case 4:return!0}}function Ml(e,t){let r=e.childBefore(t);for(;r;){let t=r.lastChild;if(!t||t.to!=r.to)break;t.type.isError&&t.from==t.to?(e=r,r=t.prevSibling):r=t}return e}function jl(e,t,r,n){for(var i;e.from==e.to||(r<1?e.from>=t:e.from>t)||(r>-1?e.to<=t:e.to<t);){let t=!n&&e instanceof Ll&&e.index<0?null:e.parent;if(!t)return e;e=t}let o=n?0:Il.IgnoreOverlays;if(n)for(let n=e,a=n.parent;a;n=a,a=n.parent)n instanceof Ll&&n.index<0&&(null===(i=a.enter(t,r,o))||void 0===i?void 0:i.from)!=n.from&&(e=a);for(;;){let n=e.enter(t,r,o);if(!n)return e;e=n}}class Ll{constructor(e,t,r,n){this._tree=e,this.from=t,this.index=r,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,n,i=0){for(let o=this;;){for(let{children:a,positions:s}=o._tree,l=t>0?a.length:-1;e!=l;e+=t){let l=a[e],c=s[e]+o.from;if(Nl(n,r,c,c+l.length))if(l instanceof Rl){if(i&Il.ExcludeBuffers)continue;let a=l.findChild(0,l.buffer.length,t,r-c,n);if(a>-1)return new Vl(new ql(o,l,e,c),null,a)}else if(i&Il.IncludeAnonymous||!l.type.isAnonymous||Bl(l)){let a;if(!(i&Il.IgnoreMounts)&&l.props&&(a=l.prop(El.mounted))&&!a.overlay)return new Ll(a.tree,c,e,o);let s=new Ll(l,c,e,o);return i&Il.IncludeAnonymous||!s.type.isAnonymous?s:s.nextChild(t<0?l.children.length-1:0,t,r,n)}}if(i&Il.IncludeAnonymous||!o.type.isAnonymous)return null;if(e=o.index>=0?o.index+t:t<0?-1:o._parent._tree.children.length,o=o._parent,!o)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let n;if(!(r&Il.IgnoreOverlays)&&(n=this._tree.prop(El.mounted))&&n.overlay){let r=e-this.from;for(let{from:e,to:i}of n.overlay)if((t>0?e<=r:e<r)&&(t<0?i>=r:i>r))return new Ll(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new zl(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return jl(this,e,t,!1)}resolveInner(e,t=0){return jl(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Ml(this,e)}getChild(e,t=null,r=null){let n=$l(this,e,t,r);return n.length?n[0]:null}getChildren(e,t=null,r=null){return $l(this,e,t,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return Fl(this,e)}}function $l(e,t,r,n){let i=e.cursor(),o=[];if(!i.firstChild())return o;if(null!=r)for(;!i.type.is(r);)if(!i.nextSibling())return o;for(;;){if(null!=n&&i.type.is(n))return o;if(i.type.is(t)&&o.push(i.node),!i.nextSibling())return null==n?o:[]}}function Fl(e,t,r=t.length-1){for(let n=e.parent;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(t[r]&&t[r]!=n.name)return!1;r--}}return!0}class ql{constructor(e,t,r,n){this.parent=e,this.buffer=t,this.index=r,this.start=n}}class Vl{constructor(e,t,r){this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t,r){let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,r);return i<0?null:new Vl(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Il.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return i<0?null:new Vl(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Vl(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Vl(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new zl(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,n=this.index+4,i=r.buffer[this.index+3];if(i>n){let o=r.buffer[this.index+1],a=r.buffer[this.index+2];e.push(r.slice(n,i,o,a)),t.push(0)}return new Dl(this.type,e,t,this.to-this.from)}resolve(e,t=0){return jl(this,e,t,!1)}resolveInner(e,t=0){return jl(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Ml(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,r=null){let n=$l(this,e,t,r);return n.length?n[0]:null}getChildren(e,t=null,r=null){return $l(this,e,t,r)}get node(){return this}matchContext(e){return Fl(this,e)}}class zl{constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ll)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:r,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=r+n.buffer[e+1],this.to=r+n.buffer[e+2],!0}yield(e){return!!e&&(e instanceof Ll?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:n}=this.buffer,i=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,r);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?!(r&Il.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Il.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Il.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let e=r<0?0:this.stack[r]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(e)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(n.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:r}=n)}else({index:t,_parent:r}=this._tree);for(;r;({index:t,_parent:r}=r))if(t>-1)for(let n=t+e,i=e<0?-1:r._tree.children.length;n!=i;n+=e){let e=r._tree.children[n];if(this.mode&Il.IncludeAnonymous||e instanceof Rl||!e.type.isAnonymous||Bl(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let n=this.index,i=this.stack.length;i>=0;){for(let o=e;o;o=o._parent)if(o.index==n){if(n==this.index)return o;t=o,r=i+1;break e}n=this.stack[--i]}for(let e=r;e<this.stack.length;e++)t=new Vl(this.buffer,t,this.stack[e]);return this.bufferNode=new Vl(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let n=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(n=!0)}for(;n&&t&&t(this),n=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,n=!0}}}matchContext(e){if(!this.buffer)return Fl(this.node,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let n=e.length-1,i=this.stack.length-1;n>=0;i--){if(i<0)return Fl(this.node,e,n);let o=r[t.buffer[this.stack[i]]];if(!o.isAnonymous){if(e[n]&&e[n]!=o.name)return!1;n--}}return!0}}function Bl(e){return e.children.some((e=>e instanceof Rl||!e.type.isAnonymous||Bl(e)))}const Hl=new WeakMap;function Ql(e,t){if(!e.isAnonymous||t instanceof Rl||t.type!=e)return 1;let r=Hl.get(t);if(null==r){r=1;for(let n of t.children){if(n.type!=e||!(n instanceof Dl)){r=1;break}r+=Ql(e,n)}Hl.set(t,r)}return r}function Wl(e,t,r,n,i,o,a,s,l){let c=0;for(let r=n;r<i;r++)c+=Ql(e,t[r]);let u=Math.ceil(1.5*c/8),d=[],p=[];return function t(r,n,i,a,s){for(let c=i;c<a;){let i=c,f=n[c],h=Ql(e,r[c]);for(c++;c<a;c++){let t=Ql(e,r[c]);if(h+t>=u)break;h+=t}if(c==i+1){if(h>u){let e=r[i];t(e.children,e.positions,0,e.children.length,n[i]+s);continue}d.push(r[i])}else{let t=n[c-1]+r[c-1].length-f;d.push(Wl(e,r,n,i,c,f,t,null,l))}p.push(f+s-o)}}(t,r,n,i,0),(s||l)(d,p,a)}class Ul{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new El({perNode:!0});class Xl{constructor(e,t,r,n,i,o,a,s,l,c=0,u){this.p=e,this.stack=t,this.state=r,this.reducePos=n,this.pos=i,this.score=o,this.buffer=a,this.bufferBase=s,this.curContext=l,this.lookAhead=c,this.parent=u}toString(){return`[${this.stack.filter(((e,t)=>t%3==0)).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let n=e.parser.context;return new Xl(e,[],t,r,r,0,[],0,n?new Gl(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let t=e>>19,r=65535&e,{parser:n}=this.p,i=n.dynamicPrecedence(r);if(i&&(this.score+=i),0==t)return this.pushState(n.getGoto(this.state,r,!0),this.reducePos),r<n.minRepeatTerm&&this.storeNode(r,this.reducePos,this.reducePos,4,!0),void this.reduceContext(r,this.reducePos);let o=this.stack.length-3*(t-1)-(262144&e?6:0),a=this.stack[o-2],s=this.stack[o-1],l=this.bufferBase+this.buffer.length-s;if(r<n.minRepeatTerm||131072&e){let e=n.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(r,a,e,l+4,!0)}if(262144&e)this.state=this.stack[o];else{let e=this.stack[o-3];this.state=n.getGoto(e,r,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(r,a)}storeNode(e,t,r,n=4,i=!1){if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,n=this.buffer.length;if(0==n&&e.parent&&(n=e.bufferBase-e.parent.bufferBase,e=e.parent),n>0&&0==e.buffer[n-4]&&e.buffer[n-1]>-1){if(t==r)return;if(e.buffer[n-2]>=t)return void(e.buffer[n-2]=r)}}if(i&&this.pos!=r){let i=this.buffer.length;if(i>0&&0!=this.buffer[i-4])for(;i>0&&this.buffer[i-2]>r;)this.buffer[i]=this.buffer[i-4],this.buffer[i+1]=this.buffer[i-3],this.buffer[i+2]=this.buffer[i-2],this.buffer[i+3]=this.buffer[i-1],i-=4,n>4&&(n-=4);this.buffer[i]=e,this.buffer[i+1]=t,this.buffer[i+2]=r,this.buffer[i+3]=n}else this.buffer.push(e,t,r,n)}shift(e,t,r){let n=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){let i=e,{parser:o}=this.p;(r>this.pos||t<=o.maxNode)&&(this.pos=r,o.stateFlag(i,1)||(this.reducePos=r)),this.pushState(i,n),this.shiftContext(t,n),t<=o.maxNode&&this.buffer.push(t,n,r,4)}else this.pos=r,this.shiftContext(t,n),t<=this.p.parser.maxNode&&this.buffer.push(t,n,r,4)}apply(e,t,r){65536&e?this.reduce(e):this.shift(e,t,r)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let n=this.pos;this.reducePos=this.pos=n+e.length,this.pushState(t,n),this.buffer.push(r,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),n=e.bufferBase+t;for(;e&&n==e.bufferBase;)e=e.parent;return new Xl(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,n,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new Yl(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==(65536&r))return!0;if(0==r)return!1;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let r=[];for(let n,i=0;i<t.length;i+=2)(n=t[i+1])!=this.state&&this.p.parser.hasAction(n,e)&&r.push(t[i],n);if(this.stack.length<120)for(let e=0;r.length<8&&e<t.length;e+=2){let n=t[e+1];r.some(((e,t)=>1&t&&e==n))||r.push(t[e],n)}t=r}let r=[];for(let e=0;e<t.length&&r.length<4;e+=2){let n=t[e+1];if(n==this.state)continue;let i=this.split();i.pushState(n,this.pos),i.storeNode(0,i.pos,i.pos,4,!0),i.shiftContext(t[e],this.pos),i.score-=200,r.push(i)}return r}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(0==(65536&e))return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let r=e>>19,n=65535&e,i=this.stack.length-3*r;if(i<0||t.getGoto(this.stack[i],n,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Gl(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Gl{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var Kl;!function(e){e[e.Insert=200]="Insert",e[e.Delete=190]="Delete",e[e.Reduce=100]="Reduce",e[e.MaxNext=4]="MaxNext",e[e.MaxInsertStackDepth=300]="MaxInsertStackDepth",e[e.DampenInsertStackDepth=120]="DampenInsertStackDepth"}(Kl||(Kl={}));class Yl{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,r=e>>19;0==r?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(r-1);let n=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=n}}class Jl{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new Jl(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new Jl(this.stack,this.pos,this.index)}}class Zl{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const ec=new Zl;class tc{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=ec,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,n=this.rangeIndex,i=this.pos+e;for(;i<r.from;){if(!n)return null;let e=this.ranges[--n];i-=r.from-e.to,r=e}for(;t<0?i>r.to:i>=r.to;){if(n==this.ranges.length-1)return null;let e=this.ranges[++n];i+=e.from-r.to,r=e}return i}peek(e){let t,r,n=this.chunkOff+e;if(n>=0&&n<this.chunk.length)t=this.pos+e,r=this.chunk.charCodeAt(n);else{let n=this.resolveOffset(e,1);if(null==n)return-1;if(t=n,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,n=this.range;for(;n.to<=t;)n=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>n.to&&(this.chunk2=this.chunk2.slice(0,n.to-t)),r=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),r}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(null==r||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=ec,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let n of this.ranges){if(n.from>=t)break;n.to>e&&(r+=this.input.read(Math.max(n.from,e),Math.min(n.to,t)))}return r}}class rc{constructor(e,t){this.data=e,this.id=t}token(e,t){!function(e,t,r,n){let i=0,o=1<<n,{parser:a}=r.p,{dialect:s}=a;e:for(;0!=(o&e[i]);){let r=e[i+1];for(let n=i+3;n<r;n+=2)if((e[n+1]&o)>0){let r=e[n];if(s.allows(r)&&(-1==t.token.value||t.token.value==r||a.overrides(r,t.token.value))){t.acceptToken(r);break}}for(let n=t.next,o=0,a=e[i+2];o<a;){let s=o+a>>1,l=r+s+(s<<1),c=e[l],u=e[l+1];if(n<c)a=s;else{if(!(n>=u)){i=e[l+2],t.advance();continue e}o=s+1}}break}}(this.data,e,t,this.id)}}function nc(e,t=Uint16Array){if("string"!=typeof e)return e;let r=null;for(let n=0,i=0;n<e.length;){let o=0;for(;;){let t=e.charCodeAt(n++),r=!1;if(126==t){o=65535;break}t>=92&&t--,t>=34&&t--;let i=t-32;if(i>=46&&(i-=46,r=!0),o+=i,r)break;o*=46}r?r[i++]=o:r=new t(o)}return r}rc.prototype.contextual=rc.prototype.fallback=rc.prototype.extend=!1;const ic="undefined"!=typeof process&&process.env&&/\bparse\b/.test(process.env.LOG);let oc=null;var ac,sc;function lc(e,t,r){let n=e.cursor(Il.IncludeAnonymous);for(n.moveTo(t);;)if(!(r<0?n.childBefore(t):n.childAfter(t)))for(;;){if((r<0?n.to<t:n.from>t)&&!n.type.isError)return r<0?Math.max(0,Math.min(n.to-1,t-25)):Math.min(e.length,Math.max(n.from+1,t+25));if(r<0?n.prevSibling():n.nextSibling())break;if(!n.parent())return r<0?0:e.length}}!function(e){e[e.Margin=25]="Margin"}(ac||(ac={}));class cc{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?lc(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?lc(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],n=this.index[t];if(n==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let i=r.children[n],o=this.start[t]+r.positions[n];if(o>e)return this.nextStart=o,null;if(i instanceof Dl){if(o==e){if(o<this.safeFrom)return null;let e=o+i.length;if(e<=this.safeTo){let t=i.prop(El.lookAhead);if(!t||e+t<this.fragment.to)return i}}this.index[t]++,o+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+i.length}}}class uc{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map((e=>new Zl))}getActions(e){let t=0,r=null,{parser:n}=e.p,{tokenizers:i}=n,o=n.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,s=0;for(let n=0;n<i.length;n++){if(0==(1<<n&o))continue;let l=i[n],c=this.tokens[n];if((!r||l.fallback)&&((l.contextual||c.start!=e.pos||c.mask!=o||c.context!=a)&&(this.updateCachedToken(c,l,e),c.mask=o,c.context=a),c.lookAhead>c.end+25&&(s=Math.max(c.lookAhead,s)),0!=c.value)){let n=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!l.extend&&(r=c,t>n))break}}for(;this.actions.length>t;)this.actions.pop();return s&&e.setLookAhead(s),r||e.pos!=this.stream.end||(r=new Zl,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new Zl,{pos:r,p:n}=e;return t.start=r,t.end=Math.min(r+1,n.stream.end),t.value=r==n.stream.end?n.parser.eofTerm:0,t}updateCachedToken(e,t,r){if(t.token(this.stream.reset(r.pos,e),r),e.value>-1){let{parser:t}=r.p;for(let n=0;n<t.specialized.length;n++)if(t.specialized[n]==e.value){let i=t.specializers[n](this.stream.read(e.start,e.end),r);if(i>=0&&r.p.parser.dialect.allows(i>>1)){0==(1&i)?e.value=i>>1:e.extended=i>>1;break}}}else e.value=0,e.end=Math.min(r.p.stream.end,r.pos+1)}putAction(e,t,r,n){for(let t=0;t<n;t+=3)if(this.actions[t]==e)return n;return this.actions[n++]=e,this.actions[n++]=t,this.actions[n++]=r,n}addActions(e,t,r,n){let{state:i}=e,{parser:o}=e.p,{data:a}=o;for(let e=0;e<2;e++)for(let s=o.stateSlot(i,e?2:1);;s+=3){if(65535==a[s]){if(1!=a[s+1]){0==n&&2==a[s+1]&&(n=this.putAction(mc(a,s+2),t,r,n));break}s=mc(a,s+2)}a[s]==t&&(n=this.putAction(mc(a,s+1),t,r,n))}return n}}!function(e){e[e.Distance=5]="Distance",e[e.MaxRemainingPerStep=3]="MaxRemainingPerStep",e[e.MinBufferLengthPrune=500]="MinBufferLengthPrune",e[e.ForceReduceLimit=10]="ForceReduceLimit",e[e.CutDepth=15e3]="CutDepth",e[e.CutTo=9e3]="CutTo"}(sc||(sc={}));class dc{constructor(e,t,r,n){this.parser=e,this.input=t,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new tc(t,n),this.tokens=new uc(e,this.stream),this.topTerm=e.top[1];let{from:i}=n[0];this.stacks=[Xl.start(this,e.top[0],i)],this.fragments=r.length&&this.stream.end-i>4*e.bufferLength?new cc(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,r=this.stacks,n=this.minStackPos,i=this.stacks=[];for(let o=0;o<r.length;o++){let a=r[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)i.push(a);else{if(this.advanceStack(a,i,r))continue;{e||(e=[],t=[]),e.push(a);let r=this.tokens.getMainToken(a);t.push(r.value,r.end)}}break}}if(!i.length){let t=e&&function(e){let t=null;for(let r of e){let e=r.p.stoppedAt;(r.pos==r.p.stream.end||null!=e&&r.pos>e)&&r.p.parser.stateFlag(r.state,2)&&(!t||t.score<r.score)&&(t=r)}return t}(e);if(t)return this.stackToTree(t);if(this.parser.strict)throw ic&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&e){let r=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,i);if(r)return this.stackToTree(r.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(i.length>e)for(i.sort(((e,t)=>t.score-e.score));i.length>e;)i.pop();i.some((e=>e.reducePos>n))&&this.recovering--}else if(i.length>1)e:for(let e=0;e<i.length-1;e++){let t=i[e];for(let r=e+1;r<i.length;r++){let n=i[r];if(t.sameState(n)||t.buffer.length>500&&n.buffer.length>500){if(!((t.score-n.score||t.buffer.length-n.buffer.length)>0)){i.splice(e--,1);continue e}i.splice(r--,1)}}}this.minStackPos=i[0].pos;for(let e=1;e<i.length;e++)i[e].pos<this.minStackPos&&(this.minStackPos=i[e].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let n=e.pos,{parser:i}=this,o=ic?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&n>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,r=t?e.curContext.hash:0;for(let a=this.fragments.nodeAt(n);a;){let n=this.parser.nodeSet.types[a.type.id]==a.type?i.getGoto(e.state,a.type.id):-1;if(n>-1&&a.length&&(!t||(a.prop(El.contextHash)||0)==r))return e.useNode(a,n),ic&&console.log(o+this.stackID(e)+` (via reuse of ${i.getName(a.type.id)})`),!0;if(!(a instanceof Dl)||0==a.children.length||a.positions[0]>0)break;let s=a.children[0];if(!(s instanceof Dl&&0==a.positions[0]))break;a=s}}let a=i.stateSlot(e.state,4);if(a>0)return e.reduce(a),ic&&console.log(o+this.stackID(e)+` (via always-reduce ${i.getName(65535&a)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let s=this.tokens.getActions(e);for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=a==s.length||!r,p=d?e:e.split();if(p.apply(l,c,u),ic&&console.log(o+this.stackID(p)+` (via ${0==(65536&l)?"shift":`reduce of ${i.getName(65535&l)}`} for ${i.getName(c)} @ ${n}${p==e?"":", split"})`),d)return!0;p.pos>n?t.push(p):r.push(p)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return pc(e,t),!0}}runRecovery(e,t,r){let n=null,i=!1;for(let o=0;o<e.length;o++){let a=e[o],s=t[o<<1],l=t[1+(o<<1)],c=ic?this.stackID(a)+" -> ":"";if(a.deadEnd){if(i)continue;if(i=!0,a.restart(),ic&&console.log(c+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))continue}let u=a.split(),d=c;for(let e=0;u.forceReduce()&&e<10&&(ic&&console.log(d+this.stackID(u)+" (via force-reduce)"),!this.advanceFully(u,r));e++)ic&&(d=this.stackID(u)+" -> ");for(let e of a.recoverByInsert(s))ic&&console.log(c+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,r);this.stream.end>a.pos?(l==a.pos&&(l++,s=0),a.recoverByDelete(s,l),ic&&console.log(c+this.stackID(a)+` (via recover-delete ${this.parser.getName(s)})`),pc(a,r)):(!n||n.score<a.score)&&(n=a)}return n}stackToTree(e){return e.close(),Dl.build({buffer:Jl.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(oc||(oc=new WeakMap)).get(e);return t||oc.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function pc(e,t){for(let r=0;r<t.length;r++){let n=t[r];if(n.pos==e.pos&&n.sameState(e))return void(t[r].score<e.score&&(t[r]=e))}t.push(e)}class fc{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||0==this.disabled[e]}}class hc extends class{startParse(e,t,r){return"string"==typeof e&&(e=new Ul(e)),r=r?r.length?r.map((e=>new _l(e.from,e.to))):[new _l(0,0)]:[new _l(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let n=this.startParse(e,t,r);for(;;){let e=n.advance();if(e)return e}}}{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let r=0;r<e.repeatNodeCount;r++)t.push("");let r=Object.keys(e.topRules).map((t=>e.topRules[t][1])),n=[];for(let e=0;e<t.length;e++)n.push([]);function i(e,t,r){n[e].push([t,t.deserialize(String(r))])}if(e.nodeProps)for(let t of e.nodeProps){let e=t[0];"string"==typeof e&&(e=El[e]);for(let r=1;r<t.length;){let n=t[r++];if(n>=0)i(n,e,t[r++]);else{let o=t[r+-n];for(let a=-n;a>0;a--)i(t[r++],e,o);r++}}}this.nodeSet=new Pl(t.map(((t,i)=>kl.define({name:i>=this.minRepeatTerm?void 0:t,id:i,props:n[i],top:r.indexOf(i)>-1,error:0==i,skipped:e.skippedNodes&&e.skippedNodes.indexOf(i)>-1})))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=xl;let o=nc(e.tokenData);if(this.context=e.context,this.specialized=new Uint16Array(e.specialized?e.specialized.length:0),this.specializers=[],e.specialized)for(let t=0;t<e.specialized.length;t++)this.specialized[t]=e.specialized[t].term,this.specializers[t]=e.specialized[t].get;this.states=nc(e.states,Uint32Array),this.data=nc(e.stateData),this.goto=nc(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map((e=>"number"==typeof e?new rc(o,e):e)),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let n=new dc(this,e,t,r);for(let i of this.wrappers)n=i(n,e,t,r);return n}getGoto(e,t,r=!1){let n=this.goto;if(t>=n[0])return-1;for(let i=n[t+1];;){let t=n[i++],o=1&t,a=n[i++];if(o&&r)return a;for(let r=i+(t>>1);i<r;i++)if(n[i]==e)return a;if(o)return-1}}hasAction(e,t){let r=this.data;for(let n=0;n<2;n++)for(let i,o=this.stateSlot(e,n?2:1);;o+=3){if(65535==(i=r[o])){if(1!=r[o+1]){if(2==r[o+1])return mc(r,o+2);break}i=r[o=mc(r,o+2)]}if(i==t||0==i)return mc(r,o+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let r=this.stateSlot(e,1);;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])return!1;r=mc(this.data,r+2)}if(t==mc(this.data,r+1))return!0}}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])break;r=mc(this.data,r+2)}if(0==(1&this.data[r+2])){let e=this.data[r+1];t.some(((t,r)=>1&r&&t==e))||t.push(this.data[r],e)}}return t}overrides(e,t){let r=gc(this.data,this.tokenPrecTable,t);return r<0||gc(this.data,this.tokenPrecTable,e)<r}configure(e){let t=Object.assign(Object.create(hc.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map((t=>{let r=e.tokenizers.find((e=>e.from==t));return r?r.to:t}))),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map((()=>!1));if(e)for(let n of e.split(" ")){let e=t.indexOf(n);e>=0&&(r[e]=!0)}let n=null;for(let e=0;e<t.length;e++)if(!r[e])for(let r,i=this.dialects[t[e]];65535!=(r=this.data[i++]);)(n||(n=new Uint8Array(this.maxTerm+1)))[r]=1;return new fc(e,r,n)}static deserialize(e){return new hc(e)}}function mc(e,t){return e[t]|e[t+1]<<16}function gc(e,t,r){for(let n,i=t;65535!=(n=e[i]);i++)if(n==r)return i-t;return-1}const vc=1024;let bc=0;class yc{constructor(e={}){this.id=bc++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=xc.match(e)),t=>{let r=e(t);return void 0===r?null:[this,r]}}}yc.closedBy=new yc({deserialize:e=>e.split(" ")}),yc.openedBy=new yc({deserialize:e=>e.split(" ")}),yc.group=new yc({deserialize:e=>e.split(" ")}),yc.contextHash=new yc({perNode:!0}),yc.lookAhead=new yc({perNode:!0}),yc.mounted=new yc({perNode:!0});const wc=Object.create(null);class xc{constructor(e,t,r,n=0){this.name=e,this.props=t,this.id=r,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):wc,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),n=new xc(e.name||"",t,e.id,r);if(e.props)for(let r of e.props)if(Array.isArray(r)||(r=r(n)),r){if(r[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[r[0].id]=r[1]}return n}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(yc.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let n of r.split(" "))t[n]=e[r];return e=>{for(let r=e.prop(yc.group),n=-1;n<(r?r.length:0);n++){let i=t[n<0?e.name:r[n]];if(i)return i}}}}xc.none=new xc("",Object.create(null),0,8);const Oc=new WeakMap,_c=new WeakMap;var Ec;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(Ec||(Ec={}));class Sc{constructor(e,t,r,n,i){if(this.type=e,this.children=t,this.positions=r,this.length=n,this.props=null,i&&i.length){this.props=Object.create(null);for(let[e,t]of i)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=this.prop(yc.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let e of this.children){let r=e.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new jc(this.topNode,e)}cursorAt(e,t=0,r=0){let n=Oc.get(this)||this.topNode,i=new jc(n);return i.moveTo(e,t),Oc.set(this,i._tree),i}get topNode(){return new Dc(this,0,0,null)}resolve(e,t=0){let r=Ic(Oc.get(this)||this.topNode,e,t,!1);return Oc.set(this,r),r}resolveInner(e,t=0){let r=Ic(_c.get(this)||this.topNode,e,t,!0);return _c.set(this,r),r}iterate(e){let{enter:t,leave:r,from:n=0,to:i=this.length}=e;for(let o=this.cursor((e.mode||0)|Ec.IncludeAnonymous);;){let e=!1;if(o.from<=i&&o.to>=n&&(o.type.isAnonymous||!1!==t(o))){if(o.firstChild())continue;e=!0}for(;e&&r&&!o.type.isAnonymous&&r(o),!o.nextSibling();){if(!o.parent())return;e=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:qc(xc.none,this.children,this.positions,0,this.children.length,0,this.length,((e,t,r)=>new Sc(this.type,e,t,r,this.propValues)),e.makeTree||((e,t,r)=>new Sc(xc.none,e,t,r)))}static build(e){return function(e){var t;let{buffer:r,nodeSet:n,maxBufferLength:i=vc,reused:o=[],minRepeatType:a=n.types.length}=e,s=Array.isArray(r)?new kc(r,r.length):r,l=n.types,c=0,u=0;function d(e,t,r,m,g){let{id:v,start:b,end:y,size:w}=s,x=u;for(;w<0;){if(s.next(),-1==w){let t=o[v];return r.push(t),void m.push(b-e)}if(-3==w)return void(c=v);if(-4==w)return void(u=v);throw new RangeError(`Unrecognized record size: ${w}`)}let O,_,E=l[v],S=b-e;if(y-b<=i&&(_=function(e,t){let r=s.fork(),n=0,o=0,l=0,c=r.end-i,u={size:0,start:0,skip:0};e:for(let i=r.pos-e;r.pos>i;){let e=r.size;if(r.id==t&&e>=0){u.size=n,u.start=o,u.skip=l,l+=4,n+=4,r.next();continue}let s=r.pos-e;if(e<0||s<i||r.start<c)break;let d=r.id>=a?4:0,p=r.start;for(r.next();r.pos>s;){if(r.size<0){if(-3!=r.size)break e;d+=4}else r.id>=a&&(d+=4);r.next()}o=p,n+=e,l+=d}return(t<0||n==e)&&(u.size=n,u.start=o,u.skip=l),u.size>4?u:void 0}(s.pos-t,g))){let t=new Uint16Array(_.size-_.skip),r=s.pos-_.size,i=t.length;for(;s.pos>r;)i=h(_.start,t,i);O=new Pc(t,y-_.start,n),S=_.start-e}else{let e=s.pos-w;s.next();let t=[],r=[],n=v>=a?v:-1,o=0,l=y;for(;s.pos>e;)n>=0&&s.id==n&&s.size>=0?(s.end<=l-i&&(p(t,r,b,o,s.end,l,n,x),o=t.length,l=s.end),s.next()):d(b,e,t,r,n);if(n>=0&&o>0&&o<t.length&&p(t,r,b,o,b,l,n,x),t.reverse(),r.reverse(),n>-1&&o>0){let e=function(e){return(t,r,n)=>{let i,o,a=0,s=t.length-1;if(s>=0&&(i=t[s])instanceof Sc){if(!s&&i.type==e&&i.length==n)return i;(o=i.prop(yc.lookAhead))&&(a=r[s]+i.length+o)}return f(e,t,r,n,a)}}(E);O=qc(E,t,r,0,t.length,0,y-b,e,e)}else O=f(E,t,r,y-b,x-y)}r.push(O),m.push(S)}function p(e,t,r,i,o,a,s,l){let c=[],u=[];for(;e.length>i;)c.push(e.pop()),u.push(t.pop()+r-o);e.push(f(n.types[s],c,u,a-o,l-a)),t.push(o-r)}function f(e,t,r,n,i=0,o){if(c){let e=[yc.contextHash,c];o=o?[e].concat(o):[e]}if(i>25){let e=[yc.lookAhead,i];o=o?[e].concat(o):[e]}return new Sc(e,t,r,n,o)}function h(e,t,r){let{id:n,start:i,end:o,size:l}=s;if(s.next(),l>=0&&n<a){let a=r;if(l>4){let n=s.pos-(l-4);for(;s.pos>n;)r=h(e,t,r)}t[--r]=a,t[--r]=o-e,t[--r]=i-e,t[--r]=n}else-3==l?c=n:-4==l&&(u=n);return r}let m=[],g=[];for(;s.pos>0;)d(e.start||0,e.bufferStart||0,m,g,-1);let v=null!==(t=e.length)&&void 0!==t?t:m.length?g[0]+m[0].length:0;return new Sc(l[e.topID],m.reverse(),g.reverse(),v)}(e)}}Sc.empty=new Sc(xc.none,[],[],0);class kc{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new kc(this.buffer,this.index)}}class Pc{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return xc.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],n=this.set.types[t],i=n.name;if(/\W/.test(i)&&!n.isError&&(i=JSON.stringify(i)),r==(e+=4))return i;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return i+"("+o.join(",")+")"}findChild(e,t,r,n,i){let{buffer:o}=this,a=-1;for(let s=e;s!=t&&!(Tc(i,n,o[s+1],o[s+2])&&(a=s,r>0));s=o[s+3]);return a}slice(e,t,r,n){let i=this.buffer,o=new Uint16Array(t-e);for(let n=e,a=0;n<t;)o[a++]=i[n++],o[a++]=i[n++]-r,o[a++]=i[n++]-r,o[a++]=i[n++]-e;return new Pc(o,n-r,this.set)}}function Tc(e,t,r,n){switch(e){case-2:return r<t;case-1:return n>=t&&r<t;case 0:return r<t&&n>t;case 1:return r<=t&&n>t;case 2:return n>t;case 4:return!0}}function Cc(e,t){let r=e.childBefore(t);for(;r;){let t=r.lastChild;if(!t||t.to!=r.to)break;t.type.isError&&t.from==t.to?(e=r,r=t.prevSibling):r=t}return e}function Ic(e,t,r,n){for(var i;e.from==e.to||(r<1?e.from>=t:e.from>t)||(r>-1?e.to<=t:e.to<t);){let t=!n&&e instanceof Dc&&e.index<0?null:e.parent;if(!t)return e;e=t}let o=n?0:Ec.IgnoreOverlays;if(n)for(let n=e,a=n.parent;a;n=a,a=n.parent)n instanceof Dc&&n.index<0&&(null===(i=a.enter(t,r,o))||void 0===i?void 0:i.from)!=n.from&&(e=a);for(;;){let n=e.enter(t,r,o);if(!n)return e;e=n}}class Dc{constructor(e,t,r,n){this._tree=e,this.from=t,this.index=r,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,n,i=0){for(let o=this;;){for(let{children:a,positions:s}=o._tree,l=t>0?a.length:-1;e!=l;e+=t){let l=a[e],c=s[e]+o.from;if(Tc(n,r,c,c+l.length))if(l instanceof Pc){if(i&Ec.ExcludeBuffers)continue;let a=l.findChild(0,l.buffer.length,t,r-c,n);if(a>-1)return new Mc(new Nc(o,l,e,c),null,a)}else if(i&Ec.IncludeAnonymous||!l.type.isAnonymous||Lc(l)){let a;if(!(i&Ec.IgnoreMounts)&&l.props&&(a=l.prop(yc.mounted))&&!a.overlay)return new Dc(a.tree,c,e,o);let s=new Dc(l,c,e,o);return i&Ec.IncludeAnonymous||!s.type.isAnonymous?s:s.nextChild(t<0?l.children.length-1:0,t,r,n)}}if(i&Ec.IncludeAnonymous||!o.type.isAnonymous)return null;if(e=o.index>=0?o.index+t:t<0?-1:o._parent._tree.children.length,o=o._parent,!o)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let n;if(!(r&Ec.IgnoreOverlays)&&(n=this._tree.prop(yc.mounted))&&n.overlay){let r=e-this.from;for(let{from:e,to:i}of n.overlay)if((t>0?e<=r:e<r)&&(t<0?i>=r:i>r))return new Dc(n.tree,n.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new jc(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return Ic(this,e,t,!1)}resolveInner(e,t=0){return Ic(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Cc(this,e)}getChild(e,t=null,r=null){let n=Ac(this,e,t,r);return n.length?n[0]:null}getChildren(e,t=null,r=null){return Ac(this,e,t,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return Rc(this,e)}}function Ac(e,t,r,n){let i=e.cursor(),o=[];if(!i.firstChild())return o;if(null!=r)for(;!i.type.is(r);)if(!i.nextSibling())return o;for(;;){if(null!=n&&i.type.is(n))return o;if(i.type.is(t)&&o.push(i.node),!i.nextSibling())return null==n?o:[]}}function Rc(e,t,r=t.length-1){for(let n=e.parent;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(t[r]&&t[r]!=n.name)return!1;r--}}return!0}class Nc{constructor(e,t,r,n){this.parent=e,this.buffer=t,this.index=r,this.start=n}}class Mc{constructor(e,t,r){this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t,r){let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,r);return i<0?null:new Mc(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Ec.ExcludeBuffers)return null;let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return i<0?null:new Mc(this.context,this,i)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Mc(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Mc(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new jc(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,n=this.index+4,i=r.buffer[this.index+3];if(i>n){let o=r.buffer[this.index+1],a=r.buffer[this.index+2];e.push(r.slice(n,i,o,a)),t.push(0)}return new Sc(this.type,e,t,this.to-this.from)}resolve(e,t=0){return Ic(this,e,t,!1)}resolveInner(e,t=0){return Ic(this,e,t,!0)}enterUnfinishedNodesBefore(e){return Cc(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,r=null){let n=Ac(this,e,t,r);return n.length?n[0]:null}getChildren(e,t=null,r=null){return Ac(this,e,t,r)}get node(){return this}matchContext(e){return Rc(this,e)}}class jc{constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Dc)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:r,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=r+n.buffer[e+1],this.to=r+n.buffer[e+2],!0}yield(e){return!!e&&(e instanceof Dc?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:n}=this.buffer,i=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,r);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?!(r&Ec.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ec.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ec.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let e=r<0?0:this.stack[r]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(e)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(n.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:r}=n)}else({index:t,_parent:r}=this._tree);for(;r;({index:t,_parent:r}=r))if(t>-1)for(let n=t+e,i=e<0?-1:r._tree.children.length;n!=i;n+=e){let e=r._tree.children[n];if(this.mode&Ec.IncludeAnonymous||e instanceof Pc||!e.type.isAnonymous||Lc(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let n=this.index,i=this.stack.length;i>=0;){for(let o=e;o;o=o._parent)if(o.index==n){if(n==this.index)return o;t=o,r=i+1;break e}n=this.stack[--i]}for(let e=r;e<this.stack.length;e++)t=new Mc(this.buffer,t,this.stack[e]);return this.bufferNode=new Mc(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let n=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(n=!0)}for(;n&&t&&t(this),n=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,n=!0}}}matchContext(e){if(!this.buffer)return Rc(this.node,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let n=e.length-1,i=this.stack.length-1;n>=0;i--){if(i<0)return Rc(this.node,e,n);let o=r[t.buffer[this.stack[i]]];if(!o.isAnonymous){if(e[n]&&e[n]!=o.name)return!1;n--}}return!0}}function Lc(e){return e.children.some((e=>e instanceof Pc||!e.type.isAnonymous||Lc(e)))}const $c=new WeakMap;function Fc(e,t){if(!e.isAnonymous||t instanceof Pc||t.type!=e)return 1;let r=$c.get(t);if(null==r){r=1;for(let n of t.children){if(n.type!=e||!(n instanceof Sc)){r=1;break}r+=Fc(e,n)}$c.set(t,r)}return r}function qc(e,t,r,n,i,o,a,s,l){let c=0;for(let r=n;r<i;r++)c+=Fc(e,t[r]);let u=Math.ceil(1.5*c/8),d=[],p=[];return function t(r,n,i,a,s){for(let c=i;c<a;){let i=c,f=n[c],h=Fc(e,r[c]);for(c++;c<a;c++){let t=Fc(e,r[c]);if(h+t>=u)break;h+=t}if(c==i+1){if(h>u){let e=r[i];t(e.children,e.positions,0,e.children.length,n[i]+s);continue}d.push(r[i])}else{let t=n[c-1]+r[c-1].length-f;d.push(qc(e,r,n,i,c,f,t,null,l))}p.push(f+s-o)}}(t,r,n,i,0),(s||l)(d,p,a)}new yc({perNode:!0});let Vc=0;class zc{constructor(e,t,r){this.set=e,this.base=t,this.modified=r,this.id=Vc++}static define(e){if(null==e?void 0:e.base)throw new Error("Can not derive from a modified tag");let t=new zc([],null,[]);if(t.set.push(t),e)for(let r of e.set)t.set.push(r);return t}static defineModifier(){let e=new Hc;return t=>t.modified.indexOf(e)>-1?t:Hc.get(t.base||t,t.modified.concat(e).sort(((e,t)=>e.id-t.id)))}}let Bc=0;class Hc{constructor(){this.instances=[],this.id=Bc++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find((r=>r.base==e&&function(e,t){return e.length==t.length&&e.every(((e,r)=>e==t[r]))}(t,r.modified)));if(r)return r;let n=[],i=new zc(n,e,t);for(let e of t)e.instances.push(i);let o=Qc(t);for(let t of e.set)for(let e of o)n.push(Hc.get(t,e));return i}}function Qc(e){let t=[e];for(let r=0;r<e.length;r++)for(let n of Qc(e.slice(0,r).concat(e.slice(r+1))))t.push(n);return t}const Wc=new yc;class Uc{constructor(e,t,r,n){this.tags=e,this.mode=t,this.context=r,this.next=n}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Uc.empty=new Uc([],2,null);const Xc=zc.define,Gc=Xc(),Kc=Xc(),Yc=Xc(Kc),Jc=Xc(Kc),Zc=Xc(),eu=Xc(Zc),tu=Xc(Zc),ru=Xc(),nu=Xc(ru),iu=Xc(),ou=Xc(),au=Xc(),su=Xc(au),lu=Xc(),cu={comment:Gc,lineComment:Xc(Gc),blockComment:Xc(Gc),docComment:Xc(Gc),name:Kc,variableName:Xc(Kc),typeName:Yc,tagName:Xc(Yc),propertyName:Jc,attributeName:Xc(Jc),className:Xc(Kc),labelName:Xc(Kc),namespace:Xc(Kc),macroName:Xc(Kc),literal:Zc,string:eu,docString:Xc(eu),character:Xc(eu),attributeValue:Xc(eu),number:tu,integer:Xc(tu),float:Xc(tu),bool:Xc(Zc),regexp:Xc(Zc),escape:Xc(Zc),color:Xc(Zc),url:Xc(Zc),keyword:iu,self:Xc(iu),null:Xc(iu),atom:Xc(iu),unit:Xc(iu),modifier:Xc(iu),operatorKeyword:Xc(iu),controlKeyword:Xc(iu),definitionKeyword:Xc(iu),moduleKeyword:Xc(iu),operator:ou,derefOperator:Xc(ou),arithmeticOperator:Xc(ou),logicOperator:Xc(ou),bitwiseOperator:Xc(ou),compareOperator:Xc(ou),updateOperator:Xc(ou),definitionOperator:Xc(ou),typeOperator:Xc(ou),controlOperator:Xc(ou),punctuation:au,separator:Xc(au),bracket:su,angleBracket:Xc(su),squareBracket:Xc(su),paren:Xc(su),brace:Xc(su),content:ru,heading:nu,heading1:Xc(nu),heading2:Xc(nu),heading3:Xc(nu),heading4:Xc(nu),heading5:Xc(nu),heading6:Xc(nu),contentSeparator:Xc(ru),list:Xc(ru),quote:Xc(ru),emphasis:Xc(ru),strong:Xc(ru),link:Xc(ru),monospace:Xc(ru),strikethrough:Xc(ru),inserted:Xc(),deleted:Xc(),changed:Xc(),invalid:Xc(),meta:lu,documentMeta:Xc(lu),annotation:Xc(lu),processingInstruction:Xc(lu),definition:zc.defineModifier(),constant:zc.defineModifier(),function:zc.defineModifier(),standard:zc.defineModifier(),local:zc.defineModifier(),special:zc.defineModifier()},uu=(function(e,t){let r=Object.create(null);for(let t of e)if(Array.isArray(t.tag))for(let e of t.tag)r[e.id]=t.class;else r[t.tag.id]=t.class;let{scope:n,all:i=null}={}}([{tag:cu.link,class:"tok-link"},{tag:cu.heading,class:"tok-heading"},{tag:cu.emphasis,class:"tok-emphasis"},{tag:cu.strong,class:"tok-strong"},{tag:cu.keyword,class:"tok-keyword"},{tag:cu.atom,class:"tok-atom"},{tag:cu.bool,class:"tok-bool"},{tag:cu.url,class:"tok-url"},{tag:cu.labelName,class:"tok-labelName"},{tag:cu.inserted,class:"tok-inserted"},{tag:cu.deleted,class:"tok-deleted"},{tag:cu.literal,class:"tok-literal"},{tag:cu.string,class:"tok-string"},{tag:cu.number,class:"tok-number"},{tag:[cu.regexp,cu.escape,cu.special(cu.string)],class:"tok-string2"},{tag:cu.variableName,class:"tok-variableName"},{tag:cu.local(cu.variableName),class:"tok-variableName tok-local"},{tag:cu.definition(cu.variableName),class:"tok-variableName tok-definition"},{tag:cu.special(cu.variableName),class:"tok-variableName2"},{tag:cu.definition(cu.propertyName),class:"tok-propertyName tok-definition"},{tag:cu.typeName,class:"tok-typeName"},{tag:cu.namespace,class:"tok-namespace"},{tag:cu.className,class:"tok-className"},{tag:cu.macroName,class:"tok-macroName"},{tag:cu.propertyName,class:"tok-propertyName"},{tag:cu.operator,class:"tok-operator"},{tag:cu.comment,class:"tok-comment"},{tag:cu.meta,class:"tok-meta"},{tag:cu.invalid,class:"tok-invalid"},{tag:cu.punctuation,class:"tok-punctuation"}]),{inf:147,nan:148,bool:1,ignoring:2,on:3,group_left:4,group_right:5,offset:6}),du={avg:8,atan2:7,bottomk:9,count:10,count_values:11,group:12,max:13,min:14,quantile:15,stddev:16,stdvar:17,sum:18,topk:19,by:20,without:21,and:22,or:23,unless:24,start:25,end:26},pu=function(e){let t=Object.create(null);for(let r in e){let n=e[r];Array.isArray(n)||(n=[n]);for(let e of r.split(" "))if(e){let r=[],i=2,o=e;for(let t=0;;){if("..."==o&&t>0&&t+3==e.length){i=1;break}let n=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!n)throw new RangeError("Invalid path: "+e);if(r.push("*"==n[0]?"":'"'==n[0][0]?JSON.parse(n[0]):n[0]),t+=n[0].length,t==e.length)break;let a=e[t++];if(t==e.length&&"!"==a){i=0;break}if("/"!=a)throw new RangeError("Invalid path: "+e);o=e.slice(t)}let a=r.length-1,s=r[a];if(!s)throw new RangeError("Invalid path: "+e);let l=new Uc(n,i,a>0?r.slice(0,a):null);t[s]=l.sort(t[s])}}return Wc.add(t)}({LineComment:cu.comment,LabelName:cu.labelName,StringLiteral:cu.string,NumberLiteral:cu.number,Duration:cu.number,"Abs Absent AbsentOverTime Acos Acosh Asin Asinh Atan Atanh AvgOverTime Ceil Changes Clamp ClampMax ClampMin Cos Cosh CountOverTime DaysInMonth DayOfMonth DayOfWeek DayOfYear Deg Delta Deriv Exp Floor HistogramQuantile HoltWinters Hour Idelta Increase Irate LabelReplace LabelJoin LastOverTime Ln Log10 Log2 MaxOverTime MinOverTime Minute Month Pi PredictLinear PresentOverTime QuantileOverTime Rad Rate Resets Round Scalar Sgn Sin Sinh Sort SortDesc Sqrt StddevOverTime StdvarOverTime SumOverTime Tan Tanh Time Timestamp Vector Year":cu.function(cu.variableName),"Avg Bottomk Count Count_values Group Max Min Quantile Stddev Stdvar Sum Topk":cu.operatorKeyword,"By Without Bool On Ignoring GroupLeft GroupRight Offset Start End":cu.modifier,"And Unless Or":cu.logicOperator,"Sub Add Mul Mod Div Atan2 Eql Neq Lte Lss Gte Gtr EqlRegex EqlSingle NeqRegex Pow At":cu.operator,UnaryOp:cu.arithmeticOperator,"( )":cu.paren,"[ ]":cu.squareBracket,"{ }":cu.brace,"⚠":cu.invalid}),fu={__proto__:null,absent_over_time:309,absent:311,abs:313,acos:315,acosh:317,asin:319,asinh:321,atan:323,atanh:325,avg_over_time:327,ceil:329,changes:331,clamp:333,clamp_max:335,clamp_min:337,cos:339,cosh:341,count_over_time:343,days_in_month:345,day_of_month:347,day_of_week:349,day_of_year:351,deg:353,delta:355,deriv:357,exp:359,floor:361,histogram_quantile:363,holt_winters:365,hour:367,idelta:369,increase:371,irate:373,label_replace:375,label_join:377,last_over_time:379,ln:381,log10:383,log2:385,max_over_time:387,min_over_time:389,minute:391,month:393,pi:395,predict_linear:397,present_over_time:399,quantile_over_time:401,rad:403,rate:405,resets:407,round:409,scalar:411,sgn:413,sin:415,sinh:417,sort:419,sort_desc:421,sqrt:423,stddev_over_time:425,stdvar_over_time:427,sum_over_time:429,tan:431,tanh:433,timestamp:435,time:437,vector:439,year:441},hu=hc.deserialize({version:14,states:"6bOYQPOOO'OQPOOOOQO'#C{'#C{O'TQPO'#CzQ'`QQOOOOQO'#De'#DeO'ZQPO'#DdOOQO'#FO'#FOO(mQPO'#FUOYQPO'#FQOYQPO'#FTOOQO'#FW'#FWO.lQSO'#FXO.tQQO'#FVOOQO'#FV'#FVOOQO'#Cy'#CyOOQO'#Df'#DfOOQO'#Dh'#DhOOQO'#Di'#DiOOQO'#Dj'#DjOOQO'#Dk'#DkOOQO'#Dl'#DlOOQO'#Dm'#DmOOQO'#Dn'#DnOOQO'#Do'#DoOOQO'#Dp'#DpOOQO'#Dq'#DqOOQO'#Dr'#DrOOQO'#Ds'#DsOOQO'#Dt'#DtOOQO'#Du'#DuOOQO'#Dv'#DvOOQO'#Dw'#DwOOQO'#Dx'#DxOOQO'#Dy'#DyOOQO'#Dz'#DzOOQO'#D{'#D{OOQO'#D|'#D|OOQO'#D}'#D}OOQO'#EO'#EOOOQO'#EP'#EPOOQO'#EQ'#EQOOQO'#ER'#EROOQO'#ES'#ESOOQO'#ET'#ETOOQO'#EU'#EUOOQO'#EV'#EVOOQO'#EW'#EWOOQO'#EX'#EXOOQO'#EY'#EYOOQO'#EZ'#EZOOQO'#E['#E[OOQO'#E]'#E]OOQO'#E^'#E^OOQO'#E_'#E_OOQO'#E`'#E`OOQO'#Ea'#EaOOQO'#Eb'#EbOOQO'#Ec'#EcOOQO'#Ed'#EdOOQO'#Ee'#EeOOQO'#Ef'#EfOOQO'#Eg'#EgOOQO'#Eh'#EhOOQO'#Ei'#EiOOQO'#Ej'#EjOOQO'#Ek'#EkOOQO'#El'#ElOOQO'#Em'#EmOOQO'#En'#EnOOQO'#Eo'#EoOOQO'#Ep'#EpOOQO'#Eq'#EqOOQO'#Er'#ErOOQO'#Es'#EsOOQO'#Et'#EtOOQO'#Eu'#EuOOQO'#Ev'#EvOOQO'#Ew'#EwOOQO'#Ex'#ExOOQO'#Ey'#EyOOQO'#Ez'#EzOOQO'#E{'#E{QOQPOOO0_QPO'#C|O0dQPO'#DRO'ZQPO,59fO0kQQO,59fO2XQPO,59oO2XQPO,59oO2XQPO,59oO2XQPO,59oO2XQPO,59oO8WQQO,5;hO8]QQO,5;kO8eQPO,5;zOOQO,5:O,5:OOOQO,5;j,5;jO8|QQO,5;lO9TQQO,5;oO:kQPO'#FZO:yQPO,5;sOOQO'#FY'#FYOOQO,5;s,5;sOOQO,5;q,5;qO;RQSO'#C}OOQO,59h,59hO;ZQPO,59mO;cQQO'#DSOOQO,59m,59mOOQO1G/Q1G/QO0_QPO'#DWOAcQPO'#DVOAmQPO'#DVOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOAwQSO1G1SOOQO1G1V1G1VOBPQQO1G1VOBUQPO'#FOOOQO'#Fb'#FbOOQO1G1f1G1fOBaQPO1G1fOOQO1G1W1G1WOOQO'#F['#F[OBfQPO,5;uOBkQSO1G1_OOQO1G1_1G1_OOQO'#DP'#DPOBsQPO,59iOOQO'#DO'#DOOOQO,59i,59iOYQPO,59nOOQO1G/X1G/XOOQO,59r,59rOHnQPO,59qOHuQPO,59qOJ^QQO7+$uOJnQQO7+$uOLSQQO7+$uOLjQQO7+$uONRQQO7+$uOOQO7+&n7+&nONlQQO7+&tOOQO7+&q7+&qONtQPO7+'QOOQO1G1a1G1aOOQO1G1`1G1`OOQO7+&y7+&yONyQSO1G/TOOQO1G/T1G/TO! RQQO1G/YOOQO1G/]1G/]O! ]QPO1G/]OOQO<<J`<<J`O!'RQPO<<J`OOQO<<Jl<<JlOOQO1G/U1G/UOOQO7+$o7+$oOOQO7+$w7+$wOOQOAN?zAN?z",stateData:"!'W~O$[OSkOS~OWQOXQOYQOZQO[QO]QO^QO_QO`QOaQObQOcQO!ZZO#u_O$XVO$YVO$]XO$``O$aaO$bbO$ccO$ddO$eeO$ffO$ggO$hhO$iiO$jjO$kkO$llO$mmO$nnO$ooO$ppO$qqO$rrO$ssO$ttO$uuO$vvO$wwO$xxO$yyO$zzO${{O$||O$}}O%O!OO%P!PO%Q!QO%R!RO%S!SO%T!TO%U!UO%V!VO%W!WO%X!XO%Y!YO%Z!ZO%[![O%]!]O%^!^O%_!_O%`!`O%a!aO%b!bO%c!cO%d!dO%e!eO%f!fO%g!gO%h!hO%i!iO%j!jO%k!kO%l!lO%m!mO%n!nO%o!oO%p!pO%q!qO%r!rO%s!sO%t!tO%wWO%xWO%yVO%{[O~O!ZZO~Od!vOe!vO$]!wO~OU#QOV!zOf!}Og#OOh!}Ox!zO{!zO|!zO}!zO!O!{O!P!{O!Q!|O!R!|O!S!|O!T!|O!U!|O!V!|O$T#RO%u#PO~O$X#TO$Y#TO%y#TOW#xXX#xXY#xXZ#xX[#xX]#xX^#xX_#xX`#xXa#xXb#xXc#xX!Z#xX#u#xX$X#xX$Y#xX$]#xX$`#xX$a#xX$b#xX$c#xX$d#xX$e#xX$f#xX$g#xX$h#xX$i#xX$j#xX$k#xX$l#xX$m#xX$n#xX$o#xX$p#xX$q#xX$r#xX$s#xX$t#xX$u#xX$v#xX$w#xX$x#xX$y#xX$z#xX${#xX$|#xX$}#xX%O#xX%P#xX%Q#xX%R#xX%S#xX%T#xX%U#xX%V#xX%W#xX%X#xX%Y#xX%Z#xX%[#xX%]#xX%^#xX%_#xX%`#xX%a#xX%b#xX%c#xX%d#xX%e#xX%f#xX%g#xX%h#xX%i#xX%j#xX%k#xX%l#xX%m#xX%n#xX%o#xX%p#xX%q#xX%r#xX%s#xX%t#xX%w#xX%x#xX%y#xX%{#xX~Ot#WO%|#ZO~O%{[OU#yXV#yXf#yXg#yXh#yXx#yX{#yX|#yX}#yX!O#yX!P#yX!Q#yX!R#yX!S#yX!T#yX!U#yX!V#yX$T#yX$W#yX%u#yX$_#yX$^#yX~O$]#]O~O$_#aO~PYOd!vOe!vOUnaVnafnagnahnaxna{na|na}na!Ona!Pna!Qna!Rna!Sna!Tna!Una!Vna$Tna$Wna%una$_na$^na~OP#eOQ#cOR#cOWyPXyPYyPZyP[yP]yP^yP_yP`yPayPbyPcyP!ZyP#uyP$XyP$YyP$]yP$`yP$ayP$byP$cyP$dyP$eyP$fyP$gyP$hyP$iyP$jyP$kyP$lyP$myP$nyP$oyP$pyP$qyP$ryP$syP$tyP$uyP$vyP$wyP$xyP$yyP$zyP${yP$|yP$}yP%OyP%PyP%QyP%RyP%SyP%TyP%UyP%VyP%WyP%XyP%YyP%ZyP%[yP%]yP%^yP%_yP%`yP%ayP%byP%cyP%dyP%eyP%fyP%gyP%hyP%iyP%jyP%kyP%lyP%myP%nyP%oyP%pyP%qyP%ryP%syP%tyP%wyP%xyP%yyP%{yP~O#q#kO~O!P#mO#q#lO~Oi#oOj#oO$XVO$YVO%w#nO%x#nO%yVO~O$_#rO~P'`Ox!zOU#waV#waf#wag#wah#wa{#wa|#wa}#wa!O#wa!P#wa!Q#wa!R#wa!S#wa!T#wa!U#wa!V#wa$T#wa$W#wa%u#wa$_#wa$^#wa~O!V#sO$P#sO$Q#sO$R#sO~O$^#uO%|#vO~Ot#wO$_#zO~O$^#{O$_#|O~O$^vX$_vX~P'`OWyXXyXYyXZyX[yX]yX^yX_yX`yXayXbyXcyX!ZyX#uyX$XyX$YyX$]yX$`yX$ayX$byX$cyX$dyX$eyX$fyX$gyX$hyX$iyX$jyX$kyX$lyX$myX$nyX$oyX$pyX$qyX$ryX$syX$tyX$uyX$vyX$wyX$xyX$yyX$zyX${yX$|yX$}yX%OyX%PyX%QyX%RyX%SyX%TyX%UyX%VyX%WyX%XyX%YyX%ZyX%[yX%]yX%^yX%_yX%`yX%ayX%byX%cyX%dyX%eyX%fyX%gyX%hyX%iyX%jyX%kyX%lyX%myX%nyX%oyX%pyX%qyX%ryX%syX%tyX%wyX%xyX%yyX%{yX~OS$OOT$OO~P;mOQ#cOR#cO~P;mO%v$VO%z$WO~O#q$XO~O$X#TO$Y#TO%y#TO~O$]$YO~O#u$ZO~Ot#WO%|$]O~O$^$^O$_$_O~OWyaXyaYyaZya[ya]ya^ya_ya`yaayabyacya!Zya#uya$Xya$Yya$`ya$aya$bya$cya$dya$eya$fya$gya$hya$iya$jya$kya$lya$mya$nya$oya$pya$qya$rya$sya$tya$uya$vya$wya$xya$yya$zya${ya$|ya$}ya%Oya%Pya%Qya%Rya%Sya%Tya%Uya%Vya%Wya%Xya%Yya%Zya%[ya%]ya%^ya%_ya%`ya%aya%bya%cya%dya%eya%fya%gya%hya%iya%jya%kya%lya%mya%nya%oya%pya%qya%rya%sya%tya%wya%xya%yya%{ya~O$]#]O~PB{OS$bOT$bO$]ya~PB{Ox!zOUwqfwqgwqhwq!Owq!Pwq!Qwq!Rwq!Swq!Twq!Uwq!Vwq$Twq$Wwq%uwq$_wq$^wq~OVwq{wq|wq}wq~PISOV!zO{!zO|!zO}!zO~PISOV!zOx!zO{!zO|!zO}!zO!O!{O!P!{OUwqfwqgwqhwq$Twq$Wwq%uwq$_wq$^wq~O!Qwq!Rwq!Swq!Twq!Uwq!Vwq~PKOO!Q!|O!R!|O!S!|O!T!|O!U!|O!V!|O~PKOOV!zOf!}Oh!}Ox!zO{!zO|!zO}!zO!O!{O!P!{O!Q!|O!R!|O!S!|O!T!|O!U!|O!V!|O~OUwqgwq$Twq$Wwq%uwq$_wq$^wq~PMQO#q$dO%v$cO~O$_$eO~Ot#wO$_$gO~O$^vi$_vi~P'`O$]#]OWyiXyiYyiZyi[yi]yi^yi_yi`yiayibyicyi!Zyi#uyi$Xyi$Yyi$`yi$ayi$byi$cyi$dyi$eyi$fyi$gyi$hyi$iyi$jyi$kyi$lyi$myi$nyi$oyi$pyi$qyi$ryi$syi$tyi$uyi$vyi$wyi$xyi$yyi$zyi${yi$|yi$}yi%Oyi%Pyi%Qyi%Ryi%Syi%Tyi%Uyi%Vyi%Wyi%Xyi%Yyi%Zyi%[yi%]yi%^yi%_yi%`yi%ayi%byi%cyi%dyi%eyi%fyi%gyi%hyi%iyi%jyi%kyi%lyi%myi%nyi%oyi%pyi%qyi%ryi%syi%tyi%wyi%xyi%yyi%{yi~O%v$iO~O",goto:"(v$VPPPPPPPPPPPPPPPPPPPPPPPPPPPPP$W$v%S%`%f%r%uP%{&U$vP&X&hPPPPPPPPPPP$v&r'OP'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O$vP'[$v$vP$v$v'k$v'w(W(g(j(pPPP$vP(sQSOQ#UXQ#VYQ#`!wQ$Q#fQ$R#gQ$S#hQ$T#iQ$U#jR$`#{e_OXY!w#f#g#h#i#j#{eROXY!w#f#g#h#i#j#{Q!xRR#b!yQ#^!vQ#}#cQ$a$OR$h$bR#x#]Q#y#]R$f$^Q!yRQ#SUR#b!xR#_!wQ#f!zQ#g!{Q#h!|Q#i!}R#j#OY#d!z!{!|!}#OR$P#eeUOXY!w#f#g#h#i#j#{eTOXY!w#f#g#h#i#j#{d_OXY!w#f#g#h#i#j#{R#p#ReYOXY!w#f#g#h#i#j#{d]OXY!w#f#g#h#i#j#{R!uPd^OXY!w#f#g#h#i#j#{R#[]R#X[Q#Y[R$[#uR#t#WR#q#R",nodeNames:"⚠ Bool Ignoring On GroupLeft GroupRight Offset Atan2 Avg Bottomk Count CountValues Group Max Min Quantile Stddev Stdvar Sum Topk By Without And Or Unless Start End LineComment PromQL Expr AggregateExpr AggregateOp AggregateModifier GroupingLabels GroupingLabelList GroupingLabel LabelName FunctionCallBody FunctionCallArgs BinaryExpr Pow BinModifiers OnOrIgnoring Mul Div Mod Add Sub Eql Gte Gtr Lte Lss Neq FunctionCall FunctionIdentifier AbsentOverTime Identifier Absent Abs Acos Acosh Asin Asinh Atan Atanh AvgOverTime Ceil Changes Clamp ClampMax ClampMin Cos Cosh CountOverTime DaysInMonth DayOfMonth DayOfWeek DayOfYear Deg Delta Deriv Exp Floor HistogramQuantile HoltWinters Hour Idelta Increase Irate LabelReplace LabelJoin LastOverTime Ln Log10 Log2 MaxOverTime MinOverTime Minute Month Pi PredictLinear PresentOverTime QuantileOverTime Rad Rate Resets Round Scalar Sgn Sin Sinh Sort SortDesc Sqrt StddevOverTime StdvarOverTime SumOverTime Tan Tanh Timestamp Time Vector Year MatrixSelector Duration NumberLiteral OffsetExpr ParenExpr StringLiteral SubqueryExpr UnaryExpr UnaryOp VectorSelector MetricIdentifier LabelMatchers LabelMatchList LabelMatcher MatchOp EqlSingle EqlRegex NeqRegex StepInvariantExpr At AtModifierPreprocessors MetricName",maxTerm:228,propSources:[pu],skippedNodes:[0,27],repeatNodeCount:0,tokenData:"1R~RwX^#lpq#lqr$ars$tst%huv%swx%xxy&gyz&lz{&q{|&v|}&}}!O'S!O!P'Z!P!Q(Z!Q!R(`!R![)W![!]-r!^!_.n!_!`.{!`!a/b!b!c/o!c!}/t!}#O0[#P#Q0a#Q#R0f#R#S/t#S#T0k#T#o/t#o#p0w#q#r0|#y#z#l$f$g#l#BY#BZ#l$IS$I_#l$I|$JO#l$JT$JU#l$KV$KW#l&FU&FV#l~#qY$[~X^#lpq#l#y#z#l$f$g#l#BY#BZ#l$IS$I_#l$I|$JO#l$JT$JU#l$KV$KW#l&FU&FV#l~$dQ!_!`$j#r#s$o~$oO!V~~$tO$R~~$yU#u~OY$tZr$trs%]s#O$t#O#P%b#P~$t~%bO#u~~%ePO~$t~%mQk~OY%hZ~%h~%xO}~~%}U#u~OY%xZw%xwx%]x#O%x#O#P&a#P~%x~&dPO~%x~&lO$]~~&qO$_~~&vO{~R&}O%xP!OQ~'SO$^~R'ZO%wP!PQP'^P!Q!['aP'fR%yP!Q!['a!g!h'o#X#Y'oP'rR{|'{}!O'{!Q![(RP(OP!Q![(RP(WP%yP!Q![(R~(`O|~R(eZ%yP!O!P'a!Q![)W!g!h'o#W#X){#X#Y'o#[#]*d#a#b*x#g#h+l#k#l+}#l#m-W#m#n,iR)]Y%yP!O!P'a!Q![)W!g!h'o#W#X){#X#Y'o#[#]*d#a#b*x#g#h+l#k#l+}#m#n,iQ*QP#qQ!Q![*TQ*WS!Q![*T#[#]*d#a#b*x#g#h+lQ*iP#qQ!Q![*lQ*oR!Q![*l#a#b*x#g#h+lQ*}Q#qQ!Q![+T#g#h+gQ+WR!Q![+T#a#b+a#g#h+lQ+dP#g#h+gQ+lO#qQQ+qP#qQ!Q![+tQ+wQ!Q![+t#a#b+aQ,SP#qQ!Q![,VQ,YT!Q![,V#W#X){#[#]*d#a#b*x#g#h+lQ,nP#qQ!Q![,qQ,tU!Q![,q#W#X){#[#]*d#a#b*x#g#h+l#k#l+}P-ZR!Q![-d!c!i-d#T#Z-dP-iR%yP!Q![-d!c!i-d#T#Z-dV-yT%zS!ZR!Q![.Y![!].Y!c!}.Y#R#S.Y#T#o.YR._T!ZR!Q![.Y![!].Y!c!}.Y#R#S.Y#T#o.Y~.sP!U~!_!`.v~.{O!T~~/QQ$PP!_!`/W#r#s/]Q/]O!QQ~/bO$Q~~/gP!S~!_!`/j~/oO!R~~/tO$T~V/{T!ZRtS!Q![/t![!].Y!c!}/t#R#S/t#T#o/t~0aO%u~~0fO%v~~0kOx~~0nRO#S0k#S#T%]#T~0k~0|O%{~~1RO%|~",tokenizers:[0,1,2],topRules:{PromQL:[0,28],MetricName:[1,145]},specialized:[{term:57,get:(e,t)=>((e,t)=>uu[e.toLowerCase()]||-1)(e)<<1},{term:57,get:(e,t)=>((e,t)=>du[e.toLowerCase()]||-1)(e)<<1|1},{term:57,get:e=>fu[e]||-1}],tokenPrec:0}),mu=126,gu=129,vu=133,bu=134,yu=136,wu=137;function xu(e){return e.firstChild?xu(e.firstChild):e}function Ou(e,t){var r;return{text:Su(e,t),from:t.from,to:t.to,parentType:null===(r=t.parent)||void 0===r?void 0:r.name}}const _u=/\$(\w+)|\[\[([\s\S]+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::([^\}]+))?}/g,Eu=[(e,t)=>`$${e}`,(e,t)=>`[[${e}${t?`:${t}`:""}]]`,(e,t)=>`\${${e}${t?`:${t}`:""}}`];function Su(e,t){return t?function(e){return e.replace(/__V_(\d)__(.+?)__V__(?:__F__(\w+)__F__)?/g,((e,t,r,n)=>Eu[parseInt(t,10)](r,n)))}(e.substring(t.from,t.to)):""}function ku(e,t,r,n){const i=[parseFloat(Su(t,r))];return e.comparison&&i.push(n),{id:e.id,params:i}}function Pu(e,t,r){if(t.type.id===r||t.name===r)return[Su(e,t)];const n=[];let i=0,o=t.childAfter(i);for(;o;)n.push(...Pu(e,o,r)),i=o.to,o=t.childAfter(i);return n}function Tu(e){const t=function(e){return e.replace(_u,((e,t,r,n,i,o,a)=>{const s=n||a;let l=t,c="0";return r&&(l=r,c="1"),i&&(l=i,c="2"),`__V_${c}__`+l+"__V__"+(s?"__F__"+s+"__F__":"")}))}(e),r=hu.parse(t).topNode,n={query:{metric:"",labels:[],operations:[]},errors:[]};try{Cu(t,r,n)}catch(e){console.error(e),e instanceof Error&&n.errors.push({text:e.message})}return 0===(i=n.query).labels.length&&0===i.operations.length&&!i.metric&&(n.errors=[]),n;var i}function Cu(e,t,r){const n=r.query;switch(t.type.id){case bu:n.metric=Su(e,t);break;case wu:{n.labels.push(function(e,t){return{label:Su(e,t.getChild(36)),op:Su(e,t.getChild(138)),value:Su(e,t.getChild(gu)).replace(/"/g,"")}}(e,t));const i=t.getChild("⚠");i&&r.errors.push(Ou(e,i));break}case 54:!function(e,t,r){const n=r.query,i=Su(e,t.getChild(55)),o=t.getChild(37).getChild(38),a=[];let s="";if(Iu.includes(i)||i.endsWith("_over_time")){let r=Su(e,t).match(/\[(.+)\]/);(null==r?void 0:r[1])&&(s=r[1],a.push(r[1]))}const l={id:i,params:a};if(n.operations.unshift(l),o){if(Su(e,o)===s+"]")return;Du(e,o,r,l)}}(e,t,r);break;case 30:!function(e,t,r){const n=r.query;let i=Su(e,t.getChild(31));const o=t.getChild(32),a=[];o&&(o.getChild("By")&&i&&(i=`__${i}_by`),o.getChild(21)&&(i=`__${i}_without`),a.push(...Pu(e,o,35)));const s=t.getChild(37).getChild(38),l={id:i,params:[]};n.operations.unshift(l),Du(e,s,r,l),l.params.push(...a)}(e,t,r);break;case 39:!function(e,t,r){const n=r.query,i=t.firstChild,o=Su(e,i.nextSibling),a=function(e,t){if(t){if(t.getChild("Bool"))return{isBool:!0,isMatcher:!1};{var r;const n=t.getChild(42);if(!n)return;return{isMatcher:!0,isBool:!1,matches:Su(e,null===(r=n.getChild(33))||void 0===r?void 0:r.getChild(34)),matchType:n.getChild(3)?"on":"ignoring"}}}}(e,t.getChild(41)),s=t.lastChild,l=nl[o],c=i.getChild(mu),u=s.getChild(mu),d=s.getChild(39);if(c||Cu(e,i,r),u)n.operations.push(ku(l,e,s,!!(null==a?void 0:a.isBool)));else if(d){const t=xu(s);(null==t?void 0:t.type.id)===mu&&n.operations.push(ku(l,e,t,!!(null==a?void 0:a.isBool))),Cu(e,s,r)}else{n.binaryQueries=n.binaryQueries||[];const t={operator:o,query:{metric:"",labels:[],operations:[]}};(null==a?void 0:a.isMatcher)&&(t.vectorMatchesType=a.matchType,t.vectorMatches=a.matches),n.binaryQueries.push(t),Cu(e,s,{query:t.query,errors:r.errors})}}(e,t,r);break;case 0:if(function(e){var t,r,n;return 29===(null===(t=e.prevSibling)||void 0===t?void 0:t.type.id)&&(null===(r=e.prevSibling)||void 0===r||null===(n=r.firstChild)||void 0===n?void 0:n.type.id)===vu}(t))break;r.errors.push(Ou(e,t));break;default:{128===t.type.id&&r.errors.push(Ou(e,t));let n=t.firstChild;for(;n;)Cu(e,n,r),n=n.nextSibling}}}const Iu=["changes","rate","irate","increase","delta"];function Du(e,t,r,n){if(t)switch(t.type.id){case 29:case 38:{let i=t.firstChild;for(;i;)Du(e,i,r,n),i=i.nextSibling;break}case mu:n.params.push(parseFloat(Su(e,t)));break;case gu:n.params.push(Su(e,t).replace(/"/g,""));break;default:Cu(e,t,r)}}function Au({feedbackUrl:e}){const t=(0,a.useStyles2)(Ru);return o.config.feedbackLinksEnabled?n().createElement(bs,{gap:1},n().createElement("a",{href:e,className:t.link,title:"This query builder is new, please let us know how we can improve it",target:"_blank",rel:"noreferrer noopener",onClick:()=>(0,o.reportInteraction)("grafana_feedback_link_clicked",{link:e})},n().createElement(a.Icon,{name:"comment-alt-message"})," Give feedback")):null}function Ru(e){return{link:(0,s.css)({color:e.colors.text.secondary,fontSize:e.typography.bodySmall.fontSize,":hover":{color:e.colors.text.link}})}}var Nu;!function(e){e.Code="code",e.Builder="builder"}(Nu||(Nu={}));const Mu=[{label:"Builder",value:Nu.Builder,component:()=>n().createElement(a.Tag,{className:(0,s.css)({fontSize:10,padding:"1px 5px",verticalAlign:"text-bottom"}),name:"Beta",colorIndex:1})},{label:"Code",value:Nu.Code}];function ju({mode:e,onChange:t}){return n().createElement("div",{"data-testid":"QueryEditorModeToggle"},n().createElement(a.RadioButtonGroup,{options:Mu,size:"sm",value:e,onChange:t}))}function Lu(){return Lu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lu.apply(this,arguments)}function $u(e){var{label:t}=e,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["label"]);const o=t.replace(" ","-"),s=(0,r.useRef)((0,Is.uniqueId)(`switch-${o}`)),l=(0,a.useStyles2)(Fu);return n().createElement(bs,{gap:1},n().createElement("label",{htmlFor:s.current,className:l.switchLabel},t),n().createElement(a.Switch,Lu({},i,{id:s.current})))}const Fu=e=>({switchLabel:(0,s.css)({color:e.colors.text.secondary,cursor:"pointer",fontSize:e.typography.bodySmall.fontSize,"&:hover":{color:e.colors.text.primary}})}),qu=new class{get(e){return window.localStorage[e]}set(e,t){window.localStorage[e]=t}getBool(e,t){return void 0===t||this.exists(e)?"true"===window.localStorage[e]:t}getObject(e,t){let r=t;if(this.exists(e)){const n=window.localStorage[e];try{r=JSON.parse(n)}catch(r){console.error(`Error parsing store object: ${e}. Returning default: ${t}. [${r}]`)}}return r}setObject(e,t){let r;try{r=JSON.stringify(t)}catch(t){throw new Error(`Could not stringify object: ${e}. [${t}]`)}try{this.set(e,r)}catch(t){const r=new Error(`Could not save item in localStorage: ${e}. [${t}]`);throw t instanceof Error&&(r.name=t.name),r}return!0}exists(e){return void 0!==window.localStorage[e]}delete(e){window.localStorage.removeItem(e)}};function Vu(e,t=!1){const[n,i]=(0,r.useState)(function(e,t=!1){const r=qu.get(e);return void 0===r?t:Boolean(parseInt(r,10))}(e,t));return{flag:n,setFlag:(0,r.useCallback)((t=>{!function(e,t){qu.set(e,t?"1":"0")}(e,t),i(t)}),[e])}}var zu,Bu;function Hu(e){return"values"in e}function Qu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Qu(e,t,r[t])}))}return e}function Uu(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}!function(e){e.timeSeriesQuery="timeSeriesQuery"}(zu||(zu={})),function(e){e.Auto="__auto",e.Verbose="__verbose",e.Custom="__custom"}(Bu||(Bu={}));const Xu="PrometheusQueryEditorModeDefault";function Gu(e,t,r){""===e.expr&&qu.set(Xu,t),r(Uu(Wu({},e),{editorMode:t}))}function Ku(e){if(null!=e&&""!==e)return Nu.Code;const t=qu.get(Xu);switch(t){case Nu.Builder:case Nu.Code:return t;default:return Nu.Builder}}function Yu(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ju(e){return!!e&&!!e[$d]}function Zu(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===Fd}(e)||Array.isArray(e)||!!e[Ld]||!!e.constructor[Ld]||od(e)||ad(e))}function ed(e,t,r){void 0===r&&(r=!1),0===td(e)?(r?Object.keys:qd)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function td(e){var t=e[$d];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:od(e)?2:ad(e)?3:0}function rd(e,t){return 2===td(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function nd(e,t,r){var n=td(e);2===n?e.set(t,r):3===n?(e.delete(t),e.add(r)):e[t]=r}function id(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function od(e){return Rd&&e instanceof Map}function ad(e){return Nd&&e instanceof Set}function sd(e){return e.o||e.t}function ld(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Vd(e);delete t[$d];for(var r=qd(t),n=0;n<r.length;n++){var i=r[n],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function cd(e,t){return void 0===t&&(t=!1),dd(e)||Ju(e)||!Zu(e)||(td(e)>1&&(e.set=e.add=e.clear=e.delete=ud),Object.freeze(e),t&&ed(e,(function(e,t){return cd(t,!0)}),!0)),e}function ud(){Yu(2)}function dd(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function pd(e){var t=zd[e];return t||Yu(18,e),t}function fd(){return Dd}function hd(e,t){t&&(pd("Patches"),e.u=[],e.s=[],e.v=t)}function md(e){gd(e),e.p.forEach(bd),e.p=null}function gd(e){e===Dd&&(Dd=e.l)}function vd(e){return Dd={p:[],l:Dd,h:e,m:!0,_:0}}function bd(e){var t=e[$d];0===t.i||1===t.i?t.j():t.O=!0}function yd(e,t){t._=t.p.length;var r=t.p[0],n=void 0!==e&&e!==r;return t.h.g||pd("ES5").S(t,e,n),n?(r[$d].P&&(md(t),Yu(4)),Zu(e)&&(e=wd(t,e),t.l||Od(t,e)),t.u&&pd("Patches").M(r[$d].t,e,t.u,t.s)):e=wd(t,r,[]),md(t),t.u&&t.v(t.u,t.s),e!==jd?e:void 0}function wd(e,t,r){if(dd(t))return t;var n=t[$d];if(!n)return ed(t,(function(i,o){return xd(e,n,t,i,o,r)}),!0),t;if(n.A!==e)return t;if(!n.P)return Od(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=4===n.i||5===n.i?n.o=ld(n.k):n.o;ed(3===n.i?new Set(i):i,(function(t,o){return xd(e,n,i,t,o,r)})),Od(e,i,!1),r&&e.u&&pd("Patches").R(n,r,e.u,e.s)}return n.o}function xd(e,t,r,n,i,o){if(Ju(i)){var a=wd(e,i,o&&t&&3!==t.i&&!rd(t.D,n)?o.concat(n):void 0);if(nd(r,n,a),!Ju(a))return;e.m=!1}if(Zu(i)&&!dd(i)){if(!e.h.F&&e._<1)return;wd(e,i),t&&t.A.l||Od(e,i)}}function Od(e,t,r){void 0===r&&(r=!1),e.h.F&&e.m&&cd(t,r)}function _d(e,t){var r=e[$d];return(r?sd(r):e)[t]}function Ed(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function Sd(e){e.P||(e.P=!0,e.l&&Sd(e.l))}function kd(e){e.o||(e.o=ld(e.t))}function Pd(e,t,r){var n=od(t)?pd("MapSet").N(t,r):ad(t)?pd("MapSet").T(t,r):e.g?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:fd(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=n,o=Bd;r&&(i=[n],o=Hd);var a=Proxy.revocable(i,o),s=a.revoke,l=a.proxy;return n.k=l,n.j=s,l}(t,r):pd("ES5").J(t,r);return(r?r.A:fd()).p.push(n),n}function Td(e){return Ju(e)||Yu(22,e),function e(t){if(!Zu(t))return t;var r,n=t[$d],i=td(t);if(n){if(!n.P&&(n.i<4||!pd("ES5").K(n)))return n.t;n.I=!0,r=Cd(t,i),n.I=!1}else r=Cd(t,i);return ed(r,(function(t,i){n&&function(e,t){return 2===td(e)?e.get(t):e[t]}(n.t,t)===i||nd(r,t,e(i))})),3===i?new Set(r):r}(e)}function Cd(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return ld(e)}var Id,Dd,Ad="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Rd="undefined"!=typeof Map,Nd="undefined"!=typeof Set,Md="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,jd=Ad?Symbol.for("immer-nothing"):((Id={})["immer-nothing"]=!0,Id),Ld=Ad?Symbol.for("immer-draftable"):"__$immer_draftable",$d=Ad?Symbol.for("immer-state"):"__$immer_state",Fd=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),qd="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Vd=Object.getOwnPropertyDescriptors||function(e){var t={};return qd(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},zd={},Bd={get:function(e,t){if(t===$d)return e;var r=sd(e);if(!rd(r,t))return function(e,t,r){var n,i=Ed(t,r);return i?"value"in i?i.value:null===(n=i.get)||void 0===n?void 0:n.call(e.k):void 0}(e,r,t);var n=r[t];return e.I||!Zu(n)?n:n===_d(e.t,t)?(kd(e),e.o[t]=Pd(e.A.h,n,e)):n},has:function(e,t){return t in sd(e)},ownKeys:function(e){return Reflect.ownKeys(sd(e))},set:function(e,t,r){var n=Ed(sd(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=_d(sd(e),t),o=null==i?void 0:i[$d];if(o&&o.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(id(r,i)&&(void 0!==r||rd(e.t,t)))return!0;kd(e),Sd(e)}return e.o[t]===r&&"number"!=typeof r&&(void 0!==r||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==_d(e.t,t)||t in e.t?(e.D[t]=!1,kd(e),Sd(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=sd(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){Yu(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Yu(12)}},Hd={};ed(Bd,(function(e,t){Hd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Hd.deleteProperty=function(e,t){return Hd.set.call(this,e,t,void 0)},Hd.set=function(e,t,r){return Bd.set.call(this,e[0],t,r,e[0])};var Qd=function(){function e(e){var t=this;this.g=Md,this.F=!0,this.produce=function(e,r,n){if("function"==typeof e&&"function"!=typeof r){var i=r;r=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(a))}))}}var a;if("function"!=typeof r&&Yu(6),void 0!==n&&"function"!=typeof n&&Yu(7),Zu(e)){var s=vd(t),l=Pd(t,e,void 0),c=!0;try{a=r(l),c=!1}finally{c?md(s):gd(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return hd(s,n),yd(e,s)}),(function(e){throw md(s),e})):(hd(s,n),yd(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=r(e))&&(a=e),a===jd&&(a=void 0),t.F&&cd(a,!0),n){var u=[],d=[];pd("Patches").M(e,a,u,d),n(u,d)}return a}Yu(21,e)},this.produceWithPatches=function(e,r){if("function"==typeof e)return function(r){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t.produceWithPatches(r,(function(t){return e.apply(void 0,[t].concat(i))}))};var n,i,o=t.produce(e,r,(function(e,t){n=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,n,i]})):[o,n,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Zu(e)||Yu(8),Ju(e)&&(e=Td(e));var t=vd(this),r=Pd(this,e,void 0);return r[$d].C=!0,gd(t),r},t.finishDraft=function(e,t){var r=(e&&e[$d]).A;return hd(r,t),yd(void 0,r)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Md&&Yu(20),this.g=e},t.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var i=pd("Patches").$;return Ju(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Wd=new Qd,Ud=Wd.produce;Wd.produceWithPatches.bind(Wd),Wd.setAutoFreeze.bind(Wd),Wd.setUseProxies.bind(Wd),Wd.applyPatches.bind(Wd),Wd.createDraft.bind(Wd),Wd.finishDraft.bind(Wd);const Xd=Ud;var Gd=m(3129),Kd=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Yd=function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},Jd=Object.defineProperty,Zd=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),ep=Object.prototype.hasOwnProperty,tp=Object.prototype.propertyIsEnumerable,rp=function(e,t,r){return t in e?Jd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},np=function(e,t){for(var r in t||(t={}))ep.call(t,r)&&rp(e,r,t[r]);if(Zd)for(var n=0,i=Zd(t);n<i.length;n++)r=i[n],tp.call(t,r)&&rp(e,r,t[r]);return e};function ip(e){return Zu(e)?Xd(e,(function(){})):e}function op(e,t){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(t){var i=t.apply(void 0,r);if(!i)throw new Error("prepareAction did not return an object");return np(np({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:r[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(t){return t.type===e},r}function ap(e){var t,r={},n=[],i={addCase:function(e,t){var n="string"==typeof e?e:e.type;if(n in r)throw new Error("addCase cannot be called with two reducers for the same action type");return r[n]=t,i},addMatcher:function(e,t){return n.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[r,n,t]}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,function(e){function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}Kd(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Yd([void 0],e[0].concat(this)))):new(t.bind.apply(t,Yd([void 0],e.concat(this))))}}(Array),Object.assign;var sp="listenerMiddleware";op(sp+"/add"),op(sp+"/removeAll"),op(sp+"/remove"),function(){function e(e,t){var r=i[e];return r?r.enumerable=t:i[e]=r={configurable:!0,enumerable:t,get:function(){var t=this[$d];return Bd.get(t,e)},set:function(t){var r=this[$d];Bd.set(r,e,t)}},r}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][$d];if(!i.P)switch(i.i){case 5:n(i)&&Sd(i);break;case 4:r(i)&&Sd(i)}}}function r(e){for(var t=e.t,r=e.k,n=qd(r),i=n.length-1;i>=0;i--){var o=n[i];if(o!==$d){var a=t[o];if(void 0===a&&!rd(t,o))return!0;var s=r[o],l=s&&s[$d];if(l?l.t!==a:!id(s,a))return!0}}var c=!!t[$d];return n.length!==qd(t).length+(c?0:1)}function n(e){var t=e.k;if(t.length!==e.t.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);if(r&&!r.get)return!0;for(var n=0;n<t.length;n++)if(!t.hasOwnProperty(n))return!0;return!1}var i={};!function(e,t){zd[e]||(zd[e]=t)}("ES5",{J:function(t,r){var n=Array.isArray(t),i=function(t,r){if(t){for(var n=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(n,""+i,e(i,!0));return n}var o=Vd(r);delete o[$d];for(var a=qd(o),s=0;s<a.length;s++){var l=a[s];o[l]=e(l,t||!!o[l].enumerable)}return Object.create(Object.getPrototypeOf(r),o)}(n,t),o={i:n?5:4,A:r?r.A:fd(),P:!1,I:!1,D:{},l:r,t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,$d,{value:o,writable:!0}),i},S:function(e,r,i){i?Ju(r)&&r[$d].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var r=t[$d];if(r){var i=r.t,o=r.k,a=r.D,s=r.i;if(4===s)ed(o,(function(t){t!==$d&&(void 0!==i[t]||rd(i,t)?a[t]||e(o[t]):(a[t]=!0,Sd(r)))})),ed(i,(function(e){void 0!==o[e]||rd(o,e)||(a[e]=!1,Sd(r))}));else if(5===s){if(n(r)&&(Sd(r),a.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)a[l]=!1;else for(var c=i.length;c<o.length;c++)a[c]=!0;for(var u=Math.min(o.length,i.length),d=0;d<u;d++)o.hasOwnProperty(d)||(a[d]=!0),void 0===a[d]&&e(o[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?r(e):n(e)}})}();const lp=({children:e})=>{const t=(0,a.useStyles2)(cp);return n().createElement("div",{className:t.root},n().createElement(bs,{gap:2},e))},cp=e=>({root:(0,s.css)({padding:e.spacing(1),backgroundColor:e.colors.background.secondary,borderRadius:e.shape.borderRadius(1)})});var up=m(5295),dp=m.n(up),pp=m(3342),fp=m.n(pp);function hp(e,t,r,n="="){if(!t||!r)throw new Error("Need label to add to query.");const i=function(e){const t=hu.parse(e),r=[];return t.iterate({enter:({to:t,from:n,type:i})=>{if(i.id===vu){const i=Tu(e.substring(n,t));return r.push({query:i.query,from:n,to:t}),!1}}}),r}(e);if(!i.length)return e;const o=function(e,t,r){return{label:e,op:r,value:t===1/0?"+Inf":t.toString()}}(t,r,n);return function(e,t,r){const n=new yl;let i="",o=0;for(let a=0;a<t.length;a++){const s=t[a],l=a===t.length-1,c=e.substring(o,s.from),u=l?e.substring(s.to):"";mp(s.query.labels,r)||s.query.labels.push(r),i+=c+n.renderQuery(s.query)+u,o=s.to}return i}(e,i,o)}function mp(e,t){return e.find((e=>e.label===t.label&&e.value===t.value))}function gp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const vp=/\{[^}]*?(\}|$)/,bp=/\b(\w+)(!?=~?)("[^"\n]*?")/g;function yp(e,t=1){if(!e.match(vp)){if(e.match(/^[A-Za-z:][\w:]*$/))return{selector:`{__name__="${e}"}`,labelKeys:["__name__"]};throw new Error("Query must contain a selector: "+e)}const r=e.slice(0,t),n=r.lastIndexOf("{"),i=r.lastIndexOf("}");if(-1===n)throw new Error("Not inside selector, missing open brace: "+r);if(i>-1&&i>n)throw new Error("Not inside selector, previous selector already closed: "+r);const o=e.slice(t),a=o.indexOf("}")+t,s=o.indexOf("{"),l=s+t;if(-1===a)throw new Error("Not inside selector, missing closing brace in suffix: "+o);if(s>-1&&l<a)throw new Error("Not inside selector, next selector opens before this one closed: "+o);const c=e.slice(n,a),u={};c.replace(bp,((r,n,i,o)=>{const a=e.indexOf(r),s=a+n.length+i.length+1,l=a+n.length+i.length+o.length-1;return(t<s||t>l)&&(u[n]={value:o,operator:i}),""}));const d=e.slice(0,n).match(/[A-Za-z:][\w:]*$/);d&&(u.__name__={value:`"${d[0]}"`,operator:"="});const p=Object.keys(u).sort(),f=p.map((e=>`${e}${u[e].operator}${u[e].value}`)).join(",");return{labelKeys:p,selector:["{",f,"}"].join("")}}function wp(e){return xp(e/1e3)}function xp(e){return Math.floor(e/60)}function Op(e){return e.slice(0,jp)}function _p(e){return e&&e.length>=jp?`, limited to the first ${jp} received items`:""}const Ep=/[*+?()|\\.\[\]{}^$]/g;function Sp(e){return e.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/"/g,'\\"')}function kp(e){return Sp(e.replace(Ep,"\\$&"))}const Pp={"=":t.AbstractLabelOperator.Equal,"!=":t.AbstractLabelOperator.NotEqual,"=~":t.AbstractLabelOperator.EqualRegEx,"!~":t.AbstractLabelOperator.NotEqualRegEx},Tp=(0,Is.invert)(Pp);function Cp(e){const t=e.labelMatchers.map((e=>{const t=Tp[e.operator];return t?`${e.name}${t}"${e.value}"`:""})).filter((e=>""!==e)).join(", ");return t?`{${t}}`:""}function Ip(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function Dp(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Ip(o,n,i,a,s,"next",e)}function s(e){Ip(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Ap(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ap(e,t,r[t])}))}return e}function Np(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const Mp=["job","instance"],jp=1e4,Lp=e=>({label:e}),$p=e=>(e.kind="function",e);function Fp(e,t){if(!t[e])return;const{type:r,help:n}=t[e];return`${r.toUpperCase()}: ${n}`}const qp=/(="|!="|=~"|!~"|\{|\[|\(|\+|-|\/|\*|%|\^|\band\b|\bor\b|\bunless\b|==|>=|!=|<=|>|<|=|~|,)/;class Vp extends t.LanguageProvider{cleanText(e){return e.split(qp).pop().trimLeft().replace(/"$/,"").replace(/^"/,"")}get syntax(){return Ps}loadMetricsMetadata(){var e=this;return Dp((function*(){e.metricsMetadata=function(e){if(!e)return e;const t={},r={};for(const n in e){const i=e[n][0];t[n]=i,"histogram"===i.type&&(r[`${n}_bucket`]={type:"counter",help:`Cumulative counters for the observation buckets (${i.help})`},r[`${n}_count`]={type:"counter",help:`Count of events that have been observed for the histogram metric (${i.help})`},r[`${n}_sum`]={type:"counter",help:`Total sum of all observed values for the histogram metric (${i.help})`}),"summary"===i.type&&(r[`${n}_count`]={type:"counter",help:`Count of events that have been observed for the base metric (${i.help})`},r[`${n}_sum`]={type:"counter",help:`Total sum of all observed values for the base metric (${i.help})`})}return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){gp(e,t,r[t])}))}return e}({},t,r,{ALERTS:{type:"counter",help:"Time series showing pending and firing alerts. The sample value is set to 1 as long as the alert is in the indicated active (pending or firing) state."}})}(yield e.request("/api/v1/metadata",{},{},{showErrorAlert:!1}))}))()}getLabelKeys(){return this.labelKeys}getRangeCompletionItems(){return{context:"context-range",suggestions:[{label:"Range vector",items:[...Es]}]}}importFromAbstractQuery(e){return function(e){return{refId:e.refId,expr:Cp(e),range:!0}}(e)}exportToAbstractQuery(e){const r=e.expr;if(!r||0===r.length)return{refId:e.refId,labelMatchers:[]};const n=fp().tokenize(r,Ps),i=function(e){const t=[];for(let r in e)if(e[r]instanceof pp.Token){let n=e[r];if("context-labels"===n.type){let e="",r="",i="",o=n.content;for(let n in o)if("string"==typeof o[n]){let e;e=o[n],"="!==e&&"!="!==e&&"=~"!==e&&"!~"!==e||(i=e)}else if(o[n]instanceof pp.Token)switch(o[n].type){case"label-key":e=o[n].content;break;case"label-value":r=o[n].content,r=r.substring(1,r.length-1);const a=Pp[i];a&&t.push({name:e,operator:a,value:r})}}}return t}(n),o=function(e,t){let r="";for(let e in t)if("string"==typeof t[e]){r=t[e];break}return r}(0,n);return o&&o.length>0&&i.push({name:"__name__",operator:t.AbstractLabelOperator.Equal,value:o}),{refId:e.refId,labelMatchers:i}}getSeries(e,t){var r=this;return Dp((function*(){if(r.datasource.lookupsDisabled)return{};try{return"{}"===e?yield r.fetchDefaultSeries():yield r.fetchSeriesLabels(e,t)}catch(e){return console.error(e),{}}}))()}getLabelValues(e){var t=this;return Dp((function*(){return yield t.fetchLabelValues(e)}))()}fetchLabels(){var e=this;return Dp((function*(){const t=e.datasource.getTimeRangeParams();e.labelFetchTs=Date.now().valueOf();const r=yield e.request("/api/v1/labels",[],t);return Array.isArray(r)&&(e.labelKeys=r.slice().sort()),[]}))()}constructor(e,r){super(),this.labelKeys=[],this.labelsCache=new(dp())({max:10});var n=this;this.request=function(){var e=Dp((function*(e,t,r={},i){try{return(yield n.datasource.metadataRequest(e,r,i)).data.data}catch(e){console.error(e)}return t}));return function(t,r){return e.apply(this,arguments)}}();var i=this;this.start=Dp((function*(){return i.datasource.lookupsDisabled||(yield i.fetchLabels(),i.metrics=(yield i.fetchLabelValues("__name__"))||[],yield i.loadMetricsMetadata(),i.histogramMetrics=(e=>{const t=new Set,r=new RegExp("_bucket($|:)");for(let n=0;n<e.length;n++){const i=e[n];r.test(i)&&t.add(i)}return[...t]})(i.metrics).sort()),[]}));var o=this;this.provideCompletionItems=function(){var e=Dp((function*({prefix:e,text:t,value:r,labelKey:n,wrapperClasses:i},a={}){const s={suggestions:[]};if(!r)return s;const l=0===r.document.text.length,c=r.document.getTextsAtRange(r.selection),u=1===c.size?c.first().getText():null,d=u?u[r.selection.anchor.offset]:null,p=i.length>3,f=e&&!p,h=!d||")"===d,m=e&&!t.match(/^[\]})\s]+$/)&&h,g=t.match(/[+\-*/^%]/);return i.includes("context-range")?o.getRangeCompletionItems():i.includes("context-labels")?o.getLabelCompletionItems({prefix:e,text:t,value:r,labelKey:n,wrapperClasses:i}):i.includes("context-aggregation")?o.getAggregationCompletionItems(r):l?o.getEmptyCompletionItems(a):f&&h&&!g?o.getBeginningCompletionItems(a):f&&m?o.getTermCompletionItems():s}));return function(t){return e.apply(this,arguments)}}(),this.getBeginningCompletionItems=e=>({suggestions:[...this.getEmptyCompletionItems(e).suggestions,...this.getTermCompletionItems().suggestions]}),this.getEmptyCompletionItems=e=>{const{history:r}=e,n=[];if(r&&r.length){const e=(0,Is.chain)(r).map((e=>e.query.expr)).filter().uniq().take(5).map(Lp).map((e=>function(e,r){const n=Date.now()-864e5,i=r.filter((t=>t.ts>n&&t.query===e.label)),o=i.length,a=i[0];let s=`Queried ${o} times in the last 24h.`;return a&&(s=`${s} Last queried ${(0,t.dateTime)(a.ts).fromNow()}.`),Np(Rp({},e),{documentation:s})}(e,r))).value();n.push({searchFunctionType:a.SearchFunctionType.Prefix,skipSort:!0,label:"History",items:e})}return{suggestions:n}},this.getTermCompletionItems=()=>{const{metrics:e,metricsMetadata:t}=this,r=[];return r.push({searchFunctionType:a.SearchFunctionType.Prefix,label:"Functions",items:Ss.map($p)}),e&&e.length&&r.push({label:"Metrics",items:e.map((e=>function(e,t){const r={label:e};return t&&t[e]&&(r.documentation=Fp(e,t)),r}(e,t))),searchFunctionType:a.SearchFunctionType.Fuzzy}),{suggestions:r}};var s=this;this.getAggregationCompletionItems=function(){var e=Dp((function*(e){const t=[];let r;const n=e.document.getBlocks().reduce(((t,n)=>{if(void 0===t)return"";if(!n)return t;const i=null==n?void 0:n.getText();return e.anchorBlock.key===n.key&&(r=e.selection.anchor.offset+t.length),t+i}),""),i=n.lastIndexOf("(",r);let o=n.lastIndexOf("(",i-1),l=n.indexOf(")",o);if(-1===o){const e=n.indexOf(")",r);l=n.indexOf(")",e+1),o=n.lastIndexOf("(",l)}const c={suggestions:t,context:"context-aggregation"};if(-1===o)return c;const u=n.slice(o+1,l).replace(/\[[^\]]+\]$/,""),d=yp(u,u.length-2).selector,p=yield s.getSeries(d),f=Object.keys(p);if(f.length>0){const e=_p(f);t.push({label:`Labels${e}`,items:f.map(Lp),searchFunctionType:a.SearchFunctionType.Fuzzy})}return c}));return function(t){return e.apply(this,arguments)}}();var l=this;this.getLabelCompletionItems=function(){var e=Dp((function*({text:e,wrapperClasses:t,labelKey:r,value:n}){if(!n)return{suggestions:[]};const i=[],o=n.anchorBlock.getText(),s=n.selection.anchor.offset,c=o.substr(s),u=o.substr(0,s),d=e.match(/^(=|=~|!=|!~)/),p=c.match(/^"?[,}]|$/),f=u.match(/(=|=~|!=|!~)$/)&&c.match(/^"/);if((!d||!p)&&(!p||d)||f)return{suggestions:i};let h,m;try{m=yp(o,s),h=m.selector}catch(e){h="{}"}const g=h.includes("__name__="),v=m?m.labelKeys:[];let b,y={};if(h&&(y=yield l.getSeries(h,!g)),0===Object.keys(y).length)return console.warn(`Server did not return any values for selector = ${h}`),{suggestions:i};if(e&&d||t.includes("attr-value")){if(r&&y[r]){b="context-label-values";const e=_p(y[r]);i.push({label:`Label values for "${r}"${e}`,items:y[r].map(Lp),searchFunctionType:a.SearchFunctionType.Fuzzy})}}else{const e=y?Object.keys(y):g?null:Mp;if(e){const t=(0,Is.difference)(e,v);if(t.length){b="context-labels";const e=t.map((e=>({label:e}))),r={label:`Labels${_p(e)}`,items:e,searchFunctionType:a.SearchFunctionType.Fuzzy};i.push(r)}}}return{context:b,suggestions:i}}));return function(t){return e.apply(this,arguments)}}();var c=this;this.fetchLabelValues=function(){var e=Dp((function*(e){const t=c.datasource.getTimeRangeParams(),r=`/api/v1/label/${c.datasource.interpolateString(e)}/values`;return yield c.request(r,[],t)}));return function(t){return e.apply(this,arguments)}}();var u=this;this.fetchSeriesLabels=function(){var e=Dp((function*(e,t){const r=u.datasource.interpolateString(e),n=u.datasource.getTimeRangeParams(),i=Np(Rp({},n),{"match[]":r}),o=`/api/v1/series?${new URLSearchParams({"match[]":r,start:xp(parseInt(n.start,10)).toString(),end:xp(parseInt(n.end,10)).toString(),withName:t?"true":"false"}).toString()}`;let a=u.labelsCache.get(o);if(!a){const e=yield u.request("/api/v1/series",[],i),{values:r}=function(e,t=!1){const r={};e.forEach((e=>{const{__name__:n}=e,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["__name__"]);t&&(r.__name__=r.__name__||new Set,r.__name__.has(n)||r.__name__.add(n)),Object.keys(i).forEach((e=>{r[e]||(r[e]=new Set),r[e].has(i[e])||r[e].add(i[e])}))}));const n={};return Op(Object.keys(r)).forEach((e=>{n[e]=Op(Array.from(r[e]))})),{values:n,keys:Object.keys(n)}}(e,t);a=r,u.labelsCache.set(o,a)}return a}));return function(t,r){return e.apply(this,arguments)}}();var d=this;this.fetchSeries=function(){var e=Dp((function*(e){const t=Np(Rp({},d.datasource.getTimeRangeParams()),{"match[]":e});return yield d.request("/api/v1/series",{},t)}));return function(t){return e.apply(this,arguments)}}();var p=this;this.fetchDefaultSeries=(0,Is.once)(Dp((function*(){const e=yield Promise.all(Mp.map((e=>p.fetchLabelValues(e))));return Mp.reduce(((t,r,n)=>Np(Rp({},t),{[r]:e[n]})),{})}))),this.datasource=e,this.histogramMetrics=[],this.timeRange={start:0,end:0},this.metrics=[],Object.assign(this,r)}}const zp=({children:e})=>n().createElement(bs,{gap:1},e);function Bp(e){let t;const r=n().Children.only(e);return"id"in(null==r?void 0:r.props)?t=r.props.id:"inputId"in r.props&&(t=null==r?void 0:r.props.inputId),"string"==typeof t?t:void 0}function Hp(e,t){if(n().isValidElement(e)||"string"==typeof e||"number"==typeof e)return e;if("function"==typeof e)return e(t);throw new Error(`${e} is not a React element nor a function that returns React element`)}const Qp=(0,a.stylesFactory)((e=>{const t=`\n      font-size: ${e.typography.size.sm};\n      font-weight: ${e.typography.fontWeightMedium};\n      padding: ${e.spacing(.5,1)};\n      color: ${e.colors.error.contrastText};\n      background: ${e.colors.error.main};\n      border-radius: ${e.shape.borderRadius()};\n      position: relative;\n      display: inline-block;\n\n      a {\n        color: ${e.colors.error.contrastText};\n        text-decoration: underline;\n      }\n\n      a:hover {\n        text-decoration: none;\n      }\n    `;return{vertical:s.css`
      ${t}
      margin: ${e.spacing(.5,0,0,0)};

      &:before {
        content: '';
        position: absolute;
        left: 9px;
        top: -5px;
        width: 0;
        height: 0;
        border-width: 0 4px 5px 4px;
        border-color: transparent transparent ${e.colors.error.main} transparent;
        border-style: solid;
      }
    `,horizontal:s.css`
      ${t}
      margin-left: 10px;

      &:before {
        content: '';
        position: absolute;
        left: -5px;
        top: 9px;
        width: 0;
        height: 0;
        border-width: 4px 5px 4px 0;
        border-color: transparent #e02f44 transparent transparent;
        border-style: solid;
      }
    `,fieldValidationMessageIcon:s.css`
      margin-right: ${e.spacing()};
    `}})),Wp=({children:e,horizontal:t,className:r})=>{const i=(0,a.useTheme2)(),o=Qp(i),l=(0,s.cx)(t?o.horizontal:o.vertical,r);return n().createElement("div",{role:"alert",className:l},n().createElement(Qn,{className:o.fieldValidationMessageIcon,name:"exclamation-triangle"}),e)};function Up(){return Up=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Up.apply(this,arguments)}const Xp=(0,a.stylesFactory)((e=>({label:s.css`
      label: Label;
      font-size: ${e.typography.size.sm};
      font-weight: ${e.typography.fontWeightMedium};
      line-height: 1.25;
      margin-bottom: ${e.spacing(.5)};
      color: ${e.colors.text.primary};
      max-width: 480px;
    `,labelContent:s.css`
      display: flex;
      align-items: center;
    `,description:s.css`
      label: Label-description;
      color: ${e.colors.text.secondary};
      font-size: ${e.typography.size.sm};
      font-weight: ${e.typography.fontWeightRegular};
      margin-top: ${e.spacing(.25)};
      display: block;
    `,categories:s.css`
      label: Label-categories;
      display: inline-flex;
      align-items: center;
    `,chevron:s.css`
      margin: 0 ${e.spacing(.25)};
    `}))),Gp=e=>{var{children:t,description:r,className:i,category:o}=e,l=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["children","description","className","category"]);const c=(0,a.useTheme2)(),u=Xp(c),d=null==o?void 0:o.map(((e,t)=>n().createElement("span",{className:u.categories,key:`${e}/${t}`},n().createElement("span",null,e),n().createElement(Qn,{name:"angle-right",className:u.chevron}))));return n().createElement("div",{className:(0,s.cx)(u.label,i)},n().createElement("label",Up({},l),n().createElement("div",{className:u.labelContent},d,t),r&&n().createElement("span",{className:u.description},r)))};function Kp(){return Kp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kp.apply(this,arguments)}const Yp=(0,a.stylesFactory)((e=>({field:s.css`
      display: flex;
      flex-direction: column;
      margin-bottom: ${e.spacing(2)};
    `,fieldHorizontal:s.css`
      flex-direction: row;
      justify-content: space-between;
      flex-wrap: wrap;
    `,fieldValidationWrapper:s.css`
      margin-top: ${e.spacing(.5)};
    `,fieldValidationWrapperHorizontal:s.css`
      flex: 1 1 100%;
    `,validationMessageHorizontalOverflow:s.css`
      width: 0;
      overflow-x: visible;

      & > * {
        white-space: nowrap;
      }
    `}))),Jp=e=>{var{label:t,description:r,horizontal:i,invalid:o,loading:l,disabled:c,required:u,error:d,children:p,className:f,validationMessageHorizontalOverflow:h,htmlFor:m}=e,g=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["label","description","horizontal","invalid","loading","disabled","required","error","children","className","validationMessageHorizontalOverflow","htmlFor"]);const v=(0,a.useTheme2)(),b=Yp(v),y=null!=m?m:Bp(p),w="string"==typeof t?n().createElement(Gp,{htmlFor:y,description:r},`${t}${u?" *":""}`):t,x=function(e){for(const t in e)void 0===e[t]&&delete e[t];return e}({invalid:o,disabled:c,loading:l});return n().createElement("div",Kp({className:(0,s.cx)(b.field,i&&b.fieldHorizontal,f)},g),w,n().createElement("div",null,n().cloneElement(p,x),o&&d&&!i&&n().createElement("div",{className:(0,s.cx)(b.fieldValidationWrapper,{[b.validationMessageHorizontalOverflow]:!!h})},n().createElement(Wp,null,d))),o&&d&&i&&n().createElement("div",{className:(0,s.cx)(b.fieldValidationWrapper,b.fieldValidationWrapperHorizontal,{[b.validationMessageHorizontalOverflow]:!!h})},n().createElement(Wp,null,d)))};function Zp(){return Zp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zp.apply(this,arguments)}const ef=t=>{const{label:r,optional:i,tooltip:o,children:s,width:l}=t,c=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(t,["label","optional","tooltip","children","width"]),u=(0,a.useTheme2)(),d=tf(u,l),p=(null==c?void 0:c.htmlFor)||(null==e?void 0:Bp(s)),f=n().createElement(n().Fragment,null,n().createElement("label",{className:d.label,htmlFor:p},r,i&&n().createElement("span",{className:d.optional}," - optional"),o&&n().createElement(Yo,{placement:"top",content:o,theme:"info"},n().createElement(Qn,{name:"info-circle",size:"sm",className:d.icon}))),n().createElement(hs,{v:.5}));return n().createElement("div",{className:d.root},n().createElement(Jp,Zp({className:d.field,label:f},c),s))},tf=(0,a.stylesFactory)(((e,t)=>({root:(0,s.css)({minWidth:e.spacing(null!=t?t:0)}),label:(0,s.css)({fontSize:12,fontWeight:e.typography.fontWeightMedium}),optional:(0,s.css)({fontStyle:"italic",color:e.colors.text.secondary}),field:(0,s.css)({marginBottom:0}),icon:(0,s.css)({color:e.colors.text.secondary,marginLeft:e.spacing(1),":hover":{color:e.colors.text.primary}})})));function rf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nf(){return nf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(this,arguments)}function of(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){rf(e,t,r[t])}))}return e}function af(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function sf(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}const lf=n().forwardRef(((e,t)=>{var{variant:r="primary",size:i="md",fill:o="solid",icon:l,fullWidth:c,children:u,className:d,type:p="button"}=e,f=sf(e,["variant","size","fill","icon","fullWidth","children","className","type"]);const h=(0,a.useTheme2)(),m=uf({theme:h,size:i,variant:r,fill:o,fullWidth:c,iconOnly:!u});return n().createElement("button",nf({className:(0,s.cx)(m.button,d),type:p},f,{ref:t}),l&&n().createElement(Qn,{name:l,size:i,className:m.icon}),u&&n().createElement("span",{className:m.content},u))}));lf.displayName="Button";const cf=n().forwardRef(((e,t)=>{var{variant:r="primary",size:i="md",fill:o="solid",icon:l,fullWidth:c,children:u,className:d,onBlur:p,onFocus:f,disabled:h,tooltip:m,tooltipPlacement:g}=e,v=sf(e,["variant","size","fill","icon","fullWidth","children","className","onBlur","onFocus","disabled","tooltip","tooltipPlacement"]);const b=(0,a.useTheme2)(),y=uf({theme:b,fullWidth:c,size:i,variant:r,fill:o,iconOnly:!u}),w=(0,s.cx)(y.button,{[(0,s.css)(y.disabled,{pointerEvents:"none"})]:h},d),x=n().createElement("a",nf({className:w},v,{tabIndex:h?-1:0,ref:t}),l&&n().createElement(Qn,{name:l,size:i,className:y.icon}),u&&n().createElement("span",{className:y.content},u));return m?n().createElement(Yo,{content:m,placement:g},x):x}));cf.displayName="LinkButton";const uf=e=>{const{theme:t,variant:r,fill:n="solid",size:i,iconOnly:o,fullWidth:a}=e,{height:l,padding:c,fontSize:u}=function(e,t){switch(e){case"sm":return{padding:1,fontSize:t.typography.size.sm,height:t.components.height.sm};case"lg":return{padding:3,fontSize:t.typography.size.lg,height:t.components.height.lg};default:return{padding:2,fontSize:t.typography.size.md,height:t.components.height.md}}}(i,t),d=pf(t,r,n),p=function(e,t,r){const n={cursor:"not-allowed",boxShadow:"none",color:e.colors.text.disabled,transition:"none"};return af(of({},n),"text"===r?{background:"transparent",border:"1px solid transparent"}:"outline"===r?{background:"transparent",border:`1px solid ${e.colors.action.disabledText}`}:{background:e.colors.action.disabledBackground,border:"1px solid transparent"})}(t,0,n),f=ai(t),h=t.spacing.gridSize*c-1;return{button:(0,s.css)(af(of({label:"button",display:"inline-flex",alignItems:"center",fontSize:u,fontWeight:t.typography.fontWeightMedium,fontFamily:t.typography.fontFamily,padding:`0 ${h}px`,height:t.spacing(l),lineHeight:t.spacing.gridSize*l-2+"px",verticalAlign:"middle",cursor:"pointer",borderRadius:t.shape.borderRadius(1),"&:focus":f,"&:focus-visible":f,"&:focus:not(:focus-visible)":{outline:"none",boxShadow:"none"}},a&&{flexGrow:1,justifyContent:"center"},d),{":disabled":p,"&[disabled]":p})),disabled:(0,s.css)(p),img:s.css`
      width: 16px;
      height: 16px;
      margin: ${t.spacing(0,1,0,.5)};
    `,icon:o?(0,s.css)({marginRight:t.spacing(-c/2),marginLeft:t.spacing(-c/2)}):(0,s.css)({marginRight:t.spacing(c/2)}),content:s.css`
      display: flex;
      flex-direction: row;
      align-items: center;
      white-space: nowrap;
      height: 100%;
    `}};function df(e,r,n){return"outline"===n?{background:"transparent",color:r.text,border:`1px solid ${r.border}`,transition:e.transitions.create(["background-color","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{background:t.colorManipulator.alpha(r.main,e.colors.action.hoverOpacity),borderColor:e.colors.emphasize(r.border,.25),color:r.text}}:"text"===n?{background:"transparent",color:r.text,border:"1px solid transparent",transition:e.transitions.create(["background-color","color"],{duration:e.transitions.duration.short}),"&:focus":{outline:"none",textDecoration:"none"},"&:hover":{background:t.colorManipulator.alpha(r.shade,e.colors.action.hoverOpacity),textDecoration:"none"}}:{background:r.main,color:r.contrastText,border:"1px solid transparent",transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{background:r.shade,color:r.contrastText,boxShadow:e.shadows.z1}}}function pf(e,t,r){switch(t){case"secondary":return df(e,e.colors.secondary,r);case"destructive":return df(e,e.colors.error,r);case"success":return df(e,e.colors.success,r);default:return df(e,e.colors.primary,r)}}function ff({items:e,renderItem:t,onChange:r}){return n().createElement(bs,null,e.map(((i,o)=>n().createElement("div",{key:o},t(i,(t=>((t,n)=>{const i=[...e];i[t]=n,r(i)})(o,t)),(()=>(t=>{const n=[...e];n.splice(t,1),r(n)})(o)))))),n().createElement(lf,{onClick:()=>{const t=[...e,{}];r(t)},variant:"secondary",size:"md",icon:"plus","aria-label":"Add",type:"button"}))}var hf=m(7667);const mf=({children:e})=>{const t=(0,a.useStyles2)(gf);return n().createElement("div",{className:t.root},e)},gf=()=>({root:(0,s.css)({display:"flex","> *":{"&:not(:first-child)":{marginLeft:-1},"&:first-child":{borderTopRightRadius:0,borderBottomRightRadius:0},"&:last-child":{borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:first-child):not(:last-child)":{borderRadius:0},position:"relative",zIndex:1,"&:hover":{zIndex:2},"&:focus-within":{zIndex:2}}})});function vf(){return vf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(this,arguments)}const bf=e=>{var{className:t}=e,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["className"]);const i=(0,a.useTheme2)(),o=yf(i);return n().createElement(lf,vf({},r,{className:(0,s.cx)(t,o.button)}))},yf=(0,a.stylesFactory)((e=>({button:(0,s.css)({paddingLeft:e.spacing(1.5),paddingRight:e.spacing(1.5)})})));function wf(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function xf(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){wf(o,n,i,a,s,"next",e)}function s(e){wf(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Of(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Of(e,t,r[t])}))}return e}function Ef(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function Sf({item:e,defaultOp:i,onChange:o,onDelete:s,onGetLabelNames:l,onGetLabelValues:c}){const[u,d]=(0,r.useState)({}),p=()=>{var t;return null===(t=kf.find((t=>t.label===e.op)))||void 0===t?void 0:t.isMultiValue},f=e=>e?e.indexOf("|")>0?e.split("|"):[e]:[];var h;return n().createElement("div",{"data-testid":"prometheus-dimensions-filter-item"},n().createElement(mf,null,n().createElement(a.Select,{placeholder:"Select label","aria-label":hf.selectors.components.QueryBuilder.labelSelect,inputId:"prometheus-dimensions-filter-item-key",width:"auto",value:e.label?(0,t.toOption)(e.label):null,allowCustomValue:!0,onOpenMenu:xf((function*(){d({isLoadingLabelNames:!0});const t=yield l(e);d({labelNames:t,isLoadingLabelNames:void 0})})),isLoading:u.isLoadingLabelNames,options:u.labelNames,onChange:t=>{var r;t.label&&o(Ef(_f({},e),{op:null!==(r=e.op)&&void 0!==r?r:i,label:t.label}))}}),n().createElement(a.Select,{"aria-label":hf.selectors.components.QueryBuilder.matchOperatorSelect,value:(0,t.toOption)(null!==(h=e.op)&&void 0!==h?h:i),options:kf,width:"auto",onChange:t=>{null!=t.value&&o(Ef(_f({},e),{op:t.value}))}}),n().createElement(a.Select,{placeholder:"Select value","aria-label":hf.selectors.components.QueryBuilder.valueSelect,inputId:"prometheus-dimensions-filter-item-value",width:"auto",value:p()?f(null==e?void 0:e.value).map(t.toOption):f(null==e?void 0:e.value).map(t.toOption)[0],allowCustomValue:!0,onOpenMenu:xf((function*(){d({isLoadingLabelValues:!0});const t=yield c(e);d(Ef(_f({},u),{labelValues:t,isLoadingLabelValues:void 0}))})),isMulti:p(),isLoading:u.isLoadingLabelValues,options:(()=>{const r=u.labelValues?[...u.labelValues]:[],n=f(null==e?void 0:e.value).map(t.toOption);return(0,Is.uniqBy)([...n,...r],"value")})(),onChange:t=>{if(t.value){var r;o(Ef(_f({},e),{value:t.value,op:null!==(r=e.op)&&void 0!==r?r:i}))}else{const r=t.map((e=>e.label)).join("|");var n;o(Ef(_f({},e),{value:r,op:null!==(n=e.op)&&void 0!==n?n:i}))}}}),n().createElement(bf,{"aria-label":"remove",icon:"times",variant:"secondary",onClick:s})))}const kf=[{label:"=~",value:"=~",isMultiValue:!0},{label:"=",value:"=",isMultiValue:!1},{label:"!=",value:"!=",isMultiValue:!1},{label:"!~",value:"!~",isMultiValue:!0}];function Pf({labelsFilters:e,onChange:t,onGetLabelNames:i,onGetLabelValues:o,error:a}){const[s,l]=(0,r.useState)([{op:"="}]);return(0,r.useEffect)((()=>{e.length>0?l(e):l([{op:"="}])}),[e]),n().createElement(zp,null,n().createElement(ef,{label:"Label filters",error:a,invalid:!!a},n().createElement(ff,{items:s,onChange:r=>{l(r);const n=r.filter((e=>null!=e.label&&null!=e.value));(0,Is.isEqual)(n,e)||t(n)},renderItem:(e,t,r)=>n().createElement(Sf,{item:e,defaultOp:"=",onChange:t,onDelete:r,onGetLabelNames:i,onGetLabelValues:o})})))}function Tf({title:e,stepNumber:r,markdown:i,children:o}){const s=(0,a.useStyles2)(Cf);return n().createElement("div",{className:s.box},void 0!==r&&n().createElement("div",{className:s.stepNumber},r),n().createElement("div",{className:s.boxInner},e&&n().createElement("div",{className:s.header},n().createElement("span",null,e)),n().createElement("div",{className:s.body},i&&n().createElement("div",{dangerouslySetInnerHTML:{__html:(0,t.renderMarkdown)(i)}}),o)))}const Cf=e=>({box:(0,s.css)({background:e.colors.background.secondary,padding:e.spacing(1),borderRadius:e.shape.borderRadius(),position:"relative"}),boxInner:(0,s.css)({marginLeft:e.spacing(4)}),stepNumber:(0,s.css)({fontWeight:e.typography.fontWeightMedium,background:e.colors.secondary.main,width:"20px",height:"20px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"10px",left:"11px",fontSize:e.typography.bodySmall.fontSize}),header:(0,s.css)({paddingBottom:e.spacing(.5),display:"flex",alignItems:"center",fontFamily:e.typography.fontFamilyMonospace}),body:(0,s.css)({color:e.colors.text.secondary,"p:last-child":{margin:0},a:{color:e.colors.text.link,textDecoration:"underline"}})});function If(e,t){return If=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},If(e,t)}function Df(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,If(e,t)}function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Af.apply(this,arguments)}var Rf=m(3929);function Nf(e,t){var n=(0,r.useState)((function(){return{inputs:t,result:e()}}))[0],i=(0,r.useRef)(!0),o=(0,r.useRef)(n),a=i.current||Boolean(t&&o.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(t,o.current.inputs)),s=a?o.current:{inputs:t,result:e()};return(0,r.useEffect)((function(){i.current=!1,o.current=s}),[s]),s.result}var Mf=Nf,jf=function(e,t){return Nf((function(){return e}),t)},Lf=function(e){var t=e.top,r=e.right,n=e.bottom,i=e.left;return{top:t,right:r,bottom:n,left:i,width:r-i,height:n-t,x:i,y:t,center:{x:(r+i)/2,y:(n+t)/2}}},$f=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},Ff=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},qf={top:0,right:0,bottom:0,left:0},Vf=function(e){var t=e.borderBox,r=e.margin,n=void 0===r?qf:r,i=e.border,o=void 0===i?qf:i,a=e.padding,s=void 0===a?qf:a,l=Lf($f(t,n)),c=Lf(Ff(t,o)),u=Lf(Ff(c,s));return{marginBox:l,borderBox:Lf(t),paddingBox:c,contentBox:u,margin:n,border:o,padding:s}},zf=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var r=Number(t);return isNaN(r)&&function(e,t){throw new Error("Invariant failed")}(),r},Bf=function(e,t){var r,n,i=e.borderBox,o=e.border,a=e.margin,s=e.padding,l=(n=t,{top:(r=i).top+n.y,left:r.left+n.x,bottom:r.bottom+n.y,right:r.right+n.x});return Vf({borderBox:l,border:o,margin:a,padding:s})},Hf=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),Bf(e,t)},Qf=function(e,t){var r={top:zf(t.marginTop),right:zf(t.marginRight),bottom:zf(t.marginBottom),left:zf(t.marginLeft)},n={top:zf(t.paddingTop),right:zf(t.paddingRight),bottom:zf(t.paddingBottom),left:zf(t.paddingLeft)},i={top:zf(t.borderTopWidth),right:zf(t.borderRightWidth),bottom:zf(t.borderBottomWidth),left:zf(t.borderLeftWidth)};return Vf({borderBox:e,margin:r,padding:n,border:i})},Wf=function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return Qf(t,r)},Uf=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Xf(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!((n=e[r])===(i=t[r])||Uf(n)&&Uf(i)))return!1;var n,i;return!0}const Gf=function(e,t){var r;void 0===t&&(t=Xf);var n,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&r===this&&t(a,i)||(n=e.apply(this,a),o=!0,r=this,i=a),n}},Kf=function(e){var t=[],r=null,n=function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];t=i,r||(r=requestAnimationFrame((function(){r=null,e.apply(void 0,t)})))};return n.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},n};function Yf(e,t){}function Jf(){}function Zf(e,t,r){var n=t.map((function(t){var n,i,o=(n=r,i=t.options,Af({},n,{},i));return e.addEventListener(t.eventName,t.fn,o),function(){e.removeEventListener(t.eventName,t.fn,o)}}));return function(){n.forEach((function(e){e()}))}}Yf.bind(null,"warn"),Yf.bind(null,"error");function eh(e){this.message=e}function th(e,t){if(!e)throw new eh("Invariant failed")}eh.prototype.toString=function(){return this.message};var rh=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).callbacks=null,t.unbind=Jf,t.onWindowError=function(e){var r=t.getCallbacks();r.isDragging()&&r.tryAbort(),e.error instanceof eh&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}Df(t,e);var r=t.prototype;return r.componentDidMount=function(){this.unbind=Zf(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(e){if(!(e instanceof eh))throw e;this.setState({})},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(n().Component),nh=function(e){return e+1},ih=function(e,t){var r=e.droppableId===t.droppableId,n=nh(e.index),i=nh(t.index);return r?"\n      You have moved the item from position "+n+"\n      to position "+i+"\n    ":"\n    You have moved the item from position "+n+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+i+"\n  "},oh=function(e,t,r){return t.droppableId===r.droppableId?"\n      The item "+e+"\n      has been combined with "+r.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+r.draggableId+"\n      in list "+r.droppableId+"\n    "},ah=function(e){return"\n  The item has returned to its starting position\n  of "+nh(e.index)+"\n"},sh=function(e){return"\n  You have lifted an item in position "+nh(e.source.index)+"\n"},lh=function(e){var t=e.destination;if(t)return ih(e.source,t);var r=e.combine;return r?oh(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},ch=function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+ah(e.source)+"\n    ";var t=e.destination,r=e.combine;return t?"\n      You have dropped the item.\n      "+ih(e.source,t)+"\n    ":r?"\n      You have dropped the item.\n      "+oh(e.draggableId,e.source,r)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+ah(e.source)+"\n  "},uh={x:0,y:0},dh=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},ph=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},fh=function(e,t){return e.x===t.x&&e.y===t.y},hh=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},mh=function(e,t,r){var n;return void 0===r&&(r=0),(n={})[e]=t,n["x"===e?"y":"x"]=r,n},gh=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},vh=function(e,t){return Math.min.apply(Math,t.map((function(t){return gh(e,t)})))},bh=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},yh=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},wh=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},xh=function(e,t){return t&&t.shouldClipSubject?function(e,t){var r=Lf({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r}(t.pageMarginBox,e):Lf(e)},Oh=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,i=e.frame,o=function(e,t){return t?yh(e,t.scroll.diff.displacement):e}(t.marginBox,i),a=function(e,t,r){var n;return r&&r.increasedBy?Af({},e,((n={})[t.end]=e[t.end]+r.increasedBy[t.line],n)):e}(o,n,r);return{page:t,withPlaceholder:r,active:xh(a,i)}},_h=function(e,t){e.frame||th(!1);var r=e.frame,n=ph(t,r.scroll.initial),i=hh(n),o=Af({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:i},max:r.scroll.max}});return Af({},e,{frame:o,subject:Oh({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o})})};function Eh(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function Sh(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function kh(e,t){if(e.find)return e.find(t);var r=Sh(e,t);return-1!==r?e[r]:void 0}function Ph(e){return Array.prototype.slice.call(e)}var Th=Gf((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Ch=Gf((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),Ih=Gf((function(e){return Eh(e)})),Dh=Gf((function(e){return Eh(e)})),Ah=Gf((function(e,t){var r=Dh(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return r}));function Rh(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function Nh(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var Mh=Gf((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),jh=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Lh={point:uh,value:0},$h={invisible:{},visible:{},all:[]},Fh={displaced:$h,displacedBy:Lh,at:null},qh=function(e,t){return function(r){return e<=r&&r<=t}},Vh=function(e){var t=qh(e.top,e.bottom),r=qh(e.left,e.right);return function(n){if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;var i=t(n.top)||t(n.bottom),o=r(n.left)||r(n.right);if(i&&o)return!0;var a=n.top<e.top&&n.bottom>e.bottom,s=n.left<e.left&&n.right>e.right;return!(!a||!s)||a&&o||s&&i}},zh=function(e){var t=qh(e.top,e.bottom),r=qh(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&r(e.left)&&r(e.right)}},Bh={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Hh={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Qh=function(e){var t=e.target,r=e.destination,n=e.viewport,i=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,a=i?function(e,t){var r=t.frame?t.frame.scroll.diff.displacement:uh;return yh(e,r)}(t,r):t;return function(e,t,r){return!!t.subject.active&&r(t.subject.active)(e)}(a,r,o)&&function(e,t,r){return r(t)(e)}(a,n,o)},Wh=function(e){return Qh(Af({},e,{isVisibleThroughFrameFn:zh}))};function Uh(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,i=e.viewport,o=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var s=function(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return Lf($f(r,n))}(t,n),l=t.descriptor.id;if(e.all.push(l),!function(e){return Qh(Af({},e,{isVisibleThroughFrameFn:Vh}))}({target:s,destination:r,viewport:i,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c=function(e,t,r){if("boolean"==typeof r)return r;if(!t)return!0;var n=t.invisible,i=t.visible;if(n[e])return!1;var o=i[e];return!o||o.shouldAnimate}(l,a,o),u={draggableId:l,shouldAnimate:c};return e.visible[l]=u,e}),{all:[],visible:{},invisible:{}})}function Xh(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,i=e.destination,o=function(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}(t,{inHomeList:r});return{displaced:$h,displacedBy:n,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function Gh(e){var t=e.draggable,r=e.insideDestination,n=e.destination,i=e.viewport,o=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,c=jh(t,n);if(null==s)return Xh({insideDestination:r,inHomeList:c,displacedBy:o,destination:n});var u=kh(r,(function(e){return e.descriptor.index===s}));if(!u)return Xh({insideDestination:r,inHomeList:c,displacedBy:o,destination:n});var d=Mh(t,r),p=r.indexOf(u);return{displaced:Uh({afterDragging:d.slice(p),destination:n,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Kh(e,t){return Boolean(t.effected[e])}var Yh=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},Jh=function(e,t,r){return t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},Zh=function(e){var t=e.axis,r=e.moveRelativeTo,n=e.isMoving;return mh(t.line,r.marginBox[t.end]+Yh(t,n),Jh(t,r.marginBox,n))},em=function(e){var t=e.axis,r=e.moveRelativeTo,n=e.isMoving;return mh(t.line,r.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,n),Jh(t,r.marginBox,n))},tm=function(e,t){var r=e.frame;return r?dh(t,r.scroll.diff.displacement):t},rm=function(e){var t=function(e){var t=e.impact,r=e.draggable,n=e.droppable,i=e.draggables,o=e.afterCritical,a=r.page.borderBox.center,s=t.at;return n&&s?"REORDER"===s.type?function(e){var t=e.impact,r=e.draggable,n=e.draggables,i=e.droppable,o=e.afterCritical,a=Ah(i.descriptor.id,n),s=r.page,l=i.axis;if(!a.length)return function(e){var t=e.axis,r=e.moveInto,n=e.isMoving;return mh(t.line,r.contentBox[t.start]+Yh(t,n),Jh(t,r.contentBox,n))}({axis:l,moveInto:i.page,isMoving:s});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var p=n[d];if(Kh(d,o))return em({axis:l,moveRelativeTo:p.page,isMoving:s});var f=Bf(p.page,u.point);return em({axis:l,moveRelativeTo:f,isMoving:s})}var h=a[a.length-1];if(h.descriptor.id===r.descriptor.id)return s.borderBox.center;if(Kh(h.descriptor.id,o)){var m=Bf(h.page,hh(o.displacedBy.point));return Zh({axis:l,moveRelativeTo:m,isMoving:s})}return Zh({axis:l,moveRelativeTo:h.page,isMoving:s})}({impact:t,draggable:r,draggables:i,droppable:n,afterCritical:o}):function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,i=Nh(r);i||th(!1);var o=i.draggableId,a=n[o].page.borderBox.center,s=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,i=e.displacedBy,o=Boolean(t.visible[n]||t.invisible[n]);return Kh(n,r)?o?uh:hh(i.point):o?i.point:uh}({displaced:r.displaced,afterCritical:t,combineWith:o,displacedBy:r.displacedBy});return dh(a,s)}({impact:t,draggables:i,afterCritical:o}):a}(e),r=e.droppable;return r?tm(r,t):t},nm=function(e,t){var r=ph(t,e.scroll.initial),n=hh(r);return{frame:Lf({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function im(e,t){return e.map((function(e){return t[e]}))}var om=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=function(e,t){return dh(e.scroll.diff.displacement,t)}(e.viewport,t),i=ph(n,r.page.borderBox.center);return dh(r.client.borderBox.center,i)},am=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,i=e.viewport,o=e.withDroppableDisplacement,a=e.onlyOnMainAxis,s=void 0!==a&&a,l=ph(n,t.page.borderBox.center),c={target:yh(t.page.borderBox,l),destination:r,withDroppableDisplacement:o,viewport:i};return s?function(e){return Qh(Af({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var r=qh(e.top,e.bottom),n=qh(e.left,e.right);return function(e){return t===Bh?r(e.top)&&r(e.bottom):n(e.left)&&n(e.right)}})}));var t}(c):Wh(c)},sm=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,i=e.draggables,o=e.previousImpact,a=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!n.isEnabled)return null;var u=Ah(n.descriptor.id,i),d=jh(r,n),p=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,i=e.insideDestination,o=e.previousImpact;if(!n.isCombineEnabled)return null;if(!Rh(o))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:n.descriptor.id}};return Af({},o,{at:t})}var s=o.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;var c=Mh(r,i);if(!l)return c.length?a(c[c.length-1].descriptor.id):null;var u=Sh(c,(function(e){return e.descriptor.id===l}));-1===u&&th(!1);var d=u-1;return d<0?null:a(c[d].descriptor.id)}({isMovingForward:t,draggable:r,destination:n,insideDestination:u,previousImpact:o})||function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,i=e.draggables,o=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||th(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,i=e.location;if(!n.length)return null;var o=i.index,a=t?o+1:o-1,s=n[0].descriptor.index,l=n[n.length-1].descriptor.index;return a<s||a>(r?l:l+1)?null:a}({isMovingForward:t,isInHomeList:r,location:u.destination,insideDestination:a});return null==d?null:Gh({draggable:n,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var p=function(e){var t=e.isMovingForward,r=e.draggables,n=e.combine,i=e.afterCritical;if(!e.destination.isCombineEnabled)return null;var o=n.draggableId,a=r[o].descriptor.index;return Kh(o,i)?t?a:a-1:t?a+1:a}({isMovingForward:t,destination:o,displaced:s.displaced,draggables:i,combine:u.combine,afterCritical:c});return null==p?null:Gh({draggable:n,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:p})}({isMovingForward:t,isInHomeList:d,draggable:r,draggables:i,destination:n,insideDestination:u,previousImpact:o,viewport:a,afterCritical:c});if(!p)return null;var f=rm({impact:p,draggable:r,droppable:n,draggables:i,afterCritical:c});if(am({draggable:r,destination:n,newPageBorderBoxCenter:f,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:om({pageBorderBoxCenter:f,draggable:r,viewport:a}),impact:p,scrollJumpRequest:null};var h=ph(f,s),m=function(e){var t=e.impact,r=e.viewport,n=e.destination,i=e.draggables,o=e.maxScrollChange,a=nm(r,dh(r.scroll.current,o)),s=n.frame?_h(n,dh(n.frame.scroll.current,o)):n,l=t.displaced,c=Uh({afterDragging:im(l.all,i),destination:n,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=Uh({afterDragging:im(l.all,i),destination:s,displacedBy:t.displacedBy,viewport:r.frame,last:l,forceShouldAnimate:!1}),d={},p={},f=[l,c,u];return l.all.forEach((function(e){var t=function(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}(e,f);t?p[e]=t:d[e]=!0})),Af({},t,{displaced:{all:l.all,invisible:d,visible:p}})}({impact:p,viewport:a,destination:n,draggables:i,maxScrollChange:h});return{clientSelection:l,impact:m,scrollJumpRequest:h}},lm=function(e){var t=e.subject.active;return t||th(!1),t},cm=function(e,t){var r=e.page.borderBox.center;return Kh(e.descriptor.id,t)?ph(r,t.displacedBy.point):r},um=function(e,t){var r=e.page.borderBox;return Kh(e.descriptor.id,t)?yh(r,hh(t.displacedBy.point)):r},dm=Gf((function(e,t){var r=t[e.line];return{value:r,point:mh(e.line,r)}})),pm=function(e,t){return Af({},e,{scroll:Af({},e.scroll,{max:t})})},fm=function(e,t,r){var n=e.frame;jh(t,e)&&th(!1),e.subject.withPlaceholder&&th(!1);var i=dm(e.axis,t.displaceBy).point,o=function(e,t,r){var n=e.axis;if("virtual"===e.descriptor.mode)return mh(n.line,t[n.line]);var i=e.subject.page.contentBox[n.size],o=Ah(e.descriptor.id,r).reduce((function(e,t){return e+t.client.marginBox[n.size]}),0)+t[n.line]-i;return o<=0?null:mh(n.line,o)}(e,i,r),a={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n)return Af({},e,{subject:Oh({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame})});var s=o?dh(n.scroll.max,o):n.scroll.max,l=pm(n,s);return Af({},e,{subject:Oh({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:l}),frame:l})},hm=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},mm=function(e){var t=e.state,r=e.type,n=function(e,t){var r=hm(e);return r?t[r]:null}(t.impact,t.dimensions.droppables),i=Boolean(n),o=t.dimensions.droppables[t.critical.droppable.id],a=n||o,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===r||"MOVE_DOWN"===r)||"horizontal"===s&&("MOVE_LEFT"===r||"MOVE_RIGHT"===r);if(l&&!i)return null;var c="MOVE_DOWN"===r||"MOVE_RIGHT"===r,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,p=t.dimensions,f=p.draggables,h=p.droppables;return l?sm({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:f,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,i=e.isOver,o=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,i=e.droppables,o=e.viewport,a=n.subject.active;if(!a)return null;var s=n.axis,l=qh(a[s.start],a[s.end]),c=Ih(i).filter((function(e){return e!==n})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return Vh(o.frame)(lm(e))})).filter((function(e){var r=lm(e);return t?a[s.crossAxisEnd]<r[s.crossAxisEnd]:r[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(e){var t=lm(e),r=qh(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||r(a[s.start])||r(a[s.end])})).sort((function(e,r){var n=lm(e)[s.crossAxisStart],i=lm(r)[s.crossAxisStart];return t?n-i:i-n})).filter((function(e,t,r){return lm(e)[s.crossAxisStart]===lm(r[0])[s.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter((function(e){return qh(lm(e)[s.start],lm(e)[s.end])(r[s.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return lm(e)[s.start]-lm(t)[s.start]}))[0]:c.sort((function(e,t){var n=vh(r,wh(lm(e))),i=vh(r,wh(lm(t)));return n!==i?n-i:lm(e)[s.start]-lm(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:r,source:i,droppables:a,viewport:s});if(!c)return null;var u=Ah(c.descriptor.id,o),d=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,i=e.afterCritical,o=e.insideDestination.filter((function(e){return Wh({target:um(e,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})})).sort((function(e,r){var o=gh(t,tm(n,cm(e,i))),a=gh(t,tm(n,cm(r,i)));return o<a?-1:a<o?1:e.descriptor.index-r.descriptor.index}));return o[0]||null}({pageBorderBoxCenter:r,viewport:s,destination:c,insideDestination:u,afterCritical:l}),p=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,i=e.draggable,o=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!r){if(n.length)return null;var c={displaced:$h,displacedBy:Lh,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=rm({impact:c,draggable:i,droppable:a,draggables:o,afterCritical:l}),d=jh(i,a)?a:fm(a,i,o);return am({draggable:i,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var p,f=Boolean(t[a.axis.line]<=r.page.borderBox.center[a.axis.line]),h=(p=r.descriptor.index,r.descriptor.id===i.descriptor.id||f?p:p+1);return Gh({draggable:i,insideDestination:n,destination:a,viewport:s,displacedBy:dm(a.axis,i.displaceBy),last:$h,index:h})}({previousPageBorderBoxCenter:r,destination:c,draggable:n,draggables:o,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!p)return null;var f=rm({impact:p,draggable:n,droppable:c,draggables:o,afterCritical:l});return{clientSelection:om({pageBorderBoxCenter:f,draggable:n,viewport:s}),impact:p,scrollJumpRequest:null}}({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:f,droppables:h,viewport:t.viewport,afterCritical:t.afterCritical})};function gm(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function vm(e){var t=qh(e.top,e.bottom),r=qh(e.left,e.right);return function(e){return t(e.y)&&r(e.x)}}var bm=function(e,t){return Lf(yh(e,t))};function ym(e){var t=e.displaced,r=e.id;return Boolean(t.visible[r]||t.invisible[r])}var wm=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,i=e.droppables,o=e.previousImpact,a=e.viewport,s=e.afterCritical,l=bm(r.page.borderBox,t),c=function(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,i=Ih(n).filter((function(e){if(!e.isEnabled)return!1;var r,n,i=e.subject.active;if(!i)return!1;if(n=i,!((r=t).left<n.right&&r.right>n.left&&r.top<n.bottom&&r.bottom>n.top))return!1;if(vm(i)(t.center))return!0;var o=e.axis,a=i.center[o.crossAxisLine],s=t[o.crossAxisStart],l=t[o.crossAxisEnd],c=qh(i[o.crossAxisStart],i[o.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)}));return i.length?1===i.length?i[0].descriptor.id:function(e){var t=e.pageBorderBox,r=e.candidates,n=e.draggable.page.borderBox.center,i=r.map((function(e){var r=e.axis,i=mh(e.axis.line,t.center[r.line],e.page.borderBox.center[r.crossAxisLine]);return{id:e.descriptor.id,distance:gh(n,i)}})).sort((function(e,t){return t.distance-e.distance}));return i[0]?i[0].id:null}({pageBorderBox:t,draggable:r,candidates:i}):null}({pageBorderBox:l,draggable:r,droppables:i});if(!c)return Fh;var u=i[c],d=Ah(u.descriptor.id,n),p=function(e,t){var r=e.frame;return r?bm(t,r.scroll.diff.value):t}(u,l);return function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,i=e.destination,o=e.insideDestination,a=e.afterCritical;if(!i.isCombineEnabled)return null;var s=i.axis,l=dm(i.axis,t.displaceBy),c=l.value,u=r[s.start],d=r[s.end],p=kh(Mh(t,o),(function(e){var t=e.descriptor.id,r=e.page.borderBox,i=r[s.size]/4,o=Kh(t,a),l=ym({displaced:n.displaced,id:t});return o?l?d>r[s.start]+i&&d<r[s.end]-i:u>r[s.start]-c+i&&u<r[s.end]-c-i:l?d>r[s.start]+c+i&&d<r[s.end]+c-i:u>r[s.start]+i&&u<r[s.end]-i}));return p?{displacedBy:l,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:i.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:p,draggable:r,previousImpact:o,destination:u,insideDestination:d,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,i=e.insideDestination,o=e.last,a=e.viewport,s=e.afterCritical,l=n.axis,c=dm(n.axis,r.displaceBy),u=c.value,d=t[l.start],p=t[l.end],f=function(e){var t=e.draggable,r=e.closest;return r?e.inHomeList&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}({draggable:r,closest:kh(Mh(r,i),(function(e){var t=e.descriptor.id,r=e.page.borderBox.center[l.line],n=Kh(t,s),i=ym({displaced:o,id:t});return n?i?p<=r:d<r-u:i?p<=r+u:d<r})),inHomeList:jh(r,n)});return Gh({draggable:r,insideDestination:i,destination:n,viewport:a,last:o,displacedBy:c,index:f})}({pageBorderBoxWithDroppableScroll:p,draggable:r,destination:u,insideDestination:d,last:o.displaced,viewport:a,afterCritical:s})},xm=function(e,t){var r;return Af({},e,((r={})[t.descriptor.id]=t,r))},Om=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,i=e.viewport,o=e.impact,a=e.scrollJumpRequest,s=i||t.viewport,l=n||t.dimensions,c=r||t.current.client.selection,u=ph(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:dh(t.initial.client.borderBoxCenter,u)},p={selection:dh(d.selection,s.scroll.current),borderBoxCenter:dh(d.borderBoxCenter,s.scroll.current),offset:dh(d.offset,s.scroll.diff.value)},f={client:d,page:p};if("COLLECTING"===t.phase)return Af({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:f});var h=l.draggables[t.critical.draggable.id],m=o||wm({pageOffset:p.offset,draggable:h,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,i=e.impact,o=function(e){var t=e.previousImpact,r=e.impact,n=e.droppables,i=hm(t),o=hm(r);if(!i)return n;if(i===o)return n;var a=n[i];if(!a.subject.withPlaceholder)return n;var s=function(e){var t=e.subject.withPlaceholder;t||th(!1);var r=e.frame;if(!r)return Af({},e,{subject:Oh({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null})});var n=t.oldFrameMaxScroll;n||th(!1);var i=pm(r,n);return Af({},e,{subject:Oh({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null}),frame:i})}(a);return xm(n,s)}({previousImpact:e.previousImpact,impact:i,droppables:n}),a=hm(i);if(!a)return o;var s=n[a];if(jh(t,s))return o;if(s.subject.withPlaceholder)return o;var l=fm(s,t,r);return xm(o,l)}({draggable:h,impact:m,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return Af({},t,{current:f,dimensions:{draggables:l.draggables,droppables:g},impact:m,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})},_m=function(e){var t=e.impact,r=e.viewport,n=e.draggables,i=e.destination,o=e.forceShouldAnimate,a=t.displaced,s=function(e,t){return e.map((function(e){return t[e]}))}(a.all,n);return Af({},t,{displaced:Uh({afterDragging:s,destination:i,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:o,last:a})})},Em=function(e){var t=e.impact,r=e.draggable,n=e.droppable,i=e.draggables,o=e.viewport,a=e.afterCritical,s=rm({impact:t,draggable:r,draggables:i,droppable:n,afterCritical:a});return om({pageBorderBoxCenter:s,draggable:r,viewport:o})},Sm=function(e){var t=e.state,r=e.dimensions,n=e.viewport;"SNAP"!==t.movementMode&&th(!1);var i=t.impact,o=n||t.viewport,a=r||t.dimensions,s=a.draggables,l=a.droppables,c=s[t.critical.draggable.id],u=hm(i);u||th(!1);var d=l[u],p=_m({impact:i,viewport:o,destination:d,draggables:s}),f=Em({impact:p,draggable:c,droppable:d,draggables:s,viewport:o,afterCritical:t.afterCritical});return Om({impact:p,clientSelection:f,state:t,dimensions:a,viewport:o})},km=function(e){var t=e.draggable,r=e.home,n=e.draggables,i=e.viewport,o=dm(r.axis,t.displaceBy),a=Ah(r.descriptor.id,n),s=a.indexOf(t);-1===s&&th(!1);var l,c=a.slice(s+1),u=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===r.descriptor.mode,displacedBy:o,effected:u};return{impact:{displaced:Uh({afterDragging:c,destination:r,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},Pm=function(e){return"SNAP"===e.movementMode},Tm=function(e,t,r){var n=function(e,t){return{draggables:e.draggables,droppables:xm(e.droppables,t)}}(e.dimensions,t);return!Pm(e)||r?Om({state:e,dimensions:n}):Sm({state:e,dimensions:n})};function Cm(e){return e.isDragging&&"SNAP"===e.movementMode?Af({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Im={phase:"IDLE",completed:null,shouldFlush:!1},Dm=function(e,t){if(void 0===e&&(e=Im),"FLUSH"===t.type)return Af({},Im,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&th(!1);var r=t.payload,n=r.critical,i=r.clientSelection,o=r.viewport,a=r.dimensions,s=r.movementMode,l=a.draggables[n.draggable.id],c=a.droppables[n.droppable.id],u={selection:i,borderBoxCenter:l.client.borderBox.center,offset:uh},d={client:u,page:{selection:dh(u.selection,o.scroll.initial),borderBoxCenter:dh(u.selection,o.scroll.initial),offset:dh(u.selection,o.scroll.diff.value)}},p=Ih(a.droppables).every((function(e){return!e.isFixedOnPage})),f=km({draggable:l,home:c,draggables:a.draggables,viewport:o}),h=f.impact;return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:a,initial:d,current:d,isWindowScrollAllowed:p,impact:h,afterCritical:f.afterCritical,onLiftImpact:h,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&th(!1),Af({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&th(!1),function(e){var t=e.state,r=e.published,n=r.modified.map((function(e){var r=t.dimensions.droppables[e.droppableId];return _h(r,e.scroll)})),i=Af({},t.dimensions.droppables,{},Th(n)),o=Ch(function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,i=n.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,o=function(e){var t=e.frame;return t||th(!1),t}(r[t]),a=o.scroll.diff.value,s=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,i=Bf(t.client,r),o=Hf(i,n);return Af({},t,{placeholder:Af({},t.placeholder,{client:i}),client:i,page:o})}({draggable:e,offset:dh(i,a),initialWindowScroll:n.scroll.initial});return s}))}({additions:r.additions,updatedDroppables:i,viewport:t.viewport})),a=Af({},t.dimensions.draggables,{},o);r.removals.forEach((function(e){delete a[e]}));var s={droppables:i,draggables:a},l=hm(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],p=km({draggable:u,home:d,draggables:a,viewport:t.viewport}),f=p.impact,h=p.afterCritical,m=c&&c.isCombineEnabled?t.impact:f,g=wm({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:t.viewport,afterCritical:h}),v=Af({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:f,dimensions:s,afterCritical:h,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:Af({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;gm(e)||th(!1);var m=t.payload.client;return fh(m,e.current.client.selection)?e:Om({state:e,clientSelection:m,impact:Pm(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return Cm(e);if("COLLECTING"===e.phase)return Cm(e);gm(e)||th(!1);var g=t.payload,v=g.id,b=g.newScroll,y=e.dimensions.droppables[v];if(!y)return e;var w=_h(y,b);return Tm(e,w,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;gm(e)||th(!1);var x=t.payload,O=x.id,_=x.isEnabled,E=e.dimensions.droppables[O];E||th(!1),E.isEnabled===_&&th(!1);var S=Af({},E,{isEnabled:_});return Tm(e,S,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;gm(e)||th(!1);var k=t.payload,P=k.id,T=k.isCombineEnabled,C=e.dimensions.droppables[P];C||th(!1),C.isCombineEnabled===T&&th(!1);var I=Af({},C,{isCombineEnabled:T});return Tm(e,I,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;gm(e)||th(!1),e.isWindowScrollAllowed||th(!1);var D=t.payload.newScroll;if(fh(e.viewport.scroll.current,D))return Cm(e);var A=nm(e.viewport,D);return Pm(e)?Sm({state:e,viewport:A}):Om({state:e,viewport:A})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!gm(e))return e;var R=t.payload.maxScroll;if(fh(R,e.viewport.scroll.max))return e;var N=Af({},e.viewport,{scroll:Af({},e.viewport.scroll,{max:R})});return Af({phase:"DRAGGING"},e,{viewport:N})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&th(!1);var M=mm({state:e,type:t.type});return M?Om({state:e,impact:M.impact,clientSelection:M.clientSelection,scrollJumpRequest:M.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var j=t.payload.reason;return"COLLECTING"!==e.phase&&th(!1),Af({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:j})}if("DROP_ANIMATE"===t.type){var L=t.payload,$=L.completed,F=L.dropDuration,q=L.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&th(!1),{phase:"DROP_ANIMATING",completed:$,dropDuration:F,newHomeClientOffset:q,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},Am=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},Rm=function(){return{type:"COLLECTION_STARTING",payload:null}},Nm=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},Mm=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},jm=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},Lm=function(e){return{type:"MOVE",payload:e}},$m=function(){return{type:"MOVE_UP",payload:null}},Fm=function(){return{type:"MOVE_DOWN",payload:null}},qm=function(){return{type:"MOVE_RIGHT",payload:null}},Vm=function(){return{type:"MOVE_LEFT",payload:null}},zm=function(e){return{type:"DROP_COMPLETE",payload:e}},Bm=function(e){return{type:"DROP",payload:e}},Hm="cubic-bezier(.2,1,.1,1)",Qm=0,Wm=.7,Um=.75,Xm="0.2s cubic-bezier(0.2, 0, 0, 1)",Gm={fluid:"opacity "+Xm,snap:"transform "+Xm+", opacity "+Xm,drop:function(e){var t=e+"s "+Hm;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Xm,placeholder:"height "+Xm+", width "+Xm+", margin "+Xm},Km=function(e){return fh(e,uh)?null:"translate("+e.x+"px, "+e.y+"px)"},Ym=Km,Jm=.33,Zm=function(e){var t=e.getState,r=e.dispatch;return function(e){return function(n){if("DROP"===n.type){var i=t(),o=n.payload.reason;if("COLLECTING"!==i.phase){if("IDLE"!==i.phase){"DROP_PENDING"===i.phase&&i.isWaiting&&th(!1),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&th(!1);var a=i.critical,s=i.dimensions,l=s.draggables[i.critical.draggable.id],c=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,i=e.home,o=e.viewport,a=e.onLiftImpact;return n.at&&"DROP"===r?"REORDER"===n.at.type?{impact:n,didDropInsideDroppable:!0}:{impact:Af({},n,{displaced:$h}),didDropInsideDroppable:!0}:{impact:_m({draggables:t,impact:a,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),u=c.impact,d=c.didDropInsideDroppable,p=d?Rh(u):null,f=d?Nh(u):null,h={index:a.draggable.index,droppableId:a.droppable.id},m={draggableId:l.descriptor.id,type:l.descriptor.type,source:h,reason:o,mode:i.movementMode,destination:p,combine:f},g=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,i=e.viewport,o=e.afterCritical,a=n.draggables,s=n.droppables,l=hm(t),c=l?s[l]:null,u=s[r.descriptor.droppableId],d=Em({impact:t,draggable:r,draggables:a,afterCritical:o,droppable:c||u,viewport:i});return ph(d,r.client.borderBox.center)}({impact:u,draggable:l,dimensions:s,viewport:i.viewport,afterCritical:i.afterCritical}),v={critical:i.critical,afterCritical:i.afterCritical,result:m,impact:u};if(!fh(i.current.client.offset,g)||Boolean(m.combine)){var b=function(e){var t=e.reason,r=gh(e.current,e.destination);if(r<=0)return Jm;if(r>=1500)return.55;var n=Jm+r/1500*.22000000000000003;return Number(("CANCEL"===t?.6*n:n).toFixed(2))}({current:i.current.client.offset,destination:g,reason:o});r(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:b,completed:v}))}else r(zm({completed:v}))}}else r(function(e){return{type:"DROP_PENDING",payload:e}}({reason:o}))}else e(n)}}},eg=function(){return{x:window.pageXOffset,y:window.pageYOffset}};var tg=function(e){var t=function(e){var t=e.onWindowScroll,r=Kf((function(){t(eg())})),n=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(r),i=Jf;function o(){return i!==Jf}return{start:function(){o()&&th(!1),i=Zf(window,[n])},stop:function(){o()||th(!1),r.cancel(),i(),i=Jf},isActive:o}}({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(r){t.isActive()||"INITIAL_PUBLISH"!==r.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r)&&t.stop(),e(r)}}},rg=function(e,t){t()},ng=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},ig=function(e,t,r,n){if(e){var i=function(e){var t=!1,r=!1,n=setTimeout((function(){r=!0})),i=function(i){t||r||(t=!0,e(i),clearTimeout(n))};return i.wasCalled=function(){return t},i}(r);e(t,{announce:i}),i.wasCalled()||r(n(t))}else r(n(t))},og=function(e,t){var r=function(e,t){var r,n=(r=[],{add:function(e){var t=setTimeout((function(){return function(e){var t=Sh(r,(function(t){return t.timerId===e}));-1===t&&th(!1),r.splice(t,1)[0].callback()}(t)})),n={timerId:t,callback:e};r.push(n)},flush:function(){if(r.length){var e=[].concat(r);r.length=0,e.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}),i=null,o=function(r){i||th(!1),i=null,rg(0,(function(){return ig(e().onDragEnd,r,t,ch)}))};return{beforeCapture:function(t,r){i&&th(!1),rg(0,(function(){var n=e().onBeforeCapture;n&&n({draggableId:t,mode:r})}))},beforeStart:function(t,r){i&&th(!1),rg(0,(function(){var n=e().onBeforeDragStart;n&&n(ng(t,r))}))},start:function(r,o){i&&th(!1);var a=ng(r,o);i={mode:o,lastCritical:r,lastLocation:a.source,lastCombine:null},n.add((function(){rg(0,(function(){return ig(e().onDragStart,a,t,sh)}))}))},update:function(r,o){var a=Rh(o),s=Nh(o);i||th(!1);var l=!function(e,t){if(e===t)return!0;var r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n}(r,i.lastCritical);l&&(i.lastCritical=r);var c,u,d=(u=a,!(null==(c=i.lastLocation)&&null==u||null!=c&&null!=u&&c.droppableId===u.droppableId&&c.index===u.index));d&&(i.lastLocation=a);var p=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(i.lastCombine,s);if(p&&(i.lastCombine=s),l||d||p){var f=Af({},ng(r,i.mode),{combine:s,destination:a});n.add((function(){rg(0,(function(){return ig(e().onDragUpdate,f,t,lh)}))}))}},flush:function(){i||th(!1),n.flush()},drop:o,abort:function(){if(i){var e=Af({},ng(i.lastCritical,i.mode),{combine:null,destination:null,reason:"CANCEL"});o(e)}}}}(e,t);return function(e){return function(t){return function(n){if("BEFORE_INITIAL_CAPTURE"!==n.type){if("INITIAL_PUBLISH"===n.type){var i=n.payload.critical;return r.beforeStart(i,n.payload.movementMode),t(n),void r.start(i,n.payload.movementMode)}if("DROP_COMPLETE"===n.type){var o=n.payload.completed.result;return r.flush(),t(n),void r.drop(o)}if(t(n),"FLUSH"!==n.type){var a=e.getState();"DRAGGING"===a.phase&&r.update(a.critical,a.impact)}else r.abort()}else r.beforeCapture(n.payload.draggableId,n.payload.movementMode)}}}},ag=function(e){return function(t){return function(r){if("DROP_ANIMATION_FINISHED"===r.type){var n=e.getState();"DROP_ANIMATING"!==n.phase&&th(!1),e.dispatch(zm({completed:n.completed}))}else t(r)}}},sg=function(e){var t=null,r=null;return function(n){return function(i){if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)),n(i),"DROP_ANIMATE"===i.type){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};r=requestAnimationFrame((function(){r=null,t=Zf(window,[o])}))}}}},lg=function(e){return function(t){return function(r){if(t(r),"PUBLISH_WHILE_DRAGGING"===r.type){var n=e.getState();"DROP_PENDING"===n.phase&&(n.isWaiting||e.dispatch(Bm({reason:n.reason})))}}}},cg=Gd.compose,ug=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,i=e.width,o=ph({x:r,y:t},{x:i,y:n});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},dg=function(){var e=document.documentElement;return e||th(!1),e},pg=function(){var e=dg();return ug({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})};function fg(e,t,r){return r.descriptor.id!==t.id&&r.descriptor.type===t.type&&"virtual"===e.droppable.getById(r.descriptor.droppableId).descriptor.mode}var hg,mg,gg=function(e,t){var r=null,n=function(e){var t=e.registry,r=e.callbacks,n={additions:{},removals:{},modified:{}},i=null,o=function(){i||(r.collectionStarting(),i=requestAnimationFrame((function(){i=null;var e=n,o=e.additions,a=e.removals,s=e.modified,l=Object.keys(o).map((function(e){return t.draggable.getById(e).getDimension(uh)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:l,removals:Object.keys(a),modified:c};n={additions:{},removals:{},modified:{}},r.publish(u)})))};return{add:function(e){var t=e.descriptor.id;n.additions[t]=e,n.modified[e.descriptor.droppableId]=!0,n.removals[t]&&delete n.removals[t],o()},remove:function(e){var t=e.descriptor;n.removals[t.id]=!0,n.modified[t.droppableId]=!0,n.additions[t.id]&&delete n.additions[t.id],o()},stop:function(){i&&(cancelAnimationFrame(i),i=null,n={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(t){r||th(!1);var i=r.critical.draggable;"ADDITION"===t.type&&fg(e,i,t.value)&&n.add(t.value),"REMOVAL"===t.type&&fg(e,i,t.value)&&n.remove(t.value)},o={updateDroppableIsEnabled:function(n,i){e.droppable.exists(n)||th(!1),r&&t.updateDroppableIsEnabled({id:n,isEnabled:i})},updateDroppableIsCombineEnabled:function(n,i){r&&(e.droppable.exists(n)||th(!1),t.updateDroppableIsCombineEnabled({id:n,isCombineEnabled:i}))},scrollDroppable:function(t,n){r&&e.droppable.getById(t).callbacks.scroll(n)},updateDroppableScroll:function(n,i){r&&(e.droppable.exists(n)||th(!1),t.updateDroppableScroll({id:n,newScroll:i}))},startPublishing:function(t){r&&th(!1);var n=e.draggable.getById(t.draggableId),o=e.droppable.getById(n.descriptor.droppableId),a={draggable:n.descriptor,droppable:o.descriptor},s=e.subscribe(i);return r={critical:a,unsubscribe:s},function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,i=function(){var e=eg(),t=pg(),r=e.y,n=e.x,i=dg(),o=i.clientWidth,a=i.clientHeight;return{frame:Lf({top:r,left:n,right:n+o,bottom:r+a}),scroll:{initial:e,current:e,max:t,diff:{value:uh,displacement:uh}}}}(),o=i.scroll.current,a=t.droppable,s=n.droppable.getAllByType(a.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(o,r)})),l=n.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(o)}));return{dimensions:{draggables:Ch(l),droppables:Th(s)},critical:t,viewport:i}}({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(r){n.stop();var t=r.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),r.unsubscribe(),r=null}}};return o},vg=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason},bg=function(e){window.scrollBy(e.x,e.y)},yg=Gf((function(e){return Ih(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),wg=function(e){return Math.pow(e,2)},xg=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,i=r-t;return 0===i?0:(n-t)/i},Og=360,_g=1200,Eg=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,i=e.shouldUseTimeDampening,o=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return 28;if(e===t.startScrollingFrom)return 1;var r=xg({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=28*wg(1-r);return Math.ceil(n)}(t,r);return 0===o?0:i?Math.max(function(e,t){var r=t,n=_g,i=Date.now()-r;if(i>=_g)return e;if(i<Og)return 1;var o=xg({startOfRange:Og,endOfRange:n,current:i}),a=e*wg(o);return Math.ceil(a)}(o,n),1):o},Sg=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,i=e.axis,o=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:.25*e[t.size],maxScrollValueAt:.05*e[t.size]}}(t,i);return r[i.end]<r[i.start]?Eg({distanceToEdge:r[i.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:o}):-1*Eg({distanceToEdge:r[i.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:o})},kg=bh((function(e){return 0===e?0:e})),Pg=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,i=e.center,o=e.shouldUseTimeDampening,a={top:i.y-r.top,right:r.right-i.x,bottom:r.bottom-i.y,left:i.x-r.left},s=Sg({container:r,distanceToEdges:a,dragStartTime:t,axis:Bh,shouldUseTimeDampening:o}),l=Sg({container:r,distanceToEdges:a,dragStartTime:t,axis:Hh,shouldUseTimeDampening:o}),c=kg({x:l,y:s});if(fh(c,uh))return null;var u=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,i=r.height>t.height,o=r.width>t.width;return o||i?o&&i?null:{x:o?0:n.x,y:i?0:n.y}:n}({container:r,subject:n,proposedScroll:c});return u?fh(u,uh)?null:u:null},Tg=bh((function(e){return 0===e?0:e>0?1:-1})),Cg=(hg=function(e,t){return e<0?e:e>t?e-t:0},function(e){var t=e.current,r=e.max,n=e.change,i=dh(t,n),o={x:hg(i.x,r.x),y:hg(i.y,r.y)};return fh(o,uh)?null:o}),Ig=function(e){var t=e.max,r=e.current,n=e.change,i={x:Math.max(r.x,t.x),y:Math.max(r.y,t.y)},o=Tg(n),a=Cg({max:i,current:r,change:o});return!a||0!==o.x&&0===a.x||0!==o.y&&0===a.y},Dg=function(e,t){return Ig({current:e.scroll.current,max:e.scroll.max,change:t})},Ag=function(e,t){var r=e.frame;return!!r&&Ig({current:r.scroll.current,max:r.scroll.max,change:t})},Rg=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,r=e.subject,n=e.center,i=e.shouldUseTimeDampening,o=Pg({dragStartTime:e.dragStartTime,container:t.frame,subject:r,center:n,shouldUseTimeDampening:i});return o&&Dg(t,o)?o:null}({dragStartTime:r,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:n});if(l)return void i(l)}var c=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var i=n[r];return i.frame?i:null}var o=function(e,t){var r=kh(yg(t),(function(t){return t.frame||th(!1),vm(t.frame.pageMarginBox)(e)}));return r}(t,n);return o}({center:a,destination:hm(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,r=e.subject,n=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=Pg({dragStartTime:i,container:a.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:o});return s&&Ag(t,s)?s:null}({dragStartTime:r,droppable:c,subject:s,center:a,shouldUseTimeDampening:n});u&&o(c.descriptor.id,u)}},Ng=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow;return function(e){var i=e.scrollJumpRequest;if(i){var o=hm(e.impact);o||th(!1);var a=function(e,t){if(!Ag(e,t))return t;var n=function(e,t){var r=e.frame;return r&&Ag(e,t)?Cg({current:r.scroll.current,max:r.scroll.max,change:t}):null}(e,t);if(!n)return r(e.descriptor.id,t),null;var i=ph(t,n);return r(e.descriptor.id,i),ph(t,i)}(e.dimensions.droppables[o],i);if(a){var s=e.viewport,l=function(e,t,r){if(!e)return r;if(!Dg(t,r))return r;var i=function(e,t){if(!Dg(e,t))return null;var r=e.scroll.max,n=e.scroll.current;return Cg({current:n,max:r,change:t})}(t,r);if(!i)return n(r),null;var o=ph(r,i);return n(o),ph(r,o)}(e.isWindowScrollAllowed,s,a);l&&function(e,r){var n=dh(e.current.client.selection,r);t({client:n})}(e,l)}}}},Mg={base:mg="data-rbd-drag-handle",draggableId:mg+"-draggable-id",contextId:mg+"-context-id"},jg=function(){var e="data-rbd-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Lg=function(){var e="data-rbd-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),$g="data-rbd-scroll-container-context-id",Fg=function(e,t){return e.map((function(e){var r=e.styles[t];return r?e.selector+" { "+r+" }":""})).join(" ")},qg="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect,Vg=function(){var e=document.querySelector("head");return e||th(!1),e},zg=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};var Bg=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Hg(e){return e instanceof Bg(e).HTMLElement}function Qg(){var e={draggables:{},droppables:{}},t=[];function r(e){t.length&&t.forEach((function(t){return t(e)}))}function n(t){return e.draggables[t]||null}function i(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,r({type:"ADDITION",value:t})},update:function(t,r){var n=e.draggables[r.descriptor.id];n&&n.uniqueId===t.uniqueId&&(delete e.draggables[r.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var i=t.descriptor.id,o=n(i);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[i],r({type:"REMOVAL",value:t}))},getById:function(e){var t=n(e);return t||th(!1),t},findById:n,exists:function(e){return Boolean(n(e))},getAllByType:function(t){return Eh(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var r=i(t.descriptor.id);r&&t.uniqueId===r.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=i(e);return t||th(!1),t},findById:i,exists:function(e){return Boolean(i(e))},getAllByType:function(t){return Eh(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Wg=n().createContext(null),Ug=function(){var e=document.body;return e||th(!1),e},Xg={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Gg=0,Kg={separator:"::"};function Yg(e,t){return void 0===t&&(t=Kg),Mf((function(){return""+e+t.separator+Gg++}),[t.separator,e])}var Jg=n().createContext(null);function Zg(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e})),t}var ev,tv,rv=((ev={})[13]=!0,ev[9]=!0,ev),nv=function(e){rv[e.keyCode]&&e.preventDefault()},iv=function(){var e="visibilitychange";return"undefined"==typeof document?e:kh([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}(),ov={type:"IDLE"};function av(){}var sv=((tv={})[34]=!0,tv[33]=!0,tv[36]=!0,tv[35]=!0,tv);var lv={type:"IDLE"},cv={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function uv(e,t){if(null==t)return!1;if(Boolean(cv[t.tagName.toLowerCase()]))return!0;var r=t.getAttribute("contenteditable");return"true"===r||""===r||t!==e&&uv(e,t.parentElement)}function dv(e,t){var r=t.target;return!!Hg(r)&&uv(e,r)}var pv=function(e){return Lf(e.getBoundingClientRect()).center},fv=function(){var e="matches";return"undefined"==typeof document?e:kh([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function hv(e,t){return null==e?null:e[fv](t)?e:hv(e.parentElement,t)}function mv(e,t){return e.closest?e.closest(t):hv(e,t)}function gv(e){e.preventDefault()}function vv(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!!n()&&t===r}function bv(e){var t=e.lockAPI,r=e.store,n=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var o=n.draggable.findById(i);return!!o&&!!o.options.isEnabled&&!!vg(r.getState(),i)}var yv=[function(e){var t=(0,r.useRef)(ov),n=(0,r.useRef)(Jf),i=Mf((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&0===t.button&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,s,{sourceEvent:t});if(i){t.preventDefault();var o={x:t.clientX,y:t.clientY};n.current(),u(i,o)}}}}}}),[e]),o=Mf((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var n=e.findOptionsForDraggable(r);n&&(n.shouldRespectForcePress||e.canGetLock(r)&&t.preventDefault())}}}}}),[e]),a=jf((function(){n.current=Zf(window,[o,i],{passive:!1,capture:!0})}),[o,i]),s=jf((function(){"IDLE"!==t.current.type&&(t.current=ov,n.current(),a())}),[a]),l=jf((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=jf((function(){var e=function(e){var t=e.cancel,r=e.completed,n=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t,r,o=e.button,a=e.clientX,s=e.clientY;if(0===o){var l={x:a,y:s},c=n();if("DRAGGING"===c.type)return e.preventDefault(),void c.actions.move(l);if("PENDING"!==c.type&&th(!1),t=c.point,r=l,Math.abs(r.x-t.x)>=5||Math.abs(r.y-t.y)>=5){e.preventDefault();var u=c.actions.fluidLift(l);i({type:"DRAGGING",actions:u})}}}},{eventName:"mouseup",fn:function(e){var i=n();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===n().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==n().type)return 27===e.keyCode?(e.preventDefault(),void t()):void nv(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===n().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var r=n();"IDLE"===r.type&&th(!1),r.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:iv,fn:t}]}({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=Zf(window,e,{capture:!0,passive:!1})}),[l,s]),u=jf((function(e,r){"IDLE"!==t.current.type&&th(!1),t.current={type:"PENDING",point:r,actions:e},c()}),[c]);qg((function(){return a(),function(){n.current()}}),[a])},function(e){var t=(0,r.useRef)(av),n=Mf((function(){return{eventName:"keydown",fn:function(r){if(!r.defaultPrevented&&32===r.keyCode){var n=e.findClosestDraggableId(r);if(n){var o=e.tryGetLock(n,l,{sourceEvent:r});if(o){r.preventDefault();var a=!0,s=o.snapLift();t.current(),t.current=Zf(window,function(e,t){function r(){t(),e.cancel()}return[{eventName:"keydown",fn:function(n){return 27===n.keyCode?(n.preventDefault(),void r()):32===n.keyCode?(n.preventDefault(),t(),void e.drop()):40===n.keyCode?(n.preventDefault(),void e.moveDown()):38===n.keyCode?(n.preventDefault(),void e.moveUp()):39===n.keyCode?(n.preventDefault(),void e.moveRight()):37===n.keyCode?(n.preventDefault(),void e.moveLeft()):void(sv[n.keyCode]?n.preventDefault():nv(n))}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:iv,fn:r}]}(s,l),{capture:!0,passive:!1})}}}function l(){a||th(!1),a=!1,t.current(),i()}}}}),[e]),i=jf((function(){t.current=Zf(window,[n],{passive:!1,capture:!0})}),[n]);qg((function(){return i(),function(){t.current()}}),[i])},function(e){var t=(0,r.useRef)(lv),n=(0,r.useRef)(Jf),i=jf((function(){return t.current}),[]),o=jf((function(e){t.current=e}),[]),a=Mf((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,l,{sourceEvent:t});if(i){var o=t.touches[0],a={x:o.clientX,y:o.clientY};n.current(),p(i,a)}}}}}}),[e]),s=jf((function(){n.current=Zf(window,[a],{capture:!0,passive:!1})}),[a]),l=jf((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),o(lv),n.current(),s())}),[s,o]),c=jf((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=jf((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:i},r=Zf(window,function(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var r=n();if("DRAGGING"===r.type){r.hasMoved=!0;var i=e.touches[0],o={x:i.clientX,y:i.clientY};e.preventDefault(),r.actions.move(o)}else t()}},{eventName:"touchend",fn:function(e){var i=n();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),r()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===n().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var r=n();"IDLE"===r.type&&th(!1);var i=e.touches[0];if(i&&i.force>=.15){var o=r.actions.shouldRespectForcePress();if("PENDING"!==r.type)return o?r.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}}},{eventName:iv,fn:t}]}(t),e),o=Zf(window,function(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===r().type?(27===e.keyCode&&e.preventDefault(),t()):t()}},{eventName:iv,fn:t}]}(t),e);n.current=function(){r(),o()}}),[c,i,l]),d=jf((function(){var e=i();"PENDING"!==e.type&&th(!1);var t=e.actions.fluidLift(e.point);o({type:"DRAGGING",actions:t,hasMoved:!1})}),[i,o]),p=jf((function(e,t){"IDLE"!==i().type&&th(!1);var r=setTimeout(d,120);o({type:"PENDING",point:t,actions:e,longPressTimerId:r}),u()}),[u,i,o,d]);qg((function(){return s(),function(){n.current();var e=i();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),o(lv))}}),[i,s,o]),qg((function(){return Zf(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function wv(e){var t=e.contextId,n=e.store,i=e.registry,o=e.customSensors,a=e.enableDefaultSensors,s=[].concat(a?yv:[],o||[]),l=(0,r.useState)((function(){return function(){var e=null;function t(){e||th(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&th(!1);var r={abandon:t};return e=r,r},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=jf((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);qg((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[l,n,c]),qg((function(){return l.tryAbandon}),[l.tryAbandon]);for(var u=jf((function(e){return bv({lockAPI:l,registry:i,store:n,draggableId:e})}),[l,i,n]),d=jf((function(e,r,o){return function(e){var t=e.lockAPI,r=e.contextId,n=e.store,i=e.registry,o=e.draggableId,a=e.forceSensorStop,s=e.sourceEvent;if(!bv({lockAPI:t,store:n,registry:i,draggableId:o}))return null;var l=i.draggable.getById(o),c=function(e,t){var r="["+jg.contextId+'="'+e+'"]',n=kh(Ph(document.querySelectorAll(r)),(function(e){return e.getAttribute(jg.id)===t}));return n&&Hg(n)?n:null}(r,l.descriptor.id);if(!c)return null;if(s&&!l.options.canDragInteractiveElements&&dv(c,s))return null;var u=t.claim(a||Jf),d="PRE_DRAG";function p(){return l.options.shouldRespectForcePress}function f(){return t.isActive(u)}var h=function(e,t){vv({expected:e,phase:d,isLockActive:f,shouldWarn:!0})&&n.dispatch(t())}.bind(null,"DRAGGING");function m(e){function r(){t.release(),d="COMPLETED"}function i(t,i){if(void 0===i&&(i={shouldBlockNextClick:!1}),e.cleanup(),i.shouldBlockNextClick){var o=Zf(window,[{eventName:"click",fn:gv,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(o)}r(),n.dispatch(Bm({reason:t}))}return"PRE_DRAG"!==d&&(r(),"PRE_DRAG"!==d&&th(!1)),n.dispatch(function(e){return{type:"LIFT",payload:e}}(e.liftActionArgs)),d="DRAGGING",Af({isActive:function(){return vv({expected:"DRAGGING",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:p,drop:function(e){return i("DROP",e)},cancel:function(e){return i("CANCEL",e)}},e.actions)}return{isActive:function(){return vv({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!1})},shouldRespectForcePress:p,fluidLift:function(e){var t=Kf((function(e){h((function(){return Lm({client:e})}))}));return Af({},m({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}}),{move:t})},snapLift:function(){var e={moveUp:function(){return h($m)},moveRight:function(){return h(qm)},moveDown:function(){return h(Fm)},moveLeft:function(){return h(Vm)}};return m({liftActionArgs:{id:o,clientSelection:pv(c),movementMode:"SNAP"},cleanup:Jf,actions:e})},abort:function(){vv({expected:"PRE_DRAG",phase:d,isLockActive:f,shouldWarn:!0})&&t.release()}}}({lockAPI:l,registry:i,contextId:t,store:n,draggableId:e,forceSensorStop:r,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})}),[t,l,i,n]),p=jf((function(e){return function(e,t){var r=function(e,t){var r,n=t.target;if(!((r=n)instanceof Bg(r).Element))return null;var i=function(e){return"["+Mg.contextId+'="'+e+'"]'}(e),o=mv(n,i);return o&&Hg(o)?o:null}(e,t);return r?r.getAttribute(Mg.draggableId):null}(t,e)}),[t]),f=jf((function(e){var t=i.draggable.findById(e);return t?t.options:null}),[i.draggable]),h=jf((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch({type:"FLUSH",payload:null}))}),[l,n]),m=jf(l.isClaimed,[l]),g=Mf((function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:p,findOptionsForDraggable:f,tryReleaseLock:h,isLockClaimed:m}}),[u,d,p,f,h,m]),v=0;v<s.length;v++)s[v](g)}function xv(e){return e.current||th(!1),e.current}function Ov(e){var t=e.contextId,i=e.setCallbacks,o=e.sensors,a=e.nonce,s=e.dragHandleUsageInstructions,l=(0,r.useRef)(null),c=Zg(e),u=jf((function(){return function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}}(c.current)}),[c]),d=function(e){var t=Mf((function(){return function(e){return"rbd-announcement-"+e}(e)}),[e]),n=(0,r.useRef)(null);return(0,r.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),Af(e.style,Xg),Ug().appendChild(e),function(){setTimeout((function(){var t=Ug();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),jf((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),p=function(e){var t=e.contextId,n=e.text,i=Yg("hidden-text",{separator:"-"}),o=Mf((function(){return function(e){return"rbd-hidden-text-"+e.contextId+"-"+e.uniqueId}({contextId:t,uniqueId:i})}),[i,t]);return(0,r.useEffect)((function(){var e=document.createElement("div");return e.id=o,e.textContent=n,e.style.display="none",Ug().appendChild(e),function(){var t=Ug();t.contains(e)&&t.removeChild(e)}}),[o,n]),o}({contextId:t,text:s}),f=function(e,t){var n=Mf((function(){return function(e){var t,r,n=function(e){return function(t){return"["+t+'="'+e+'"]'}}(e),i=(t="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ",{selector:n(Mg.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:t,dragging:"pointer-events: none;",dropAnimating:t}}),o=[(r="\n      transition: "+Gm.outOfTheWay+";\n    ",{selector:n(jg.contextId),styles:{dragging:r,dropAnimating:r,userCancel:r}}),i,{selector:n(Lg.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:Fg(o,"always"),resting:Fg(o,"resting"),dragging:Fg(o,"dragging"),dropAnimating:Fg(o,"dropAnimating"),userCancel:Fg(o,"userCancel")}}(e)}),[e]),i=(0,r.useRef)(null),o=(0,r.useRef)(null),a=jf(Gf((function(e){var t=o.current;t||th(!1),t.textContent=e})),[]),s=jf((function(e){var t=i.current;t||th(!1),t.textContent=e}),[]);qg((function(){(i.current||o.current)&&th(!1);var r=zg(t),l=zg(t);return i.current=r,o.current=l,r.setAttribute("data-rbd-always",e),l.setAttribute("data-rbd-dynamic",e),Vg().appendChild(r),Vg().appendChild(l),s(n.always),a(n.resting),function(){var e=function(e){var t=e.current;t||th(!1),Vg().removeChild(t),e.current=null};e(i),e(o)}}),[t,s,a,n.always,n.resting,e]);var l=jf((function(){return a(n.dragging)}),[a,n.dragging]),c=jf((function(e){a("DROP"!==e?n.userCancel:n.dropAnimating)}),[a,n.dropAnimating,n.userCancel]),u=jf((function(){o.current&&a(n.resting)}),[a,n.resting]);return Mf((function(){return{dragging:l,dropping:c,resting:u}}),[l,c,u])}(t,a),h=jf((function(e){xv(l).dispatch(e)}),[]),m=Mf((function(){return(0,Gd.bindActionCreators)({publishWhileDragging:Am,updateDroppableScroll:Nm,updateDroppableIsEnabled:Mm,updateDroppableIsCombineEnabled:jm,collectionStarting:Rm},h)}),[h]),g=function(){var e=Mf(Qg,[]);return(0,r.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),v=Mf((function(){return gg(g,m)}),[g,m]),b=Mf((function(){return function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,i=function(e){var t=e.scrollDroppable,r=Kf(e.scrollWindow),n=Kf(t),i=null,o=function(e){i||th(!1);var t=i,o=t.shouldUseTimeDampening,a=t.dragStartTime;Rg({state:e,scrollWindow:r,scrollDroppable:n,dragStartTime:a,shouldUseTimeDampening:o})};return{start:function(e){i&&th(!1);var t=Date.now(),r=!1,n=function(){r=!0};Rg({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:n,scrollDroppable:n}),i={dragStartTime:t,shouldUseTimeDampening:r},r&&o(e)},stop:function(){i&&(r.cancel(),n.cancel(),i=null)},scroll:o}}({scrollWindow:r,scrollDroppable:t}),o=Ng({move:n,scrollWindow:r,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):i.scroll(e))},start:i.start,stop:i.stop}}(Af({scrollWindow:bg,scrollDroppable:v.scrollDroppable},(0,Gd.bindActionCreators)({move:Lm},h)))}),[v.scrollDroppable,h]),y=function(e){var t=(0,r.useRef)({}),n=(0,r.useRef)(null),i=(0,r.useRef)(null),o=(0,r.useRef)(!1),a=jf((function(e,r){var n={id:e,focus:r};return t.current[e]=n,function(){var r=t.current;r[e]!==n&&delete r[e]}}),[]),s=jf((function(t){var r=function(e,t){var r="["+Mg.contextId+'="'+e+'"]',n=Ph(document.querySelectorAll(r));if(!n.length)return null;var i=kh(n,(function(e){return e.getAttribute(Mg.draggableId)===t}));return i&&Hg(i)?i:null}(e,t);r&&r!==document.activeElement&&r.focus()}),[e]),l=jf((function(e,t){n.current===e&&(n.current=t)}),[]),c=jf((function(){i.current||o.current&&(i.current=requestAnimationFrame((function(){i.current=null;var e=n.current;e&&s(e)})))}),[s]),u=jf((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(Mg.draggableId)===e&&(n.current=e)}),[]);return qg((function(){return o.current=!0,function(){o.current=!1;var e=i.current;e&&cancelAnimationFrame(e)}}),[]),Mf((function(){return{register:a,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[a,u,c,l])}(t),w=Mf((function(){return function(e){var t,r=e.dimensionMarshal,n=e.focusMarshal,i=e.styleMarshal,o=e.getResponders,a=e.announce,s=e.autoScroller;return(0,Gd.createStore)(Dm,cg((0,Gd.applyMiddleware)((t=i,function(){return function(e){return function(r){"INITIAL_PUBLISH"===r.type&&t.dragging(),"DROP_ANIMATE"===r.type&&t.dropping(r.payload.completed.result.reason),"FLUSH"!==r.type&&"DROP_COMPLETE"!==r.type||t.resting(),e(r)}}}),function(e){return function(){return function(t){return function(r){"DROP_COMPLETE"!==r.type&&"FLUSH"!==r.type&&"DROP_ANIMATE"!==r.type||e.stopPublishing(),t(r)}}}}(r),function(e){return function(t){var r=t.getState,n=t.dispatch;return function(t){return function(i){if("LIFT"===i.type){var o=i.payload,a=o.id,s=o.clientSelection,l=o.movementMode,c=r();"DROP_ANIMATING"===c.phase&&n(zm({completed:c.completed})),"IDLE"!==r().phase&&th(!1),n({type:"FLUSH",payload:null}),n({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var u={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),p=d.critical,f=d.dimensions,h=d.viewport;n({type:"INITIAL_PUBLISH",payload:{critical:p,dimensions:f,clientSelection:s,movementMode:l,viewport:h}})}else t(i)}}}}(r),Zm,ag,sg,lg,function(e){return function(t){return function(r){return function(n){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n))return e.stop(),void r(n);if("INITIAL_PUBLISH"===n.type){r(n);var i=t.getState();return"DRAGGING"!==i.phase&&th(!1),void e.start(i)}r(n),e.scroll(t.getState())}}}}(s),tg,function(e){var t=!1;return function(){return function(r){return function(n){if("INITIAL_PUBLISH"===n.type)return t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),void e.tryRestoreFocusRecorded();if(r(n),t){if("FLUSH"===n.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===n.type){t=!1;var i=n.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(n),og(o,a))))}({announce:d,autoScroller:b,dimensionMarshal:v,focusMarshal:y,getResponders:u,styleMarshal:f})}),[d,b,v,y,u,f]);l.current=w;var x=jf((function(){var e=xv(l);"IDLE"!==e.getState().phase&&e.dispatch({type:"FLUSH",payload:null})}),[]),O=jf((function(){var e=xv(l).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);i(Mf((function(){return{isDragging:O,tryAbort:x}}),[O,x]));var _=jf((function(e){return vg(xv(l).getState(),e)}),[]),E=jf((function(){return gm(xv(l).getState())}),[]),S=Mf((function(){return{marshal:v,focus:y,contextId:t,canLift:_,isMovementAllowed:E,dragHandleUsageInstructionsId:p,registry:g}}),[t,v,p,y,_,E,g]);return wv({contextId:t,store:w,registry:g,customSensors:o,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,r.useEffect)((function(){return x}),[x]),n().createElement(Jg.Provider,{value:S},n().createElement(Rf.Provider,{context:Wg,store:w},e.children))}var _v=0;function Ev(e){var t=Mf((function(){return""+_v++}),[]),r=e.dragHandleUsageInstructions||"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n";return n().createElement(rh,null,(function(i){return n().createElement(Ov,{nonce:e.nonce,contextId:t,setCallbacks:i,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var Sv=function(e){return function(t){return e===t}},kv=Sv("scroll"),Pv=Sv("auto"),Tv=(Sv("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Cv=function e(t){return null==t||t===document.body||t===document.documentElement?null:function(e){var t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return Tv(r,kv)||Tv(r,Pv)}(t)?t:e(t.parentElement)},Iv=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Dv=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},Av={passive:!1},Rv={passive:!0},Nv=function(e){return e.shouldPublishImmediately?Av:Rv};function Mv(e){var t=(0,r.useContext)(e);return t||th(!1),t}var jv=function(e){return e&&e.env.closestScrollable||null};function Lv(){}var $v={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Fv=n().memo((function(e){var t=(0,r.useRef)(null),i=jf((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),o=e.animate,a=e.onTransitionEnd,s=e.onClose,l=e.contextId,c=(0,r.useState)("open"===e.animate),u=c[0],d=c[1];(0,r.useEffect)((function(){return u?"open"!==o?(i(),d(!1),Lv):t.current?Lv:(t.current=setTimeout((function(){t.current=null,d(!1)})),i):Lv}),[o,u,i]);var p=jf((function(e){"height"===e.propertyName&&(a(),"close"===o&&s())}),[o,s,a]),f=function(e){var t=e.isAnimatingOpenOnMount,r=e.placeholder,n=e.animate,i=function(e){var t=e.placeholder;return e.isAnimatingOpenOnMount||"close"===e.animate?$v:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin}}({isAnimatingOpenOnMount:t,placeholder:r,animate:n});return{display:r.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==n?Gm.placeholder:null}}({isAnimatingOpenOnMount:u,animate:e.animate,placeholder:e.placeholder});return n().createElement(e.placeholder.tagName,{style:f,"data-rbd-placeholder-context-id":l,onTransitionEnd:p,ref:e.innerRef})})),qv=n().createContext(null),Vv=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return Df(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(n().PureComponent),zv=function(e,t){return t?Gm.drop(t.duration):e?Gm.snap:Gm.fluid},Bv=function(e,t){return e?t?Qm:Wm:null};function Hv(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,r=e.offset,n=e.combineWith,i=e.dropping,o=Boolean(n),a=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode}(e),s=Boolean(i),l=s?function(e,t){var r=Km(e);return r?t?r+" scale("+Um+")":r:null}(r,o):Ym(r);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:zv(a,i),transform:l,opacity:Bv(o,s),zIndex:s?4500:5e3,pointerEvents:"none"}}(e):{transform:Ym((t=e).offset),transition:t.shouldAnimateDisplacement?null:"none"};var t}function Qv(e){e.preventDefault()}var Wv=function(e,t){return e===t},Uv=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null};function Xv(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Gv={mapped:{type:"SECONDARY",offset:uh,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Xv(null)}},Kv={dropAnimationFinished:function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}}},Yv=(0,Rf.connect)((function(){var e,t,r,n=(e=Gf((function(e,t){return{x:e,y:t}})),t=Gf((function(e,t,r,n,i){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:r,combineWith:n,combineTargetFor:null}})),r=Gf((function(e,r,n,i,o,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:a,mode:r,offset:e,dimension:n,forceShouldAnimate:s,snapshot:t(r,i,o,a,null)}}})),function(n,i){if(n.isDragging){if(n.critical.draggable.id!==i.draggableId)return null;var o=n.current.client.offset,a=n.dimensions.draggables[i.draggableId],s=hm(n.impact),l=(u=n.impact).at&&"COMBINE"===u.at.type?u.at.combine.draggableId:null,c=n.forceShouldAnimate;return r(e(o.x,o.y),n.movementMode,a,i.isClone,s,l,c)}var u;if("DROP_ANIMATING"===n.phase){var d=n.completed;if(d.result.draggableId!==i.draggableId)return null;var p=i.isClone,f=n.dimensions.draggables[i.draggableId],h=d.result,m=h.mode,g=Uv(h),v=function(e){return e.combine?e.combine.draggableId:null}(h),b={duration:n.dropDuration,curve:Hm,moveTo:n.newHomeClientOffset,opacity:v?Qm:null,scale:v?Um:null};return{mapped:{type:"DRAGGING",offset:n.newHomeClientOffset,dimension:f,dropping:b,draggingOver:g,combineWith:v,mode:m,forceShouldAnimate:null,snapshot:t(m,p,g,v,b)}}}return null}),i=function(){var e=Gf((function(e,t){return{x:e,y:t}})),t=Gf(Xv),r=Gf((function(e,r,n){return void 0===r&&(r=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:r,shouldAnimateDisplacement:n,snapshot:t(r)}}})),n=function(e){return e?r(uh,e,!0):null},i=function(t,i,o,a){var s=o.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=Nh(o),u=c&&c.draggableId===t?i:null;if(!s){if(!l)return n(u);if(o.displaced.invisible[t])return null;var d=hh(a.displacedBy.point),p=e(d.x,d.y);return r(p,u,!0)}if(l)return n(u);var f=o.displacedBy.point,h=e(f.x,f.y);return r(h,u,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var r=e.completed;return r.result.draggableId===t.draggableId?null:i(t.draggableId,r.result.draggableId,r.impact,r.afterCritical)}return null}}();return function(e,t){return n(e,t)||i(e,t)||Gv}}),Kv,null,{context:Wg,pure:!0,areStatePropsEqual:Wv})((function(e){var t=(0,r.useRef)(null),n=jf((function(e){t.current=e}),[]),i=jf((function(){return t.current}),[]),o=Mv(Jg),a=o.contextId,s=o.dragHandleUsageInstructionsId,l=o.registry,c=Mv(qv),u=c.type,d=c.droppableId,p=Mf((function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}}),[e.draggableId,e.index,u,d]),f=e.children,h=e.draggableId,m=e.isEnabled,g=e.shouldRespectForcePress,v=e.canDragInteractiveElements,b=e.isClone,y=e.mapped,w=e.dropAnimationFinished;b||function(e){var t=Yg("draggable"),n=e.descriptor,i=e.registry,o=e.getDraggableRef,a=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=Mf((function(){return{canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:l}}),[a,l,s]),u=jf((function(e){var t=o();return t||th(!1),function(e,t,r){void 0===r&&(r=uh);var n=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=Qf(i,n),a=Hf(o,r);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:n.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:a}}(n,t,e)}),[n,o]),d=Mf((function(){return{uniqueId:t,descriptor:n,options:c,getDimension:u}}),[n,u,c,t]),p=(0,r.useRef)(d),f=(0,r.useRef)(!0);qg((function(){return i.draggable.register(p.current),function(){return i.draggable.unregister(p.current)}}),[i.draggable]),qg((function(){if(f.current)f.current=!1;else{var e=p.current;p.current=d,i.draggable.update(d,e)}}),[d,i.draggable])}(Mf((function(){return{descriptor:p,registry:l,getDraggableRef:i,canDragInteractiveElements:v,shouldRespectForcePress:g,isEnabled:m}}),[p,l,i,v,g,m]));var x=Mf((function(){return m?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":h,"data-rbd-drag-handle-context-id":a,draggable:!1,onDragStart:Qv}:null}),[a,s,h,m]),O=jf((function(e){"DRAGGING"===y.type&&y.dropping&&"transform"===e.propertyName&&w()}),[w,y]),_=Mf((function(){var e=Hv(y),t="DRAGGING"===y.type&&y.dropping?O:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":a,"data-rbd-draggable-id":h,style:e,onTransitionEnd:t},dragHandleProps:x}}),[a,x,h,y,O,n]),E=Mf((function(){return{draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}}),[p.droppableId,p.id,p.index,p.type]);return f(_,y.snapshot,E)}));function Jv(e){return Mv(qv).isUsingCloneFor!==e.draggableId||e.isClone?n().createElement(Yv,e):null}function Zv(e){var t="boolean"!=typeof e.isDragDisabled||!e.isDragDisabled,r=Boolean(e.disableInteractiveElementBlocking),i=Boolean(e.shouldRespectForcePress);return n().createElement(Jv,Af({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:i}))}var eb=function(e,t){return e===t.droppable.type},tb=function(e,t){return t.draggables[e.draggable.id]},rb={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||th(!1),document.body}},nb=(0,Rf.connect)((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=Af({},e,{shouldAnimatePlaceholder:!1}),r=Gf((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),n=Gf((function(n,i,o,a,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===n){var u=l?{render:l,dragging:r(s.descriptor)}:null,d={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!i)return t;if(!a)return e;var p={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:p,useClone:null}}));return function(r,i){var o=i.droppableId,a=i.type,s=!i.isDropDisabled,l=i.renderClone;if(r.isDragging){var c=r.critical;if(!eb(a,c))return t;var u=tb(c,r.dimensions),d=hm(r.impact)===o;return n(o,s,d,d,u,l)}if("DROP_ANIMATING"===r.phase){var p=r.completed;if(!eb(a,p.critical))return t;var f=tb(p.critical,r.dimensions);return n(o,s,Uv(p.result)===o,hm(p.impact)===o,f,l)}if("IDLE"===r.phase&&r.completed&&!r.shouldFlush){var h=r.completed;if(!eb(a,h.critical))return t;var m=hm(h.impact)===o,g=Boolean(h.impact.at&&"COMBINE"===h.impact.at.type),v=h.critical.droppable.id===o;return m?g?e:t:v?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Wg,pure:!0,areStatePropsEqual:Wv})((function(e){var t=(0,r.useContext)(Jg);t||th(!1);var i=t.contextId,o=t.isMovementAllowed,a=(0,r.useRef)(null),s=(0,r.useRef)(null),l=e.children,c=e.droppableId,u=e.type,d=e.mode,p=e.direction,f=e.ignoreContainerClipping,h=e.isDropDisabled,m=e.isCombineEnabled,g=e.snapshot,v=e.useClone,b=e.updateViewportMaxScroll,y=e.getContainerForClone,w=jf((function(){return a.current}),[]),x=jf((function(e){a.current=e}),[]),O=(jf((function(){return s.current}),[]),jf((function(e){s.current=e}),[])),_=jf((function(){o()&&b({maxScroll:pg()})}),[o,b]);!function(e){var t=(0,r.useRef)(null),n=Mv(Jg),i=Yg("droppable"),o=n.registry,a=n.marshal,s=Zg(e),l=Mf((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=(0,r.useRef)(l),u=Mf((function(){return Gf((function(e,r){t.current||th(!1);var n={x:e,y:r};a.updateDroppableScroll(l.id,n)}))}),[l.id,a]),d=jf((function(){var e=t.current;return e&&e.env.closestScrollable?Iv(e.env.closestScrollable):uh}),[]),p=jf((function(){var e=d();u(e.x,e.y)}),[d,u]),f=Mf((function(){return Kf(p)}),[p]),h=jf((function(){var e=t.current,r=jv(e);e&&r||th(!1),e.scrollOptions.shouldPublishImmediately?p():f()}),[f,p]),m=jf((function(e,r){t.current&&th(!1);var i=s.current,o=i.getDroppableRef();o||th(!1);var a=function(e){return{closestScrollable:Cv(e),isFixedOnPage:Dv(e)}}(o),c={ref:o,descriptor:l,env:a,scrollOptions:r};t.current=c;var u=function(e){var t=e.ref,r=e.descriptor,n=e.env,i=e.windowScroll,o=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=n.closestScrollable,u=function(e,t){var r=Wf(e);if(!t)return r;if(e!==t)return r;var n=r.paddingBox.top-t.scrollTop,i=r.paddingBox.left-t.scrollLeft,o=n+t.scrollHeight,a=i+t.scrollWidth,s=$f({top:n,right:a,bottom:o,left:i},r.border);return Vf({borderBox:s,margin:r.margin,border:r.border,padding:r.padding})}(t,c),d=Hf(u,i),p=function(){if(!c)return null;var e=Wf(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:Hf(e,i),scroll:Iv(c),scrollSize:t,shouldClipSubject:l}}(),f=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,a=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,r=ug({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:r,diff:{value:uh,displacement:uh}}}}(),u="vertical"===o?Bh:Hh;return{descriptor:t,isCombineEnabled:n,isFixedOnPage:i,axis:u,isEnabled:r,client:a,page:s,frame:c,subject:Oh({page:s,withPlaceholder:null,axis:u,frame:c})}}({descriptor:r,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:o,client:u,page:d,closest:p});return f}({ref:o,descriptor:l,env:a,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute($g,n.contextId),d.addEventListener("scroll",h,Nv(c.scrollOptions))),u}),[n.contextId,l,h,s]),g=jf((function(){var e=t.current,r=jv(e);return e&&r||th(!1),Iv(r)}),[]),v=jf((function(){var e=t.current;e||th(!1);var r=jv(e);t.current=null,r&&(f.cancel(),r.removeAttribute($g),r.removeEventListener("scroll",h,Nv(e.scrollOptions)))}),[h,f]),b=jf((function(e){var r=t.current;r||th(!1);var n=jv(r);n||th(!1),n.scrollTop+=e.y,n.scrollLeft+=e.x}),[]),y=Mf((function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:v,scroll:b}}),[v,m,g,b]),w=Mf((function(){return{uniqueId:i,descriptor:l,callbacks:y}}),[y,l,i]);qg((function(){return c.current=w.descriptor,o.droppable.register(w),function(){t.current&&v(),o.droppable.unregister(w)}}),[y,l,v,w,a,o.droppable]),qg((function(){t.current&&a.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,a]),qg((function(){t.current&&a.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,a])}({droppableId:c,type:u,mode:d,direction:p,isDropDisabled:h,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:w});var E=n().createElement(Vv,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,o=e.animate;return n().createElement(Fv,{placeholder:r,onClose:t,innerRef:O,animate:o,contextId:i,onTransitionEnd:_})})),S=Mf((function(){return{innerRef:x,placeholder:E,droppableProps:{"data-rbd-droppable-id":c,"data-rbd-droppable-context-id":i}}}),[i,c,E,x]),k=v?v.dragging.draggableId:null,P=Mf((function(){return{droppableId:c,type:u,isUsingCloneFor:k}}),[c,k,u]);return n().createElement(qv.Provider,{value:P},l(S,g),function(){if(!v)return null;var e=v.dragging,t=v.render,r=n().createElement(Jv,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(r,n){return t(r,n,e)}));return at().createPortal(r,y())}())}));function ib(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){t.current=e})),t.current}function ob(){return ob=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ob.apply(this,arguments)}nb.defaultProps=rb;const ab=n().memo((({def:e,operation:t})=>{const i=(0,a.useStyles2)(sb),[o,s]=(0,r.useState)(!1),{getTooltipProps:l,setTooltipRef:c,setTriggerRef:u,visible:d}=Wo({placement:"top",visible:o,offset:[0,16],onVisibleChange:s,interactive:!0,trigger:["click"]});return n().createElement(n().Fragment,null,n().createElement(a.Button,{title:"Click to show description",ref:u,icon:"info-circle",size:"sm",variant:"secondary",fill:"text"}),d&&n().createElement(a.Portal,null,n().createElement("div",ob({ref:c},l(),{className:i.docBox}),n().createElement("div",{className:i.docBoxHeader},n().createElement("span",null,e.renderer(t,e,"<expr>")),n().createElement(fs,{grow:1}),n().createElement(a.Button,{icon:"times",onClick:()=>s(!1),fill:"text",variant:"secondary",title:"Remove operation"})),n().createElement("div",{className:i.docBoxBody,dangerouslySetInnerHTML:{__html:lb(e,t)}}))))}));ab.displayName="OperationDocs";const sb=e=>({docBox:(0,s.css)({overflow:"hidden",background:e.colors.background.primary,border:`1px solid ${e.colors.border.strong}`,boxShadow:e.shadows.z3,maxWidth:"600px",padding:e.spacing(1),borderRadius:e.shape.borderRadius(),zIndex:e.zIndex.tooltip}),docBoxHeader:(0,s.css)({fontSize:e.typography.h5.fontSize,fontFamily:e.typography.fontFamilyMonospace,paddingBottom:e.spacing(1),display:"flex",alignItems:"center"}),docBoxBody:(0,s.css)({marginBottom:e.spacing(-1),color:e.colors.text.secondary}),signature:(0,s.css)({fontSize:e.typography.bodySmall.fontSize,fontFamily:e.typography.fontFamilyMonospace}),dropdown:(0,s.css)({opacity:0,color:e.colors.text.secondary})});function lb(e,r){var n;return(0,t.renderMarkdown)(e.explainHandler?e.explainHandler(r,e):null!==(n=e.documentation)&&void 0!==n?n:"no docs")}function cb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ub(){return ub=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ub.apply(this,arguments)}function db(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){cb(e,t,r[t])}))}return e}function pb(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const fb=n().memo((({operation:e,def:t,index:i,onChange:o,onRemove:s,queryModeller:l,dragHandleProps:c})=>{const u=(0,a.useStyles2)(hb),[d,p]=(0,r.useState)({}),f=()=>{if(d.isOpen)p(pb(db({},d),{isOpen:!1}));else{const e=l.getAlternativeOperations(t.alternativesKey).map((e=>({label:e.name,value:e})));p({isOpen:!0,alternatives:e})}};var h;return n().createElement("div",{className:u.header},!d.isOpen&&n().createElement(n().Fragment,null,n().createElement("div",ub({},c),null!==(h=t.name)&&void 0!==h?h:t.id),n().createElement(fs,{grow:1}),n().createElement("div",{className:`${u.operationHeaderButtons} operation-header-show-on-hover`},n().createElement(a.Button,{icon:"angle-down",size:"sm",onClick:f,fill:"text",variant:"secondary",title:"Click to view alternative operations"}),n().createElement(ab,{def:t,operation:e}),n().createElement(a.Button,{icon:"times",size:"sm",onClick:()=>s(i),fill:"text",variant:"secondary",title:"Remove operation"}))),d.isOpen&&n().createElement("div",{className:u.selectWrapper},n().createElement(a.Select,{autoFocus:!0,openMenuOnFocus:!0,placeholder:"Replace with",options:d.alternatives,isOpen:!0,onCloseMenu:f,onChange:r=>{if(r.value){const n=l.getOperationDef(r.value.id),a=[...n.defaultParams];for(let r=0;r<Math.min(e.params.length,a.length);r++)n.params[r].type===t.params[r].type&&(a[r]=e.params[r]);const s=pb(db({},e),{params:a,id:r.value.id});o(i,t.changeTypeHandler?t.changeTypeHandler(s,n):s)}}})))}));fb.displayName="OperationHeader";const hb=e=>({header:(0,s.css)({borderBottom:`1px solid ${e.colors.border.medium}`,padding:e.spacing(.5,.5,.5,1),display:"flex",alignItems:"center","&:hover .operation-header-show-on-hover":(0,s.css)({opacity:1})}),operationHeaderButtons:(0,s.css)({opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short})}),selectWrapper:(0,s.css)({paddingRight:e.spacing(2)})});function mb(e){return e.editor?e.editor:e.options?bb:"boolean"===e.type?vb:gb}function gb(e){var t;return n().createElement(a.AutoSizeInput,{id:Xs(e.operationIndex,e.index),defaultValue:null===(t=e.value)||void 0===t?void 0:t.toString(),minWidth:e.paramDef.minWidth,placeholder:e.paramDef.placeholder,title:e.paramDef.description,onCommitChange:t=>{e.onChange(e.index,t.currentTarget.value),e.paramDef.runQueryOnEnter&&"keydown"===t.type&&e.onRunQuery()}})}function vb(e){return n().createElement(a.Checkbox,{id:Xs(e.operationIndex,e.index),value:e.value,onChange:t=>e.onChange(e.index,t.currentTarget.checked)})}function bb({paramDef:e,value:r,index:i,operationIndex:o,onChange:s}){var l;const c=(0,a.useStyles2)(yb);let u=e.options;var d;(null===(l=u[0])||void 0===l?void 0:l.label)||(u=e.options.map((e=>({label:e.toString(),value:e}))));let p=null!==(d=u.find((e=>e.value===r)))&&void 0!==d?d:(0,t.toOption)(r);return!r&&e.optional?n().createElement("div",{className:c.optionalParam},n().createElement(a.Button,{size:"sm",variant:"secondary",title:`Add ${e.name}`,icon:"plus",onClick:()=>s(i,u[0].value)},e.name)):n().createElement(bs,{gap:.5,direction:"row",alignItems:"center",wrap:!1},n().createElement(a.Select,{id:Xs(o,i),value:p,options:u,placeholder:e.placeholder,allowCustomValue:!0,onChange:e=>s(i,e.value)}),e.optional&&n().createElement(a.Button,{"data-testid":`operations.${i}.remove-param`,size:"sm",fill:"text",icon:"times",variant:"secondary",title:`Remove ${e.name}`,onClick:()=>s(i,"")}))}const yb=e=>({optionalParam:(0,s.css)({marginTop:e.spacing(1)})});function wb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xb(){return xb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xb.apply(this,arguments)}function Ob(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){wb(e,t,r[t])}))}return e}function _b(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function Eb({operation:e,index:t,onRemove:i,onChange:o,onRunQuery:l,queryModeller:c,query:u,datasource:d,flash:p,highlight:f}){const h=(0,a.useStyles2)(kb),m=c.getOperationDef(e.id),g=function(e){const[t,n]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{let t;return e?t=setTimeout((()=>{n(!1)}),1e3):n(!0),()=>clearTimeout(t)}),[e]),t&&e}(p);if(!m)return n().createElement("span",null,"Operation ",e.id," not found");const v=(r,n)=>{const i=_b(Ob({},e),{params:[...e.params]});i.params[r]=n,Sb(m,i,t,r,o)},b=()=>{const r=_b(Ob({},e),{params:[...e.params,""]});Sb(m,r,t,e.params.length,o)},y=r=>{const n=_b(Ob({},e),{params:[...e.params.slice(0,r),...e.params.slice(r+1)]});Sb(m,n,t,r,o)},w=[];for(let r=0;r<e.params.length;r++){const i=m.params[Math.min(m.params.length-1,r)],o=mb(i);w.push(n().createElement("div",{className:h.paramRow,key:`${r}-1`},!i.hideName&&n().createElement("div",{className:h.paramName},n().createElement("label",{htmlFor:Xs(t,r)},i.name),i.description&&n().createElement(a.Tooltip,{placement:"top",content:i.description,theme:"info"},n().createElement(a.Icon,{name:"info-circle",size:"sm",className:h.infoIcon}))),n().createElement("div",{className:h.paramValue},n().createElement(bs,{gap:.5,direction:"row",alignItems:"center",wrap:!1},n().createElement(o,{index:r,paramDef:i,value:e.params[r],operation:e,operationIndex:t,onChange:v,onRunQuery:l,query:u,datasource:d}),i.restParam&&(e.params.length>m.params.length||i.optional)&&n().createElement(a.Button,{"data-testid":`operations.${t}.remove-rest-param`,size:"sm",fill:"text",icon:"times",variant:"secondary",title:`Remove ${i.name}`,onClick:()=>y(r)})))))}let x;if(m.params.length>0){const r=m.params[m.params.length-1];r.restParam&&(x=function(e,t,r,i,o){return n().createElement("div",{className:o.restParam,key:`${i}-2`},n().createElement(a.Button,{size:"sm",icon:"plus",title:`Add ${e.name}`,variant:"secondary",onClick:t,"data-testid":`operations.${r}.add-rest-param`},e.name))}(r,b,t,e.params.length,h))}return n().createElement(Zv,{draggableId:`operation-${t}`,index:t},(r=>n().createElement("div",xb({className:(0,s.cx)(h.card,(g||f)&&h.cardHighlight),ref:r.innerRef},r.draggableProps,{"data-testid":`operations.${t}.wrapper`}),n().createElement(fb,{operation:e,dragHandleProps:r.dragHandleProps,def:m,index:t,onChange:o,onRemove:i,queryModeller:c}),n().createElement("div",{className:h.body},w),x,t<u.operations.length-1&&n().createElement("div",{className:h.arrow},n().createElement("div",{className:h.arrowLine}),n().createElement("div",{className:h.arrowArrow})))))}function Sb(e,t,r,n,i){e.paramChangedHandler?i(r,e.paramChangedHandler(n,t,e)):i(r,t)}const kb=e=>({card:(0,s.css)({background:e.colors.background.primary,border:`1px solid ${e.colors.border.medium}`,display:"flex",flexDirection:"column",cursor:"grab",borderRadius:e.shape.borderRadius(1),marginBottom:e.spacing(1),position:"relative",transition:"all 0.5s ease-in 0s"}),cardHighlight:(0,s.css)({boxShadow:`0px 0px 4px 0px ${e.colors.primary.border}`,border:`1px solid ${e.colors.primary.border}`}),infoIcon:(0,s.css)({marginLeft:e.spacing(.5),color:e.colors.text.secondary,":hover":{color:e.colors.text.primary}}),body:(0,s.css)({margin:e.spacing(1,1,.5,1),display:"table"}),paramRow:(0,s.css)({label:"paramRow",display:"table-row",verticalAlign:"middle"}),paramName:(0,s.css)({display:"table-cell",padding:e.spacing(0,1,0,0),fontSize:e.typography.bodySmall.fontSize,fontWeight:e.typography.fontWeightMedium,verticalAlign:"middle",height:"32px"}),paramValue:(0,s.css)({label:"paramValue",display:"table-cell",verticalAlign:"middle"}),restParam:(0,s.css)({padding:e.spacing(0,1,1,1)}),arrow:(0,s.css)({position:"absolute",top:"0",right:"-18px",display:"flex"}),arrowLine:(0,s.css)({height:"2px",width:"8px",backgroundColor:e.colors.border.strong,position:"relative",top:"14px"}),arrowArrow:(0,s.css)({width:0,height:0,borderTop:"5px solid transparent",borderBottom:"5px solid transparent",borderLeft:`7px solid ${e.colors.border.strong}`,position:"relative",top:"10px"})});function Pb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tb(){return Tb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tb.apply(this,arguments)}function Cb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Pb(e,t,r[t])}))}return e}function Ib(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function Db({query:e,datasource:t,queryModeller:i,onChange:o,onRunQuery:s,highlightedOp:l}){const c=(0,a.useStyles2)(Ab),{operations:u}=e,d=function(e){const t=(i=(0,r.useRef)(!1),o=(0,r.useCallback)((function(){return i.current}),[]),(0,r.useEffect)((function(){return i.current=!0,function(){i.current=!1}}),[]),o),n=ib(e);var i,o;if(!t())return e.map((()=>!1));if(!n)return e.map((()=>!0));let a=[];if(n.length-1===e.length&&e.every((e=>n.includes(e))))return e.map((()=>!1));if(n.length+1===e.length&&n.every((t=>e.includes(t)))){const t=e.find((e=>!n.includes(e)));a=e.map((e=>e===t))}else a=e.map(((e,t)=>{var r,i,o;return!((i=e.id)===(o=null===(r=n[t])||void 0===r?void 0:r.id)||`__${i}_by`===o||i===`__${o}_by`)}));return a}(u),[p,f]=(0,r.useState)(!1),h=(t,r)=>{const n=[...u];n.splice(t,1,r),o(Ib(Cb({},e),{operations:n}))},m=t=>{const r=[...u.slice(0,t),...u.slice(t+1)];o(Ib(Cb({},e),{operations:r}))},g=i.getCategories().map((e=>({value:e,label:e,items:i.getOperationsForCategory(e).map((e=>({value:e.id,label:e.name,isLeaf:!0})))})));return n().createElement(bs,{gap:1,direction:"column"},n().createElement(bs,{gap:1},u.length>0&&n().createElement(Ev,{onDragEnd:t=>{if(!t.destination)return;const r=[...u],n=r[t.source.index];r.splice(t.source.index,1),r.splice(t.destination.index,0,n),o(Ib(Cb({},e),{operations:r}))}},n().createElement(nb,{droppableId:"sortable-field-mappings",direction:"horizontal"},(r=>n().createElement("div",Tb({className:c.operationList,ref:r.innerRef},r.droppableProps),u.map(((r,o)=>n().createElement(Eb,{key:r.id+JSON.stringify(r.params)+o,queryModeller:i,index:o,operation:r,query:e,datasource:t,onChange:h,onRemove:m,onRunQuery:s,flash:d[o],highlight:l===r}))),r.placeholder)))),n().createElement("div",{className:c.addButton},p?n().createElement(a.Cascader,{options:g,onSelect:t=>{const r=i.getOperationDef(t);r&&(o(r.addOperationHandler(r,e,i)),f(!1))},onBlur:()=>{f(!1)},autoFocus:!0,alwaysOpen:!0,hideActiveLevelLabel:!0,placeholder:"Search"}):n().createElement(a.Button,{icon:"plus",variant:"secondary",onClick:()=>f(!0),title:"Add operation"},"Operations"))))}const Ab=e=>({heading:(0,s.css)({label:"heading",fontSize:12,fontWeight:e.typography.fontWeightMedium,marginBottom:0}),operationList:(0,s.css)({label:"operationList",display:"flex",flexWrap:"wrap",gap:e.spacing(2)}),addButton:(0,s.css)({label:"addButton",width:126,paddingBottom:e.spacing(1)})});function Rb({query:e,lang:t}){const r=(0,a.useTheme2)(),i=Nb(r),o=fp().highlight(e,t.grammar,t.name);return n().createElement("div",{className:(0,s.cx)(i.editorField,"prism-syntax-highlight"),"aria-label":"selector",dangerouslySetInnerHTML:{__html:o}})}const Nb=e=>({editorField:(0,s.css)({fontFamily:e.typography.fontFamilyMonospace,fontSize:e.typography.bodySmall.fontSize})});function Mb({query:e,queryModeller:t,stepNumber:r,lang:i,onMouseEnter:o,onMouseLeave:a}){return n().createElement(n().Fragment,null,e.operations.map(((e,s)=>{const l=t.getOperationDef(e.id);if(!l)return`Operation ${e.id} not found`;const c=l.renderer(e,l,"<expr>");var u;const d=l.explainHandler?l.explainHandler(e,l):null!==(u=l.documentation)&&void 0!==u?u:"no docs";return n().createElement("div",{key:s,onMouseEnter:()=>null==o?void 0:o(e,s),onMouseLeave:()=>null==a?void 0:a(e,s)},n().createElement(Tf,{stepNumber:s+r,title:n().createElement(Rb,{query:c,lang:i}),markdown:d}))})))}function jb({children:e}){const t=(0,a.useStyles2)(Lb);return n().createElement("div",{className:t.root},n().createElement(a.Stack,{gap:1},e))}const Lb=e=>({root:(0,s.css)({padding:e.spacing(1,1,0,1),backgroundColor:e.colors.background.secondary,borderRadius:e.shape.borderRadius(1)})}),$b=({datasource:e,query:t,onChange:i,data:o,queryModeller:s,buildVisualQueryFromString:l})=>{const[c,u]=(0,r.useState)([]),d=(0,a.useStyles2)(Fb);return(0,r.useEffect)((()=>{const r={expr:s.renderQuery(t),refId:""},n=e.getQueryHints(r,(null==o?void 0:o.series)||[]).filter((e=>{var t;return null===(t=e.fix)||void 0===t?void 0:t.action}));u(n)}),[e,t,o,s]),n().createElement(n().Fragment,null,c.length>0&&n().createElement("div",{className:d.container},c.map((r=>{var o,c,u;return n().createElement(a.Tooltip,{content:`${r.label} ${null===(o=r.fix)||void 0===o?void 0:o.label}`,key:r.type},n().createElement(a.Button,{onClick:()=>{var n;if(null==r||null===(n=r.fix)||void 0===n?void 0:n.action){const n={expr:s.renderQuery(t),refId:""},o=e.modifyQuery(n,r.fix.action),a=l(o.expr);return i(a.query)}},fill:"outline",size:"sm",className:d.hint},"hint: "+(null===(c=r.fix)||void 0===c||null===(u=c.action)||void 0===u?void 0:u.type.toLowerCase().replace("_"," "))+"()"))}))))};$b.displayName="QueryBuilderHints";const Fb=e=>({container:s.css`
      display: flex;
      align-items: start;
    `,hint:s.css`
      margin-right: ${e.spacing(1)};
    `});var qb=m(5464),Vb=m.n(qb);function zb(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function Bb(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){zb(o,n,i,a,s,"next",e)}function s(e){zb(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Hb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qb({query:e,onChange:i,onGetMetrics:o}){const s=(0,a.useStyles2)(Wb),[l,c]=(0,r.useState)({}),u=(0,r.useCallback)(((e,t)=>{var r;const n=null!==(r=e.label)&&void 0!==r?r:e.value;return!!n&&(!n.toLowerCase||t.split(" ").reduce(((e,t)=>e&&n.toLowerCase().includes(t.toLowerCase())),!0))}),[]),d=(0,r.useCallback)(((e,t)=>{return e.__isNew__?e.label:n().createElement(Vb(),{searchWords:t.inputValue.split(" "),textToHighlight:null!==(r=e.label)&&void 0!==r?r:"",highlightClassName:s.highlight});var r}),[s.highlight]);return n().createElement(zp,null,n().createElement(ef,{label:"Metric"},n().createElement(a.Select,{inputId:"prometheus-metric-select",className:s.select,value:e.metric?(0,t.toOption)(e.metric):void 0,placeholder:"Select metric",allowCustomValue:!0,formatOptionLabel:d,filterOption:u,onOpenMenu:Bb((function*(){c({isLoading:!0});const e=yield o();c({metrics:e,isLoading:void 0})})),isLoading:l.isLoading,options:l.metrics,onChange:({value:t})=>{var r,n;t&&i((r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Hb(e,t,r[t])}))}return e}({},e),n=null!=(n={metric:t})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))})),r))}})))}const Wb=e=>({select:s.css`
    min-width: 125px;
  `,highlight:s.css`
    label: select__match-highlight;
    background: inherit;
    padding: inherit;
    color: ${e.colors.warning.contrastText};
    background-color: ${e.colors.warning.main};
  `});function Ub(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ub(e,t,r[t])}))}return e}function Gb(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const Kb=n().memo((e=>{const{nestedQuery:r,index:i,datasource:o,onChange:s,onRemove:l,onRunQuery:c,showExplain:u}=e,d=(0,a.useStyles2)(Jb);return n().createElement("div",{className:d.card},n().createElement("div",{className:d.header},n().createElement("div",{className:d.name},"Operator"),n().createElement(a.Select,{width:"auto",options:Yb,value:(0,t.toOption)(r.operator),onChange:e=>{s(i,Gb(Xb({},r),{operator:e.value}))}}),n().createElement("div",{className:d.name},"Vector matches"),n().createElement("div",{className:d.vectorMatchWrapper},n().createElement(a.Select,{width:"auto",value:r.vectorMatchesType||"on",allowCustomValue:!0,options:[{value:"on",label:"on"},{value:"ignoring",label:"ignoring"}],onChange:e=>{s(i,Gb(Xb({},r),{vectorMatchesType:e.value}))}}),n().createElement(a.AutoSizeInput,{className:d.vectorMatchInput,minWidth:20,defaultValue:r.vectorMatches,onCommitChange:e=>{s(i,Gb(Xb({},r),{vectorMatches:e.currentTarget.value,vectorMatchesType:r.vectorMatchesType||"on"}))}})),n().createElement(fs,{grow:1}),n().createElement(a.IconButton,{name:"times",size:"sm",onClick:()=>l(i)})),n().createElement("div",{className:d.body},n().createElement(_s,null,n().createElement(ly,{showExplain:u,query:r.query,datasource:o,onRunQuery:c,onChange:e=>{s(i,Gb(Xb({},r),{query:e}))}}))))})),Yb=rl.map((e=>({label:e.sign,value:e.sign})));Kb.displayName="NestedQuery";const Jb=e=>({card:(0,s.css)({label:"card",display:"flex",flexDirection:"column",gap:e.spacing(.5)}),header:(0,s.css)({label:"header",padding:e.spacing(.5,.5,.5,1),gap:e.spacing(1),display:"flex",alignItems:"center"}),name:(0,s.css)({label:"name",whiteSpace:"nowrap"}),body:(0,s.css)({label:"body",paddingLeft:e.spacing(2)}),vectorMatchInput:(0,s.css)({label:"vectorMatchInput",marginLeft:-1}),vectorMatchWrapper:(0,s.css)({label:"vectorMatchWrapper",display:"flex"})});function Zb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ey(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Zb(e,t,r[t])}))}return e}function ty(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function ry(e){const{query:t,datasource:r,onChange:i,onRunQuery:o,showExplain:a}=e;var s;const l=null!==(s=t.binaryQueries)&&void 0!==s?s:[],c=(e,r)=>{const n=[...l];n.splice(e,1,r),i(ty(ey({},t),{binaryQueries:n}))},u=e=>{const r=[...l.slice(0,e),...l.slice(e+1)];i(ty(ey({},t),{binaryQueries:r}))};return n().createElement(bs,{direction:"column",gap:1},l.map(((e,t)=>n().createElement(Kb,{key:t.toString(),nestedQuery:e,index:t,onChange:c,datasource:r,onRemove:u,onRunQuery:o,showExplain:a}))))}const ny="Fetch all series matching metric name and label filters.",iy=n().memo((({query:e})=>{const t=Tu(e||"").query,r={grammar:Ps,name:"promql"};return n().createElement(bs,{gap:.5,direction:"column"},n().createElement(Tf,{stepNumber:1,title:n().createElement(Rb,{query:`${t.metric} ${wl.renderLabels(t.labels)}`,lang:r})},ny),n().createElement(Mb,{stepNumber:2,queryModeller:wl,query:t,lang:r}))}));function oy(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function ay(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){oy(o,n,i,a,s,"next",e)}function s(e){oy(o,n,i,a,s,"throw",e)}a(void 0)}))}}function sy(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}iy.displayName="PromQueryBuilderExplained";const ly=n().memo((e=>{const{datasource:t,query:i,onChange:o,onRunQuery:a,data:s,showExplain:l}=e,[c,u]=(0,r.useState)(),d=(0,r.useCallback)(function(){var e=ay((function*(e){const r=t.getVariables(),n=yield e;return[...r.map((e=>({label:e,value:e}))),...n.map((e=>({label:e.value,value:e.value,title:e.description})))]}));return function(t){return e.apply(this,arguments)}}(),[t]),p=function(){var e=ay((function*(e){if(!i.metric)return yield t.languageProvider.fetchLabels(),t.languageProvider.getLabelKeys().map((e=>({value:e})));const r=i.labels.filter((t=>t!==e));r.push({label:"__name__",op:"=",value:i.metric});const n=wl.renderLabels(r),o=yield t.languageProvider.fetchSeriesLabels(n);return Object.keys(o).filter((e=>!r.find((t=>t.label===e)))).map((e=>({value:e})))}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=ay((function*(e){if(!e.label)return[];if(!i.metric)return(yield t.languageProvider.getLabelValues(e.label)).map((e=>({value:e})));const r=i.labels.filter((t=>t!==e));r.push({label:"__name__",op:"=",value:i.metric});const n=wl.renderLabels(r);var o;return null!==(o=(yield t.languageProvider.fetchSeriesLabels(n))[t.interpolateString(e.label)].map((e=>({value:e}))))&&void 0!==o?o:[]}));return function(t){return e.apply(this,arguments)}}(),h=(0,r.useCallback)((()=>d(function(e,t){return cy.apply(this,arguments)}(t,i))),[t,i,d]),m={grammar:Ps,name:"promql"};return n().createElement(n().Fragment,null,n().createElement(lp,null,n().createElement(Qb,{query:i,onChange:o,onGetMetrics:h}),n().createElement(Pf,{labelsFilters:i.labels,onChange:e=>{var t,r;o((t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){sy(e,t,r[t])}))}return e}({},i),r=null!=(r={labels:e})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})),t))},onGetLabelNames:e=>d(p(e)),onGetLabelValues:e=>d(f(e))})),l&&n().createElement(Tf,{stepNumber:1,title:n().createElement(Rb,{query:`${i.metric} ${wl.renderLabels(i.labels)}`,lang:m})},ny),n().createElement(jb,null,n().createElement(Db,{queryModeller:wl,datasource:t,query:i,onChange:o,onRunQuery:a,highlightedOp:c}),n().createElement($b,{datasource:t,query:i,onChange:o,data:s,queryModeller:wl,buildVisualQueryFromString:Tu})),l&&n().createElement(Mb,{lang:m,query:i,stepNumber:2,queryModeller:wl,onMouseEnter:e=>u(e),onMouseLeave:()=>u(void 0)}),i.binaryQueries&&i.binaryQueries.length>0&&n().createElement(ry,{query:i,datasource:t,onChange:o,onRunQuery:a,showExplain:l}))}));function cy(){return cy=ay((function*(e,t){let r;if(e.languageProvider.metricsMetadata||(yield e.languageProvider.loadMetricsMetadata()),e.languageProvider.metricsMetadata||(e.languageProvider.metricsMetadata={}),t.labels.length>0){const i=wl.renderLabels(t.labels);var n;r=null!==(n=(yield e.languageProvider.getSeries(i,!0)).__name__)&&void 0!==n?n:[]}else{var i;r=null!==(i=yield e.languageProvider.getLabelValues("__name__"))&&void 0!==i?i:[]}return r.map((t=>({value:t,description:Fp(t,e.languageProvider.metricsMetadata)})))})),cy.apply(this,arguments)}function uy({query:e}){return n().createElement(lp,null,n().createElement(zp,null,n().createElement(ef,{label:"Raw query"},n().createElement(Rb,{query:e,lang:{grammar:Ps,name:"promql"}}))))}function dy(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function py(e){const{query:t,onChange:i,onRunQuery:o,datasource:a,data:s,showRawQuery:l,showExplain:c}=e,[u,d]=(0,r.useReducer)(fy.reducer,{expr:t.expr});return(0,r.useEffect)((()=>{d(my(t.expr))}),[t.expr]),u.visQuery?n().createElement(n().Fragment,null,n().createElement(ly,{query:u.visQuery,datasource:a,onChange:t=>{const r=wl.renderQuery(t);var n,o;d(hy({visQuery:t,expr:r})),i((n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){dy(e,t,r[t])}))}return e}({},e.query),o=null!=(o={expr:r})?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(o)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})),n))},onRunQuery:o,data:s,showExplain:c}),l&&n().createElement(uy,{query:t.expr})):null}ly.displayName="PromQueryBuilder";const fy=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var r,n="function"==typeof e.initialState?e.initialState:ip(e.initialState),i=e.reducers||{},o=Object.keys(i),a={},s={},l={};function c(){var t="function"==typeof e.extraReducers?ap(e.extraReducers):[e.extraReducers],r=t[0],i=void 0===r?{}:r,o=t[1],a=void 0===o?[]:o,l=t[2],c=void 0===l?void 0:l,u=np(np({},i),s);return function(e,t,r,n){void 0===r&&(r=[]);var i,o="function"==typeof t?ap(t):[t,r,n],a=o[0],s=o[1],l=o[2];if(function(e){return"function"==typeof e}(e))i=function(){return ip(e())};else{var c=ip(e);i=function(){return c}}function u(e,t){void 0===e&&(e=i());var r=Yd([a[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===r.filter((function(e){return!!e})).length&&(r=[l]),r.reduce((function(e,r){if(r){var n;if(Ju(e))return void 0===(n=r(e,t))?e:n;if(Zu(e))return Xd(e,(function(e){return r(e,t)}));if(void 0===(n=r(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}return e}),e)}return u.getInitialState=i,u}(n,u,a,c)}return o.forEach((function(e){var r,n,o=i[e],c=function(e,t){return e+"/"+t}(t,e);"reducer"in o?(r=o.reducer,n=o.prepare):r=o,a[e]=r,s[c]=r,l[e]=n?op(c,n):op(c)})),{name:t,reducer:function(e,t){return r||(r=c()),r(e,t)},actions:l,caseReducers:a,getInitialState:function(){return r||(r=c()),r.getInitialState()}}}({name:"prom-builder-container",initialState:{expr:""},reducers:{visualQueryChange:(e,t)=>{e.expr=t.payload.expr,e.visQuery=t.payload.visQuery},exprChanged:(e,t)=>{if(!e.visQuery||e.expr!==t.payload){e.expr=t.payload;const r=Tu(t.payload);e.visQuery=r.query}}}}),{visualQueryChange:hy,exprChanged:my}=fy.actions;function gy(){return gy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(this,arguments)}function vy(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}const by=n().forwardRef(((e,i)=>{var{value:o,checked:l,disabled:c,onChange:u,id:d}=e,p=vy(e,["value","checked","disabled","onChange","id"]);l&&(0,t.deprecationWarning)("Switch","checked prop","value");const f=(0,a.useTheme2)(),h=wy(f),m=(0,r.useRef)(d||(0,Is.uniqueId)("switch-"));return n().createElement("div",{className:(0,s.cx)(h.switch)},n().createElement("input",gy({type:"checkbox",disabled:c,checked:o,onChange:e=>{null==u||u(e)},id:m.current},p,{ref:i})),n().createElement("label",{htmlFor:m.current}))}));by.displayName="Switch";const yy=n().forwardRef(((e,t)=>{var{transparent:r,className:i,showLabel:o,label:l,value:c,id:u}=e,d=vy(e,["transparent","className","showLabel","label","value","id"]);const p=(0,a.useTheme2)(),f=wy(p,r);return n().createElement("div",{className:(0,s.cx)(f.inlineContainer,i)},o&&n().createElement("label",{htmlFor:u,className:(0,s.cx)(f.inlineLabel,c&&f.inlineLabelEnabled,"inline-switch-label")},l),n().createElement(by,gy({},d,{id:u,label:l,ref:t,value:c})))}));yy.displayName="Switch";const wy=(0,a.stylesFactory)(((e,t)=>({switch:s.css`
      width: 32px;
      height: 16px;
      position: relative;

      input {
        opacity: 0;
        left: -100vw;
        z-index: -1000;
        position: absolute;

        &:disabled + label {
          background: ${e.colors.action.disabledBackground};
          cursor: not-allowed;
        }

        &:checked + label {
          background: ${e.colors.primary.main};
          border-color: ${e.colors.primary.main};

          &:hover {
            background: ${e.colors.primary.shade};
          }

          &::after {
            transform: translate3d(18px, -50%, 0);
            background: ${e.colors.primary.contrastText};
          }
        }

        &:focus + label,
        &:focus-visible + label {
          ${ai(e)}
        }

        &:focus:not(:focus-visible) + label {
          ${{outline:"none",boxShadow:"none"}}
        }
      }

      label {
        width: 100%;
        height: 100%;
        cursor: pointer;
        border: none;
        border-radius: 50px;
        background: ${e.components.input.background};
        border: 1px solid ${e.components.input.borderColor};
        transition: all 0.3s ease;

        &:hover {
          border-color: ${e.components.input.borderHover};
        }

        &::after {
          position: absolute;
          display: block;
          content: '';
          width: 12px;
          height: 12px;
          border-radius: 6px;
          background: ${e.colors.text.secondary};
          box-shadow: ${e.shadows.z1};
          top: 50%;
          transform: translate3d(2px, -50%, 0);
          transition: transform 0.2s cubic-bezier(0.19, 1, 0.22, 1);
        }
      }
    `,inlineContainer:s.css`
      padding: ${e.spacing(0,1)};
      height: ${e.spacing(e.components.height.md)};
      display: inline-flex;
      align-items: center;
      background: ${t?"transparent":e.components.input.background};
      border: 1px solid ${t?"transparent":e.components.input.borderColor};
      border-radius: ${e.shape.borderRadius()};

      &:hover {
        border: 1px solid ${t?"transparent":e.components.input.borderHover};

        .inline-switch-label {
          color: ${e.colors.text.primary};
        }
      }
    `,inlineLabel:s.css`
      cursor: pointer;
      padding-right: ${e.spacing(1)};
      color: ${e.colors.text.secondary};
      white-space: nowrap;
    `,inlineLabelEnabled:s.css`
      color: ${e.colors.text.primary};
    `})));function xy(){return xy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(this,arguments)}const Oy=e=>{const t=_y();return n().createElement("div",{className:t.switch},n().createElement(by,xy({},e)))},_y=()=>({switch:(0,s.css)({display:"flex",alignItems:"center",minHeight:30})});function Ey(e){var{datasource:t,onChange:i,query:o}=e,l=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["datasource","onChange","query"]);const[c,u]=(0,r.useState)(null),d=(0,a.useStyles2)(Sy),p=ib(c);(0,r.useEffect)((()=>{t.exemplarsAvailable?o.instant&&!o.range?(u("Exemplars are not available for instant queries"),i(!1)):(u(null),p&&!c&&i(!0)):(u("Exemplars for this query are not available"),i(!1))}),[t.exemplarsAvailable,o.instant,o.range,i,p,c]);const f=(0,s.cx)({[d.activeIcon]:!!o.exemplar},d.eyeIcon);return n().createElement(a.InlineLabel,{width:"auto","data-testid":l["data-testid"]},n().createElement(a.Tooltip,{content:null!=c?c:""},n().createElement("div",{className:d.iconWrapper},"Exemplars",n().createElement(a.IconButton,{name:"eye",tooltip:o.exemplar?"Disable query with exemplars":"Enable query with exemplars",disabled:!!c,className:f,onClick:()=>{i(!o.exemplar)}}))))}function Sy(e){return{eyeIcon:s.css`
      margin-left: ${e.spacing(2)};
    `,activeIcon:s.css`
      color: ${e.colors.primary.main};
    `,iconWrapper:s.css`
      display: flex;
      align-items: center;
    `}}function ky(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Py(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ky(e,t,r[t])}))}return e}function Ty(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const Cy=(0,r.memo)((({query:e,datasource:t,onChange:i,onRunQuery:o})=>{const l=Iy(!0),c=ib(e),u=(0,r.useCallback)((t=>{(0,Is.isEqual)(e,c)&&t===e.exemplar||i(Ty(Py({},e),{exemplar:t}))}),[c,e,i]),d=Dy(e,i);var p;return n().createElement("div",{"aria-label":"Prometheus extra field",className:"gf-form-inline","data-testid":Ay.extraFieldEditor},n().createElement("div",{"data-testid":Ay.queryTypeField,className:(0,s.cx)("gf-form explore-input-margin",s.css`
              flex-wrap: nowrap;
            `),"aria-label":"Query type field"},n().createElement(a.InlineFormLabel,{width:"auto"},"Query type"),n().createElement(a.RadioButtonGroup,{options:l,value:e.range&&e.instant?"both":e.instant?"instant":"range",onChange:d})),n().createElement("div",{"data-testid":Ay.stepField,className:(0,s.cx)("gf-form",s.css`
              flex-wrap: nowrap;
            `),"aria-label":"Step field"},n().createElement(a.InlineFormLabel,{width:6,tooltip:"Time units and built-in variables can be used here, for example: $__interval, $__rate_interval, 5s, 1m, 3h, 1d, 1y (Default if no unit is specified: s)"},"Min step"),n().createElement("input",{type:"text",className:"gf-form-input width-4",placeholder:"auto",onChange:function(t){var r;t.currentTarget.value!==e.interval&&(r=t.currentTarget.value,i(Ty(Py({},e),{interval:r})))},onKeyDown:function(e){"Enter"===e.key&&e.shiftKey&&o()},value:null!==(p=e.interval)&&void 0!==p?p:""})),n().createElement(Ey,{onChange:u,datasource:t,query:e}))}));function Iy(e){const t=[{value:"range",label:"Range",description:"Run query over a range of time"},{value:"instant",label:"Instant",description:'Run query against a single point in time. For this query, the "To" time is used'}];return e&&t.push({value:"both",label:"Both",description:"Run an Instant query and a Range query"}),t}function Dy(e,t){return r=>{t(Ty(Py({},e),"instant"===r?{instant:!0,range:!1,exemplar:!1}:"range"===r?{instant:!1,range:!0}:{instant:!0,range:!0}))}}Cy.displayName="PromExploreExtraField";const Ay={extraFieldEditor:"prom-editor-extra-field",stepField:"prom-editor-extra-field-step",queryTypeField:"prom-editor-extra-field-query-type"};function Ry(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ny(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ry(e,t,r[t])}))}return e}const My=({panelData:e,query:i,datasource:o})=>{const[a,s]=(0,r.useState)("");return(0,r.useEffect)((()=>{if(e){const r=()=>{if(!e.request)return"";const{request:{range:r,interval:n,scopedVars:a}}=e,s=o.getPrometheusTime(r.from,!1),l=o.getPrometheusTime(r.to,!0),c=Math.ceil(l-s),u=r.to.utc().format("YYYY-MM-DD HH:mm"),d={interval:n,scopedVars:Ny({},a,o.getRateIntervalScopedVariable(t.rangeUtil.intervalToSeconds(n),t.rangeUtil.intervalToSeconds(o.interval)))},p={};if(o.customQueryParameters)for(const[e,t]of o.customQueryParameters)p[e]=t;const f=o.createQuery(i,d,s,l),h=(g=Ny({},p),v=null!=(v={"g0.expr":f.expr,"g0.range_input":c+"s","g0.end_input":u,"g0.step_input":f.step,"g0.tab":0})?v:{},Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(v)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(v)).forEach((function(e){Object.defineProperty(g,e,Object.getOwnPropertyDescriptor(v,e))})),g),m=(0,Is.map)(h,((e,t)=>t+"="+encodeURIComponent(e))).join("&");var g,v;return`${o.directUrl}/graph?${m}`};s(r())}}),[o,e,i]),n().createElement("a",{href:t.textUtil.sanitizeUrl(a),target:"_blank",rel:"noopener noreferrer"},"Prometheus")},jy=(0,r.memo)(My);class Ly extends r.PureComponent{render(){const{children:e}=this.props,{value:t}=this.state;return n().createElement(n().Fragment,null,e(t,this.onSaveToStore,this.onDeleteFromStore))}constructor(e){super(e),this.onSaveToStore=e=>{const{storageKey:t}=this.props;try{qu.setObject(t,e)}catch(e){console.error(e)}this.setState({value:e})},this.onDeleteFromStore=()=>{const{storageKey:e,defaultValue:t}=this.props;try{qu.delete(e)}catch(e){console.log(e)}this.setState({value:t})};const{storageKey:t,defaultValue:r}=e;this.state={value:qu.getObject(t,r)}}}function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(this,arguments)}function Fy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qy(e,t){return qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qy(e,t)}var Vy=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function zy(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!((n=e[r])===(i=t[r])||Vy(n)&&Vy(i)))return!1;var n,i;return!0}const By=function(e,t){var r;void 0===t&&(t=zy);var n,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&r===this&&t(a,i)||(n=e.apply(this,a),o=!0,r=this,i=a),n}};var Hy="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function Qy(e){cancelAnimationFrame(e.id)}var Wy=null;function Uy(e){if(void 0===e&&(e=!1),null===Wy||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?Wy="positive-descending":(t.scrollLeft=1,Wy=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),Wy}return Wy}var Xy=function(e,t){return e};function Gy(e){var t,n=e.getItemOffset,i=e.getEstimatedTotalSize,o=e.getItemSize,a=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,l=e.getStopIndexForStartIndex,c=e.initInstanceProps,u=e.shouldResetStyleCacheOnItemSizeChange,d=e.validateProps;return t=function(e){function t(t){var r;return(r=e.call(this,t)||this)._instanceProps=c(r.props,Fy(r)),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:Fy(r),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof r.props.initialScrollOffset?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=By((function(e,t,n,i){return r.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:n,visibleStopIndex:i})})),r._callOnScroll=void 0,r._callOnScroll=By((function(e,t,n){return r.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:n})})),r._getItemStyle=void 0,r._getItemStyle=function(e){var t,i=r.props,a=i.direction,s=i.itemSize,l=i.layout,c=r._getItemStyleCache(u&&s,u&&l,u&&a);if(c.hasOwnProperty(e))t=c[e];else{var d=n(r.props,e,r._instanceProps),p=o(r.props,e,r._instanceProps),f="horizontal"===a||"horizontal"===l,h="rtl"===a,m=f?d:0;c[e]=t={position:"absolute",left:h?void 0:m,right:h?m:void 0,top:f?0:d,height:f?"100%":p,width:f?p:"100%"}}return t},r._getItemStyleCache=void 0,r._getItemStyleCache=By((function(e,t,r){return{}})),r._onScrollHorizontal=function(e){var t=e.currentTarget,n=t.clientWidth,i=t.scrollLeft,o=t.scrollWidth;r.setState((function(e){if(e.scrollOffset===i)return null;var t=r.props.direction,a=i;if("rtl"===t)switch(Uy()){case"negative":a=-i;break;case"positive-descending":a=o-n-i}return a=Math.max(0,Math.min(a,o-n)),{isScrolling:!0,scrollDirection:e.scrollOffset<i?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._onScrollVertical=function(e){var t=e.currentTarget,n=t.clientHeight,i=t.scrollHeight,o=t.scrollTop;r.setState((function(e){if(e.scrollOffset===o)return null;var t=Math.max(0,Math.min(o,i-n));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._outerRefSetter=function(e){var t=r.props.outerRef;r._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},r._resetIsScrollingDebounced=function(){null!==r._resetIsScrollingTimeoutId&&Qy(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=function(e,t){var r=Hy(),n={id:requestAnimationFrame((function i(){Hy()-r>=t?e.call(null):n.id=requestAnimationFrame(i)}))};return n}(r._resetIsScrolling,150)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},(function(){r._getItemStyleCache(-1,null)}))},r}var p,f;f=e,(p=t).prototype=Object.create(f.prototype),p.prototype.constructor=p,qy(p,f),t.getDerivedStateFromProps=function(e,t){return Ky(e,t),d(e),null};var h=t.prototype;return h.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},h.scrollToItem=function(e,t){void 0===t&&(t="auto");var r=this.props.itemCount,n=this.state.scrollOffset;e=Math.max(0,Math.min(e,r-1)),this.scrollTo(a(this.props,e,t,n,this._instanceProps))},h.componentDidMount=function(){var e=this.props,t=e.direction,r=e.initialScrollOffset,n=e.layout;if("number"==typeof r&&null!=this._outerRef){var i=this._outerRef;"horizontal"===t||"horizontal"===n?i.scrollLeft=r:i.scrollTop=r}this._callPropsCallbacks()},h.componentDidUpdate=function(){var e=this.props,t=e.direction,r=e.layout,n=this.state,i=n.scrollOffset;if(n.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("horizontal"===t||"horizontal"===r)if("rtl"===t)switch(Uy()){case"negative":o.scrollLeft=-i;break;case"positive-ascending":o.scrollLeft=i;break;default:var a=o.clientWidth,s=o.scrollWidth;o.scrollLeft=s-a-i}else o.scrollLeft=i;else o.scrollTop=i}this._callPropsCallbacks()},h.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&Qy(this._resetIsScrollingTimeoutId)},h.render=function(){var e=this.props,t=e.children,n=e.className,o=e.direction,a=e.height,s=e.innerRef,l=e.innerElementType,c=e.innerTagName,u=e.itemCount,d=e.itemData,p=e.itemKey,f=void 0===p?Xy:p,h=e.layout,m=e.outerElementType,g=e.outerTagName,v=e.style,b=e.useIsScrolling,y=e.width,w=this.state.isScrolling,x="horizontal"===o||"horizontal"===h,O=x?this._onScrollHorizontal:this._onScrollVertical,_=this._getRangeToRender(),E=_[0],S=_[1],k=[];if(u>0)for(var P=E;P<=S;P++)k.push((0,r.createElement)(t,{data:d,key:f(P,d),index:P,isScrolling:b?w:void 0,style:this._getItemStyle(P)}));var T=i(this.props,this._instanceProps);return(0,r.createElement)(m||g||"div",{className:n,onScroll:O,ref:this._outerRefSetter,style:$y({position:"relative",height:a,width:y,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:o},v)},(0,r.createElement)(l||c||"div",{children:k,ref:s,style:{height:x?"100%":T,pointerEvents:w?"none":void 0,width:x?T:"100%"}}))},h._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],r=e[1],n=e[2],i=e[3];this._callOnItemsRendered(t,r,n,i)}if("function"==typeof this.props.onScroll){var o=this.state,a=o.scrollDirection,s=o.scrollOffset,l=o.scrollUpdateWasRequested;this._callOnScroll(a,s,l)}},h._getRangeToRender=function(){var e=this.props,t=e.itemCount,r=e.overscanCount,n=this.state,i=n.isScrolling,o=n.scrollDirection,a=n.scrollOffset;if(0===t)return[0,0,0,0];var c=s(this.props,a,this._instanceProps),u=l(this.props,c,a,this._instanceProps),d=i&&"backward"!==o?1:Math.max(1,r),p=i&&"forward"!==o?1:Math.max(1,r);return[Math.max(0,c-d),Math.max(0,Math.min(t-1,u+p)),c,u]},t}(r.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Ky=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},Yy=Gy({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,r,n){var i=e.direction,o=e.height,a=e.itemCount,s=e.itemSize,l=e.layout,c=e.width,u="horizontal"===i||"horizontal"===l?c:o,d=Math.max(0,a*s-u),p=Math.min(d,t*s),f=Math.max(0,t*s-u+s);switch("smart"===r&&(r=n>=f-u&&n<=p+u?"auto":"center"),r){case"start":return p;case"end":return f;case"center":var h=Math.round(f+(p-f)/2);return h<Math.ceil(u/2)?0:h>d+Math.floor(u/2)?d:h;default:return n>=f&&n<=p?n:n<f?f:p}},getStartIndexForOffset:function(e,t){var r=e.itemCount,n=e.itemSize;return Math.max(0,Math.min(r-1,Math.floor(t/n)))},getStopIndexForStartIndex:function(e,t,r){var n=e.direction,i=e.height,o=e.itemCount,a=e.itemSize,s=e.layout,l=e.width,c=t*a,u="horizontal"===n||"horizontal"===s?l:i,d=Math.ceil((u+r-c)/a);return Math.max(0,Math.min(o-1,t+d-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});function Jy(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function Zy(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Jy(o,n,i,a,s,"next",e)}function s(e){Jy(o,n,i,a,s,"throw",e)}a(void 0)}))}}function ew(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ew(e,t,r[t])}))}return e}function rw(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const nw="{}",iw="__name__";function ow(e){let t="";const r=[];for(const n of e)if((n.name===iw||n.selected)&&n.values&&n.values.length>0){const e=n.values.filter((e=>e.selected)).map((e=>e.name));e.length>1?r.push(`${n.name}=~"${e.map(kp).join("|")}"`):1===e.length&&(n.name===iw?t=e[0]:r.push(`${n.name}="${Sp(e[0])}"`))}return[t,"{",r.join(","),"}"].join("")}const aw=(0,a.stylesFactory)((e=>({wrapper:s.css`
    background-color: ${e.colors.bg2};
    padding: ${e.spacing.sm};
    width: 100%;
  `,list:s.css`
    margin-top: ${e.spacing.sm};
    display: flex;
    flex-wrap: wrap;
    max-height: 200px;
    overflow: auto;
    align-content: flex-start;
  `,section:s.css`
    & + & {
      margin: ${e.spacing.md} 0;
    }
    position: relative;
  `,selector:s.css`
    font-family: ${e.typography.fontFamily.monospace};
    margin-bottom: ${e.spacing.sm};
  `,status:s.css`
    padding: ${e.spacing.xs};
    color: ${e.colors.textSemiWeak};
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    /* using absolute positioning because flex interferes with ellipsis */
    position: absolute;
    width: 50%;
    right: 0;
    text-align: right;
    transition: opacity 100ms linear;
    opacity: 0;
  `,statusShowing:s.css`
    opacity: 1;
  `,error:s.css`
    color: ${e.palette.brandDanger};
  `,valueList:s.css`
    margin-right: ${e.spacing.sm};
    resize: horizontal;
  `,valueListWrapper:s.css`
    border-left: 1px solid ${e.colors.border2};
    margin: ${e.spacing.sm} 0;
    padding: ${e.spacing.sm} 0 ${e.spacing.sm} ${e.spacing.sm};
  `,valueListArea:s.css`
    display: flex;
    flex-wrap: wrap;
    margin-top: ${e.spacing.sm};
  `,valueTitle:s.css`
    margin-left: -${e.spacing.xs};
    margin-bottom: ${e.spacing.sm};
  `,validationStatus:s.css`
    padding: ${e.spacing.xs};
    margin-bottom: ${e.spacing.sm};
    color: ${e.colors.textStrong};
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  `})));class sw extends n().Component{updateLabelState(e,t,r="",n){this.setState((n=>{const i=n.labels.map((r=>r.name===e?tw({},r,t):r)),o=r?"":n.error;return{labels:i,status:r,error:o,validationStatus:""}}),n)}componentDidMount(){const{languageProvider:e,lastUsedLabels:t}=this.props;if(e){const r=t;e.start().then((()=>{let t=e.getLabelKeys();this.fetchValues(iw,nw);const n=t.map(((e,t,n)=>({name:e,selected:r.includes(e),loading:!1})));this.setState({labels:n},(()=>{this.state.labels.forEach((e=>{e.selected&&this.fetchValues(e.name,nw)}))}))}))}}doFacettingForLabel(e){const t=this.state.labels.find((t=>t.name===e));if(!t)return;const r=this.state.labels.filter((e=>e.selected)).map((e=>e.name));this.props.storeLastUsedLabels(r),t.selected?t.values||this.fetchValues(e,ow(this.state.labels)):this.doFacetting()}fetchValues(e,t){var r=this;return Zy((function*(){const{languageProvider:n}=r.props;r.updateLabelState(e,{loading:!0},`Fetching values for ${e}`);try{let i=yield n.getLabelValues(e);if(t!==ow(r.state.labels))return void r.updateLabelState(e,{loading:!1});const o=[],{metricsMetadata:a}=n;for(const t of i){const r={name:t};if(e===iw&&a){const e=a[t];e&&(r.details=`(${e.type}) ${e.help}`)}o.push(r)}r.updateLabelState(e,{values:o,loading:!1})}catch(e){console.error(e)}}))()}fetchSeries(e,t){var r=this;return Zy((function*(){const{languageProvider:n}=r.props;t&&r.updateLabelState(t,{loading:!0},`Facetting labels for ${e}`);try{const i=yield n.fetchSeriesLabels(e,!0);if(e!==ow(r.state.labels))return void(t&&r.updateLabelState(t,{loading:!1}));if(0===Object.keys(i).length)return void r.setState({error:`Empty results, no matching label for ${e}`});const o=function(e,t,r){return e.map((e=>{const n=t[e.name];if(n){let t;if(e.name===r&&e.values)t=e.values;else{var i;const r=new Set((null===(i=e.values)||void 0===i?void 0:i.filter((e=>e.selected)).map((e=>e.name)))||[]);t=n.map((e=>({name:e,selected:r.has(e)})))}return rw(tw({},e),{loading:!1,values:t,hidden:!n,facets:t.length})}return rw(tw({},e),{loading:!1,hidden:!n,values:void 0,facets:0})}))}(r.state.labels,i,t);r.setState({labels:o,error:""}),t&&r.updateLabelState(t,{loading:!1})}catch(e){console.error(e)}}))()}validateSelector(e){var t=this;return Zy((function*(){const{languageProvider:r}=t.props;t.setState({validationStatus:`Validating selector ${e}`,error:""});const n=yield r.fetchSeries(e);t.setState({validationStatus:`Selector is valid (${n.length} series found)`})}))()}render(){var e;const{theme:t}=this.props,{labels:r,labelSearchTerm:i,metricSearchTerm:o,status:l,error:c,validationStatus:u,valueSearchTerm:d}=this.state,p=aw(t);if(0===r.length)return n().createElement("div",{className:p.wrapper},n().createElement(a.LoadingPlaceholder,{text:"Loading labels..."}));let f=r.find((e=>e.name===iw));var h;f&&o&&(f=rw(tw({},f),{values:null===(h=f.values)||void 0===h?void 0:h.filter((e=>e.selected||e.name.includes(o)))}));let m=r.filter((e=>!e.hidden&&e.name!==iw));i&&(m=m.filter((e=>e.selected||e.name.includes(i))));let g=m.filter((e=>e.selected&&e.values));d&&(g=g.map((e=>{var t;return rw(tw({},e),{values:null===(t=e.values)||void 0===t?void 0:t.filter((e=>e.selected||e.name.includes(d)))})})));const v=ow(this.state.labels),b=v===nw,y=(null==f||null===(e=f.values)||void 0===e?void 0:e.length)||0;return n().createElement("div",{className:p.wrapper},n().createElement(a.HorizontalGroup,{align:"flex-start",spacing:"lg"},n().createElement("div",null,n().createElement("div",{className:p.section},n().createElement(a.Label,{description:"Once a metric is selected only possible labels are shown."},"1. Select a metric"),n().createElement("div",null,n().createElement(a.Input,{onChange:this.onChangeMetricSearch,"aria-label":"Filter expression for metric",value:o})),n().createElement("div",{role:"list",className:p.valueListWrapper},n().createElement(Yy,{height:Math.min(450,25*y),itemCount:y,itemSize:25,itemKey:e=>f.values[e].name,width:300,className:p.valueList},(({index:e,style:t})=>{var r;const i=null==f||null===(r=f.values)||void 0===r?void 0:r[e];return i?n().createElement("div",{style:t},n().createElement(a.BrowserLabel,{name:f.name,value:null==i?void 0:i.name,title:i.details,active:null==i?void 0:i.selected,onClick:this.onClickMetric,searchTerm:o})):null}))))),n().createElement("div",null,n().createElement("div",{className:p.section},n().createElement(a.Label,{description:"Once label values are selected, only possible label combinations are shown."},"2. Select labels to search in"),n().createElement("div",null,n().createElement(a.Input,{onChange:this.onChangeLabelSearch,"aria-label":"Filter expression for label",value:i})),n().createElement("div",{className:p.list,style:{height:120}},m.map((e=>n().createElement(a.BrowserLabel,{key:e.name,name:e.name,loading:e.loading,active:e.selected,hidden:e.hidden,facets:e.facets,onClick:this.onClickLabel,searchTerm:i}))))),n().createElement("div",{className:p.section},n().createElement(a.Label,{description:"Use the search field to find values across selected labels."},"3. Select (multiple) values for your labels"),n().createElement("div",null,n().createElement(a.Input,{onChange:this.onChangeValueSearch,"aria-label":"Filter expression for label values",value:d})),n().createElement("div",{className:p.valueListArea,ref:this.valueListsRef},g.map((e=>{var t,r,i;return n().createElement("div",{role:"list",key:e.name,"aria-label":`Values for ${e.name}`,className:p.valueListWrapper},n().createElement("div",{className:p.valueTitle},n().createElement(a.BrowserLabel,{name:e.name,loading:e.loading,active:e.selected,hidden:e.hidden,facets:e.facets||(null===(t=e.values)||void 0===t?void 0:t.length),onClick:this.onClickLabel})),n().createElement(Yy,{height:Math.min(200,25*((null===(r=e.values)||void 0===r?void 0:r.length)||0)),itemCount:(null===(i=e.values)||void 0===i?void 0:i.length)||0,itemSize:28,itemKey:t=>e.values[t].name,width:200,className:p.valueList},(({index:t,style:r})=>{var i;const o=null===(i=e.values)||void 0===i?void 0:i[t];return o?n().createElement("div",{style:r},n().createElement(a.BrowserLabel,{name:e.name,value:null==o?void 0:o.name,active:null==o?void 0:o.selected,onClick:this.onClickValue,searchTerm:d})):null})))})))))),n().createElement("div",{className:p.section},n().createElement(a.Label,null,"4. Resulting selector"),n().createElement("div",{"aria-label":"selector",className:p.selector},v),u&&n().createElement("div",{className:p.validationStatus},u),n().createElement(a.HorizontalGroup,null,n().createElement(a.Button,{"aria-label":"Use selector for query button",disabled:b,onClick:this.onClickRunQuery},"Use query"),n().createElement(a.Button,{"aria-label":"Use selector as metrics button",variant:"secondary",disabled:b,onClick:this.onClickRunRateQuery},"Use as rate query"),n().createElement(a.Button,{"aria-label":"Validate submit button",variant:"secondary",disabled:b,onClick:this.onClickValidate},"Validate selector"),n().createElement(a.Button,{"aria-label":"Selector clear button",variant:"secondary",onClick:this.onClickClear},"Clear"),n().createElement("div",{className:(0,s.cx)(p.status,(l||c)&&p.statusShowing)},n().createElement("span",{className:c?p.error:""},c||l)))))}constructor(...e){super(...e),this.valueListsRef=n().createRef(),this.state={labels:[],labelSearchTerm:"",metricSearchTerm:"",status:"Ready",error:"",validationStatus:"",valueSearchTerm:""},this.onChangeLabelSearch=e=>{this.setState({labelSearchTerm:e.target.value})},this.onChangeMetricSearch=e=>{this.setState({metricSearchTerm:e.target.value})},this.onChangeValueSearch=e=>{this.setState({valueSearchTerm:e.target.value})},this.onClickRunQuery=()=>{const e=ow(this.state.labels);this.props.onChange(e)},this.onClickRunRateQuery=()=>{const e=`rate(${ow(this.state.labels)}[$__interval])`;this.props.onChange(e)},this.onClickClear=()=>{this.setState((e=>({labels:e.labels.map((e=>rw(tw({},e),{values:void 0,selected:!1,loading:!1,hidden:!1,facets:void 0}))),labelSearchTerm:"",metricSearchTerm:"",status:"",error:"",validationStatus:"",valueSearchTerm:""}))),this.props.deleteLastUsedLabels(),this.fetchValues(iw,nw)},this.onClickLabel=(e,t,r)=>{const n=this.state.labels.find((t=>t.name===e));if(!n)return;const i=!n.selected;let o={selected:i};if(n.values&&!i){const e=n.values.map((e=>rw(tw({},e),{selected:!1})));o=rw(tw({},o),{facets:0,values:e})}this.setState({labelSearchTerm:""}),this.updateLabelState(e,o,"",(()=>this.doFacettingForLabel(e)))},this.onClickValue=(e,t,r)=>{const n=this.state.labels.find((t=>t.name===e));if(!n||!n.values)return;this.setState({labelSearchTerm:""});const i=n.values.map((e=>rw(tw({},e),{selected:e.name===t?!e.selected:e.selected})));this.updateLabelState(e,{values:i},"",(()=>this.doFacetting(e)))},this.onClickMetric=(e,t,r)=>{const n=this.state.labels.find((t=>t.name===e));if(!n||!n.values)return;this.setState({metricSearchTerm:""});const i=n.values.map((e=>rw(tw({},e),{selected:e.name===t||e.selected?!e.selected:e.selected}))),o=i.some((e=>e.selected));this.updateLabelState(e,{selected:o,values:i},"",(()=>this.doFacetting(e)))},this.onClickValidate=()=>{const e=ow(this.state.labels);this.validateSelector(e)},this.doFacetting=e=>{const t=ow(this.state.labels);if(t===nw){const e=this.state.labels.map((e=>rw(tw({},e),{facets:0,values:void 0,hidden:!1})));this.setState({labels:e},(()=>{this.state.labels.forEach((e=>(e.selected||e.name===iw)&&this.fetchValues(e.name,t)))}))}else this.fetchSeries(t,e)}}}const lw=(0,a.withTheme)(sw);var cw={id:"promql",extensions:[".promql"],aliases:["Prometheus","prometheus","prom","Prom","promql","Promql","promQL","PromQL"],mimetypes:[],loader:function(){return Promise.all([m.e(719),m.e(8)]).then(m.bind(m,719))}};const uw=function(e){var t=(0,r.useRef)(e);return t.current=e,t};function dw(){const e=new Map;return e.set("expandSuggestionDocs",(!0).toString()),{onDidChangeValue:e=>{},onDidChangeTarget:e=>{},onWillSaveState:e=>{},get:(t,r,n)=>{var i;return null!==(i=e.get(t))&&void 0!==i?i:n},getBoolean:(t,r,n)=>{const i=e.get(t);return void 0!==i?"true"===i:n},getNumber:(t,r,n)=>{const i=e.get(t);return void 0!==i?parseInt(i,10):n},store:(t,r,n,i)=>{null==r?e.delete(t):e.set(t,r.toString())},remove:(t,r)=>{e.delete(t)},keys:(t,r)=>Array.from(e.keys()),logStorage:()=>{console.log("logStorage: not implemented")},migrate:()=>Promise.resolve(void 0),isNew:e=>!0,flush:e=>Promise.resolve(void 0)}}let pw=null;class fw extends Error{constructor(e){super("should never happen")}}function hw(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function mw(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){hw(o,n,i,a,s,"next",e)}function s(e){hw(o,n,i,a,s,"throw",e)}a(void 0)}))}}function gw(e){return vw.apply(this,arguments)}function vw(){return(vw=mw((function*(e){return(yield e.getAllMetricNames()).map((e=>({type:"METRIC_NAME",label:e.name,insertText:e.name,detail:`${e.name} : ${e.type}`,documentation:e.help})))}))).apply(this,arguments)}var bw;const yw=Ss.map((e=>({type:"FUNCTION",label:e.label,insertText:null!==(bw=e.insertText)&&void 0!==bw?bw:"",detail:e.detail,documentation:e.documentation})));function ww(e){return xw.apply(this,arguments)}function xw(){return(xw=mw((function*(e){const t=yield gw(e);return[...yw,...t]}))).apply(this,arguments)}const Ow=["$__interval","$__range","$__rate_interval","1m","5m","10m","30m","1h","1d"].map((e=>({type:"DURATION",label:e,insertText:e})));function _w(e){return Ew.apply(this,arguments)}function Ew(){return(Ew=mw((function*(e){return(yield e.getHistory()).slice(0,10).map((e=>({type:"HISTORY",label:e,insertText:e})))}))).apply(this,arguments)}function Sw(e,t){const r=[...t];return void 0!==e&&r.push({name:"__name__",value:e,op:"="}),`{${r.map((e=>`${e.name}${e.op}"${Sp(e.value)}"`)).join(",")}}`}function kw(e,t,r){return Pw.apply(this,arguments)}function Pw(){return Pw=mw((function*(e,t,r){if(void 0===e&&0===t.length)return r.getAllLabelNames();{const n=Sw(e,t),i=yield r.getSeries(n),o=Object.keys(i),a=new Set(t.map((e=>e.name)));return o.filter((e=>!a.has(e)))}})),Pw.apply(this,arguments)}function Tw(e,t,r,n,i){return Cw.apply(this,arguments)}function Cw(){return(Cw=mw((function*(e,t,r,n,i){return(yield kw(e,n,i)).map((e=>({type:"LABEL_NAME",label:e,insertText:`${e}${t}`,triggerOnInsert:r})))}))).apply(this,arguments)}function Iw(e,t,r){return Dw.apply(this,arguments)}function Dw(){return(Dw=mw((function*(e,t,r){return Tw(e,"=",!0,t,r)}))).apply(this,arguments)}function Aw(e,t,r){return Rw.apply(this,arguments)}function Rw(){return(Rw=mw((function*(e,t,r){return Tw(e,"",!1,t,r)}))).apply(this,arguments)}function Nw(e,t,r,n){return Mw.apply(this,arguments)}function Mw(){return(Mw=mw((function*(e,t,r,n){if(void 0===e&&0===r.length)return n.getLabelValues(t);{const o=Sw(e,r);var i;return null!==(i=(yield n.getSeries(o))[t])&&void 0!==i?i:[]}}))).apply(this,arguments)}function jw(e,t,r,n,i){return Lw.apply(this,arguments)}function Lw(){return(Lw=mw((function*(e,t,r,n,i){return(yield Nw(e,t,n,i)).map((e=>({type:"LABEL_VALUE",label:e,insertText:r?e:`"${e}"`})))}))).apply(this,arguments)}function $w(){return($w=mw((function*(e,t){switch(e.type){case"IN_DURATION":return Ow;case"IN_FUNCTION":case"AT_ROOT":return ww(t);case"EMPTY":{const e=yield gw(t);return[...yield _w(t),...yw,...e]}case"IN_LABEL_SELECTOR_NO_LABEL_NAME":return Iw(e.metricName,e.otherLabels,t);case"IN_GROUPING":return Aw(e.metricName,e.otherLabels,t);case"IN_LABEL_SELECTOR_WITH_LABEL_NAME":return jw(e.metricName,e.labelName,e.betweenQuotes,e.otherLabels,t);default:throw new fw(e)}}))).apply(this,arguments)}function Fw(e,t){switch(t){case"parent":return e.parent;case"firstChild":return e.firstChild;case"lastChild":return e.lastChild;case"nextSibling":return e.nextSibling;default:throw new fw(t)}}function qw(e,t){let r=e;for(const[e,n]of t){if(r=Fw(r,e),null===r)return null;if(r.type.id!==n)return null}return r}function Vw(e,t){return t.slice(e.from,e.to)}function zw(e,t){return e.every(((e,r)=>e===t[r]))}const Bw=[{path:[135,vu],fun:function(e,t,r){if(function(e){return null!==Uw(e,0)}(e))return null;const n=qw(e,[["firstChild",yu]]);if(null!==n&&!t.slice(n.to,r).includes(","))return null;const i=qw(e,[["parent",vu],["firstChild",bu],["firstChild",57]]),o=Ww(e,t);return null===i?{type:"IN_LABEL_SELECTOR_NO_LABEL_NAME",otherLabels:o}:{type:"IN_LABEL_SELECTOR_NO_LABEL_NAME",metricName:Vw(i,t),otherLabels:o}}},{path:[28],fun:function(e,t,r){return{type:"AT_ROOT"}}},{path:[37],fun:function(e,t,r){return{type:"IN_FUNCTION"}}},{path:[gu,wu],fun:Xw},{path:[0,wu],fun:Xw},{path:[0,124],fun:function(e,t,r){return{type:"IN_DURATION"}}},{path:[33],fun:function(e,t,r){const n=qw(e,[["parent",32],["parent",30]]);if(null===n)return null;const i=n.getChild(37);if(null===i)return null;const o=Uw(i,bu);if(null===o)return null;const a=qw(o,[["firstChild",57]]);return null===a?null:{type:"IN_GROUPING",metricName:Vw(a,t),otherLabels:[]}}}],Hw=new Map([[139,"="],[140,"=~"],[53,"!="],[141,"!~"]]);function Qw(e,t){if(e.type.id!==wu)return null;const r=qw(e,[["firstChild",36]]);if(null===r)return null;const n=qw(r,[["nextSibling",138]]);if(null===n)return null;const i=function(e){const t=e.firstChild;return null===t?null:null!==(r=Hw.get(t.type.id))&&void 0!==r?r:null;var r}(n);if(null===i)return null;const o=qw(e,[["lastChild",gu]]);if(null===o)return null;const a=Vw(r,t),s=function(e){const t=e.slice(1,e.length-1);if(e.startsWith('"')&&e.endsWith('"'))return t.replace(/\\"/,'"');if(e.startsWith("'")&&e.endsWith("'"))return t.replace(/\\'/,"'");if(e.startsWith("`")&&e.endsWith("`"))return t;throw new Error("FIXME: invalid string literal")}(Vw(o,t));return{name:a,value:s,op:i}}function Ww(e,t){if(135!==e.type.id)return[];let r=qw(e,[["firstChild",yu]]);const n=[];for(;null!==r;){const e=qw(r,[["lastChild",wu]]);if(null===e)return[];const i=Qw(e,t);null!==i&&n.push(i),r=qw(r,[["firstChild",yu]])}return n.reverse(),n}function Uw(e,t){if(e.type.id===t)return e;const r=function(e){let t=e.firstChild;const r=[];for(;null!==t;)r.push(t),t=t.nextSibling;return r}(e);for(const e of r){const r=Uw(e,t);if(null!==r)return r}return null}function Xw(e,t,r){const n=!e.type.isError,i=qw(e,[["parent",wu]]);if(null===i)return null;const o=qw(i,[["firstChild",36]]);if(null===o)return null;const a=Vw(o,t),s=qw(i,[["parent",yu]]);if(null===s)return null;let l=s,c=null;for(;null===c;){const e=l.parent;if(null===e)return null;const{id:t}=e.type;switch(t){case yu:l=e;continue;case 135:c=e;continue;default:return null}}const u=Ww(c,t).filter((e=>e.name!==a)),d=qw(c,[["parent",vu],["firstChild",bu],["firstChild",57]]);return null===d?{type:"IN_LABEL_SELECTOR_WITH_LABEL_NAME",labelName:a,betweenQuotes:n,otherLabels:u}:{type:"IN_LABEL_SELECTOR_WITH_LABEL_NAME",metricName:Vw(d,t),labelName:a,betweenQuotes:n,otherLabels:u}}function Gw(e,t){switch(e){case"DURATION":return t.languages.CompletionItemKind.Unit;case"FUNCTION":return t.languages.CompletionItemKind.Variable;case"HISTORY":return t.languages.CompletionItemKind.Snippet;case"LABEL_NAME":return t.languages.CompletionItemKind.Enum;case"LABEL_VALUE":return t.languages.CompletionItemKind.EnumMember;case"METRIC_NAME":return t.languages.CompletionItemKind.Constructor;default:throw new fw(e)}}function Kw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Yw={codeLens:!1,contextmenu:!1,fixedOverflowWidgets:!0,folding:!1,fontSize:14,lineDecorationsWidth:8,lineNumbers:"off",minimap:{enabled:!1},overviewRulerBorder:!1,overviewRulerLanes:0,padding:{top:4,bottom:5},renderLineHighlight:"none",scrollbar:{vertical:"hidden",verticalScrollbarSize:8,horizontal:"hidden",horizontalScrollbarSize:0},scrollBeyondLastLine:!1,suggest:{showWords:!1},suggestFontSize:12,wordWrap:"on"},Jw=cw.id;let Zw=!1;const ex=e=>{const t=(0,r.useRef)((null===pw&&(pw={storageService:dw()}),pw)),i=(0,r.useRef)(null),{languageProvider:o,history:l,onBlur:c,onRunQuery:u,initialValue:d,placeholder:p}=e,f=uw(o),h=uw(l),g=uw(u),v=uw(c),b=(0,r.useRef)(null),y=((e,t)=>({container:s.css`
      border-radius: ${e.shape.borderRadius()};
      border: 1px solid ${e.components.input.borderColor};
    `,placeholder:s.css`
      ::after {
        content: '${t}';
        font-family: ${e.typography.fontFamilyMonospace};
        opacity: 0.3;
      }
    `}))((0,a.useTheme2)(),p);return(0,r.useEffect)((()=>()=>{var e;null===(e=b.current)||void 0===e||e.call(b)}),[]),n().createElement("div",{"aria-label":hf.selectors.components.QueryField.container,className:y.container,ref:i},n().createElement(a.ReactMonacoEditor,{overrideServices:t.current,options:Yw,language:"promql",value:d,beforeMount:e=>{!function(e){if(!1===Zw){Zw=!0;const{aliases:t,extensions:r,mimetypes:n,loader:i}=cw;e.languages.register({id:Jw,aliases:t,extensions:r,mimetypes:n}),i().then((t=>{e.languages.setMonarchTokensProvider(Jw,t.language),e.languages.setLanguageConfiguration(Jw,t.languageConfiguration)}))}}(e)},onMount:(e,t)=>{e.onDidBlurEditorWidget((()=>{v.current(e.getValue())}));const r={getSeries:e=>f.current.getSeries(e),getHistory:()=>Promise.resolve(h.current.map((e=>e.query.expr)).filter((e=>void 0!==e))),getAllMetricNames:()=>{const{metrics:e,metricsMetadata:t}=f.current,r=e.map((e=>{const r=null==t?void 0:t[e];var n,i;return{name:e,help:null!==(n=null==r?void 0:r.help)&&void 0!==n?n:"",type:null!==(i=null==r?void 0:r.type)&&void 0!==i?i:""}}));return Promise.resolve(r)},getAllLabelNames:()=>Promise.resolve(f.current.getLabelKeys()),getLabelValues:e=>f.current.getLabelValues(e)},n=function(e,t){return{triggerCharacters:["{",",","[","(","=","~"," ",'"'],provideCompletionItems:(r,n)=>{const i=r.getWordAtPosition(n),o=null!=i?e.Range.lift({startLineNumber:n.lineNumber,endLineNumber:n.lineNumber,startColumn:i.startColumn,endColumn:i.endColumn}):e.Range.fromPositions(n),a={column:n.column,lineNumber:n.lineNumber},s=r.getOffsetAt(a),l=function(e,t){if(""===e)return{type:"EMPTY"};const r=hu.parse(e),n=function(e,t){const r=e.cursorAt(t);for(;;){if(r.from===t&&r.to===t){const{node:e}=r;if(e.type.isError)return e}if(!r.next())break}return null}(r,t),i=null!=n?n.cursor():r.cursorAt(t),o=i.node,a=[i.type.id];for(;i.parent();)a.push(i.type.id);for(let r of Bw)if(zw(r.path,a))return r.fun(o,e,t);return null}(r.getValue(),s),c=null!=l?function(e,t){return $w.apply(this,arguments)}(l,t):Promise.resolve([]);return c.then((t=>{const r=t.length.toString().length;return{suggestions:t.map(((t,n)=>({kind:Gw(t.type,e),label:t.label,insertText:t.insertText,detail:t.detail,documentation:{value:t.documentation},sortText:n.toString().padStart(r,"0"),range:o,command:t.triggerOnInsert?{id:"editor.action.triggerSuggest",title:""}:void 0})))}}))}}}(t,r),o=(s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Kw(e,t,r[t])}))}return e}({},n),l={provideCompletionItems:(t,r,i,o)=>{var a;return(null===(a=e.getModel())||void 0===a?void 0:a.id)!==t.id?{suggestions:[]}:n.provideCompletionItems(t,r,i,o)}},l=null!=l?l:{},Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(l)).forEach((function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(l,e))})),s),{dispose:a}=t.languages.registerCompletionItemProvider(Jw,o);var s,l;b.current=a;const c=()=>{const t=i.current;if(null!==t){const r=e.getContentHeight();t.style.height=`${r+2}px`,t.style.width="100%";const n=t.clientWidth;e.layout({width:n,height:r})}};if(e.onDidContentSizeChange(c),c(),e.addCommand(t.KeyMod.Shift|t.KeyCode.Enter,(()=>{g.current(e.getValue())})),e.addCommand(t.KeyMod.CtrlCmd|t.KeyCode.KeyK,(function(){m.g.dispatchEvent(new KeyboardEvent("keydown",{key:"k",metaKey:!0}))})),p){const r=[{range:new t.Range(1,1,1,1),contents:[{value:"**bold** _italics_ regular `code`"}],options:{className:y.placeholder,isWholeLine:!0}}];let n=[];const i=()=>{const t=e.getModel();if(!t)return;const i=0===t.getValueLength()?r:[];n=t.deltaDecorations(n,i)};i(),e.onDidChangeModelContent(i)}}}))};function tx(){return tx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tx.apply(this,arguments)}const rx=e=>n().createElement(r.Suspense,{fallback:null},n().createElement(ex,tx({},e)));function nx(){return nx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nx.apply(this,arguments)}const ix=e=>{const t=(0,r.useRef)(null),{runQueryOnBlur:i,onRunQuery:o,onChange:a}=e,s=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["runQueryOnBlur","onRunQuery","onChange"]),l=e=>{t.current=e,a(e),o()};return n().createElement(rx,nx({onRunQuery:l,onBlur:e=>{i?e!==t.current&&l(e):a(e)}},s))};function ox(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function ax(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){ox(o,n,i,a,s,"next",e)}function s(e){ox(o,n,i,a,s,"throw",e)}a(void 0)}))}}function sx(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){sx(e,t,r[t])}))}return e}function cx(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}class ux extends n().PureComponent{componentDidMount(){this.props.datasource.languageProvider&&this.refreshMetrics(),this.refreshHint()}componentWillUnmount(){this.languageProviderInitializationPromise&&this.languageProviderInitializationPromise.cancel()}componentDidUpdate(e){const{data:t,datasource:{languageProvider:r},range:n}=this.props;r!==e.datasource.languageProvider&&this.setState({syntaxLoaded:!1});const i=this.rangeChangedToRefresh(n,e.range);(r!==e.datasource.languageProvider||i)&&this.refreshMetrics(),t&&e.data&&e.data.series!==t.series&&this.refreshHint()}rangeChangedToRefresh(e,t){if(e&&t){const r=wp(e.from.valueOf())===wp(t.from.valueOf()),n=wp(e.to.valueOf())===wp(t.to.valueOf());return!(r&&n)}return!1}render(){const{datasource:e,datasource:{languageProvider:r},query:i,ExtraFieldElement:o,history:s=[]}=this.props,{labelBrowserVisible:l,syntaxLoaded:c,hint:u}=this.state,d=r.metrics.length>0,p=function(e,t,r){return e?"(Disabled)":t?r?"Metrics browser":"(No metrics found)":"Loading metrics..."}(e.lookupsDisabled,c,d),f=!(c&&d);return n().createElement(Ly,{storageKey:"grafana.datasources.prometheus.browser.labels",defaultValue:[]},((e,c,d)=>{var h;return n().createElement(n().Fragment,null,n().createElement("div",{className:"gf-form-inline gf-form-inline--xs-view-flex-column flex-grow-1","data-testid":this.props["data-testid"]},n().createElement("button",{className:"gf-form-label query-keyword pointer",onClick:this.onClickChooserButton,disabled:f},p,n().createElement(a.Icon,{name:l?"angle-down":"angle-right"})),n().createElement("div",{className:"gf-form gf-form--grow flex-shrink-1 min-width-15"},n().createElement(ix,{runQueryOnBlur:this.props.app!==t.CoreApp.Explore,languageProvider:r,history:s,onChange:this.onChangeQuery,onRunQuery:this.props.onRunQuery,initialValue:null!==(h=i.expr)&&void 0!==h?h:"",placeholder:"Enter a PromQL query…"}))),l&&n().createElement("div",{className:"gf-form"},n().createElement(lw,{languageProvider:r,onChange:this.onChangeLabelBrowser,lastUsedLabels:e||[],storeLastUsedLabels:c,deleteLastUsedLabels:d})),o,u?n().createElement("div",{className:"query-row-break"},n().createElement("div",{className:"prom-query-field-info text-warning"},u.label," ",u.fix?n().createElement("a",{className:"text-link muted",onClick:this.onClickHintFix},u.fix.label):null)):null)}))}constructor(e,r){super(e,r),this.refreshHint=()=>{const{datasource:e,query:r,data:n}=this.props,i=e.getInitHints(),o=i.length>0?i[0]:null;if(!n||0===n.series.length)return void this.setState({hint:o});const a=(0,t.isDataFrame)(n.series[0])?n.series.map(t.toLegacyResponseData):n.series,s=e.getQueryHints(r,a);let l=s.length>0?s[0]:null;this.setState({hint:null!=l?l:o})};var n=this;this.refreshMetrics=ax((function*(){const{datasource:{languageProvider:e}}=n.props;n.languageProviderInitializationPromise=(e=>{let t=!1;return{promise:new Promise(((r,n)=>{const i={isCanceled:!0};e.then((e=>t?n(i):r(e))),e.catch((e=>n(t?i:e)))})),cancel(){t=!0}}})(e.start());try{const e=yield n.languageProviderInitializationPromise.promise;yield Promise.all(e),n.onUpdateLanguage()}catch(e){if("object"!=typeof(t=e)||null===t||!("isCanceled"in t)||!e.isCanceled)throw e}var t})),this.onChangeLabelBrowser=e=>{this.onChangeQuery(e,!0),this.setState({labelBrowserVisible:!1})},this.onChangeQuery=(e,t)=>{const{query:r,onChange:n,onRunQuery:i}=this.props;n&&(n(cx(lx({},r),{expr:e})),t&&i&&i())},this.onClickChooserButton=()=>{var e,t;this.setState((e=>({labelBrowserVisible:!e.labelBrowserVisible}))),(0,o.reportInteraction)("user_grafana_prometheus_metrics_browser_clicked",{editorMode:this.state.labelBrowserVisible?"metricViewClosed":"metricViewOpen",app:null!==(t=null===(e=this.props)||void 0===e?void 0:e.app)&&void 0!==t?t:""})},this.onClickHintFix=()=>{var e;const{datasource:t,query:r,onChange:n,onRunQuery:i}=this.props,{hint:o}=this.state;(null==o||null===(e=o.fix)||void 0===e?void 0:e.action)&&n(t.modifyQuery(r,o.fix.action)),i()},this.onUpdateLanguage=()=>{const{datasource:{languageProvider:e}}=this.props,{metrics:t}=e;t&&this.setState({syntaxLoaded:!0})};var i=this;this.onTypeahead=function(){var e=ax((function*(e){const{datasource:{languageProvider:t}}=i.props;if(!t)return{suggestions:[]};const{history:r}=i.props,{prefix:n,text:o,value:a,wrapperClasses:s,labelKey:l}=e;return yield t.provideCompletionItems({text:o,value:a,prefix:n,wrapperClasses:s,labelKey:l},{history:r})}));return function(t){return e.apply(this,arguments)}}(),this.plugins=[(0,a.BracesPlugin)(),(0,a.SlatePrism)({onlyIn:e=>"code_block"===e.type,getSyntax:e=>"promql"},cx(lx({},pp.languages),{promql:this.props.datasource.languageProvider.syntax}))],this.state={labelBrowserVisible:!1,syntaxLoaded:!1,hint:null}}}const dx=ux;function px(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{Switch:fx}=a.LegacyForms,hx=[{label:"Time series",value:"time_series"},{label:"Table",value:"table"},{label:"Heatmap",value:"heatmap"}],mx=(0,Is.map)([1,2,3,4,5,10],(e=>({value:e,label:"1/"+e})));class gx extends r.PureComponent{render(){const{datasource:e,query:r,range:i,data:o}=this.props,{formatOption:s,instant:l,interval:c,intervalFactorOption:u,legendFormat:d}=this.state,p=this.props.app!==t.CoreApp.UnifiedAlerting;return n().createElement(dx,{datasource:e,query:r,range:i,onRunQuery:this.onRunQuery,onChange:this.onFieldChange,history:[],data:o,"data-testid":vx.editor,ExtraFieldElement:n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(a.InlineFormLabel,{width:7,tooltip:"Controls the name of the time series, using name or pattern. For example {{hostname}} will be replaced with label value for the label hostname."},"Legend"),n().createElement("input",{type:"text",className:"gf-form-input",placeholder:"legend format",value:d,onChange:this.onLegendChange,onBlur:this.onRunQuery})),n().createElement("div",{className:"gf-form"},n().createElement(a.InlineFormLabel,{width:7,tooltip:n().createElement(n().Fragment,null,"An additional lower limit for the step parameter of the Prometheus query and for the"," ",n().createElement("code",null,"$__interval")," and ",n().createElement("code",null,"$__rate_interval"),' variables. The limit is absolute and not modified by the "Resolution" setting.')},"Min step"),n().createElement("input",{type:"text",className:"gf-form-input width-8","aria-label":"Set lower limit for the step parameter",placeholder:c,onChange:this.onIntervalChange,onBlur:this.onRunQuery,value:c})),n().createElement("div",{className:"gf-form"},n().createElement("div",{className:"gf-form-label"},"Resolution"),n().createElement(a.Select,{"aria-label":"Select resolution",isSearchable:!1,options:mx,onChange:this.onIntervalFactorChange,value:u})),n().createElement("div",{className:"gf-form"},n().createElement("div",{className:"gf-form-label width-7"},"Format"),n().createElement(a.Select,{className:"select-container",width:16,isSearchable:!1,options:hx,onChange:this.onFormatChange,value:s,"aria-label":"Select format"}),n().createElement(fx,{label:"Instant",checked:l,onChange:this.onInstantChange}),n().createElement(a.InlineFormLabel,{width:10,tooltip:"Link to Graph in Prometheus"},n().createElement(jy,{datasource:e,query:this.query,panelData:o}))),p&&n().createElement(Ey,{onChange:this.onExemplarChange,datasource:e,query:this.query,"data-testid":vx.exemplar}))})}constructor(e){super(e),this.onFieldChange=(e,t)=>{this.query.expr=e.expr},this.onFormatChange=e=>{this.query.format=e.value,this.setState({formatOption:e},this.onRunQuery)},this.onInstantChange=e=>{const t=e.target.checked;this.query.instant=t,this.setState({instant:t},this.onRunQuery)},this.onIntervalChange=e=>{const t=e.currentTarget.value;this.query.interval=t,this.setState({interval:t})},this.onIntervalFactorChange=e=>{this.query.intervalFactor=e.value,this.setState({intervalFactorOption:e},this.onRunQuery)},this.onLegendChange=e=>{const t=e.currentTarget.value;this.query.legendFormat=t,this.setState({legendFormat:t})},this.onExemplarChange=e=>{this.query.exemplar=e,this.setState({exemplar:e},this.onRunQuery)},this.onRunQuery=()=>{const{query:e}=this,{hide:t}=this.props.query;var r,n;this.props.onChange((r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){px(e,t,r[t])}))}return e}({},e),n=null!=(n={hide:t})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))})),r)),this.props.onRunQuery()};const r={expr:"",legendFormat:"",interval:"",exemplar:e.app!==t.CoreApp.UnifiedAlerting},n=Object.assign({},r,e.query);this.query=n,this.state={interval:n.interval,legendFormat:n.legendFormat,formatOption:hx.find((e=>e.value===n.format))||hx[0],intervalFactorOption:mx.find((e=>e.value===n.intervalFactor))||mx[0],instant:Boolean(n.instant),exemplar:Boolean(n.exemplar)}}}const vx={editor:"prom-editor",exemplar:"exemplar-editor"};var bx=function(e,t){return"boolean"==typeof t?t:!e};function yx({title:e,children:t,collapsedInfo:i}){const[o,s]=(c=!1,(0,r.useReducer)(bx,c)),l=(0,a.useStyles2)(wx);var c;return n().createElement(bs,{gap:0,direction:"column"},n().createElement("div",{className:l.header,onClick:s,title:"Click to edit options"},n().createElement("div",{className:l.toggle},n().createElement(a.Icon,{name:o?"angle-down":"angle-right"})),n().createElement("h6",{className:l.title},e),!o&&n().createElement("div",{className:l.description},i.map(((e,t)=>n().createElement("span",{key:t},e))))),o&&n().createElement("div",{className:l.body},t))}const wx=e=>({switchLabel:(0,s.css)({color:e.colors.text.secondary,cursor:"pointer",fontSize:e.typography.bodySmall.fontSize,"&:hover":{color:e.colors.text.primary}}),header:(0,s.css)({display:"flex",cursor:"pointer",alignItems:"baseline",color:e.colors.text.primary,"&:hover":{background:e.colors.emphasize(e.colors.background.primary,.03)}}),title:(0,s.css)({flexGrow:1,overflow:"hidden",fontSize:e.typography.bodySmall.fontSize,fontWeight:e.typography.fontWeightMedium,margin:0}),description:(0,s.css)({color:e.colors.text.secondary,fontSize:e.typography.bodySmall.fontSize,paddingLeft:e.spacing(2),gap:e.spacing(2),display:"flex"}),body:(0,s.css)({display:"flex",paddingTop:e.spacing(2),gap:e.spacing(2),flexWrap:"wrap"}),toggle:(0,s.css)({color:e.colors.text.secondary,marginRight:`${e.spacing(1)}`})}),xx=[{label:"Auto",value:Bu.Auto,description:"Only includes unique labels"},{label:"Verbose",value:Bu.Verbose,description:"All label names and values"},{label:"Custom",value:Bu.Custom,description:"Provide a naming template"}],Ox=n().memo((({legendFormat:e,onChange:t,onRunQuery:i})=>{const o=_x(e),s=(0,r.useRef)(null);return n().createElement(ef,{label:"Legend",tooltip:"Series name override or template. Ex. {{hostname}} will be replaced with label value for hostname."},n().createElement(n().Fragment,null,o===Bu.Custom&&n().createElement(a.AutoSizeInput,{id:"legendFormat",minWidth:22,placeholder:"auto",defaultValue:e,onCommitChange:r=>{let n=r.currentTarget.value;0===n.length&&(n=Bu.Auto),n!==e&&(t(n),i())},ref:s}),o!==Bu.Custom&&n().createElement(a.Select,{inputId:"legend.mode",isSearchable:!1,placeholder:"Select legend mode",options:xx,width:22,onChange:e=>{switch(e.value){case Bu.Auto:t(Bu.Auto);break;case Bu.Custom:t("{{label_name}}"),setTimeout((()=>{var e,t;null===(e=s.current)||void 0===e||e.focus(),null===(t=s.current)||void 0===t||t.setSelectionRange(2,12,"forward")}),10);break;case Bu.Verbose:t("")}i()},value:xx.find((e=>e.value===o))})))}));function _x(e){return e===Bu.Auto?Bu.Auto:null==e||""===e?Bu.Verbose:Bu.Custom}function Ex(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ex(e,t,r[t])}))}return e}function kx(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}Ox.displayName="PromQueryLegendEditor";const Px=n().memo((({query:e,app:r,onChange:i,onRunQuery:o})=>{const s=Iy(r===t.CoreApp.Explore||r===t.CoreApp.PanelEditor),l=Dy(e,i),c=hx.find((t=>t.value===e.format))||hx[0],u=function(e){return e.range&&e.instant?"both":e.instant?"instant":"range"}(e),d=s.find((e=>e.value===u)).label;return n().createElement(lp,null,n().createElement(yx,{title:"Options",collapsedInfo:Cx(e,c.label,d,r)},n().createElement(Ox,{legendFormat:e.legendFormat,onChange:t=>i(kx(Sx({},e),{legendFormat:t})),onRunQuery:o}),n().createElement(ef,{label:"Min step",tooltip:n().createElement(n().Fragment,null,"An additional lower limit for the step parameter of the Prometheus query and for the"," ",n().createElement("code",null,"$__interval")," and ",n().createElement("code",null,"$__rate_interval")," variables.")},n().createElement(a.AutoSizeInput,{type:"text","aria-label":"Set lower limit for the step parameter",placeholder:"auto",minWidth:10,onCommitChange:t=>{i(kx(Sx({},e),{interval:t.currentTarget.value})),o()},defaultValue:e.interval})),n().createElement(ef,{label:"Format"},n().createElement(a.Select,{value:c,allowCustomValue:!0,onChange:t=>{i(kx(Sx({},e),{format:t.value})),o()},options:hx})),n().createElement(ef,{label:"Type"},n().createElement(a.RadioButtonGroup,{options:s,value:u,onChange:l})),Tx(e,r)&&n().createElement(ef,{label:"Exemplars"},n().createElement(Oy,{value:e.exemplar||!1,onChange:t=>{const r=t.currentTarget.checked;i(kx(Sx({},e),{exemplar:r})),o()}})),e.intervalFactor&&e.intervalFactor>1&&n().createElement(ef,{label:"Resolution"},n().createElement(a.Select,{"aria-label":"Select resolution",isSearchable:!1,options:mx,onChange:t=>{i(kx(Sx({},e),{intervalFactor:t.value})),o()},value:mx.find((t=>t.value===e.intervalFactor))}))))}));function Tx(e,r){return!(r===t.CoreApp.UnifiedAlerting||!e.range)}function Cx(e,t,r,n){const i=[];var o;return i.push(`Legend: ${function(e){const t=_x(e);var r;return t!==Bu.Custom?null===(r=xx.find((e=>e.value===t)))||void 0===r?void 0:r.label:e}(e.legendFormat)}`),i.push(`Format: ${t}`),i.push(`Step: ${null!==(o=e.interval)&&void 0!==o?o:"auto"}`),i.push(`Type: ${r}`),Tx(e,n)&&(e.exemplar?i.push("Exemplars: true"):i.push("Exemplars: false")),i}function Ix(e){const{query:t,datasource:r,range:i,onRunQuery:o,onChange:s,data:l,app:c,showExplain:u}=e,d=(0,a.useStyles2)(Dx);return n().createElement("div",{className:d.wrapper},n().createElement(dx,{datasource:r,query:t,range:i,onRunQuery:o,onChange:s,history:[],data:l,"data-testid":vx.editor,app:c}),u&&n().createElement(iy,{query:t.expr}))}Px.displayName="PromQueryBuilderOptions";const Dx=e=>({wrapper:s.css`
      .gf-form {
        margin-bottom: 0;
      }
    `});function Ax(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rx(){return Rx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rx.apply(this,arguments)}const Nx=n().memo((e=>{const{onChange:i,onRunQuery:s,data:c,app:u}=e,[d,p]=(0,r.useState)(!1),[f,h]=(0,r.useState)(!1),{flag:m,setFlag:g}=Vu("PrometheusQueryEditorExplainDefault"),{flag:v,setFlag:b}=Vu("PrometheusQueryEditorRawQueryDefault",!0),y=function(e,r){let n=e;return e.editorMode||(n=Uu(Wu({},e),{editorMode:Ku(e.expr)})),null==e.expr&&(n=Uu(Wu({},n),{expr:"",legendFormat:Bu.Auto})),null==e.range&&null==e.instant&&(n=Uu(Wu({},n),{range:!0}),r===t.CoreApp.Explore&&(n.instant=!0)),n}(e.query,u),w=y.editorMode,x=(0,r.useCallback)((e=>{var t;(0,o.reportInteraction)("user_grafana_prometheus_editor_mode_clicked",{newEditor:e,previousEditor:null!==(t=y.editorMode)&&void 0!==t?t:"",newQuery:!y.expr,app:null!=u?u:""}),e===Nu.Builder&&Tu(y.expr||"").errors.length?p(!0):Gu(y,e,i)}),[i,y,u]);return(0,r.useEffect)((()=>{h(!1)}),[c]),n().createElement(n().Fragment,null,n().createElement(a.ConfirmModal,{isOpen:d,title:"Query parsing",body:"There were errors while trying to parse the query. Continuing to visual builder may lose some parts of the query.",confirmText:"Continue",onConfirm:()=>{Gu(y,Nu.Builder,i),p(!1)},onDismiss:()=>p(!1)}),n().createElement(l,null,n().createElement(cs,{value:null,placeholder:"Query patterns",allowCustomValue:!0,onChange:({value:e})=>{const t=Tu(y.expr||"");var r,n;t.query.operations=null==e?void 0:e.operations,i((r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ax(e,t,r[t])}))}return e}({},y),n=null!=(n={expr:wl.renderQuery(t.query)})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))})),r))},options:wl.getQueryPatterns().map((e=>({label:e.name,value:e})))}),n().createElement($u,{label:"Explain",value:m,onChange:e=>{g(e.currentTarget.checked)}}),w===Nu.Builder&&n().createElement(n().Fragment,null,n().createElement($u,{label:"Raw query",value:v,onChange:e=>{const t=e.currentTarget.checked;b(t)}}),n().createElement(Au,{feedbackUrl:"https://github.com/grafana/grafana/discussions/47693"})),n().createElement(fs,{grow:1}),u!==t.CoreApp.Explore&&n().createElement(a.Button,{variant:f?"primary":"secondary",size:"sm",onClick:s,icon:(null==c?void 0:c.state)===t.LoadingState.Loading?"fa fa-spinner":void 0,disabled:(null==c?void 0:c.state)===t.LoadingState.Loading},"Run queries"),n().createElement(ju,{mode:w,onChange:x})),n().createElement(hs,{v:.5}),n().createElement(_s,null,w===Nu.Code&&n().createElement(Ix,Rx({},e,{query:y,showExplain:m})),w===Nu.Builder&&n().createElement(py,{query:y,datasource:e.datasource,onChange:e=>{h(!0),i(e)},onRunQuery:e.onRunQuery,data:c,showRawQuery:v,showExplain:m}),n().createElement(Px,{query:y,app:e.app,onChange:i,onRunQuery:s})))}));function Mx(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Mx(e,t,r[t])}))}return e}function Lx(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}Nx.displayName="PromQueryEditorSelector";const $x=(0,r.memo)((e=>{const{range:i,query:o,data:a,datasource:s,history:l,onChange:c,onRunQuery:u}=e;return(0,r.useEffect)((()=>{void 0===o.expr&&c(Lx(jx({},o),{expr:""})),void 0===o.exemplar&&c(Lx(jx({},o),{exemplar:!0})),o.instant||o.range||o.expr||c(Lx(jx({},o),{instant:!0,range:!0}))}),[c,o]),n().createElement(dx,{app:t.CoreApp.Explore,datasource:s,query:o,range:i,onRunQuery:u,onChange:c,onBlur:()=>{},history:l,data:a,"data-testid":Fx.editor,ExtraFieldElement:n().createElement(Cy,{query:o,onChange:c,datasource:s,onRunQuery:u})})}));$x.displayName="PromExploreQueryEditor";const Fx={editor:"prom-editor-explore"};function qx(e){const{datasource:t,query:r,range:i,data:o,onChange:a,onRunQuery:s}=e;return n().createElement(dx,{datasource:t,query:r,onRunQuery:s,onChange:a,history:[],range:i,data:o,"data-testid":Vx.editor})}const Vx={editor:"prom-editor-cloud-alerting"};function zx(){return zx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zx.apply(this,arguments)}function Bx(e){const{app:r}=e;switch(r){case t.CoreApp.CloudAlerting:return n().createElement(qx,zx({},e));case t.CoreApp.Explore:return o.config.featureToggles.promQueryBuilder?n().createElement(Nx,zx({},e)):n().createElement($x,zx({},e));default:return o.config.featureToggles.promQueryBuilder?n().createElement(Nx,zx({},e)):n().createElement(gx,zx({},e))}}const Hx=(0,r.memo)(Bx);var Qx,Wx,Ux,Xx,Gx,Kx,Yx,Jx,Zx,eO,tO,rO,nO,iO,oO,aO,sO,lO,cO,uO,dO,pO,fO,hO,mO,gO=m(2199);function vO(){return Object.values(o.config.datasources)}!function(e){e.Active="active",e.Expired="expired",e.Pending="pending"}(Qx||(Qx={})),function(e){e.Unprocessed="unprocessed",e.Active="active",e.Suppressed="suppressed"}(Wx||(Wx={})),(oO=Ux||(Ux={})).equal="=",oO.notEqual="!=",oO.regex="=~",oO.notRegex="!~",function(e){e.Internal="internal",e.External="external",e.All="all"}(Xx||(Xx={})),(iO=Gx||(Gx={})).cortex="cortex",iO.mimir="mimir",iO.prometheus="prometheus",function(e){e.Home="home-dashboard",e.New="new-dashboard",e.Normal="normal-dashboard",e.Path="path-dashboard",e.Scripted="scripted-dashboard",e.Public="public-dashboard"}(Kx||(Kx={})),function(e){e.NotStarted="Not started",e.Fetching="Fetching",e.Services="Services",e.Failed="Failed",e.Completed="Completed"}(Yx||(Yx={})),function(e){e.Off="off",e.TV="tv",e.Full="full"}(Jx||(Jx={})),function(e){e.Viewer="Viewer",e.Editor="Editor",e.Admin="Admin"}(Zx||(Zx={})),function(e){e[e.View=1]="View",e[e.Edit=2]="Edit",e[e.Admin=4]="Admin"}(eO||(eO={})),function(e){e.View="View",e.Edit="Edit",e.Admin="Admin"}(tO||(tO={})),function(e){e[e.Query=1]="Query",e[e.Admin=2]="Admin"}(rO||(rO={})),function(e){e.Team="Team",e.User="User",e.Viewer="Viewer",e.Editor="Editor"}(nO||(nO={})),rO.Query,nO.Team,nO.User,nO.Viewer,nO.Editor,eO.View,tO.View,eO.Edit,tO.Edit,eO.Admin,function(e){e[e.Member=0]="Member",e[e.Admin=4]="Admin"}(aO||(aO={})),aO.Member,aO.Admin,function(e){e.All="All",e.WithExpiredTokens="WithExpiredTokens",e.Disabled="Disabled"}(sO||(sO={})),function(e){e.Success="success",e.Warning="warning",e.Error="error",e.Info="info"}(lO||(lO={})),function(e){e[e.Success=3e3]="Success",e[e.Warning=5e3]="Warning",e[e.Error=7e3]="Error"}(cO||(cO={})),lO.Success,cO.Success,lO.Warning,cO.Warning,lO.Error,cO.Error,lO.Info,cO.Success,function(e){e.left="left",e.right="right"}(uO||(uO={})),(mO=dO||(dO={})).UsersRead="users:read",mO.UsersWrite="users:write",mO.UsersAuthTokenList="users.authtoken:read",mO.UsersAuthTokenUpdate="users.authtoken:write",mO.UsersPasswordUpdate="users.password:write",mO.UsersDelete="users:delete",mO.UsersCreate="users:create",mO.UsersEnable="users:enable",mO.UsersDisable="users:disable",mO.UsersPermissionsUpdate="users.permissions:write",mO.UsersLogout="users:logout",mO.UsersQuotasList="users.quotas:read",mO.UsersQuotasUpdate="users.quotas:write",mO.ServiceAccountsRead="serviceaccounts:read",mO.ServiceAccountsCreate="serviceaccounts:create",mO.ServiceAccountsWrite="serviceaccounts:write",mO.ServiceAccountsDelete="serviceaccounts:delete",mO.ServiceAccountsPermissionsRead="serviceaccounts.permissions:read",mO.ServiceAccountsPermissionsWrite="serviceaccounts.permissions:write",mO.OrgsRead="orgs:read",mO.OrgsPreferencesRead="orgs.preferences:read",mO.OrgsWrite="orgs:write",mO.OrgsPreferencesWrite="orgs.preferences:write",mO.OrgsCreate="orgs:create",mO.OrgsDelete="orgs:delete",mO.OrgUsersRead="org.users:read",mO.OrgUsersAdd="org.users:add",mO.OrgUsersRemove="org.users:remove",mO.OrgUsersWrite="org.users:write",mO.LDAPUsersRead="ldap.user:read",mO.LDAPUsersSync="ldap.user:sync",mO.LDAPStatusRead="ldap.status:read",mO.DataSourcesExplore="datasources:explore",mO.DataSourcesRead="datasources:read",mO.DataSourcesCreate="datasources:create",mO.DataSourcesWrite="datasources:write",mO.DataSourcesDelete="datasources:delete",mO.DataSourcesPermissionsRead="datasources.permissions:read",mO.DataSourcesCachingRead="datasources.caching:read",mO.DataSourcesInsightsRead="datasources.insights:read",mO.ActionServerStatsRead="server.stats:read",mO.ActionTeamsCreate="teams:create",mO.ActionTeamsDelete="teams:delete",mO.ActionTeamsRead="teams:read",mO.ActionTeamsWrite="teams:write",mO.ActionTeamsPermissionsRead="teams.permissions:read",mO.ActionTeamsPermissionsWrite="teams.permissions:write",mO.ActionRolesList="roles:read",mO.ActionTeamsRolesList="teams.roles:read",mO.ActionTeamsRolesAdd="teams.roles:add",mO.ActionTeamsRolesRemove="teams.roles:remove",mO.ActionUserRolesList="users.roles:read",mO.ActionUserRolesAdd="users.roles:add",mO.ActionUserRolesRemove="users.roles:remove",mO.DashboardsRead="dashboards:read",mO.DashboardsWrite="dashboards:write",mO.DashboardsDelete="dashboards:delete",mO.DashboardsCreate="dashboards:create",mO.DashboardsPermissionsRead="dashboards.permissions:read",mO.DashboardsPermissionsWrite="dashboards.permissions:write",mO.DashboardsPublicWrite="dashboards.public:write",mO.FoldersRead="folders:read",mO.FoldersWrite="folders:write",mO.FoldersDelete="folders:delete",mO.FoldersCreate="folders:create",mO.FoldersPermissionsRead="folders.permissions:read",mO.FoldersPermissionsWrite="folders.permissions:write",mO.AlertingRuleCreate="alert.rules:create",mO.AlertingRuleRead="alert.rules:read",mO.AlertingRuleUpdate="alert.rules:write",mO.AlertingRuleDelete="alert.rules:delete",mO.AlertingInstanceCreate="alert.instances:create",mO.AlertingInstanceUpdate="alert.instances:write",mO.AlertingInstanceRead="alert.instances:read",mO.AlertingNotificationsRead="alert.notifications:read",mO.AlertingNotificationsWrite="alert.notifications:write",mO.AlertingRuleExternalWrite="alert.rules.external:write",mO.AlertingRuleExternalRead="alert.rules.external:read",mO.AlertingInstancesExternalWrite="alert.instances.external:write",mO.AlertingInstancesExternalRead="alert.instances.external:read",mO.AlertingNotificationsExternalWrite="alert.notifications.external:write",mO.AlertingNotificationsExternalRead="alert.notifications.external:read",mO.ActionAPIKeysRead="apikeys:read",mO.ActionAPIKeysCreate="apikeys:create",mO.ActionAPIKeysDelete="apikeys:delete",mO.PluginsInstall="plugins:install",mO.PluginsWrite="plugins:write";class bO extends t.BusEventWithPayload{}bO.type="zoom-out",function(e){e[e.Left=-1]="Left",e[e.Right=1]="Right"}(pO||(pO={}));class yO extends t.BusEventWithPayload{}yO.type="shift-time";class wO extends t.BusEventBase{}wO.type="absolute-time";class xO extends t.BusEventWithPayload{}xO.type="remove-panel";class OO extends t.BusEventWithPayload{}OO.type="show-modal";class _O extends t.BusEventWithPayload{}_O.type="show-confirm-modal";class EO extends t.BusEventWithPayload{}EO.type="show-react-modal";class SO extends t.BusEventBase{}SO.type="hide-modal";class kO extends t.BusEventBase{}kO.type="dashboard-saved";class PO extends t.BusEventWithPayload{}PO.type="annotation-query-started";class TO extends t.BusEventWithPayload{}TO.type="annotation-query-finished";class CO extends t.BusEventWithPayload{}CO.type="panel-edit-started";class IO extends t.BusEventWithPayload{}IO.type="panel-edit-finished";const DO=o.config;function AO(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}Boolean((null===(fO=o.config.panels)||void 0===fO||null===(hO=fO.debug)||void 0===hO?void 0:hO.state)===t.PluginState.alpha);class RO{constructor(){this.id=0,this.isGrafanaAdmin=!1,this.isSignedIn=!1,this.orgRole="",this.orgId=0,this.orgName="",this.login="",this.externalUserId="",this.orgCount=0,this.timezone="",this.fiscalYearStartMonth=0,this.helpFlags1=0,this.lightTheme=!1,this.hasEditPermissionInFolders=!1,this.email="",this.name="",this.locale="",this.weekStart="",this.gravatarUrl="",DO.bootData.user&&(0,Is.extend)(this,DO.bootData.user)}}let NO=new class{fetchUserPermissions(){var e=this;return function(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){AO(o,n,i,a,s,"next",e)}function s(e){AO(o,n,i,a,s,"throw",e)}a(void 0)}))}}((function*(){try{e.accessControlEnabled()&&(e.user.permissions=yield(0,o.getBackendSrv)().get("/api/access-control/user/permissions",{reloadcache:!0}))}catch(e){console.error(e)}}))()}setLoggedOut(){this.user.isSignedIn=!1,this.isSignedIn=!1}hasRole(e){return"ServerAdmin"===e?this.isGrafanaAdmin:this.user.orgRole===e}accessControlEnabled(){return DO.rbacEnabled}licensedAccessControlEnabled(){return(0,o.featureEnabled)("accesscontrol")&&DO.rbacEnabled}hasPermissionInMetadata(e,t){var r;return!this.accessControlEnabled()||!!(null===(r=t.accessControl)||void 0===r?void 0:r[e])}hasPermission(e){var t;return!this.accessControlEnabled()||!!(null===(t=this.user.permissions)||void 0===t?void 0:t[e])}isGrafanaVisible(){return void 0===document.visibilityState||"visible"===document.visibilityState}isAllowedInterval(e){return!DO.minRefreshInterval||t.rangeUtil.intervalToMs(e)>=t.rangeUtil.intervalToMs(DO.minRefreshInterval)}getValidInterval(e){return this.isAllowedInterval(e)?e:DO.minRefreshInterval}hasAccessToExplore(){return this.accessControlEnabled()?this.hasPermission(dO.DataSourcesExplore):(this.isEditor||DO.viewersCanEdit)&&DO.exploreEnabled}hasAccess(e,t){return this.accessControlEnabled()?this.hasPermission(e):t}hasAccessInMetadata(e,t,r){return this.accessControlEnabled()?this.hasPermissionInMetadata(e,t):r}evaluatePermission(e,t){return this.accessControlEnabled()?t.some((e=>this.hasPermission(e)))?[]:["Reject"]:e()}constructor(){this.sidemenuSmallBreakpoint=!1,DO.bootData||(DO.bootData={user:{},settings:{}}),this.user=new RO,this.isSignedIn=this.user.isSignedIn,this.isGrafanaAdmin=this.user.isGrafanaAdmin,this.isEditor=this.hasRole("Editor")||this.hasRole("Admin"),this.hasEditPermissionInFolders=this.user.hasEditPermissionInFolders,this.minRefreshInterval=DO.minRefreshInterval}};dO.AlertingInstanceRead,dO.AlertingInstancesExternalRead,dO.AlertingInstanceCreate,dO.AlertingInstancesExternalWrite,dO.AlertingInstanceUpdate,dO.AlertingInstancesExternalWrite,dO.AlertingInstanceUpdate,dO.AlertingInstancesExternalWrite,dO.AlertingNotificationsRead,dO.AlertingNotificationsExternalRead,dO.AlertingNotificationsWrite,dO.AlertingNotificationsExternalWrite,dO.AlertingNotificationsWrite,dO.AlertingNotificationsExternalWrite,dO.AlertingNotificationsWrite,dO.AlertingNotificationsExternalWrite,dO.AlertingRuleRead,dO.AlertingRuleExternalRead,dO.AlertingRuleCreate,dO.AlertingRuleExternalWrite,dO.AlertingRuleUpdate,dO.AlertingRuleExternalWrite,dO.AlertingRuleDelete,dO.AlertingRuleExternalWrite;const MO="grafana";var jO,LO;function $O(e){if(e===MO)return MO;const t=(r=e,vO().find((e=>e.name===r)));var r;if(!t)throw new Error(`Datasource "${e}" not found`);return t.uid}!function(e){e.Alertmanager="alertmanager",e.Loki="loki",e.Prometheus="prometheus"}(jO||(jO={})),jO.Loki,jO.Prometheus,Ux.equal,Ux.equal,Ux.notEqual,Ux.notEqual,Ux.regex,Ux.regex,Ux.notRegex,Ux.notRegex,Ux.regex,Ux.notRegex,Ux.notEqual,Ux.equal,function(e){e.Public="AzureCloud",e.China="AzureChinaCloud",e.USGovernment="AzureUSGovernment",e.Germany="AzureGermanCloud",e.None=""}(LO||(LO={}));const FO=[{value:LO.Public,label:"Azure"},{value:LO.China,label:"Azure China"},{value:LO.USGovernment,label:"Azure US Government"},{value:LO.Germany,label:"Azure Germany"}];function qO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){qO(e,t,r[t])}))}return e}function zO(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const BO=Symbol("Concealed client secret");function HO(){return o.config.azure.cloud||LO.Public}function QO(e){if(e.secureJsonFields.azureClientSecret)return BO;{var t;const r=null===(t=e.secureJsonData)||void 0===t?void 0:t.azureClientSecret;return"string"==typeof r&&r.length>0?r:void 0}}function WO(){return o.config.azure.managedIdentityEnabled?{authType:"msi"}:{authType:"clientsecret",azureCloud:HO()}}function UO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){UO(e,t,r[t])}))}return e}function GO(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const KO=[{value:"msi",label:"Managed Identity"},{value:"clientsecret",label:"App Registration"}],YO=e=>{const{credentials:t,azureCloudOptions:i,onCredentialsChange:o,getSubscriptions:s}=e,l=function(e){switch(e.authType){case"msi":return!0;case"clientsecret":return!!(e.azureCloud&&e.tenantId&&e.clientId&&e.clientSecret)}}(t),[c,u]=(0,r.useState)([]),[d,p]=(0,r.useReducer)((e=>e+1),0);(0,r.useEffect)((()=>{if(!s||!l)return void f([]);let e=!1;return s().then((t=>{e||f(t,d)})),()=>{e=!0}}),[d]);const f=(e,r=!1)=>{u(e),s&&(r&&!t.defaultSubscriptionId&&e.length>0?h(e[0]):t.defaultSubscriptionId&&(e.find((e=>e.value===t.defaultSubscriptionId))||h(void 0)))},h=e=>{if(o){const r=GO(XO({},t),{defaultSubscriptionId:null==e?void 0:e.value});o(r)}};return n().createElement("div",{className:"gf-form-group"},e.managedIdentityEnabled&&n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(a.InlineFormLabel,{className:"width-12",tooltip:"Choose the type of authentication to Azure services"},"Authentication"),n().createElement(a.Select,{className:"width-15",value:KO.find((e=>e.value===t.authType)),options:KO,onChange:e=>{if(o){u([]);const r=GO(XO({},t),{authType:e.value||"msi",defaultSubscriptionId:void 0});o(r)}}}))),"clientsecret"===t.authType&&n().createElement(n().Fragment,null,i&&n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(a.InlineFormLabel,{className:"width-12",tooltip:"Choose an Azure Cloud"},"Azure Cloud"),n().createElement(a.Select,{className:"width-15",value:i.find((e=>e.value===t.azureCloud)),options:i,onChange:e=>{if(o&&"clientsecret"===t.authType){u([]);const r=GO(XO({},t),{azureCloud:e.value,defaultSubscriptionId:void 0});o(r)}}}))),n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(a.InlineFormLabel,{className:"width-12"},"Directory (tenant) ID"),n().createElement("div",{className:"width-15"},n().createElement(a.Input,{className:"width-30",placeholder:"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",value:t.tenantId||"",onChange:e=>{if(o&&"clientsecret"===t.authType){u([]);const r=GO(XO({},t),{tenantId:e.target.value,defaultSubscriptionId:void 0});o(r)}}})))),n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(a.InlineFormLabel,{className:"width-12"},"Application (client) ID"),n().createElement("div",{className:"width-15"},n().createElement(a.Input,{className:"width-30",placeholder:"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",value:t.clientId||"",onChange:e=>{if(o&&"clientsecret"===t.authType){u([]);const r=GO(XO({},t),{clientId:e.target.value,defaultSubscriptionId:void 0});o(r)}}})))),"symbol"==typeof t.clientSecret?n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(a.InlineFormLabel,{htmlFor:"azure-client-secret",className:"width-12"},"Client Secret"),n().createElement(a.Input,{id:"azure-client-secret",className:"width-25",placeholder:"configured",disabled:!0})),n().createElement("div",{className:"gf-form"},n().createElement("div",{className:"max-width-30 gf-form-inline"},n().createElement(a.Button,{variant:"secondary",type:"button",onClick:()=>{if(o&&"clientsecret"===t.authType){u([]);const e=GO(XO({},t),{clientSecret:"",defaultSubscriptionId:void 0});o(e)}}},"reset")))):n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(a.InlineFormLabel,{className:"width-12"},"Client Secret"),n().createElement("div",{className:"width-15"},n().createElement(a.Input,{className:"width-30",placeholder:"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX",value:t.clientSecret||"",onChange:e=>{if(o&&"clientsecret"===t.authType){u([]);const r=GO(XO({},t),{clientSecret:e.target.value,defaultSubscriptionId:void 0});o(r)}}}))))),s&&n().createElement(n().Fragment,null,n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(a.InlineFormLabel,{className:"width-12"},"Default Subscription"),n().createElement("div",{className:"width-25"},n().createElement(a.Select,{value:t.defaultSubscriptionId?c.find((e=>e.value===t.defaultSubscriptionId)):void 0,options:c,onChange:h})))),n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement("div",{className:"max-width-30 gf-form-inline"},n().createElement(a.Button,{variant:"secondary",size:"sm",type:"button",onClick:p,disabled:!l},"Load Subscriptions"))))))};function JO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){JO(e,t,r[t])}))}return e}function e_(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const t_=e=>{const{dataSourceConfig:t,onChange:i}=e,[s]=(0,r.useState)(o.config.featureToggles.prometheusAzureOverrideAudience||!!t.jsonData.azureEndpointResourceId),[l,c]=(0,r.useState)(!!t.jsonData.azureEndpointResourceId),u=(0,r.useMemo)((()=>function(e){const t=e.jsonData.azureCredentials;if(!t)return WO();switch(t.authType){case"msi":return o.config.azure.managedIdentityEnabled?{authType:"msi"}:{authType:"clientsecret",azureCloud:HO()};case"clientsecret":return{authType:"clientsecret",azureCloud:t.azureCloud||HO(),tenantId:t.tenantId,clientId:t.clientId,clientSecret:QO(e)}}}(t)),[t]);return n().createElement(n().Fragment,null,n().createElement("h6",null,"Azure Authentication"),n().createElement(YO,{managedIdentityEnabled:o.config.azure.managedIdentityEnabled,credentials:u,azureCloudOptions:FO,onCredentialsChange:e=>{i(function(e,t){switch(t.authType){case"msi":if(!o.config.azure.managedIdentityEnabled)throw new Error("Managed Identity authentication is not enabled in Grafana config.");return zO(VO({},e),{jsonData:zO(VO({},e.jsonData),{azureCredentials:{authType:"msi"}})});case"clientsecret":return zO(VO({},e),{jsonData:zO(VO({},e.jsonData),{azureCredentials:{authType:"clientsecret",azureCloud:t.azureCloud||HO(),tenantId:t.tenantId,clientId:t.clientId}}),secureJsonData:zO(VO({},e.secureJsonData),{azureClientSecret:"string"==typeof t.clientSecret&&t.clientSecret.length>0?t.clientSecret:void 0}),secureJsonFields:zO(VO({},e.secureJsonFields),{azureClientSecret:"symbol"==typeof t.clientSecret})})}}(t,e))}}),s&&n().createElement(n().Fragment,null,n().createElement("h6",null,"Azure Configuration"),n().createElement("div",{className:"gf-form-group"},n().createElement(a.InlineFieldRow,null,n().createElement(a.InlineField,{labelWidth:26,label:"Override AAD audience"},n().createElement(a.InlineSwitch,{value:l,onChange:e=>{c(e.currentTarget.checked),e.currentTarget.checked||i(e_(ZO({},t),{jsonData:e_(ZO({},t.jsonData),{azureEndpointResourceId:void 0})}))}}))),l&&n().createElement(a.InlineFieldRow,null,n().createElement(a.InlineField,{labelWidth:26,label:"Resource ID"},n().createElement(a.Input,{className:"width-30",value:t.jsonData.azureEndpointResourceId||"",onChange:e=>{l&&i(e_(ZO({},t),{jsonData:e_(ZO({},t.jsonData),{azureEndpointResourceId:e.currentTarget.value})}))}}))))))};function r_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){r_(e,t,r[t])}))}return e}function i_(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function o_({value:e,onChange:t,onDelete:i}){const[l,c]=(0,r.useState)(Boolean(e.datasourceUid));return n().createElement("div",{className:"gf-form-group"},n().createElement(a.InlineField,{label:"Internal link",labelWidth:24},n().createElement(n().Fragment,null,n().createElement(a.InlineSwitch,{value:l,"aria-label":hf.selectors.components.DataSource.Prometheus.configPage.internalLinkSwitch,onChange:e=>c(e.currentTarget.checked)}),n().createElement(a.Button,{variant:"destructive",title:"Remove link",icon:"times",onClick:e=>{e.preventDefault(),i()},className:s.css`
              margin-left: 8px;
            `}))),l?n().createElement(a.InlineField,{label:"Data source",labelWidth:24,tooltip:"The data source the exemplar is going to navigate to."},n().createElement(o.DataSourcePicker,{tracing:!0,current:e.datasourceUid,noDefault:!0,width:40,onChange:r=>t(i_(n_({},e),{datasourceUid:r.uid,url:void 0}))})):n().createElement(a.InlineField,{label:"URL",labelWidth:24,tooltip:"The URL of the trace backend the user would go to see its trace."},n().createElement(a.Input,{placeholder:"https://example.com/${__value.raw}",spellCheck:!1,width:40,value:e.url,onChange:r=>t(i_(n_({},e),{datasourceUid:void 0,url:r.currentTarget.value}))})),n().createElement(a.InlineField,{label:"URL Label",labelWidth:24,tooltip:"Use to override the button label on the exemplar traceID field."},n().createElement(a.Input,{placeholder:"Go to example.com",spellCheck:!1,width:40,value:e.urlDisplayLabel,onChange:r=>t(i_(n_({},e),{urlDisplayLabel:r.currentTarget.value}))})),n().createElement(a.InlineField,{label:"Label name",labelWidth:24,tooltip:"The name of the field in the labels object that should be used to get the traceID."},n().createElement(a.Input,{placeholder:"traceID",spellCheck:!1,width:40,value:e.name,onChange:r=>t(i_(n_({},e),{name:r.currentTarget.value}))})))}function a_({options:e,onChange:t}){return n().createElement(n().Fragment,null,n().createElement("h3",{className:"page-heading"},"Exemplars"),e&&e.map(((r,i)=>n().createElement(o_,{key:i,value:r,onChange:r=>{const n=[...e];n.splice(i,1,r),t(n)},onDelete:()=>{const r=[...e];r.splice(i,1),t(r)}}))),n().createElement(a.Button,{variant:"secondary","aria-label":hf.selectors.components.DataSource.Prometheus.configPage.exemplarsAddButton,className:s.css`
          margin-bottom: 10px;
        `,icon:"plus",onClick:r=>{r.preventDefault();const n=[...e||[],{name:"traceID"}];t(n)}},"Add"))}function s_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){s_(e,t,r[t])}))}return e}function c_(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const{Select:u_,Input:d_,FormField:p_}=a.LegacyForms,f_=[{value:"POST",label:"POST"},{value:"GET",label:"GET"}],h_=e=>{const{options:r,onOptionsChange:i}=e;var o;return r.jsonData.httpMethod||(r.jsonData.httpMethod="POST"),n().createElement(n().Fragment,null,n().createElement("div",{className:"gf-form-group"},n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(p_,{label:"Scrape interval",labelWidth:13,inputEl:n().createElement(d_,{className:"width-6",value:r.jsonData.timeInterval,spellCheck:!1,placeholder:"15s",onChange:v_("timeInterval",r,i),validationEvents:m_}),tooltip:"Set this to the typical scrape and evaluation interval configured in Prometheus. Defaults to 15s."}))),n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form"},n().createElement(p_,{label:"Query timeout",labelWidth:13,inputEl:n().createElement(d_,{className:"width-6",value:r.jsonData.queryTimeout,onChange:v_("queryTimeout",r,i),spellCheck:!1,placeholder:"60s",validationEvents:m_}),tooltip:"Set the Prometheus query timeout."}))),n().createElement("div",{className:"gf-form"},n().createElement(a.InlineFormLabel,{width:13,tooltip:"You can use either POST or GET HTTP method to query your Prometheus data source. POST is the recommended method as it allows bigger queries. Change this to GET if you have a Prometheus version older than 2.1 or if POST requests are restricted in your network."},"HTTP Method"),n().createElement(u_,{"aria-label":"Select HTTP method",options:f_,value:f_.find((e=>e.value===r.jsonData.httpMethod)),onChange:v_("httpMethod",r,i),width:7}))),n().createElement("h3",{className:"page-heading"},"Misc"),n().createElement("div",{className:"gf-form-group"},n().createElement("div",{className:"gf-form"},n().createElement(a.InlineField,{labelWidth:28,label:"Disable metrics lookup",tooltip:"Checking this option will disable the metrics chooser and metric/label support in the query field's autocomplete. This helps if you have performance issues with bigger Prometheus instances."},n().createElement(a.InlineSwitch,{value:null!==(o=r.jsonData.disableMetricsLookup)&&void 0!==o&&o,onChange:(0,t.onUpdateDatasourceJsonDataOptionChecked)(e,"disableMetricsLookup")}))),n().createElement("div",{className:"gf-form-inline"},n().createElement("div",{className:"gf-form max-width-30"},n().createElement(p_,{label:"Custom query parameters",labelWidth:14,tooltip:"Add Custom parameters to all Prometheus or Thanos queries.",inputEl:n().createElement(d_,{className:"width-25",value:r.jsonData.customQueryParameters,onChange:v_("customQueryParameters",r,i),spellCheck:!1,placeholder:"Example: max_source_resolution=5m&timeout=10"})})))),n().createElement(a_,{options:r.jsonData.exemplarTraceIdDestinations,onChange:e=>(0,t.updateDatasourcePluginJsonDataOption)({onOptionsChange:i,options:r},"exemplarTraceIdDestinations",e)}))},m_={[a.EventsWithValidation.onBlur]:[(0,a.regexValidation)(/^$|^\d+(ms|[Mwdhmsy])$/,"Value is not valid, you can use number with time unit specifier: y, M, w, d, h, m, s")]},g_=e=>e?e.hasOwnProperty("currentTarget")?e.currentTarget.value:e.value:"",v_=(e,t,r)=>n=>{r(c_(l_({},t),{jsonData:c_(l_({},t.jsonData),{[e]:g_(n)})}))};function b_(){return b_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b_.apply(this,arguments)}var y_=m(1177);function w_(e){return"function"==typeof e}function x_(e){return function(t){if(function(e){return w_(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}var O_,__,E_=m(9312),S_=(O_=function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}},(__=O_((function(e){Error.call(e),e.stack=(new Error).stack}))).prototype=Object.create(Error.prototype),__.prototype.constructor=__,__);function k_(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var P_=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,r,n,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=(0,E_.__values)(o),s=a.next();!s.done;s=a.next())s.value.remove(this)}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this);var l=this.initialTeardown;if(w_(l))try{l()}catch(e){i=e instanceof S_?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var u=(0,E_.__values)(c),d=u.next();!d.done;d=u.next()){var p=d.value;try{C_(p)}catch(e){i=null!=i?i:[],e instanceof S_?i=(0,E_.__spreadArray)((0,E_.__spreadArray)([],(0,E_.__read)(i)),(0,E_.__read)(e.errors)):i.push(e)}}}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}if(i)throw new S_(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)C_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&k_(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&k_(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();function T_(e){return e instanceof P_||e&&"closed"in e&&w_(e.remove)&&w_(e.add)&&w_(e.unsubscribe)}function C_(e){w_(e)?e():e.unsubscribe()}P_.EMPTY;var I_=null,D_=null,A_=void 0,R_=!1,N_=!1,M_={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=M_.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,(0,E_.__spreadArray)([e,t],(0,E_.__read)(r))):setTimeout.apply(void 0,(0,E_.__spreadArray)([e,t],(0,E_.__read)(r)))},clearTimeout:function(e){var t=M_.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function j_(e){M_.setTimeout((function(){if(!I_)throw e;I_(e)}))}function L_(){}var $_=F_("C",void 0,void 0);function F_(e,t,r){return{kind:e,value:t,error:r}}var q_=null,V_=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,T_(t)&&t.add(r)):r.destination=X_,r}return(0,E_.__extends)(t,e),t.create=function(e,t,r){return new Q_(e,t,r)},t.prototype.next=function(e){this.isStopped?U_(function(e){return F_("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?U_(F_("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?U_($_,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(P_),z_=Function.prototype.bind;function B_(e,t){return z_.call(e,t)}var H_=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){W_(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){W_(e)}else W_(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){W_(e)}},e}(),Q_=function(e){function t(t,r,n){var i,o,a=e.call(this)||this;return w_(t)||!t?i={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:a&&N_?((o=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},i={next:t.next&&B_(t.next,o),error:t.error&&B_(t.error,o),complete:t.complete&&B_(t.complete,o)}):i=t,a.destination=new H_(i),a}return(0,E_.__extends)(t,e),t}(V_);function W_(e){var t;R_?(t=e,R_&&q_&&(q_.errorThrown=!0,q_.error=t)):j_(e)}function U_(e,t){var r=D_;r&&M_.setTimeout((function(){return r(e,t)}))}var X_={closed:!0,next:L_,error:function(e){throw e},complete:L_};function G_(e,t,r,n,i){return new K_(e,t,r,n,i)}var K_=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=a,s._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return(0,E_.__extends)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(V_);function Y_(e,t){return x_((function(r,n){var i=0;r.subscribe(G_(n,(function(r){n.next(e.call(t,r,i++))})))}))}function J_(e){return e}function Z_(e,t){return x_((function(r,n){var i=0;r.subscribe(G_(n,(function(r){return e.call(t,r,i++)&&n.next(r)})))}))}var eE="function"==typeof Symbol&&Symbol.observable||"@@observable";function tE(e){return 0===e.length?J_:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var rE=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,i=this,o=(n=e)&&n instanceof V_||function(e){return e&&w_(e.next)&&w_(e.error)&&w_(e.complete)}(n)&&T_(n)?e:new Q_(e,t,r);return function(e){if(R_){var t=!q_;if(t&&(q_={errorThrown:!1,error:null}),e(),t){var r=q_,n=r.errorThrown,i=r.error;if(q_=null,n)throw i}}else e()}((function(){var e=i,t=e.operator,r=e.source;o.add(t?t.call(o,r):r?i._subscribe(o):i._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=nE(t))((function(t,n){var i=new Q_({next:function(t){try{e(t)}catch(e){n(e),i.unsubscribe()}},error:n,complete:t});r.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[eE]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return tE(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=nE(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function nE(e){var t;return null!==(t=null!=e?e:A_)&&void 0!==t?t:Promise}var iE,oE,aE,sE,lE,cE,uE="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function dE(e){return new rE((function(t){(function(e,t){var r,n,i,o;return(0,E_.__awaiter)(this,void 0,void 0,(function(){var a,s;return(0,E_.__generator)(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),r=(0,E_.__asyncValues)(e),l.label=1;case 1:return[4,r.next()];case 2:if((n=l.sent()).done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),i={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function pE(e){return x_((function(t,r){var n,i=null,o=!1;i=t.subscribe(G_(r,void 0,void 0,(function(a){n=function(e){if(e instanceof rE)return e;if(null!=e){if(function(e){return w_(e[eE])}(e))return o=e,new rE((function(e){var t=o[eE]();if(w_(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}(e))return i=e,new rE((function(e){for(var t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()}));if(w_(null==(n=e)?void 0:n.then))return r=e,new rE((function(e){r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,j_)}));if(function(e){return Symbol.asyncIterator&&w_(null==e?void 0:e[Symbol.asyncIterator])}(e))return dE(e);if(function(e){return w_(null==e?void 0:e[uE])}(e))return t=e,new rE((function(e){var r,n;try{for(var i=(0,E_.__values)(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(e.next(a),e.closed)return}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()}));if(function(e){return w_(null==e?void 0:e.getReader)}(e))return dE(function(e){return(0,E_.__asyncGenerator)(this,arguments,(function(){var t,r,n;return(0,E_.__generator)(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,(0,E_.__await)(t.read())];case 3:return r=i.sent(),n=r.value,r.done?[4,(0,E_.__await)(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,(0,E_.__await)(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e))}var t,r,n,i,o;throw function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}(e(a,pE(e)(t))),i?(i.unsubscribe(),i=null,n.subscribe(r)):o=!0}))),o&&(i.unsubscribe(),i=null,n.subscribe(r))}))}t.LogsDedupStrategy.none,function(e){e[e.RangeFrom=0]="RangeFrom",e[e.RangeTo=1]="RangeTo",e[e.Datasource=2]="Datasource",e[e.SegmentsStart=3]="SegmentsStart"}(iE||(iE={})),function(e){e.Firing="firing",e.Inactive="inactive",e.Pending="pending"}(oE||(oE={})),function(e){e.Normal="Normal",e.Alerting="Alerting",e.Pending="Pending",e.NoData="NoData",e.Error="Error"}(aE||(aE={})),function(e){e.Alerting="alerting",e.Recording="recording"}(sE||(sE={})),function(e){e.Lotex="Lotex",e.Mimir="Mimir",e.Prometheus="Prometheus"}(lE||(lE={})),function(e){e.Alerting="Alerting",e.NoData="NoData",e.KeepLastState="KeepLastState",e.OK="OK",e.Error="Error"}(cE||(cE={}));const fE="ruler not supported";var hE;function mE(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function gE(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){mE(o,n,i,a,s,"next",e)}function s(e){mE(o,n,i,a,s,"throw",e)}a(void 0)}))}}function vE(e){const{dataSourceName:t}=e;return{rules:e=>{const r=function(e,t){return(null==t?void 0:t.dashboardUID)&&(e.set("dashboard_uid",t.dashboardUID),(null==t?void 0:t.panelId)&&e.set("panel_id",String(t.panelId))),Object.fromEntries(e)}(new URLSearchParams,e);return{url:`/api/prometheus/${$O(t)}/api/v1/rules`,params:r}}}}function bE(e,t){return yE.apply(this,arguments)}function yE(){return yE=gE((function*(e,t){if((null==t?void 0:t.dashboardUID)&&e!==MO)throw new Error("Filtering by dashboard UID is only supported for Grafana Managed rules.");const{url:r,params:n}=vE({dataSourceName:e}).rules(t),i=yield(0,y_.lastValueFrom)((0,o.getBackendSrv)().fetch({url:r,params:n,showErrorAlert:!1,showSuccessAlert:!1})).catch((e=>{if("status"in e&&404===e.status)throw new Error("404 from rule state endpoint. Perhaps ruler API is not enabled?");throw e})),a={};return i.data.data.groups.forEach((t=>{t.rules.forEach((e=>{e.query=e.query||""})),a[t.file]?a[t.file].groups.push(t):a[t.file]={dataSourceName:e,name:t.file,groups:[t]}})),Object.values(a)})),yE.apply(this,arguments)}function wE(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function xE(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){wE(o,n,i,a,s,"next",e)}function s(e){wE(o,n,i,a,s,"throw",e)}a(void 0)}))}}function OE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){OE(e,t,r[t])}))}return e}function EE(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function SE(e){return kE.apply(this,arguments)}function kE(){return(kE=xE((function*(e){return PE(`/api/ruler/${$O(e)}/api/v1/rules/test/test`,null)}))).apply(this,arguments)}function PE(e,t,r){return TE.apply(this,arguments)}function TE(){return TE=xE((function*(e,t,r){try{return(yield(0,y_.lastValueFrom)((0,o.getBackendSrv)().fetch({url:e,showErrorAlert:!1,showSuccessAlert:!1,params:r}))).data}catch(e){if(!CE(e))throw e;if(DE(e))return t;if(IE(e))throw EE(_E({},e),{data:EE(_E({},e.data),{message:fE})});throw e}})),TE.apply(this,arguments)}function CE(e){const t=null!=e.data;return Number.isFinite(e.status)&&t}function IE(e){var t;return 404===e.status||500===e.status&&(null===(t=e.data.message)||void 0===t?void 0:t.includes("unexpected content type from upstream. expected YAML, got text/html"))}function DE(e){var t,r;return 404===e.status&&((null===(t=e.data.message)||void 0===t?void 0:t.includes("group does not exist"))||(null===(r=e.data.message)||void 0===r?void 0:r.includes("no rule groups found")))}function AE(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function RE(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){AE(o,n,i,a,s,"next",e)}function s(e){AE(o,n,i,a,s,"throw",e)}a(void 0)}))}}function NE(){return(NE=RE((function*(e){const{url:t,name:r,type:n}=e,i="loki"===n?void 0:yield ME(t);if(void 0===i){if(!(yield LE(r)))throw new Error(`Unable to fetch alert rules. Is the ${r} data source properly configured?`);const e=yield FE(r);return{application:lE.Lotex,features:{rulerApiEnabled:e}}}const{features:o}=i.data;return o?{application:lE.Mimir,features:{rulerApiEnabled:"true"===(null==o?void 0:o.ruler_config_api)}}:{application:lE.Prometheus,features:{rulerApiEnabled:!1}}}))).apply(this,arguments)}function ME(e){return jE.apply(this,arguments)}function jE(){return(jE=RE((function*(e){const t=yield(0,y_.lastValueFrom)((0,o.getBackendSrv)().fetch({url:`${e}/api/v1/status/buildinfo`,showErrorAlert:!1,showSuccessAlert:!1})).catch((e=>{if(!("status"in e)||404!==e.status)throw e}));return null==t?void 0:t.data}))).apply(this,arguments)}function LE(e){return $E.apply(this,arguments)}function $E(){return($E=RE((function*(e){try{return yield bE(e),!0}catch(e){return!1}}))).apply(this,arguments)}function FE(e){return qE.apply(this,arguments)}function qE(){return(qE=RE((function*(e){try{return yield SE(e),!0}catch(e){if(VE(e))return!1;throw e}}))).apply(this,arguments)}function VE(e){var t,r,n,i;return(0,o.isFetchError)(e)&&((null===(t=e.data.message)||void 0===t?void 0:t.includes("GetRuleGroup unsupported in rule local store"))||(null===(r=e.data.message)||void 0===r?void 0:r.includes("page not found")))||(null===(n=e.message)||void 0===n?void 0:n.includes("404 from rules config endpoint"))||(null===(i=e.data.message)||void 0===i?void 0:i.includes(fE))}!function(e){e.description="description",e.summary="summary",e.runbookURL="runbook_url",e.alertId="__alertId__",e.dashboardUID="__dashboardUid__",e.panelID="__panelId__"}(hE||(hE={})),hE.description,hE.summary,hE.runbookURL,hE.dashboardUID,hE.panelID,hE.alertId;const zE=new t.EventBusSrv;var BE={};function HE(){return BE}var QE={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function WE(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}const UE={date:WE({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:WE({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:WE({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var XE={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function GE(e){return function(t,r){var n;if("formatting"===(null!=r&&r.context?String(r.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!=r&&r.width?String(r.width):i;n=e.formattingValues[o]||e.formattingValues[i]}else{var a=e.defaultWidth,s=null!=r&&r.width?String(r.width):e.defaultWidth;n=e.values[s]||e.values[a]}return n[e.argumentCallback?e.argumentCallback(t):t]}}var KE={ordinalNumber:function(e,t){var r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:GE({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:GE({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:GE({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:GE({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:GE({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};const YE=KE;function JE(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a,s=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?eS(l,(function(e){return e.test(s)})):ZE(l,(function(e){return e.test(s)}));a=e.valueCallback?e.valueCallback(c):c,a=r.valueCallback?r.valueCallback(a):a;var u=t.slice(s.length);return{value:a,rest:u}}}function ZE(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function eS(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}var tS,rS={ordinalNumber:(tS={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.match(tS.matchPattern);if(!r)return null;var n=r[0],i=e.match(tS.parsePattern);if(!i)return null;var o=tS.valueCallback?tS.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;var a=e.slice(n.length);return{value:o,rest:a}}),era:JE({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:JE({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:JE({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:JE({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:JE({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const nS={code:"en-US",formatDistance:function(e,t,r){var n,i=QE[e];return n="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!=r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatLong:UE,formatRelative:function(e,t,r,n){return XE[e]},localize:YE,match:rS,options:{weekStartsOn:0,firstWeekContainsDate:1}};var iS=["years","months","weeks","days","hours","minutes","seconds"];function oS(){return oS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oS.apply(this,arguments)}const aS=(0,r.forwardRef)(((e,t)=>{var{className:r,children:i}=e,o=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["className","children"]);const l=(0,a.useStyles2)(sS);return n().createElement("div",oS({ref:t,className:(0,s.cx)("button-group",l.wrapper,r)},o),i)}));aS.displayName="ButtonGroup";const sS=e=>({wrapper:s.css`
    display: flex;

    > .button-group:not(:first-child) > button,
    > button:not(:first-child) {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }

    > .button-group:not(:last-child) > button,
    > button:not(:last-child) {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
      border-right-width: 0;
    }
  `});function lS(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=lS(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function cS(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=lS(e))&&(n&&(n+=" "),n+=t);return n}"undefined"!=typeof window&&n().useLayoutEffect;let uS=new Map;function dS(e,t){if(e===t)return e;let r=uS.get(e);if(r)return r(t),t;let n=uS.get(t);return n?(n(e),e):t}function pS(...e){return(...t)=>{for(let r of e)"function"==typeof r&&r(...t)}}function fS(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let e in n){let r=t[e],i=n[e];"function"==typeof r&&"function"==typeof i&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=pS(r,i):"className"!==e&&"UNSAFE_className"!==e||"string"!=typeof r||"string"!=typeof i?"id"===e&&r&&i?t.id=dS(r,i):t[e]=void 0!==i?i:r:t[e]=cS(r,i)}}return t}const hS=new Set(["id"]),mS=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),gS=/^(data-.*)$/;let vS=new Map,bS=new Set;function yS(){if("undefined"==typeof window)return;let e=t=>{let r=vS.get(t.target);if(r&&(r.delete(t.propertyName),0===r.size&&(t.target.removeEventListener("transitioncancel",e),vS.delete(t.target)),0===vS.size)){for(let e of bS)e();bS.clear()}};document.body.addEventListener("transitionrun",(t=>{let r=vS.get(t.target);r||(r=new Set,vS.set(t.target,r),t.target.addEventListener("transitioncancel",e)),r.add(t.propertyName)})),document.body.addEventListener("transitionend",e)}"undefined"!=typeof document&&("loading"!==document.readyState?yS():document.addEventListener("DOMContentLoaded",yS)),"undefined"!=typeof window&&window.visualViewport,new Map;const wS="undefined"!=typeof window?n().useLayoutEffect:()=>{};let xS=new Map;function OS(e,t){if(e===t)return e;let r=xS.get(e);if(r)return r(t),t;let n=xS.get(t);return n?(n(e),e):t}function _S(...e){return(...t)=>{for(let r of e)"function"==typeof r&&r(...t)}}function ES(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let e in n){let r=t[e],i=n[e];"function"==typeof r&&"function"==typeof i&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=_S(r,i):"className"!==e&&"UNSAFE_className"!==e||"string"!=typeof r||"string"!=typeof i?"id"===e&&r&&i?t.id=OS(r,i):t[e]=void 0!==i?i:r:t[e]=cS(r,i)}}return t}function SS(e){if(function(){if(null==kS){kS=!1;try{document.createElement("div").focus({get preventScroll(){return kS=!0,!0}})}catch(e){}}return kS}())e.focus({preventScroll:!0});else{let t=function(e){for(var t=e.parentNode,r=[],n=document.scrollingElement||document.documentElement;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}(e);e.focus(),function(e){for(let{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}(t)}}new Set(["id"]),new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]);let kS=null,PS=new Map,TS=new Set;function CS(){if("undefined"==typeof window)return;let e=t=>{let r=PS.get(t.target);if(r&&(r.delete(t.propertyName),0===r.size&&(t.target.removeEventListener("transitioncancel",e),PS.delete(t.target)),0===PS.size)){for(let e of TS)e();TS.clear()}};document.body.addEventListener("transitionrun",(t=>{let r=PS.get(t.target);r||(r=new Set,PS.set(t.target,r),t.target.addEventListener("transitioncancel",e)),r.add(t.propertyName)})),document.body.addEventListener("transitionend",e)}"undefined"!=typeof document&&("loading"!==document.readyState?CS():document.addEventListener("DOMContentLoaded",CS)),"undefined"!=typeof window&&window.visualViewport,new Map;const IS="undefined"!=typeof window?n().useLayoutEffect:()=>{};let DS=new Map;function AS(e,t){if(e===t)return e;let r=DS.get(e);if(r)return r(t),t;let n=DS.get(t);return n?(n(e),e):t}function RS(...e){return(...t)=>{for(let r of e)"function"==typeof r&&r(...t)}}function NS(...e){let t={...e[0]};for(let r=1;r<e.length;r++){let n=e[r];for(let e in n){let r=t[e],i=n[e];"function"==typeof r&&"function"==typeof i&&"o"===e[0]&&"n"===e[1]&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=RS(r,i):"className"!==e&&"UNSAFE_className"!==e||"string"!=typeof r||"string"!=typeof i?"id"===e&&r&&i?t.id=AS(r,i):t[e]=void 0!==i?i:r:t[e]=cS(r,i)}}return t}function MS(e){if(function(){if(null==jS){jS=!1;try{document.createElement("div").focus({get preventScroll(){return jS=!0,!0}})}catch(e){}}return jS}())e.focus({preventScroll:!0});else{let t=function(e){for(var t=e.parentNode,r=[],n=document.scrollingElement||document.documentElement;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}(e);e.focus(),function(e){for(let{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}(t)}}new Set(["id"]),new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]);let jS=null,LS=new Map,$S=new Set;function FS(){if("undefined"==typeof window)return;let e=t=>{let r=LS.get(t.target);if(r&&(r.delete(t.propertyName),0===r.size&&(t.target.removeEventListener("transitioncancel",e),LS.delete(t.target)),0===LS.size)){for(let e of $S)e();$S.clear()}};document.body.addEventListener("transitionrun",(t=>{let r=LS.get(t.target);r||(r=new Set,LS.set(t.target,r),t.target.addEventListener("transitioncancel",e)),r.add(t.propertyName)})),document.body.addEventListener("transitionend",e)}function qS(){let e=(0,r.useRef)(new Map),t=(0,r.useCallback)(((t,r,n,i)=>{let o=(null==i?void 0:i.once)?(...t)=>{e.current.delete(n),n(...t)}:n;e.current.set(n,{type:r,eventTarget:t,fn:o,options:i}),t.addEventListener(r,n,i)}),[]),n=(0,r.useCallback)(((t,r,n,i)=>{var o;let a=(null===(o=e.current.get(n))||void 0===o?void 0:o.fn)||n;t.removeEventListener(r,a,i),e.current.delete(n)}),[]),i=(0,r.useCallback)((()=>{e.current.forEach(((e,t)=>{n(e.eventTarget,e.type,t,e.options)}))}),[n]);return(0,r.useEffect)((()=>i),[i]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:i}}"undefined"!=typeof document&&("loading"!==document.readyState?FS():document.addEventListener("DOMContentLoaded",FS)),"undefined"!=typeof window&&window.visualViewport;let VS=0;const zS=new Map;function BS(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function HS(){return BS(/^Mac/i)}function QS(){return BS(/^iPhone/i)||BS(/^iPad/i)||HS()&&navigator.maxTouchPoints>1}let WS="default",US="",XS=new WeakMap;function GS(e){QS()?("default"===WS&&(US=document.documentElement.style.webkitUserSelect,document.documentElement.style.webkitUserSelect="none"),WS="disabled"):(e instanceof HTMLElement||e instanceof SVGElement)&&(XS.set(e,e.style.userSelect),e.style.userSelect="none")}function KS(e){if(QS()){if("disabled"!==WS)return;WS="restoring",setTimeout((()=>{!function(e){requestAnimationFrame((()=>{0===LS.size?e():$S.add(e)}))}((()=>{"restoring"===WS&&("none"===document.documentElement.style.webkitUserSelect&&(document.documentElement.style.webkitUserSelect=US||""),US="",WS="default")}))}),300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&XS.has(e)){let t=XS.get(e);"none"===e.style.userSelect&&(e.style.userSelect=t),""===e.getAttribute("style")&&e.removeAttribute("style"),XS.delete(e)}}function YS(e){return!(0!==e.mozInputSource||!e.isTrusted)||0===e.detail&&!e.pointerType}class JS{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}}const ZS=n().createContext(null);function ek(e){let{onPress:t,onPressChange:n,onPressStart:i,onPressEnd:o,onPressUp:a,isDisabled:s,isPressed:l,preventFocusOnPress:c,shouldCancelOnPointerExit:u,allowTextSelectionOnPress:d,ref:p,...f}=function(e){let t=(0,r.useContext)(ZS);if(t){let{register:r,...n}=t;e=NS(n,e),r()}return function(e,t){IS((()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref.current=null}}),[e,t])}(t,e.ref),e}(e),h=(0,r.useRef)(null);h.current={onPress:t,onPressChange:n,onPressStart:i,onPressEnd:o,onPressUp:a,isDisabled:s,shouldCancelOnPointerExit:u};let[m,g]=(0,r.useState)(!1),v=(0,r.useRef)({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:b,removeAllGlobalListeners:y}=qS(),w=(0,r.useMemo)((()=>{let e=v.current,t=(t,r)=>{let{onPressStart:n,onPressChange:i,isDisabled:o}=h.current;o||e.didFirePressStart||(n&&n({type:"pressstart",pointerType:r,target:t.currentTarget,shiftKey:t.shiftKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey}),i&&i(!0),e.didFirePressStart=!0,g(!0))},r=(t,r,n=!0)=>{let{onPressEnd:i,onPressChange:o,onPress:a,isDisabled:s}=h.current;e.didFirePressStart&&(e.ignoreClickAfterPress=!0,e.didFirePressStart=!1,i&&i({type:"pressend",pointerType:r,target:t.currentTarget,shiftKey:t.shiftKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey}),o&&o(!1),g(!1),a&&n&&!s&&a({type:"press",pointerType:r,target:t.currentTarget,shiftKey:t.shiftKey,metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey}))},n=(e,t)=>{let{onPressUp:r,isDisabled:n}=h.current;n||r&&r({type:"pressup",pointerType:t,target:e.currentTarget,shiftKey:e.shiftKey,metaKey:e.metaKey,ctrlKey:e.ctrlKey,altKey:e.altKey})},i=t=>{e.isPressed&&(e.isOverTarget&&r(ik(e.target,t),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,y(),d||KS(e.target))},o={onKeyDown(r){rk(r.nativeEvent,r.currentTarget)&&r.currentTarget.contains(r.target)?(sk(r.target,r.key)&&r.preventDefault(),r.stopPropagation(),e.isPressed||r.repeat||(e.target=r.currentTarget,e.isPressed=!0,t(r,"keyboard"),b(document,"keyup",a,!1))):"Enter"===r.key&&tk(r.currentTarget)&&r.stopPropagation()},onKeyUp(t){rk(t.nativeEvent,t.currentTarget)&&!t.repeat&&t.currentTarget.contains(t.target)&&n(ik(e.target,t),"keyboard")},onClick(i){i&&!i.currentTarget.contains(i.target)||i&&0===i.button&&(i.stopPropagation(),s&&i.preventDefault(),e.ignoreClickAfterPress||e.ignoreEmulatedMouseEvents||"virtual"!==e.pointerType&&!YS(i.nativeEvent)||(s||c||MS(i.currentTarget),t(i,"virtual"),n(i,"virtual"),r(i,"virtual")),e.ignoreEmulatedMouseEvents=!1,e.ignoreClickAfterPress=!1)}},a=t=>{if(e.isPressed&&rk(t,e.target)){sk(t.target,t.key)&&t.preventDefault(),t.stopPropagation(),e.isPressed=!1;let n=t.target;r(ik(e.target,t),"keyboard",e.target.contains(n)),y(),e.target instanceof HTMLElement&&e.target.contains(n)&&(tk(e.target)||"link"===e.target.getAttribute("role"))&&e.target.click()}};if("undefined"!=typeof PointerEvent){o.onPointerDown=r=>{var n;0===r.button&&r.currentTarget.contains(r.target)&&(0===(n=r.nativeEvent).width&&0===n.height||1===n.width&&1===n.height&&0===n.pressure&&0===n.detail&&"mouse"===n.pointerType?e.pointerType="virtual":(ak(r.currentTarget)&&r.preventDefault(),e.pointerType=r.pointerType,r.stopPropagation(),e.isPressed||(e.isPressed=!0,e.isOverTarget=!0,e.activePointerId=r.pointerId,e.target=r.currentTarget,s||c||MS(r.currentTarget),d||GS(e.target),t(r,e.pointerType),b(document,"pointermove",a,!1),b(document,"pointerup",l,!1),b(document,"pointercancel",u,!1))))},o.onMouseDown=e=>{e.currentTarget.contains(e.target)&&0===e.button&&(ak(e.currentTarget)&&e.preventDefault(),e.stopPropagation())},o.onPointerUp=t=>{t.currentTarget.contains(t.target)&&"virtual"!==e.pointerType&&0===t.button&&ok(t,t.currentTarget)&&n(t,e.pointerType||t.pointerType)};let a=n=>{n.pointerId===e.activePointerId&&(ok(n,e.target)?e.isOverTarget||(e.isOverTarget=!0,t(ik(e.target,n),e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,r(ik(e.target,n),e.pointerType,!1),h.current.shouldCancelOnPointerExit&&i(n)))},l=t=>{t.pointerId===e.activePointerId&&e.isPressed&&0===t.button&&(ok(t,e.target)?r(ik(e.target,t),e.pointerType):e.isOverTarget&&r(ik(e.target,t),e.pointerType,!1),e.isPressed=!1,e.isOverTarget=!1,e.activePointerId=null,e.pointerType=null,y(),d||KS(e.target))},u=e=>{i(e)};o.onDragStart=e=>{e.currentTarget.contains(e.target)&&i(e)}}else{o.onMouseDown=r=>{0===r.button&&r.currentTarget.contains(r.target)&&(ak(r.currentTarget)&&r.preventDefault(),r.stopPropagation(),e.ignoreEmulatedMouseEvents||(e.isPressed=!0,e.isOverTarget=!0,e.target=r.currentTarget,e.pointerType=YS(r.nativeEvent)?"virtual":"mouse",s||c||MS(r.currentTarget),t(r,e.pointerType),b(document,"mouseup",a,!1)))},o.onMouseEnter=r=>{r.currentTarget.contains(r.target)&&(r.stopPropagation(),e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!0,t(r,e.pointerType)))},o.onMouseLeave=t=>{t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed&&!e.ignoreEmulatedMouseEvents&&(e.isOverTarget=!1,r(t,e.pointerType,!1),h.current.shouldCancelOnPointerExit&&i(t)))},o.onMouseUp=t=>{t.currentTarget.contains(t.target)&&(e.ignoreEmulatedMouseEvents||0!==t.button||n(t,e.pointerType))};let a=t=>{0===t.button&&(e.isPressed=!1,y(),e.ignoreEmulatedMouseEvents?e.ignoreEmulatedMouseEvents=!1:(ok(t,e.target)?r(ik(e.target,t),e.pointerType):e.isOverTarget&&r(ik(e.target,t),e.pointerType,!1),e.isOverTarget=!1))};o.onTouchStart=r=>{if(!r.currentTarget.contains(r.target))return;r.stopPropagation();let n=function(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}(r.nativeEvent);n&&(e.activePointerId=n.identifier,e.ignoreEmulatedMouseEvents=!0,e.isOverTarget=!0,e.isPressed=!0,e.target=r.currentTarget,e.pointerType="touch",s||c||MS(r.currentTarget),d||GS(e.target),t(r,e.pointerType),b(window,"scroll",l,!0))},o.onTouchMove=n=>{if(!n.currentTarget.contains(n.target))return;if(n.stopPropagation(),!e.isPressed)return;let o=nk(n.nativeEvent,e.activePointerId);o&&ok(o,n.currentTarget)?e.isOverTarget||(e.isOverTarget=!0,t(n,e.pointerType)):e.isOverTarget&&(e.isOverTarget=!1,r(n,e.pointerType,!1),h.current.shouldCancelOnPointerExit&&i(n))},o.onTouchEnd=t=>{if(!t.currentTarget.contains(t.target))return;if(t.stopPropagation(),!e.isPressed)return;let i=nk(t.nativeEvent,e.activePointerId);i&&ok(i,t.currentTarget)?(n(t,e.pointerType),r(t,e.pointerType)):e.isOverTarget&&r(t,e.pointerType,!1),e.isPressed=!1,e.activePointerId=null,e.isOverTarget=!1,e.ignoreEmulatedMouseEvents=!0,d||KS(e.target),y()},o.onTouchCancel=t=>{t.currentTarget.contains(t.target)&&(t.stopPropagation(),e.isPressed&&i(t))};let l=t=>{e.isPressed&&t.target.contains(e.target)&&i({currentTarget:e.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};o.onDragStart=e=>{e.currentTarget.contains(e.target)&&i(e)}}return o}),[b,s,c,y,d]);return(0,r.useEffect)((()=>()=>{d||KS(v.current.target)}),[d]),{isPressed:l||m,pressProps:NS(f,w)}}function tk(e){return"A"===e.tagName&&e.hasAttribute("href")}function rk(e,t){const{key:r,code:n}=e,i=t,o=i.getAttribute("role");return!("Enter"!==r&&" "!==r&&"Spacebar"!==r&&"Space"!==n||i instanceof HTMLInputElement&&!ck(i,r)||i instanceof HTMLTextAreaElement||i.isContentEditable||tk(i)&&("button"!==o||"Enter"===r)||"link"===o&&"Enter"!==r)}function nk(e,t){const r=e.changedTouches;for(let e=0;e<r.length;e++){const n=r[e];if(n.identifier===t)return n}return null}function ik(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function ok(e,t){let r=t.getBoundingClientRect(),n=function(e){let t=e.width/2||e.radiusX||0,r=e.height/2||e.radiusY||0;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}(e);return function(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}(r,n)}function ak(e){return!(e instanceof HTMLElement&&e.draggable)}function sk(e,t){return e instanceof HTMLInputElement?!ck(e,t):!(e instanceof HTMLButtonElement)||"submit"!==e.type}ZS.displayName="PressResponderContext";const lk=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ck(e,t){return"checkbox"===e.type||"radio"===e.type?" "===t:lk.has(e.type)}let uk=null,dk=new Set,pk=!1,fk=!1,hk=!1;function mk(e,t){for(let r of dk)r(e,t)}function gk(e){fk=!0,function(e){return!(e.metaKey||!HS()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key)}(e)&&(uk="keyboard",mk("keyboard",e))}function vk(e){uk="pointer","mousedown"!==e.type&&"pointerdown"!==e.type||(fk=!0,mk("pointer",e))}function bk(e){YS(e)&&(fk=!0,uk="virtual")}function yk(e){e.target!==window&&e.target!==document&&(fk||hk||(uk="virtual",mk("virtual",e)),fk=!1,hk=!1)}function wk(){fk=!1,hk=!0}function xk(){if("undefined"==typeof window||pk)return;let e=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){fk=!0,e.apply(this,arguments)},document.addEventListener("keydown",gk,!0),document.addEventListener("keyup",gk,!0),document.addEventListener("click",bk,!0),window.addEventListener("focus",yk,!0),window.addEventListener("blur",wk,!1),"undefined"!=typeof PointerEvent?(document.addEventListener("pointerdown",vk,!0),document.addEventListener("pointermove",vk,!0),document.addEventListener("pointerup",vk,!0)):(document.addEventListener("mousedown",vk,!0),document.addEventListener("mousemove",vk,!0),document.addEventListener("mouseup",vk,!0)),pk=!0}function Ok(e){if(!e)return;let t=!0;return r=>{let n={...r,preventDefault(){r.preventDefault()},isDefaultPrevented:()=>r.isDefaultPrevented(),stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(n),t&&r.stopPropagation()}}"undefined"!=typeof document&&("loading"!==document.readyState?xk():document.addEventListener("DOMContentLoaded",xk));const _k=500;function Ek(e){if("virtual"===uk){let t=document.activeElement;!function(e){requestAnimationFrame((()=>{0===PS.size?e():TS.add(e)}))}((()=>{document.activeElement===t&&document.contains(e)&&SS(e)}))}else SS(e)}function Sk(e,t){return"#comment"!==e.nodeName&&function(e){if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;let{display:t,visibility:r}=e.style,n="none"!==t&&"hidden"!==r&&"collapse"!==r;if(n){const{getComputedStyle:t}=e.ownerDocument.defaultView;let{display:r,visibility:i}=t(e);n="none"!==r&&"hidden"!==i&&"collapse"!==i}return n}(e)&&function(e,t){return!e.hasAttribute("hidden")&&("DETAILS"!==e.nodeName||!t||"SUMMARY"===t.nodeName||e.hasAttribute("open"))}(e,t)&&(!e.parentElement||Sk(e.parentElement,e))}const kk=n().createContext(null);let Pk=null;function Tk(e){let{children:t,contain:i,restoreFocus:o,autoFocus:a}=e,s=(0,r.useRef)(),l=(0,r.useRef)(),c=(0,r.useRef)([]),u=(0,r.useContext)(kk);var d;let p=null!==(d=null==u?void 0:u.scopeRef)&&void 0!==d?d:null;wS((()=>{let e=s.current.nextSibling,t=[];for(;e&&e!==l.current;)t.push(e),e=e.nextSibling;c.current=t}),[t,p]),zk.getTreeNode(p)&&!zk.getTreeNode(c)&&zk.addTreeNode(c,p),zk.getTreeNode(c).contain=i,function(e,t){let n=(0,r.useRef)(),i=(0,r.useRef)(null);wS((()=>{let r=e.current;if(!t)return void(i.current&&(cancelAnimationFrame(i.current),i.current=null));let o=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!Rk(e))return;let r=document.activeElement,n=e.current;if(!Nk(r,n))return;let i=Fk(Ak(n),{tabbable:!0},n);i.currentNode=r;let o=t.shiftKey?i.previousNode():i.nextNode();o||(i.currentNode=t.shiftKey?n[n.length-1].nextElementSibling:n[0].previousElementSibling,o=t.shiftKey?i.previousNode():i.nextNode()),t.preventDefault(),o&&Lk(o,!0)},a=t=>{!Pk||jk(Pk,e)?(Pk=e,n.current=t.target):Rk(e)&&!Mk(t.target,e)?n.current?n.current.focus():Pk&&$k(Pk.current):Rk(e)&&(n.current=t.target)},s=t=>{i.current=requestAnimationFrame((()=>{Rk(e)&&!Mk(document.activeElement,e)&&(Pk=e,document.body.contains(t.target)?(n.current=t.target,n.current.focus()):Pk&&$k(Pk.current))}))};return document.addEventListener("keydown",o,!1),document.addEventListener("focusin",a,!1),r.forEach((e=>e.addEventListener("focusin",a,!1))),r.forEach((e=>e.addEventListener("focusout",s,!1))),()=>{document.removeEventListener("keydown",o,!1),document.removeEventListener("focusin",a,!1),r.forEach((e=>e.removeEventListener("focusin",a,!1))),r.forEach((e=>e.removeEventListener("focusout",s,!1)))}}),[e,t]),(0,r.useEffect)((()=>()=>{i.current&&cancelAnimationFrame(i.current)}),[i])}(c,i),function(e,t,n){const i=(0,r.useRef)("undefined"!=typeof document?document.activeElement:null);wS((()=>{let r=e.current;if(!t||n)return;let i=()=>{Pk&&!jk(Pk,e)||(Pk=e)};return document.addEventListener("focusin",i,!1),r.forEach((e=>e.addEventListener("focusin",i,!1))),()=>{document.removeEventListener("focusin",i,!1),r.forEach((e=>e.removeEventListener("focusin",i,!1)))}}),[e,n]),wS((()=>{if(zk.getTreeNode(e).nodeToRestore=i.current,!t)return;let r=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey)return;let r=document.activeElement;if(!Nk(r,e.current))return;let n=zk.getTreeNode(e).nodeToRestore,i=Fk(document.body,{tabbable:!0});i.currentNode=r;let o=t.shiftKey?i.previousNode():i.nextNode();if(document.body.contains(n)&&n!==document.body||(n=null,zk.getTreeNode(e).nodeToRestore=null),(!o||!Nk(o,e.current))&&n){i.currentNode=n;do{o=t.shiftKey?i.previousNode():i.nextNode()}while(Nk(o,e.current));t.preventDefault(),t.stopPropagation(),o?Lk(o,!0):Mk(n)?Lk(n,!0):r.blur()}};return n||document.addEventListener("keydown",r,!0),()=>{n||document.removeEventListener("keydown",r,!0);let i=zk.getTreeNode(e).nodeToRestore;if(t&&i&&(Nk(document.activeElement,e.current)||document.activeElement===document.body&&Pk===e)){let t=zk.clone();requestAnimationFrame((()=>{if(document.activeElement===document.body){let r=t.getTreeNode(e);for(;r;){if(r.nodeToRestore&&document.body.contains(r.nodeToRestore))return void Lk(r.nodeToRestore);r=r.parent}}}))}}}),[e,t,n])}(c,o,i),function(e,t){const i=n().useRef(t);(0,r.useEffect)((()=>{i.current&&(Pk=e,Nk(document.activeElement,Pk.current)||$k(e.current)),i.current=!1}),[e])}(c,a),wS((()=>{if(c&&(p||null==p))return()=>{c!==Pk&&!jk(c,Pk)||p&&!zk.getTreeNode(p)||(Pk=p),zk.removeTreeNode(c)}}),[c,p]);let f=function(e){return{focusNext(t={}){let r=e.current,{from:n,tabbable:i,wrap:o,accept:a}=t,s=n||document.activeElement,l=r[0].previousElementSibling,c=Fk(Ak(r),{tabbable:i,accept:a},r);c.currentNode=Nk(s,r)?s:l;let u=c.nextNode();return!u&&o&&(c.currentNode=l,u=c.nextNode()),u&&Lk(u,!0),u},focusPrevious(t={}){let r=e.current,{from:n,tabbable:i,wrap:o,accept:a}=t,s=n||document.activeElement,l=r[r.length-1].nextElementSibling,c=Fk(Ak(r),{tabbable:i,accept:a},r);c.currentNode=Nk(s,r)?s:l;let u=c.previousNode();return!u&&o&&(c.currentNode=l,u=c.previousNode()),u&&Lk(u,!0),u},focusFirst(t={}){let r=e.current,{tabbable:n,accept:i}=t,o=Fk(Ak(r),{tabbable:n,accept:i},r);o.currentNode=r[0].previousElementSibling;let a=o.nextNode();return a&&Lk(a,!0),a},focusLast(t={}){let r=e.current,{tabbable:n,accept:i}=t,o=Fk(Ak(r),{tabbable:n,accept:i},r);o.currentNode=r[r.length-1].nextElementSibling;let a=o.previousNode();return a&&Lk(a,!0),a}}}(c);return n().createElement(kk.Provider,{value:{scopeRef:c,focusManager:f}},n().createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:s}),t,n().createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:l}))}const Ck=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],Ik=Ck.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";Ck.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const Dk=Ck.join(':not([hidden]):not([tabindex="-1"]),');function Ak(e){return e[0].parentElement}function Rk(e){let t=zk.getTreeNode(Pk);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function Nk(e,t){return t.some((t=>t.contains(e)))}function Mk(e,t=null){for(let{scopeRef:r}of zk.traverse(zk.getTreeNode(t)))if(Nk(e,r.current))return!0;return!1}function jk(e,t){var r;let n=null===(r=zk.getTreeNode(t))||void 0===r?void 0:r.parent;for(;n;){if(n.scopeRef===e)return!0;n=n.parent}return!1}function Lk(e,t=!1){if(null==e||t){if(null!=e)try{e.focus()}catch(e){}}else try{Ek(e)}catch(e){}}function $k(e,t=!0){let r=e[0].previousElementSibling,n=Fk(Ak(e),{tabbable:t},e);n.currentNode=r;let i=n.nextNode();t&&!i&&(n=Fk(Ak(e),{tabbable:!1},e),n.currentNode=r,i=n.nextNode()),Lk(i)}function Fk(e,t,r){let n=(null==t?void 0:t.tabbable)?Dk:Ik,i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(e){var i;return(null==t||null===(i=t.from)||void 0===i?void 0:i.contains(e))?NodeFilter.FILTER_REJECT:!e.matches(n)||!Sk(e)||r&&!Nk(e,r)||(null==t?void 0:t.accept)&&!t.accept(e)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}});return(null==t?void 0:t.from)&&(i.currentNode=t.from),i}class qk{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,r){let n=this.fastMap.get(null!=t?t:null),i=new Vk({scopeRef:e});n.addChild(i),i.parent=n,this.fastMap.set(e,i),r&&(i.nodeToRestore=r)}removeTreeNode(e){if(null===e)return;let t=this.fastMap.get(e),r=t.parent;for(let e of this.traverse())e!==t&&t.nodeToRestore&&e.nodeToRestore&&t.scopeRef.current&&Nk(e.nodeToRestore,t.scopeRef.current)&&(e.nodeToRestore=t.nodeToRestore);let n=t.children;r.removeChild(t),n.length>0&&n.forEach((e=>r.addChild(e))),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(null!=e.scopeRef&&(yield e),e.children.length>0)for(let t of e.children)yield*this.traverse(t)}clone(){let e=new qk;for(let t of this.traverse())e.addTreeNode(t.scopeRef,t.parent.scopeRef,t.nodeToRestore);return e}constructor(){this.fastMap=new Map,this.root=new Vk({scopeRef:null}),this.fastMap.set(null,this.root)}}class Vk{addChild(e){this.children.push(e),e.parent=this}removeChild(e){this.children.splice(this.children.indexOf(e),1),e.parent=void 0}constructor(e){this.children=[],this.contain=!1,this.scopeRef=e.scopeRef}}let zk=new qk,Bk=n().createContext(null);function Hk(e,t){let{focusProps:n}=function(e){let{isDisabled:t,onFocus:n,onBlur:i,onFocusChange:o}=e;const a=(0,r.useCallback)((e=>{if(e.target===e.currentTarget)return i&&i(e),o&&o(!1),!0}),[i,o]),s=function(e){let t=(0,r.useRef)({isFocused:!1,onBlur:e,observer:null});return t.current.onBlur=e,IS((()=>{const e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}}),[]),(0,r.useCallback)((e=>{if(e.target instanceof HTMLButtonElement||e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=e.target,n=e=>{var n,i;t.current.isFocused=!1,r.disabled&&(null===(i=(n=t.current).onBlur)||void 0===i||i.call(n,new JS("blur",e))),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",n,{once:!0}),t.current.observer=new MutationObserver((()=>{t.current.isFocused&&r.disabled&&(t.current.observer.disconnect(),r.dispatchEvent(new FocusEvent("blur")),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0})))})),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}}),[])}(a),l=(0,r.useCallback)((e=>{e.target===e.currentTarget&&(n&&n(e),o&&o(!0),s(e))}),[o,n,s]);return{focusProps:{onFocus:!t&&(n||o||i)?l:void 0,onBlur:t||!i&&!o?null:a}}}(e),{keyboardProps:i}=function(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:Ok(e.onKeyDown),onKeyUp:Ok(e.onKeyUp)}}}(e),o=ES(n,i),a=function(e){let t=(0,r.useContext)(Bk)||{};!function(e,t){wS((()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref.current=null}}),[e,t])}(t,e);let{ref:n,...i}=t;return i}(t),s=e.isDisabled?{}:a,l=(0,r.useRef)(e.autoFocus);return(0,r.useEffect)((()=>{l.current&&t.current&&Ek(t.current),l.current=!1}),[t]),{focusableProps:ES({...o,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},s)}}const Qk={prefix:String(Math.round(1e10*Math.random())),current:0},Wk=n().createContext(Qk);let Uk=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement);function Xk(e){let t=(0,r.useContext)(Wk);return t!==Qk||Uk||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,r.useMemo)((()=>e||`react-aria${t.prefix}-${++t.current}`),[e])}const Gk="undefined"!=typeof window?n().useLayoutEffect:()=>{};let Kk=new Map;new Set(["id"]),new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]);let Yk=new Map,Jk=new Set;function Zk(){if("undefined"==typeof window)return;let e=t=>{let r=Yk.get(t.target);if(r&&(r.delete(t.propertyName),0===r.size&&(t.target.removeEventListener("transitioncancel",e),Yk.delete(t.target)),0===Yk.size)){for(let e of Jk)e();Jk.clear()}};document.body.addEventListener("transitionrun",(t=>{let r=Yk.get(t.target);r||(r=new Set,Yk.set(t.target,r),t.target.addEventListener("transitioncancel",e)),r.add(t.propertyName)})),document.body.addEventListener("transitionend",e)}"undefined"!=typeof document&&("loading"!==document.readyState?Zk():document.addEventListener("DOMContentLoaded",Zk)),"undefined"!=typeof window&&window.visualViewport,new Map;class eP{getStringForLocale(e,t){let r=this.strings[t];r||(r=function(e,t,r="en-US"){if(t[e])return t[e];let n=function(e){return Intl.Locale?new Intl.Locale(e).language:e.split("-")[0]}(e);if(t[n])return t[n];for(let e in t)if(e.startsWith(n+"-"))return t[e];return t[r]}(t,this.strings,this.defaultLocale),this.strings[t]=r);let n=r[e];if(!n)throw new Error(`Could not find intl message ${e} in ${t} locale`);return n}constructor(e,t="en-US"){this.strings={...e},this.defaultLocale=t}}const tP=new Map,rP=new Map;class nP{format(e,t){let r=this.strings.getStringForLocale(e,this.locale);return"function"==typeof r?r(t,this):r}plural(e,t,r="cardinal"){let n=t["="+e];if(n)return"function"==typeof n?n():n;let i=this.locale+":"+r,o=tP.get(i);return o||(o=new Intl.PluralRules(this.locale,{type:r}),tP.set(i,o)),n=t[o.select(e)]||t.other,"function"==typeof n?n():n}number(e){let t=rP.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),rP.set(this.locale,t)),t.format(e)}select(e,t){let r=e[t]||e.other;return"function"==typeof r?r():r}constructor(e,t){this.locale=e,this.strings=t}}const iP=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),oP=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function aP(e){if(Intl.Locale){let t=new Intl.Locale(e).maximize().script;return iP.has(t)}let t=e.split("-")[0];return oP.has(t)}function sP(){let e="undefined"!=typeof navigator&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch(t){e="en-US"}return{locale:e,direction:aP(e)?"rtl":"ltr"}}let lP=sP(),cP=new Set;function uP(){lP=sP();for(let e of cP)e(lP)}const dP=n().createContext(null);function pP(){let e=function(){let e=function(){let e=(0,r.useContext)(Wk)!==Qk,[t,n]=(0,r.useState)(e);return"undefined"!=typeof window&&e&&(0,r.useLayoutEffect)((()=>{n(!1)}),[]),t}(),[t,n]=(0,r.useState)(lP);return(0,r.useEffect)((()=>(0===cP.size&&window.addEventListener("languagechange",uP),cP.add(n),()=>{cP.delete(n),0===cP.size&&window.removeEventListener("languagechange",uP)})),[]),e?{locale:"en-US",direction:"ltr"}:t}();return(0,r.useContext)(dP)||e}const fP=new WeakMap;new Map;const hP="undefined"!=typeof window?n().useLayoutEffect:()=>{};let mP=new Map;new Set(["id"]),new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]);let gP=new Map,vP=new Set;function bP(){if("undefined"==typeof window)return;let e=t=>{let r=gP.get(t.target);if(r&&(r.delete(t.propertyName),0===r.size&&(t.target.removeEventListener("transitioncancel",e),gP.delete(t.target)),0===gP.size)){for(let e of vP)e();vP.clear()}};document.body.addEventListener("transitionrun",(t=>{let r=gP.get(t.target);r||(r=new Set,gP.set(t.target,r),t.target.addEventListener("transitioncancel",e)),r.add(t.propertyName)})),document.body.addEventListener("transitionend",e)}"undefined"!=typeof document&&("loading"!==document.readyState?bP():document.addEventListener("DOMContentLoaded",bP)),"undefined"!=typeof window&&window.visualViewport,new Map,"undefined"!=typeof window&&window.visualViewport;const yP=new WeakMap;function wP(e){return e&&e.__esModule?e.default:e}var xP;function OP(e,t,n){let{type:i="menu",isDisabled:o,trigger:a="press"}=e,s=function(e){let[t,n]=(0,r.useState)(e),i=(0,r.useRef)(null),o=Xk(t),a=(0,r.useCallback)((e=>{i.current=e}),[]);return Kk.set(o,a),Gk((()=>{let e=o;return()=>{Kk.delete(e)}}),[o]),(0,r.useEffect)((()=>{let e=i.current;e&&(i.current=null,n(e))})),o}(),{triggerProps:l,overlayProps:c}=function(e,t,n){let i,{type:o}=e,{isOpen:a}=t;(0,r.useEffect)((()=>{n&&n.current&&yP.set(n.current,t.close)})),"menu"===o?i=!0:"listbox"===o&&(i="listbox");let s=function(e){let[t,n]=(0,r.useState)(e),i=(0,r.useRef)(null),o=Xk(t),a=(0,r.useCallback)((e=>{i.current=e}),[]);return mP.set(o,a),hP((()=>{let e=o;return()=>{mP.delete(e)}}),[o]),(0,r.useEffect)((()=>{let e=i.current;e&&(i.current=null,n(e))})),o}();return{triggerProps:{"aria-haspopup":i,"aria-expanded":a,"aria-controls":a?s:null,onPress:t.toggle},overlayProps:{id:s}}}({type:i},t,n),u=function(e){let{locale:t}=pP(),n=(0,r.useMemo)((()=>function(e){let t=fP.get(e);return t||(t=new eP(e),fP.set(e,t)),t}(e)),[e]);return(0,r.useMemo)((()=>new nP(t,n)),[t,n])}(wP(xP)),{longPressProps:d}=function(e){let{isDisabled:t,onLongPressStart:n,onLongPressEnd:i,onLongPress:o,threshold:a=_k,accessibilityDescription:s}=e;const l=(0,r.useRef)(null);let{addGlobalListener:c,removeGlobalListener:u}=qS(),{pressProps:d}=ek({isDisabled:t,onPressStart(e){if(("mouse"===e.pointerType||"touch"===e.pointerType)&&(n&&n({...e,type:"longpressstart"}),l.current=setTimeout((()=>{e.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),o&&o({...e,type:"longpress"}),l.current=null}),a),"touch"===e.pointerType)){let t=e=>{e.preventDefault()};c(e.target,"contextmenu",t,{once:!0}),c(window,"pointerup",(()=>{setTimeout((()=>{u(e.target,"contextmenu",t)}),30)}),{once:!0})}},onPressEnd(e){l.current&&clearTimeout(l.current),!i||"mouse"!==e.pointerType&&"touch"!==e.pointerType||i({...e,type:"longpressend"})}}),p=function(e){let[t,n]=(0,r.useState)(null);return IS((()=>{if(!e)return;let t=zS.get(e);if(t)n(t.element.id);else{let r="react-aria-description-"+VS++;n(r);let i=document.createElement("div");i.id=r,i.style.display="none",i.textContent=e,document.body.appendChild(i),t={refCount:0,element:i},zS.set(e,t)}return t.refCount++,()=>{0==--t.refCount&&(t.element.remove(),zS.delete(e))}}),[e]),{"aria-describedby":e?t:void 0}}(o&&!t?s:null);return{longPressProps:NS(d,p)}}({isDisabled:o||"longPress"!==a,accessibilityDescription:u.format("longPressMessage"),onLongPressStart(){t.close()},onLongPress(){t.open("first")}}),p={onPressStart(e){"touch"===e.pointerType||"keyboard"===e.pointerType||o||t.toggle("virtual"===e.pointerType?"first":null)},onPress(e){"touch"!==e.pointerType||o||t.toggle()}};return delete l.onPress,{menuTriggerProps:{...l,..."press"===a?p:d,id:s,onKeyDown:e=>{if(!o&&("longPress"!==a||e.altKey)&&n&&n.current)switch(e.key){case"Enter":case" ":if("longPress"===a)return;case"ArrowDown":"continuePropagation"in e||e.stopPropagation(),e.preventDefault(),t.toggle("first");break;case"ArrowUp":"continuePropagation"in e||e.stopPropagation(),e.preventDefault(),t.toggle("last")}}},menuProps:{...c,"aria-labelledby":s,autoFocus:t.focusStrategy,onClose:t.close}}}"undefined"!=typeof window&&window.visualViewport,"undefined"!=typeof window&&window.visualViewport,new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),new WeakMap,xP={"ar-AE":{longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"},"bg-BG":{longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"},"cs-CZ":{longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"},"da-DK":{longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"},"de-DE":{longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"},"el-GR":{longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"},"en-US":{longPressMessage:"Long press or press Alt + ArrowDown to open menu"},"es-ES":{longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"},"et-EE":{longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"},"fi-FI":{longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"},"fr-FR":{longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."},"he-IL":{longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"},"hr-HR":{longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"},"hu-HU":{longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"},"it-IT":{longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"},"ja-JP":{longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"},"ko-KR":{longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"},"lt-LT":{longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."},"lv-LV":{longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"},"nb-NO":{longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"},"nl-NL":{longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"},"pl-PL":{longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"},"pt-BR":{longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"},"pt-PT":{longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"},"ro-RO":{longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"},"ru-RU":{longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"},"sk-SK":{longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"},"sl-SI":{longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"},"sr-SP":{longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"},"sv-SE":{longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"},"tr-TR":{longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"},"uk-UA":{longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"},"zh-CN":{longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"},"zh-TW":{longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"}},new WeakMap;class _P extends r.PureComponent{componentDidMount(){this.props.parent.addEventListener("click",this.onOutsideClick,this.props.useCapture),this.props.includeButtonPress&&this.props.parent.addEventListener("keyup",this.onOutsideClick,this.props.useCapture)}componentWillUnmount(){this.props.parent.removeEventListener("click",this.onOutsideClick,this.props.useCapture),this.props.includeButtonPress&&this.props.parent.removeEventListener("keyup",this.onOutsideClick,this.props.useCapture)}render(){return n().createElement("div",{ref:this.myRef},this.props.children)}constructor(...e){super(...e),this.myRef=(0,r.createRef)(),this.state={hasEventListener:!1},this.onOutsideClick=e=>{const t=this.myRef.current;t&&t.contains(e.target)||this.props.onClick()}}}_P.defaultProps={includeButtonPress:!0,parent:"undefined"!=typeof window?window:null,useCapture:!1};const EP=e=>({divider:(0,s.css)({height:1,backgroundColor:e.colors.border.weak,margin:e.spacing(.5,0)})}),SP=({label:e,ariaLabel:t,children:r})=>{const i=(0,a.useStyles2)(kP),o=`group-label-${(0,Is.uniqueId)()}`;return n().createElement("div",{role:"group","aria-labelledby":!t&&e?o:void 0,"aria-label":t},e&&n().createElement("label",{id:o,className:i.groupLabel,"aria-hidden":!0},e),r)};SP.displayName="MenuGroup";const kP=e=>({groupLabel:s.css`
      color: ${e.colors.text.secondary};
      font-size: ${e.typography.size.sm};
      padding: ${e.spacing(.5,1)};
    `}),PP=(e,t)=>(e%t+t)%t,TP=({localRef:e,isMenuOpen:t,openedWithArrow:n,setOpenedWithArrow:i,close:o,onOpen:a,onClose:s,onKeyDown:l})=>{const[c,u]=(0,r.useState)(-1);var d;return(0,r.useEffect)((()=>{t&&n&&(u(0),null==i||i(!1))}),[t,n,i]),(0,r.useEffect)((()=>{var t,r;const n=null==e||null===(t=e.current)||void 0===t?void 0:t.querySelectorAll('[data-role="menuitem"]');null===(r=null==n?void 0:n[c])||void 0===r||r.focus(),null==n||n.forEach(((e,t)=>{e.tabIndex=t===c?0:-1}))}),[e,c]),d=()=>{var t;const r=null==e||null===(t=e.current)||void 0===t?void 0:t.querySelector('[data-role="menuitem"]');r&&(r.tabIndex=0),null==a||a(u)},(0,r.useEffect)(d,[]),[t=>{var r;const n=null==e||null===(r=e.current)||void 0===r?void 0:r.querySelectorAll('[data-role="menuitem"]');var i;const a=null!==(i=null==n?void 0:n.length)&&void 0!==i?i:0;switch(t.key){case"ArrowUp":t.preventDefault(),t.stopPropagation(),u(PP(c-1,a));break;case"ArrowDown":t.preventDefault(),t.stopPropagation(),u(PP(c+1,a));break;case"ArrowLeft":t.preventDefault(),t.stopPropagation(),u(-1),null==o||o();break;case"Home":t.preventDefault(),t.stopPropagation(),u(0);break;case"End":t.preventDefault(),t.stopPropagation(),u(a-1);break;case"Enter":var d;t.preventDefault(),t.stopPropagation(),null===(d=null==n?void 0:n[c])||void 0===d||d.click();break;case"Escape":t.preventDefault(),t.stopPropagation(),null==s||s();break;case"Tab":null==s||s()}null==l||l(t)},()=>{-1===c&&u(0)}]},CP=n().memo((({items:e,isOpen:t,openedWithArrow:i,setOpenedWithArrow:o,close:s})=>{const l=(0,a.useStyles2)(IP),c=(0,r.useRef)(null),[u]=TP({localRef:c,isMenuOpen:t,openedWithArrow:i,setOpenedWithArrow:o,close:s});return n().createElement(n().Fragment,null,n().createElement("div",{className:l.iconWrapper,"aria-label":hf.selectors.components.Menu.SubMenu.icon},n().createElement(Qn,{name:"angle-right",className:l.icon,"aria-hidden":!0})),t&&n().createElement("div",{ref:c,className:l.subMenu(c.current),"aria-label":hf.selectors.components.Menu.SubMenu.container},n().createElement("div",{className:l.itemsWrapper,role:"menu",onKeyDown:u},e)))}));CP.displayName="SubMenu";const IP=e=>({iconWrapper:s.css`
      display: flex;
      flex: 1;
      justify-content: end;
    `,icon:s.css`
      opacity: 0.7;
      margin-left: ${e.spacing(2)};
      color: ${e.colors.text.secondary};
    `,itemsWrapper:s.css`
      background: ${e.colors.background.primary};
      box-shadow: ${e.shadows.z3};
      display: inline-block;
      border-radius: ${e.shape.borderRadius()};
    `,subMenu:t=>s.css`
      position: absolute;
      top: 0;
      z-index: ${e.zIndex.dropdown};
      ${(e=>{if(!e)return"left";const t=e.parentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return 0===r.width?"left":t.right+r.width+10>window.innerWidth?"right":"left"})(t)}: 100%;
    `}),DP=n().memo(n().forwardRef(((e,t)=>{const{url:i,icon:o,label:l,ariaLabel:c,ariaChecked:u,target:d,onClick:p,className:f,active:h,destructive:m,childItems:g,role:v="menuitem",tabIndex:b=-1}=e,y=(0,a.useStyles2)(AP),[w,x]=(0,r.useState)(h),[O,_]=(0,r.useState)(!1),[E,S]=(0,r.useState)(!1),k=(0,r.useCallback)((()=>{_(!0),x(!0)}),[]),P=(0,r.useCallback)((()=>{_(!1),x(!1)}),[]),T=g&&g.length>0,C=T?"div":void 0===i?"button":"a",I=(0,s.cx)({[y.item]:!0,[y.active]:w,[y.destructive]:m},f),D=(0,r.useRef)(null);return(0,r.useImperativeHandle)(t,(()=>D.current)),n().createElement(C,{target:d,className:I,rel:"_blank"===d?"noopener noreferrer":void 0,href:i,onClick:p?e=>{e.ctrlKey||e.metaKey||e.shiftKey||!p||(e.preventDefault(),e.stopPropagation(),p(e))}:void 0,onMouseEnter:k,onMouseLeave:P,onKeyDown:e=>{"ArrowRight"===e.key&&(e.preventDefault(),e.stopPropagation(),T&&(_(!0),S(!0),x(!0)))},role:void 0===i?v:void 0,"data-role":"menuitem",ref:D,"aria-label":c,"aria-checked":u,tabIndex:b},o&&n().createElement(Qn,{name:o,className:y.icon,"aria-hidden":!0}),l,T&&n().createElement(CP,{items:g,isOpen:O,openedWithArrow:E,setOpenedWithArrow:S,close:()=>{var e;_(!1),x(!1),null==D||null===(e=D.current)||void 0===e||e.focus()}}))})));DP.displayName="MenuItem";const AP=e=>({item:s.css`
      background: none;
      cursor: pointer;
      white-space: nowrap;
      color: ${e.colors.text.primary};
      display: flex;
      align-items: center;
      padding: ${e.spacing(.5,2)};
      min-height: ${e.spacing(4)};
      margin: 0;
      border: none;
      width: 100%;
      position: relative;

      &:hover,
      &:focus,
      &:focus-visible {
        background: ${e.colors.action.hover};
        color: ${e.colors.text.primary};
        text-decoration: none;
      }

      &:focus-visible {
        ${ai(e)}
      }
    `,active:s.css`
      background: ${e.colors.action.hover};
    `,destructive:s.css`
      color: ${e.colors.error.text};

      svg {
        color: ${e.colors.error.text};
      }

      &:hover,
      &:focus,
      &:focus-visible {
        background: ${e.colors.error.main};
        color: ${e.colors.error.contrastText};

        svg {
          color: ${e.colors.error.contrastText};
        }
      }
    `,icon:s.css`
      opacity: 0.7;
      margin-right: 10px;
      margin-left: -4px;
      color: ${e.colors.text.secondary};
    `});function RP(){return RP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RP.apply(this,arguments)}const NP=n().forwardRef(((e,t)=>{var{header:i,children:o,ariaLabel:s,onOpen:l,onClose:c,onKeyDown:u}=e,d=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["header","children","ariaLabel","onOpen","onClose","onKeyDown"]);const p=(0,a.useStyles2)(jP),f=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(()=>f.current));const[h,m]=TP({localRef:f,onOpen:l,onClose:c,onKeyDown:u});return n().createElement("div",RP({},d,{ref:f,className:p.wrapper,role:"menu","aria-label":s,onKeyDown:h,onFocus:m}),i&&n().createElement("div",{className:p.header},i),o)}));NP.displayName="Menu";const MP=Object.assign(NP,{Item:DP,Divider:function(){const e=(0,a.useStyles2)(EP);return n().createElement("div",{className:e.divider})},Group:SP}),jP=e=>({header:s.css`
      padding: ${e.spacing(.5,.5,1,.5)};
      border-bottom: 1px solid ${e.colors.border.weak};
    `,wrapper:s.css`
      background: ${e.colors.background.primary};
      box-shadow: ${e.shadows.z3};
      display: inline-block;
      border-radius: ${e.shape.borderRadius()};
      padding: ${e.spacing(.5,0)};
    `});function LP(){return LP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LP.apply(this,arguments)}const $P=(0,r.forwardRef)(((e,r)=>{var{tooltip:i,icon:o,className:l,children:c,imgSrc:u,imgAlt:d,fullWidth:p,isOpen:f,narrow:h,variant:m="default",iconOnly:g,"aria-label":v,isHighlighted:b}=e,y=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["tooltip","icon","className","children","imgSrc","imgAlt","fullWidth","isOpen","narrow","variant","iconOnly","aria-label","isHighlighted"]);const w=(0,a.useStyles2)(qP),x=(0,s.cx)({[w.button]:!0,[w.buttonFullWidth]:p,[w.narrow]:h},w[m],l),O=(0,s.cx)({[w.content]:!0,[w.contentWithIcon]:!!o,[w.contentWithRightIcon]:void 0!==f}),_=n().createElement("button",LP({ref:r,className:x,"aria-label":FP(v,i),"aria-expanded":f},y),function(e){return e?(0,t.isIconName)(e)?n().createElement(Qn,{name:e,size:"lg"}):e:null}(o),u&&n().createElement("img",{className:w.img,src:u,alt:null!=d?d:""}),c&&!g&&n().createElement("div",{className:O},c),!1===f&&n().createElement(Qn,{name:"angle-down"}),!0===f&&n().createElement(Qn,{name:"angle-up"}),b&&n().createElement("div",{className:w.highlight}));return i?n().createElement(Yo,{content:i,placement:"bottom"},_):_}));function FP(e,t){return e||(t?hf.selectors.components.PageToolbar.item(t):void 0)}$P.displayName="ToolbarButton";const qP=e=>{const t=pf(e,"primary","solid"),r=pf(e,"destructive","solid"),n=s.css`
    color: ${e.colors.text.secondary};
    background-color: ${e.colors.background.primary};

    &:hover {
      color: ${e.colors.text.primary};
      background: ${e.colors.background.secondary};
    }
  `,i=s.css`
    color: ${e.colors.text.secondary};
    background-color: transparent;
    border-color: transparent;

    &:hover {
      color: ${e.colors.text.primary};
      background: ${e.colors.background.secondary};
    }
  `;return{button:s.css`
      label: toolbar-button;
      position: relative;
      display: flex;
      align-items: center;
      height: ${e.spacing(e.components.height.md)};
      padding: ${e.spacing(0,1)};
      border-radius: ${e.shape.borderRadius()};
      line-height: ${e.components.height.md*e.spacing.gridSize-2}px;
      font-weight: ${e.typography.fontWeightMedium};
      border: 1px solid ${e.colors.border.weak};
      white-space: nowrap;
      transition: ${e.transitions.create(["background","box-shadow","border-color","color"],{duration:e.transitions.duration.short})};

      &:focus,
      &:focus-visible {
        ${ai(e)}
        z-index: 1;
      }

      &:focus:not(:focus-visible) {
        ${{outline:"none",boxShadow:"none"}}
      }

      &:hover {
        box-shadow: ${e.shadows.z1};
      }

      &[disabled],
      &:disabled {
        cursor: not-allowed;
        opacity: ${e.colors.action.disabledOpacity};
        background: ${e.colors.action.disabledBackground};
        box-shadow: none;

        &:hover {
          color: ${e.colors.text.disabled};
          background: ${e.colors.action.disabledBackground};
          box-shadow: none;
        }
      }
    `,default:e.flags.topnav?i:n,canvas:n,active:s.css`
      color: ${e.v1.palette.orangeDark};
      border-color: ${e.v1.palette.orangeDark};
      background-color: transparent;

      &:hover {
        color: ${e.colors.text.primary};
        background: ${e.colors.emphasize(e.colors.background.canvas,.03)};
      }
    `,primary:(0,s.css)(t),destructive:(0,s.css)(r),narrow:s.css`
      padding: 0 ${e.spacing(.5)};
    `,img:s.css`
      width: 16px;
      height: 16px;
      margin-right: ${e.spacing(1)};
    `,buttonFullWidth:s.css`
      flex-grow: 1;
    `,content:s.css`
      flex-grow: 1;
    `,contentWithIcon:s.css`
      display: none;
      padding-left: ${e.spacing(1)};

      @media ${a.mediaUp(e.v1.breakpoints.md)} {
        display: block;
      }
    `,contentWithRightIcon:s.css`
      padding-right: ${e.spacing(.5)};
    `,highlight:s.css`
      background-color: ${e.colors.success.main};
      border-radius: 50%;
      width: 6px;
      height: 6px;
      position: absolute;
      top: -3px;
      right: -3px;
      z-index: 1;
    `}};function VP(){return VP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VP.apply(this,arguments)}const zP=e=>{const{className:t,options:i,value:o,onChange:a,narrow:s,variant:l}=e,c=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["className","options","value","onChange","narrow","variant"]),u=ni(HP),d=function(e){let t=function(e){let[t,n]=function(e,t,n){let[i,o]=(0,r.useState)(e||t),a=(0,r.useRef)(void 0!==e),s=a.current,l=void 0!==e,c=(0,r.useRef)(i);s!==l&&console.warn(`WARN: A component changed from ${s?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}.`),a.current=l;let u=(0,r.useCallback)(((e,...t)=>{let r=(e,...t)=>{n&&(Object.is(c.current,e)||n(e,...t)),l||(c.current=e)};"function"==typeof e?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),o(((n,...i)=>{let o=e(l?c.current:n,...i);return r(o,...t),l?n:o}))):(l||o(e),r(e,...t))}),[l,n]);return l?c.current=e:e=i,[e,u]}(e.isOpen,e.defaultOpen||!1,e.onOpenChange);return{isOpen:t,setOpen:n,open(){n(!0)},close(){n(!1)},toggle(){n(!t)}}}({}),[n,i]=(0,r.useState)(null);return{focusStrategy:n,...t,open(e=null){i(e),t.open()},toggle(e=null){i(e),t.toggle()}}}(),p=n().useRef(null),{menuTriggerProps:f,menuProps:h}=OP({},d,p),{buttonProps:m}=function(e,t){let r,{elementType:n="button",isDisabled:i,onPress:o,onPressStart:a,onPressEnd:s,onPressChange:l,preventFocusOnPress:c,allowFocusWhenDisabled:u,onClick:d,href:p,target:f,rel:h,type:m="button"}=e;r="button"===n?{type:m,disabled:i}:{role:"button",tabIndex:i?void 0:0,href:"a"===n&&i?void 0:p,target:"a"===n?f:void 0,type:"input"===n?m:void 0,disabled:"input"===n?i:void 0,"aria-disabled":i&&"input"!==n?i:void 0,rel:"a"===n?h:void 0};let{pressProps:g,isPressed:v}=ek({onPressStart:a,onPressEnd:s,onPressChange:l,onPress:o,isDisabled:i,preventFocusOnPress:c,ref:t}),{focusableProps:b}=Hk(e,t);u&&(b.tabIndex=i?-1:b.tabIndex);let y=fS(b,g,function(e,t={}){let{labelable:r,propNames:n}=t,i={};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(hS.has(t)||r&&mS.has(t)||(null==n?void 0:n.has(t))||gS.test(t))&&(i[t]=e[t]);return i}(e,{labelable:!0}));return{isPressed:v,buttonProps:fS(r,y,{"aria-haspopup":e["aria-haspopup"],"aria-expanded":e["aria-expanded"],"aria-controls":e["aria-controls"],"aria-pressed":e["aria-pressed"],onClick:e=>{d&&(d(e),console.warn("onClick is deprecated, please use onPress"))}})}}(f,p);return n().createElement(aS,{className:u.wrapper},n().createElement($P,VP({className:t,isOpen:d.isOpen,narrow:s,variant:l,ref:p},m,c),(null==o?void 0:o.label)||(null==o?void 0:o.value)),d.isOpen&&n().createElement("div",{className:u.menuWrapper},n().createElement(_P,{onClick:d.close,parent:document,includeButtonPress:!1},n().createElement(Tk,{contain:!0,autoFocus:!0,restoreFocus:!0},n().createElement(MP,VP({tabIndex:-1,onClose:d.close},h),i.map((e=>n().createElement(DP,{key:`${e.value}`,label:e.label||e.value,onClick:()=>(e=>{a(e),d.close()})(e),active:e.value===(null==o?void 0:o.value),ariaChecked:e.value===(null==o?void 0:o.value),ariaLabel:e.ariaLabel||e.label,role:"menuitemradio"}))))))))};zP.displayName="ButtonSelect";const BP=n().memo(zP),HP=e=>({wrapper:s.css`
      position: relative;
      display: inline-flex;
    `,menuWrapper:s.css`
      position: absolute;
      z-index: ${e.zIndex.dropdown};
      top: ${e.spacing(4)};
      right: 0;
    `}),QP=["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"];class WP extends r.PureComponent{getVariant(){return this.props.isLive?"primary":this.props.isLoading?"destructive":this.props.primary?"primary":this.props.isOnCanvas?"canvas":"default"}render(){const{onRefresh:e,intervals:r,tooltip:i,value:o,text:a,isLoading:s,noIntervalPicker:l,width:c,offOptionLabelMsg:u,offOptionAriaLabelMsg:d,offDescriptionAriaLabelMsg:p,onDescriptionAriaLabelMsg:f}=this.props,h=o||"",m=this.getVariant(),g={value:WP.offOption.value,label:u||WP.offOption.label,ariaLabel:d||WP.offOption.ariaLabel},v=function({intervals:e=QP,offOption:r=WP.offOption}={}){const n=e.map((e=>{const r=function(e,t){var r,n,i,o,a;if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var s=HE(),l=null!==(r=null!==(n=null==t?void 0:t.locale)&&void 0!==n?n:s.locale)&&void 0!==r?r:nS,c=null!==(i=null==t?void 0:t.format)&&void 0!==i?i:iS,u=null!==(o=null==t?void 0:t.zero)&&void 0!==o&&o,d=null!==(a=null==t?void 0:t.delimiter)&&void 0!==a?a:" ";if(!l.formatDistance)return"";var p=c.reduce((function(t,r){var n="x".concat(r.replace(/(^.)/,(function(e){return e.toUpperCase()}))),i=e[r];return"number"==typeof i&&(u||e[r])?t.concat(l.formatDistance(n,i)):t}),[]).join(d);return p}((0,t.parseDuration)(e));return{label:e,value:e,ariaLabel:r}}));return n.unshift(r),n}({intervals:r,offOption:g}),b=v.find((({value:e})=>e===h));let y=b||g;y.label===g.label&&(y={value:""});const w=y.ariaLabel,x=""===y.value?p||"Auto refresh turned off. Choose refresh time interval":(null==f?void 0:f(w))||`Choose refresh time interval with current interval ${w} selected`;return n().createElement(aS,{className:"refresh-picker"},n().createElement($P,{"aria-label":a,tooltip:i,onClick:e,variant:m,icon:s?"fa fa-spinner":"sync",style:c?{width:c}:void 0,"data-testid":hf.selectors.components.RefreshPicker.runButtonV2},a),!l&&n().createElement(BP,{value:y,options:v,onChange:this.onChangeSelect,variant:m,title:"Set auto refresh interval","data-testid":hf.selectors.components.RefreshPicker.intervalButtonV2,"aria-label":x}))}constructor(e){super(e),this.onChangeSelect=e=>{const{onIntervalChanged:t}=this.props;t&&t(e.value)}}}WP.offOption={label:"Off",value:"",ariaLabel:"Turn off auto refresh"},WP.liveOption={label:"Live",value:"LIVE",ariaLabel:"Turn on live streaming"},WP.isLive=e=>e===WP.liveOption.value;class UP{init(e){var r,n;this.timeModel=e,this.time=e.time,this.refresh=e.refresh,this.initTimeFromUrl(),this.parseTime(),this.timeAtLoad=(0,Is.cloneDeep)(this.time);const i=t.rangeUtil.convertRawToRange(this.time,null===(r=this.timeModel)||void 0===r?void 0:r.getTimezone(),null===(n=this.timeModel)||void 0===n?void 0:n.fiscalYearStartMonth);i.to.isBefore(i.from)&&this.setTime({from:i.raw.to,to:i.raw.from},!1),this.refresh&&this.setAutoRefresh(this.refresh)}getValidIntervals(e){return this.contextSrv.minRefreshInterval?e.filter((e=>""!==e)).filter(this.contextSrv.isAllowedInterval):e}parseTime(){(0,Is.isString)(this.time.from)&&this.time.from.indexOf("Z")>=0&&(this.time.from=(0,t.dateTime)(this.time.from).utc()),(0,Is.isString)(this.time.to)&&this.time.to.indexOf("Z")>=0&&(this.time.to=(0,t.dateTime)(this.time.to).utc())}parseUrlParam(e){if(-1!==e.indexOf("now"))return e;if(8===e.length){const r=(0,t.toUtc)(e,"YYYYMMDD");if(r.isValid())return r}else if(15===e.length){const r=(0,t.toUtc)(e,"YYYYMMDDTHHmmss");if(r.isValid())return r}if(!isNaN(e)){const r=parseInt(e,10);return(0,t.toUtc)(r)}return null}getTimeWindow(e,r){const n=parseInt(e,10);let i;return i=r.match(/^\d+$/)&&parseInt(r,10)?parseInt(r,10):t.rangeUtil.intervalToMs(r),{from:(0,t.toUtc)(n-i/2),to:(0,t.toUtc)(n+i/2)}}initTimeFromUrl(){var e,t,r,n;const i=o.locationService.getSearch();i.get("time")&&i.get("time.window")&&(this.time=this.getTimeWindow(i.get("time"),i.get("time.window"))),i.get("from")&&(this.time.from=this.parseUrlParam(i.get("from"))||this.time.from),i.get("to")&&(this.time.to=this.parseUrlParam(i.get("to"))||this.time.to),i.get("to")&&-1===i.get("to").indexOf("now")&&(this.refresh=!1,this.timeModel&&(this.timeModel.refresh=!1)),this.refresh=function({urlRefresh:e,currentRefresh:t,isAllowedIntervalFn:r,minRefreshInterval:n,refreshIntervals:i=QP}){if(!e)return t;const o=r(e),a=i.find((t=>t===e));if(!o||!a){const e=n?i.find((e=>e===n)):void 0,r=(null==i?void 0:i.length)?i[0]:void 0;var s;return null!==(s=null!=e?e:r)&&void 0!==s?s:t}return e||t}({urlRefresh:i.get("refresh"),currentRefresh:this.refresh,refreshIntervals:Array.isArray(null===(e=this.timeModel)||void 0===e||null===(t=e.timepicker)||void 0===t?void 0:t.refresh_intervals)?null===(r=this.timeModel)||void 0===r||null===(n=r.timepicker)||void 0===n?void 0:n.refresh_intervals:void 0,isAllowedIntervalFn:this.contextSrv.isAllowedInterval,minRefreshInterval:o.config.minRefreshInterval})}updateTimeRangeFromUrl(){const e=o.locationService.getSearch();if(e.get("left"))return;const t=this.timeRangeForUrl(),r=e.get("from"),n=e.get("to");r&&n?r===t.from&&n===t.to||(this.initTimeFromUrl(),this.setTime(this.time,!1)):this.timeHasChangedSinceLoad()&&this.setTime(this.timeAtLoad,!0)}timeHasChangedSinceLoad(){return this.timeAtLoad&&(this.timeAtLoad.from!==this.time.from||this.timeAtLoad.to!==this.time.to)}setAutoRefresh(e){this.timeModel&&(this.timeModel.refresh=e),this.stopAutoRefresh();const r=o.locationService.getSearchObject();if(!e)return void(r.refresh&&o.locationService.partial({refresh:null},!0));const n=this.contextSrv.getValidInterval(e),i=t.rangeUtil.intervalToMs(n);this.refreshTimer=setTimeout((()=>{this.startNextRefreshTimer(i),!this.autoRefreshPaused&&this.refreshTimeModel()}),i);const a=this.contextSrv.getValidInterval(e);r.refresh!==a&&o.locationService.partial({refresh:a},!0)}refreshTimeModel(){var e;null===(e=this.timeModel)||void 0===e||e.timeRangeUpdated(this.timeRange())}startNextRefreshTimer(e){this.refreshTimer=setTimeout((()=>{this.startNextRefreshTimer(e),this.contextSrv.isGrafanaVisible()?!this.autoRefreshPaused&&this.refreshTimeModel():this.autoRefreshBlocked=!0}),e)}stopAutoRefresh(){clearTimeout(this.refreshTimer)}pauseAutoRefresh(){this.autoRefreshPaused=!0}resumeAutoRefresh(){this.autoRefreshPaused=!1,this.refreshTimeModel()}setTime(e,r=!0){var n,i;if((0,Is.extend)(this.time,e),(0,t.isDateTime)(e.to)?(this.oldRefresh=(null===(i=this.timeModel)||void 0===i?void 0:i.refresh)||this.oldRefresh,this.setAutoRefresh(!1)):this.oldRefresh&&this.oldRefresh!==(null===(n=this.timeModel)||void 0===n?void 0:n.refresh)&&(this.setAutoRefresh(this.oldRefresh),this.oldRefresh=null),!0===r){const e=this.timeRangeForUrl(),t=o.locationService.getSearchObject();if(t.from===e.from.toString()&&t.to===e.to.toString())return;t.from=e.from.toString(),t.to=e.to.toString(),o.locationService.partial(t)}this.refreshTimeModel()}timeRange(){var e,r;const n={from:(0,t.isDateTime)(this.time.from)?(0,t.dateTime)(this.time.from):this.time.from,to:(0,t.isDateTime)(this.time.to)?(0,t.dateTime)(this.time.to):this.time.to},i=this.timeModel?this.timeModel.getTimezone():void 0;return{from:t.dateMath.parse(n.from,!1,i,null===(e=this.timeModel)||void 0===e?void 0:e.fiscalYearStartMonth),to:t.dateMath.parse(n.to,!0,i,null===(r=this.timeModel)||void 0===r?void 0:r.fiscalYearStartMonth),raw:n}}zoomOut(e,r=!0){const n=this.timeRange(),{from:i,to:o}=((e,t)=>{const r=e.to.valueOf()-e.from.valueOf(),n=e.to.valueOf()-r/2,i=0===r?3e4:r*t;return{from:n-i/2,to:n+i/2}})(n,e);this.setTime({from:(0,t.toUtc)(i),to:(0,t.toUtc)(o)},r)}shiftTime(e,r=!0){const n=this.timeRange(),{from:i,to:o}=((e,r)=>{const n={from:(0,t.toUtc)(r.from),to:(0,t.toUtc)(r.to)},i=(n.to.valueOf()-n.from.valueOf())/2;let o,a;return-1===e?(o=n.to.valueOf()-i,a=n.from.valueOf()-i):1===e?(o=n.to.valueOf()+i,a=n.from.valueOf()+i,o>Date.now()&&n.to.valueOf()<Date.now()&&(o=Date.now(),a=n.from.valueOf())):(o=n.to.valueOf(),a=n.from.valueOf()),{from:a,to:o}})(e,n);this.setTime({from:(0,t.toUtc)(i),to:(0,t.toUtc)(o)},r)}makeAbsoluteTime(){if(o.locationService.getSearch().get("left"))return;const{from:e,to:t}=this.timeRange();this.setTime({from:e,to:t},!0)}isRefreshOutsideThreshold(e,r=.05){const n=this.timeRange();if(t.dateMath.isMathString(n.raw.from)){const t=n.to.diff(n.from);return Date.now()-e>=t*r}return!1}constructor(e){this.contextSrv=e,this.autoRefreshPaused=!1,this.timeRangeForUrl=()=>{const e=this.timeRange().raw;return(0,t.isDateTime)(e.from)&&(e.from=e.from.valueOf().toString()),(0,t.isDateTime)(e.to)&&(e.to=e.to.valueOf().toString()),e},this.time=(0,t.getDefaultTimeRange)().raw,this.refreshTimeModel=this.refreshTimeModel.bind(this),zE.subscribe(bO,(e=>{this.zoomOut(e.payload.scale,e.payload.updateUrl)})),zE.subscribe(yO,(e=>{this.shiftTime(e.payload.direction,e.payload.updateUrl)})),zE.subscribe(wO,(()=>{this.makeAbsoluteTime()})),document.addEventListener("visibilitychange",(()=>{this.autoRefreshBlocked&&"visible"===document.visibilityState&&(this.autoRefreshBlocked=!1,this.refreshTimeModel())}))}}let XP;function GP(){return XP||(XP=new UP(NO)),XP}function KP(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YP(){return YP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YP.apply(this,arguments)}function JP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){KP(e,t,r[t])}))}return e}function ZP(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function eT(e){const t=e.annotation,r=e.onAnnotationChange,i={expr:t.expr,refId:t.name,interval:t.step};return n().createElement(n().Fragment,null,n().createElement(_s,null,n().createElement(Ix,YP({},e,{query:i,showExplain:!1,onChange:e=>{r(ZP(JP({},t),{expr:e.expr}))}})),n().createElement(lp,null,n().createElement(ef,{label:"Min step",tooltip:n().createElement(n().Fragment,null,"An additional lower limit for the step parameter of the Prometheus query and for the"," ",n().createElement("code",null,"$__interval")," and ",n().createElement("code",null,"$__rate_interval")," variables.")},n().createElement(a.AutoSizeInput,{type:"text","aria-label":"Set lower limit for the step parameter",placeholder:"auto",minWidth:10,onCommitChange:e=>{r(ZP(JP({},t),{step:e.currentTarget.value}))},defaultValue:i.interval})))),n().createElement(hs,{v:.5}),n().createElement(lp,null,n().createElement(ef,{label:"Title",tooltip:"Use either the name or a pattern. For example, {{instance}} is replaced with label value for the label instance."},n().createElement(di,{type:"text",placeholder:"{{alertname}}",value:t.titleFormat,onChange:e=>{r(ZP(JP({},t),{titleFormat:e.currentTarget.value}))}})),n().createElement(ef,{label:"Tags"},n().createElement(di,{type:"text",placeholder:"label1,label2",value:t.tagKeys,onChange:e=>{r(ZP(JP({},t),{tagKeys:e.currentTarget.value}))}})),n().createElement(ef,{label:"Text",tooltip:"Use either the name or a pattern. For example, {{instance}} is replaced with label value for the label instance."},n().createElement(di,{type:"text",placeholder:"{{instance}}",value:t.textFormat,onChange:e=>{r(ZP(JP({},t),{textFormat:e.currentTarget.value}))}})),n().createElement(ef,{label:"Series value as timestamp",tooltip:"The unit of timestamp is milliseconds. If the unit of the series value is seconds, multiply its range vector by 1000."},n().createElement(Oy,{value:t.useValueForTime,onChange:e=>{r(ZP(JP({},t),{useValueForTime:e.currentTarget.value}))}}))))}function tT(e,t){return e.replace(/\{\{\s*(.+?)\s*\}\}/g,((e,r)=>t[r]?t[r]:r))}class rT{process(){if(this.query.match(/^label_names\(\)\s*$/))return this.labelNamesQuery();const e=this.query.match(/^label_values\((?:(.+),\s*)?([a-zA-Z_][a-zA-Z0-9_]*)\)\s*$/);if(e)return e[1]?this.labelValuesQuery(e[2],e[1]):this.labelValuesQuery(e[2]);const t=this.query.match(/^metrics\((.+)\)\s*$/);if(t)return this.metricNameQuery(t[1]);const r=this.query.match(/^query_result\((.+)\)\s*$/);return r?(0,y_.lastValueFrom)(this.queryResultQuery(r[1])):this.metricNameAndLabelsQuery(this.query)}labelNamesQuery(){const e=this.datasource.getPrometheusTime(this.range.from,!1),t=this.datasource.getPrometheusTime(this.range.to,!0),r={start:e.toString(),end:t.toString()};return this.datasource.metadataRequest("/api/v1/labels",r).then((e=>(0,Is.map)(e.data.data,(e=>({text:e})))))}labelValuesQuery(e,t){const r=this.datasource.getPrometheusTime(this.range.from,!1),n=this.datasource.getPrometheusTime(this.range.to,!0);let i;if(t){const o={"match[]":t,start:r.toString(),end:n.toString()};return i="/api/v1/series",this.datasource.metadataRequest(i,o).then((t=>{const r=(0,Is.map)(t.data.data,(t=>t[e]||"")).filter((e=>""!==e));return(0,Is.uniq)(r).map((e=>({text:e,expandable:!0})))}))}{const t={start:r.toString(),end:n.toString()};return i=`/api/v1/label/${e}/values`,this.datasource.metadataRequest(i,t).then((e=>(0,Is.map)(e.data.data,(e=>({text:e})))))}}metricNameQuery(e){const t=this.datasource.getPrometheusTime(this.range.from,!1),r=this.datasource.getPrometheusTime(this.range.to,!0),n={start:t.toString(),end:r.toString()};return this.datasource.metadataRequest("/api/v1/label/__name__/values",n).then((t=>(0,Is.chain)(t.data.data).filter((t=>new RegExp(e).test(t))).map((e=>({text:e,expandable:!0}))).value()))}queryResultQuery(e){const t=this.datasource.getPrometheusTime(this.range.to,!0),r={expr:e};return this.datasource.performInstantQuery(r,t).pipe(Y_((e=>{switch(e.data.data.resultType){case"scalar":case"string":return[{text:e.data.data.result[1]||"",expandable:!1}];case"vector":return(0,Is.map)(e.data.data.result,(e=>{let t=e.metric.__name__||"";return delete e.metric.__name__,t+="{"+(0,Is.map)(e.metric,((e,t)=>t+'="'+e+'"')).join(",")+"}",t+=" "+e.value[1]+" "+1e3*e.value[0],{text:t,expandable:!0}}));default:throw Error(`Unknown/Unhandled result type: [${e.data.data.resultType}]`)}})))}metricNameAndLabelsQuery(e){const t=this.datasource.getPrometheusTime(this.range.from,!1),r=this.datasource.getPrometheusTime(this.range.to,!0),n={"match[]":e,start:t.toString(),end:r.toString()},i=this;return this.datasource.metadataRequest("/api/v1/series",n).then((e=>(0,Is.map)(e.data.data,(e=>({text:i.datasource.getOriginalMetricName(e),expandable:!0})))))}constructor(e,t){this.datasource=e,this.query=t,this.datasource=e,this.query=t,this.range=GP().timeRange()}}function nT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iT(e,t,r){const n=[];if(e.trim().match(/^\w+_bucket$|^\w+_bucket{.*}$/)){const t="Selected metric has buckets.";n.push({type:"HISTOGRAM_QUANTILE",label:t,fix:{label:"Consider calculating aggregated quantile by adding histogram_quantile().",action:{type:"ADD_HISTOGRAM_QUANTILE",query:e}}})}if(-1===e.indexOf("rate(")&&-1===e.indexOf("increase(")){var i;const t=e.match(/\b(\w+_(total|sum|count))\b/);let a=t?t[1]:"";const s=null==r||null===(i=r.languageProvider)||void 0===i?void 0:i.metricsMetadata;let l=!1;if(s){const t=Array.from(e.matchAll(/\$?[a-zA-Z_:][a-zA-Z0-9_:]*/g)).map((([e])=>e)).filter((e=>!e.startsWith("$"))).flatMap((e=>e.split(":")));var o;a=null!==(o=t.find((e=>{const t=s[e];return!(!t||"counter"!==t.type.toLowerCase()||(l=!0,0))})))&&void 0!==o?o:""}if(a){const t=e.trim().match(/^\w+$|^\w+{.*}$/);let r,i=`Selected metric ${l?"is":"looks like"} a counter.`;t?r={label:"Consider calculating rate of counter by adding rate().",action:{type:"ADD_RATE",query:e}}:i=`${i} Consider calculating rate of counter by adding rate().`,n.push({type:"APPLY_RATE",label:i,fix:r})}}if(r&&r.ruleMappings){const t=r.ruleMappings,i=Object.keys(t).reduce(((r,n)=>{return e.search(n)>-1?(i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){nT(e,t,r[t])}))}return e}({},r),o=null!=(o={[n]:t[n]})?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(o)).forEach((function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(o,e))})),i):r;var i,o}),{});if((0,Is.size)(i)>0){const t="Query contains recording rules.";n.push({type:"EXPAND_RULES",label:t,fix:{label:"Expand rules",action:{type:"EXPAND_RULES",query:e,options:i}}})}}return t&&t.length>=20&&e.trim().match(/^\w+$/)&&n.push({type:"ADD_SUM",label:"Many time series results returned.",fix:{label:"Consider aggregating with sum().",action:{type:"ADD_SUM",query:e,preventSubmit:!0}}}),n}var oT=m(8200);function aT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){aT(e,t,r[t])}))}return e}function lT(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function cT(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}const uT=/^[+-]?inf(?:inity)?$/i;const dT="le";function pT(e,r){const n={format:r.target.format,step:r.query.step,legendFormat:r.target.legendFormat,start:r.query.start,end:r.query.end,query:r.query.expr,responseListLength:r.responseListLength,scopedVars:r.scopedVars,refId:r.target.refId,valueWithRefId:r.target.valueWithRefId,meta:{preferredVisualisationType:r.query.instant?"table":"graph"}},i=e.data.data;if(null!=(l=i)&&Array.isArray(l)&&l.length&&"exemplars"in l[0]){var a;const e=[];i.forEach((r=>{const n=r.exemplars.map((e=>sT({[t.TIME_SERIES_TIME_FIELD_NAME]:1e3*e.timestamp,[t.TIME_SERIES_VALUE_FIELD_NAME]:e.value},e.labels,r.seriesLabels)));e.push(...n)}));const o=function(e,r){const n=r.step||15,i={},o=[];for(const r of e){const e=String(Math.floor(r[t.TIME_SERIES_TIME_FIELD_NAME]/1e3/n)*n*1e3);i[e]||(i[e]=[]),i[e].push(r),o.push(r[t.TIME_SERIES_VALUE_FIELD_NAME])}const a=(0,oT.deviation)(o),s=Object.keys(i).sort(),l=[];for(const e of s){const r=i[e];if(1===r.length)l.push(r[0]);else{const e=r.map((e=>e[t.TIME_SERIES_VALUE_FIELD_NAME])).sort(oT.descending).reduce(((e,t)=>{if(0===e.length)e.push(t);else{const r=e[e.length-1];a&&r-t>=2*a&&e.push(t)}return e}),[]);l.push(...e.map((e=>r.find((r=>r[t.TIME_SERIES_VALUE_FIELD_NAME]===e)))))}}return l}(e,n),l=new t.ArrayDataFrame(o);if(l.meta={dataTopic:t.DataTopic.Annotations},null===(a=r.exemplarTraceIdDestinations)||void 0===a?void 0:a.length)for(const e of r.exemplarTraceIdDestinations){const t=l.fields.find((t=>t.name===e.name));if(t){var s;const r=fT(e);t.config.links=(null===(s=t.config.links)||void 0===s?void 0:s.length)?[...t.config.links,...r]:r}}return[l]}var l;if(!(null==i?void 0:i.result))return[];if("scalar"===i.resultType)return[{meta:n.meta,refId:n.refId,length:1,fields:[mT([i.result]),gT({data:[i.result]})]}];if("table"===n.format){const e=function(e,r){if(!e||0===e.length)return{meta:r.meta,refId:r.refId,length:0,fields:[]};const n=r.responseListLength>1||r.valueWithRefId?`Value #${r.refId}`:"Value",i=mT([]),o=Object.keys(e.reduce(((e,t)=>sT({},e,t.metric)),{})).sort().map((e=>({name:e,config:{filterable:!0},type:e===dT?t.FieldType.number:t.FieldType.string,values:new t.ArrayVector}))),a=gT({data:[],valueName:n});return e.forEach((e=>{Hu(e)?e.values.forEach((t=>{i.values.add(1e3*t[0]),o.forEach((t=>t.values.add(hT(e.metric,t.name)))),a.values.add(wT(t[1]))})):(i.values.add(1e3*e.value[0]),o.forEach((t=>t.values.add(hT(e.metric,t.name)))),a.values.add(wT(e.value[1])))})),{meta:r.meta,refId:r.refId,length:i.values.length,fields:[i,...o,a]}}(i.result,n);return[e]}const c=[];return i.result.forEach((e=>c.push(function(e,r){const{name:n,labels:i}=function(e,r){if(null==r?void 0:r.legendFormat)return{name:tT((0,o.getTemplateSrv)().replace(r.legendFormat,null==r?void 0:r.scopedVars),e),labels:e};const{__name__:n}=e,i=cT(e,["__name__"]);let a=`${null!=n?n:""}${(0,t.formatLabels)(i)}`;return a||(a=r.query),{name:a,labels:i}}(e.metric,r),a=[];if(Hu(e)){const t=r.step?1e3*r.step:NaN;let o=1e3*r.start;const s=[];for(const r of e.values){let e=wT(r[1]);isNaN(e)&&(e=null);const n=1e3*r[0];for(let e=o;e<n;e+=t)s.push([e,null]);o=n+t,s.push([n,e])}const l=1e3*r.end;for(let e=o;e<=l;e+=t)s.push([e,null]);a.push(mT(s,!0)),a.push(gT({data:s,parseValue:!1,labels:i,displayNameFromDS:n}))}else a.push(mT([e.value])),a.push(gT({data:[e.value],labels:i,displayNameFromDS:n}));return{meta:r.meta,refId:r.refId,length:a[0].values.length,fields:a,name:n}}(e,n)))),"heatmap"===n.format?vT(bT(c.sort(yT))):c}function fT(e){const t=[];if(e.datasourceUid){const n=(0,o.getDataSourceSrv)().getInstanceSettings(e.datasourceUid);var r;n&&t.push({title:e.urlDisplayLabel||`Query with ${null==n?void 0:n.name}`,url:"",internal:{query:{query:"${__value.raw}",queryType:"traceId"},datasourceUid:e.datasourceUid,datasourceName:null!==(r=null==n?void 0:n.name)&&void 0!==r?r:"Data source not found"}})}return e.url&&t.push({title:e.urlDisplayLabel||`Go to ${e.url}`,url:e.url,targetBlank:!0}),t}function hT(e,t){return e.hasOwnProperty(t)?t===dT?wT(e[t]):e[t]:""}function mT(e,r=!1){return{name:t.TIME_SERIES_TIME_FIELD_NAME,type:t.FieldType.time,config:{},values:new t.ArrayVector(e.map((e=>r?e[0]:1e3*e[0])))}}function gT({data:e,valueName:r=t.TIME_SERIES_VALUE_FIELD_NAME,parseValue:n=!0,labels:i,displayNameFromDS:o}){return{name:r,type:t.FieldType.number,display:(0,t.getDisplayProcessor)(),config:{displayNameFromDS:o},labels:i,values:new t.ArrayVector(e.map((e=>n?wT(e[1]):e[1])))}}function vT(e){if(0===e.length)return[];const r=e[0].fields.find((e=>e.type===t.FieldType.time)),n=e.map((e=>{let r=e.fields.find((e=>e.type===t.FieldType.number));return lT(sT({},r),{name:r.config.displayNameFromDS})}));return[lT(sT({},e[0]),{meta:lT(sT({},e[0].meta),{type:t.DataFrameType.HeatmapRows}),fields:[r,...n]})]}function bT(e){for(let r=e.length-1;r>0;r--){const n=e[r].fields.find((e=>e.name===t.TIME_SERIES_VALUE_FIELD_NAME)),i=e[r-1].fields.find((e=>e.name===t.TIME_SERIES_VALUE_FIELD_NAME));if(!n||!i)throw new Error("Prometheus heatmap transform error: data should be a time series");for(let e=0;e<n.values.length;e++){const t=i.values.get(e)||[0];n.values.toArray()[e]-=t}}return e}function yT(e,t){let r,n;try{var i,o;r=wT(null!==(i=e.name)&&void 0!==i?i:""),n=wT(null!==(o=t.name)&&void 0!==o?o:"")}catch(e){return console.error(e),0}return r>n?1:r<n?-1:0}function wT(e){return uT.test(e)?"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY:parseFloat(e)}function xT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class OT extends t.StandardVariableSupport{query(e){const r=e.targets[0].expr;if(!r)return(0,y_.of)({data:[]});const n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){xT(e,t,r[t])}))}return e}({__interval:{text:this.datasource.interval,value:this.datasource.interval},__interval_ms:{text:t.rangeUtil.intervalToMs(this.datasource.interval),value:t.rangeUtil.intervalToMs(this.datasource.interval)}},this.datasource.getRangeScopedVars(this.timeSrv.timeRange())),i=this.templateSrv.replace(r,n,this.datasource.interpolateQueryExpr),o=new rT(this.datasource,i);return(0,y_.from)(o.process()).pipe(Y_((e=>({data:e}))))}toDataQuery(e){return{refId:"PrometheusDatasource-VariableQuery",expr:e.query}}constructor(e,t=(0,o.getTemplateSrv)(),r=GP()){super(),this.datasource=e,this.templateSrv=t,this.timeSrv=r,this.query=this.query.bind(this)}}function _T(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function ET(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){_T(o,n,i,a,s,"next",e)}function s(e){_T(o,n,i,a,s,"throw",e)}a(void 0)}))}}function ST(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ST(e,t,r[t])}))}return e}function PT(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}const TT=["api/v1/query","api/v1/query_range","api/v1/series","api/v1/labels"];class CT extends o.DataSourceWithBackend{getQueryDisplayText(e){return e.expr}_addTracingHeaders(e,t){e.headers={},!this.url.match(/^http/)&&(e.headers["X-Dashboard-Id"]=t.dashboardId,e.headers["X-Dashboard-UID"]=t.dashboardUID||"",e.headers["X-Panel-Id"]=t.panelId)}_request(e,t,r={}){t=t||{};for(const[e,r]of this.customQueryParameters)null==t[e]&&(t[e]=r);let n=this.url+e;e.startsWith(`/api/datasources/proxy/${this.id}`)&&(n=e);const i=(0,Is.defaults)(r,{url:n,method:this.httpMethod,headers:{}});return"GET"===i.method?t&&Object.keys(t).length&&(i.url=i.url+(i.url.search(/\?/)>=0?"&":"?")+Object.entries(t).map((([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).join("&")):(i.headers["Content-Type"]="application/x-www-form-urlencoded",i.data=t),(this.basicAuth||this.withCredentials)&&(i.withCredentials=!0),this.basicAuth&&(i.headers.Authorization=this.basicAuth),(0,o.getBackendSrv)().fetch(i)}importFromAbstractQueries(e){var t=this;return ET((function*(){return e.map((e=>t.languageProvider.importFromAbstractQuery(e)))}))()}exportToAbstractQueries(e){var t=this;return ET((function*(){return e.map((e=>t.languageProvider.exportToAbstractQuery(e)))}))()}metadataRequest(e,t={},r){var n=this;return ET((function*(){if(TT.some((t=>e.includes(t))))try{return yield(0,y_.lastValueFrom)(n._request(`/api/datasources/proxy/${n.id}${e}`,t,kT({method:n.httpMethod,hideFromInspector:!0,showErrorAlert:!1},r)))}catch(e){if("POST"!==n.httpMethod||!(0,o.isFetchError)(e)||405!==e.status&&400!==e.status)throw e;console.warn("Couldn't use configured POST HTTP method for this request. Trying to use GET method instead.")}return yield(0,y_.lastValueFrom)(n._request(`/api/datasources/proxy/${n.id}${e}`,t,kT({method:"GET",hideFromInspector:!0},r)))}))()}interpolateQueryExpr(e=[],t){if(!t.multi&&!t.includeAll)return IT(e);if("string"==typeof e)return DT(e);const r=e.map((e=>DT(e)));return 1===r.length?r[0]:"("+r.join("|")+")"}targetContainsTemplate(e){return this.templateSrv.containsTemplate(e.expr)}shouldRunExemplarQuery(e,t){if(e.exemplar){const r=this.languageProvider.histogramMetrics.find((t=>e.expr.includes(t))),n=t.targets.findIndex((t=>t.refId===e.refId)),i=t.targets.slice(0,n).filter((e=>!e.hide)),o=!r||r&&!i.some((e=>e.expr.includes(r)));return!!o}return!1}processTargetV2(e,t){return PT(kT({},e),{queryType:zu.timeSeriesQuery,exemplar:this.shouldRunExemplarQuery(e,t),requestId:t.panelId+e.refId,utcOffsetSec:60*this.timeSrv.timeRange().to.utcOffset()})}query(e){if("proxy"===this.access){const r=e.targets.map((t=>this.processTargetV2(t,e)));return super.query(PT(kT({},e),{targets:r})).pipe(Y_((r=>function(e,r,n){const[i,o]=(0,Is.partition)(e.data,(e=>((e,r)=>{var n,i,o,a;if(r.app===t.CoreApp.Explore&&("vector"===(null===(n=e.meta)||void 0===n||null===(i=n.custom)||void 0===i?void 0:i.resultType)||"scalar"===(null===(o=e.meta)||void 0===o||null===(a=o.custom)||void 0===a?void 0:a.resultType)))return!0;const s=r.targets.find((t=>t.refId===e.refId));return"table"===(null==s?void 0:s.format)})(e,r))),a=function(e){if(0===e.length||1===e.length&&0===e[0].length)return e;const r=(0,Is.groupBy)(e,"refId"),n=Object.keys(r),i=n.map((i=>{const o=function(e,t=""){return e>1?`Value #${t}`:"Value"}(n.length,i),a=gT({data:[],valueName:o}),s=mT([]),l=[];return r[i].forEach((e=>{var r;const n=null!==(r=e.fields[1].labels)&&void 0!==r?r:{};Object.keys(n).sort().forEach((e=>{if(!l.some((t=>t.name===e))){const r=e===dT;l.push({name:e,config:{filterable:!0},type:r?t.FieldType.number:t.FieldType.string,values:new t.ArrayVector})}}))})),r[i].forEach((e=>{e.fields[0].values.toArray().forEach((e=>s.values.add(e))),e.fields[1].values.toArray().forEach((t=>{var r;a.values.add(wT(t));const n=null!==(r=e.fields[1].labels)&&void 0!==r?r:{};l.forEach((e=>e.values.add(hT(n,e.name))))}))})),{refId:i,fields:[s,...l,a],meta:lT(sT({},e[0].meta),{preferredVisualisationType:"table"}),length:s.values.length}}));return i}(i),[s,l]=(0,Is.partition)(o,(e=>{var t,r;return"exemplar"===(null===(t=e.meta)||void 0===t||null===(r=t.custom)||void 0===r?void 0:r.resultType)})),{exemplarTraceIdDestinations:c}=n,u=s.map((e=>{if(null==c?void 0:c.length)for(const t of c){const n=e.fields.find((e=>e.name===t.name));if(n){var r;const e=fT(t);n.config.links=(null===(r=n.config.links)||void 0===r?void 0:r.length)?[...n.config.links,...e]:e}}return lT(sT({},e),{meta:lT(sT({},e.meta),{dataTopic:t.DataTopic.Annotations})})})),[d,p]=(0,Is.partition)(l,(e=>((e,t)=>{const r=t.targets.find((t=>t.refId===e.refId));return"heatmap"===(null==r?void 0:r.format)})(e,r))),f=(0,Is.groupBy)(d,(e=>e.refId));let h=[];for(const e in f){var m=e;const r=f[m],n=(0,Is.groupBy)(r,(e=>{const r=e.fields.find((e=>e.name===t.TIME_SERIES_VALUE_FIELD_NAME));if((null==r?void 0:r.labels)&&dT in r.labels){const e=null==r?void 0:r.labels,{le:t}=e,n=cT(e,["le"]);return Object.values(n).join()}var n;return Object.values(null!==(n=null==r?void 0:r.labels)&&void 0!==n?n:[]).join()}));(0,Is.forOwn)(n,((e,t)=>{const r=e.sort(yT);h.push(vT(bT(r)))}))}const g=p.map((e=>lT(sT({},e),{meta:lT(sT({},e.meta),{preferredVisualisationType:"graph"})}))),v=(0,Is.flatten)(h);return lT(sT({},e),{data:[...g,...a,...v,...u]})}(r,e,{exemplarTraceIdDestinations:this.exemplarTraceIdDestinations}))))}{const r=this.getPrometheusTime(e.range.from,!1),n=this.getPrometheusTime(e.range.to,!0),{queries:i,activeTargets:o}=this.prepareTargets(e,r,n);return i&&i.length?e.app===t.CoreApp.Explore?this.exploreQuery(i,o,n):this.panelsQuery(i,o,n,e.requestId,e.scopedVars):(0,y_.of)({data:[],state:t.LoadingState.Done})}}exploreQuery(e,r,n){let i=e.length;const o=e.map(((o,a)=>{const s=r[a],l=(0,y_.pipe)((p=w_(c=()=>i--)?{next:c,error:u,complete:d}:c)?x_((function(e,t){var r;null===(r=p.subscribe)||void 0===r||r.call(p);var n=!0;e.subscribe(G_(t,(function(e){var r;null===(r=p.next)||void 0===r||r.call(p,e),t.next(e)}),(function(){var e;n=!1,null===(e=p.complete)||void 0===e||e.call(p),t.complete()}),(function(e){var r;n=!1,null===(r=p.error)||void 0===r||r.call(p,e),t.error(e)}),(function(){var e,t;n&&(null===(e=p.unsubscribe)||void 0===e||e.call(p)),null===(t=p.finalize)||void 0===t||t.call(p)})))})):J_,Z_((e=>!e.cancelled)),Y_((r=>({data:pT(r,{query:o,target:s,responseListLength:e.length,exemplarTraceIdDestinations:this.exemplarTraceIdDestinations}),key:o.requestId,state:0===i?t.LoadingState.Done:t.LoadingState.Loading}))));var c,u,d,p;return this.runQuery(o,n,l)}));return(0,y_.merge)(...o)}panelsQuery(e,r,n,i,o){const a=e.map(((t,i)=>{const a=r[i],s=(0,y_.pipe)(Z_((e=>!e.cancelled)),Y_((r=>pT(r,{query:t,target:a,responseListLength:e.length,scopedVars:o,exemplarTraceIdDestinations:this.exemplarTraceIdDestinations}))));return this.runQuery(t,n,s)}));return(0,y_.forkJoin)(a).pipe(Y_((e=>({data:e.reduce(((e,t)=>[...e,...t]),[]),key:i,state:t.LoadingState.Done}))))}runQuery(e,r,n){return e.instant?this.performInstantQuery(e,r).pipe(n):e.exemplar?this.getExemplars(e).pipe(pE((()=>(0,y_.of)({data:[],state:t.LoadingState.Done}))),n):this.performTimeSeriesQuery(e,e.start,e.end).pipe(n)}createQuery(e,r,n,i){const o={hinting:e.hinting,instant:e.instant,exemplar:e.exemplar,step:0,expr:"",requestId:e.requestId,refId:e.refId,start:0,end:0},a=Math.ceil(i-n);let s=t.rangeUtil.intervalToSeconds(r.interval);const l=t.rangeUtil.intervalToSeconds(this.templateSrv.replace(e.interval||r.interval,r.scopedVars)),c=e.interval?t.rangeUtil.intervalToSeconds(this.templateSrv.replace(e.interval,r.scopedVars)):t.rangeUtil.intervalToSeconds(this.interval),u=e.intervalFactor||1,d=this.adjustInterval(s,l,a,u);let p=kT({},r.scopedVars,this.getRangeScopedVars(r.range),this.getRateIntervalScopedVariable(d,c));s!==d&&(s=d,p=Object.assign({},r.scopedVars,kT({__interval:{text:s+"s",value:s+"s"},__interval_ms:{text:1e3*s,value:1e3*s}},this.getRateIntervalScopedVariable(s,c),this.getRangeScopedVars(r.range)))),o.step=s;let f=e.expr;f=this.enhanceExprWithAdHocFilters(f),o.expr=this.templateSrv.replace(f,p,this.interpolateQueryExpr);const h=function(e,t,r,n){return{end:Math.floor((t+n)/r)*r-n,start:Math.floor((e+n)/r)*r-n}}(n,i,o.step,60*this.timeSrv.timeRange().to.utcOffset());return o.start=h.start,o.end=h.end,this._addTracingHeaders(o,r),o}getRateIntervalScopedVariable(e,t){0===t&&(t=15);const r=Math.max(e+t,4*t);return{__rate_interval:{text:r+"s",value:r+"s"}}}adjustInterval(e,t,r,n){let i=r/11e3;return i>1&&(i=Math.ceil(i)),Math.max(e*n,t,i)}performTimeSeriesQuery(e,t,r){if(t>r)throw{message:"Invalid time range"};const n={query:e.expr,start:t,end:r,step:e.step};return this.queryTimeout&&(n.timeout=this.queryTimeout),this._request("/api/v1/query_range",n,{requestId:e.requestId,headers:e.headers}).pipe(pE((t=>t.cancelled?(0,y_.of)(t):(0,y_.throwError)(this.handleErrors(t,e)))))}performInstantQuery(e,t){const r={query:e.expr,time:t};return this.queryTimeout&&(r.timeout=this.queryTimeout),this._request("/api/v1/query",r,{requestId:e.requestId,headers:e.headers}).pipe(pE((t=>t.cancelled?(0,y_.of)(t):(0,y_.throwError)(this.handleErrors(t,e)))))}metricFindQuery(e){if(!e)return Promise.resolve([]);const r=kT({__interval:{text:this.interval,value:this.interval},__interval_ms:{text:t.rangeUtil.intervalToMs(this.interval),value:t.rangeUtil.intervalToMs(this.interval)}},this.getRangeScopedVars(this.timeSrv.timeRange())),n=this.templateSrv.replace(e,r,this.interpolateQueryExpr);return new rT(this,n).process()}getRangeScopedVars(e=this.timeSrv.timeRange()){const t=e.to.diff(e.from),r=Math.round(t/1e3);return{__range_ms:{text:t,value:t},__range_s:{text:r,value:r},__range:{text:r+"s",value:r+"s"}}}annotationQuery(e){var t=this;return ET((function*(){const r=e.annotation,{expr:n=""}=r;if(!n)return Promise.resolve([]);const i={expr:n,range:!0,instant:!1,exemplar:!1,interval:e.annotation.step||"60s",queryType:zu.timeSeriesQuery,refId:"X",datasource:t.getRef()};return yield(0,y_.lastValueFrom)((0,o.getBackendSrv)().fetch({url:"/api/ds/query",method:"POST",data:{from:(1e3*t.getPrometheusTime(e.range.from,!1)).toString(),to:(1e3*t.getPrometheusTime(e.range.to,!0)).toString(),queries:[t.applyTemplateVariables(i,{})]},requestId:`prom-query-${r.name}`}).pipe(Y_((r=>t.processAnnotationResponse(e,r.data)))))}))()}getExemplars(e){return this._request("/api/v1/query_exemplars",{query:e.expr,start:e.start.toString(),end:e.end.toString()},{requestId:e.requestId,headers:e.headers})}getTagKeys(e){var t=this;return ET((function*(){if(null==e?void 0:e.series){const r=yield Promise.all(e.series.map((e=>t.languageProvider.fetchSeriesLabels(e))));let n=[];return r.map((e=>n=n.concat(Object.keys(e)))),[...new Set(n)].map((e=>({text:e})))}{var r,n;const e=yield t.metadataRequest("/api/v1/labels");var i;return null!==(i=null==e||null===(r=e.data)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.map((e=>({text:e}))))&&void 0!==i?i:[]}}))()}getTagValues(e={}){var t=this;return ET((function*(){var r,n;const i=yield t.metadataRequest(`/api/v1/label/${e.key}/values`);var o;return null!==(o=null==i||null===(r=i.data)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.map((e=>({text:e}))))&&void 0!==o?o:[]}))()}getBuildInfo(){var e=this;return ET((function*(){try{return yield function(e){return NE.apply(this,arguments)}({url:e.url,name:e.name,type:"prometheus"})}catch(e){return}}))()}getBuildInfoMessage(e){const t=n().createElement(a.Badge,{color:"green",icon:"check",text:"Ruler API enabled"}),r=n().createElement(a.Badge,{color:"orange",icon:"exclamation-triangle",text:"Ruler API not enabled"}),i=n().createElement(a.Tooltip,{placement:"top",content:"Prometheus does not allow editing rules, connect to either a Mimir or Cortex datasource to manage alerts via Grafana."},n().createElement("div",null,n().createElement(a.Badge,{color:"red",icon:"exclamation-triangle",text:"Ruler API not supported"}))),o={[lE.Lotex]:"/public/app/plugins/datasource/prometheus/img/cortex_logo.svg",[lE.Mimir]:"/public/app/plugins/datasource/prometheus/img/mimir_logo.svg",[lE.Prometheus]:"/public/app/plugins/datasource/prometheus/img/vm_logo.svg"},s={[lE.Lotex]:"blue",[lE.Mimir]:"orange",[lE.Prometheus]:"red"},l={[lE.Lotex]:"Cortex",[lE.Mimir]:"Mimir",[lE.Prometheus]:"Prometheus"};var c,u;const d=n().createElement(a.Badge,{text:n().createElement("span",null,n().createElement("img",{style:{width:14,height:14,verticalAlign:"text-bottom"},src:o[null!==(c=e.application)&&void 0!==c?c:lE.Prometheus],alt:""})," ",e.application?l[e.application]:"Unknown"),color:s[null!==(u=e.application)&&void 0!==u?u:lE.Prometheus]});return n().createElement("div",{style:{display:"grid",gridTemplateColumns:"max-content max-content",rowGap:"0.5rem",columnGap:"2rem",marginTop:"1rem"}},n().createElement("div",null,"Type"),n().createElement("div",null,d),n().createElement(n().Fragment,null,n().createElement("div",null,"Ruler API"),e.application===lE.Prometheus&&n().createElement("div",null,i),e.application!==lE.Prometheus&&n().createElement("div",null,e.features.rulerApiEnabled?t:r)))}testDatasource(){var e=this;return ET((function*(){const r=(new Date).getTime(),n={targets:[{refId:"test",expr:"1+1",instant:!0}],requestId:`${e.id}-health`,scopedVars:{},dashboardId:0,panelId:0,interval:"1m",intervalMs:6e4,maxDataPoints:1,range:{from:(0,t.dateTime)(r-1e3),to:(0,t.dateTime)(r)}},i=yield e.getBuildInfo();return(0,y_.lastValueFrom)(e.query(n)).then((r=>{return r&&r.data&&r.state===t.LoadingState.Done?{status:"success",message:"Data source is working",details:i&&{verboseMessage:e.getBuildInfoMessage(i)}}:{status:"error",message:`Error reading Prometheus: ${null==r||null===(n=r.error)||void 0===n?void 0:n.message}`};var n})).catch((e=>(console.error("Prometheus Error",e),{status:"error",message:e.message})))}))()}interpolateVariablesInQueries(e,t){let r=e;return e&&e.length&&(r=e.map((e=>PT(kT({},e),{datasource:this.getRef(),expr:this.templateSrv.replace(e.expr,t,this.interpolateQueryExpr),interval:this.templateSrv.replace(e.interval,t)})))),r}getQueryHints(e,t){var r;return iT(null!==(r=e.expr)&&void 0!==r?r:"",t,this)}getInitHints(){return function(e){const t=[];return e.directUrl.includes("/loki")&&!e.languageProvider.metrics.length&&t.push({label:"Using Loki as a Prometheus data source is no longer supported. You must use the Loki data source for your Loki instance.",type:"INFO"}),e.lookupsDisabled&&t.push({label:"Labels and metrics lookup was disabled in data source settings.",type:"INFO"}),t}(this)}loadRules(){var e=this;return ET((function*(){try{var t,r;const n=null===(t=(yield e.metadataRequest("/api/v1/rules",{},{showErrorAlert:!1})).data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.groups;n&&(e.ruleMappings=function(e){return e.reduce(((e,t)=>t.rules.filter((e=>"recording"===e.type)).reduce(((e,t)=>PT(kT({},e),{[t.name]:t.query})),e)),{})}(n))}catch(e){console.log("Rules API is experimental. Ignore next error."),console.error(e)}}))()}areExemplarsAvailable(){var e=this;return ET((function*(){try{return"success"===(yield e.metadataRequest("/api/v1/query_exemplars",{query:"test",start:(0,t.dateTime)().subtract(30,"minutes").valueOf().toString(),end:(0,t.dateTime)().valueOf().toString()},{showErrorAlert:!1})).data.status}catch(e){return!1}}))()}modifyQuery(e,t){var r;let n=null!==(r=e.expr)&&void 0!==r?r:"";switch(t.type){case"ADD_FILTER":{var i;const{key:e,value:r}=null!==(i=t.options)&&void 0!==i?i:{};e&&r&&(n=hp(n,e,r));break}case"ADD_FILTER_OUT":{var o;const{key:e,value:r}=null!==(o=t.options)&&void 0!==o?o:{};e&&r&&(n=hp(n,e,r,"!="));break}case"ADD_HISTOGRAM_QUANTILE":n=`histogram_quantile(0.95, sum(rate(${n}[$__rate_interval])) by (le))`;break;case"ADD_RATE":n=`rate(${n}[$__rate_interval])`;break;case"ADD_SUM":n=`sum(${n.trim()}) by ($1)`;break;case"EXPAND_RULES":t.options&&(n=function(e,t){const r=Object.keys(t),n=new RegExp(`(\\s|^)(${r.join("|")})(\\s|$|\\(|\\[|\\{)`,"ig"),i=e.replace(n,((e,r,n,i)=>`${r}${t[n]}${i}`)).split(/(\+|\-|\*|\/|\%|\^)/),o=/(\)\{|\}\{|\]\{)/,a=i.map((e=>function(e,t){const r=e.match(t);if(!r)return e;var n;const i=null!==(n=r.index)&&void 0!==n?n:0,o=e.slice(0,i+1),a=e.slice(i+1),s=[];a.replace(bp,((e,t,r,n)=>(s.push({key:t,operator:r,value:n}),"")));let l=o;return s.filter(Boolean).forEach((e=>{const t=e.value.slice(1,-1);l=hp(l,e.key,t,e.operator)})),l}(e,o)));return a.join("")}(n,t.options))}return PT(kT({},e),{expr:n})}getPrometheusTime(e,r){return"string"==typeof e&&(e=t.dateMath.parse(e,r)),Math.ceil(e.valueOf()/1e3)}getTimeRangeParams(){const e=this.timeSrv.timeRange();return{start:this.getPrometheusTime(e.from,!1).toString(),end:this.getPrometheusTime(e.to,!0).toString()}}getOriginalMetricName(e){return function(e){const t=e.__name__||"";return delete e.__name__,`${t}{${Object.entries(e).map((e=>`${e[0]}="${e[1]}"`)).join(",")}}`}(e)}enhanceExprWithAdHocFilters(e){return this.templateSrv.getAdhocFilters(this.name).reduce(((e,t)=>{const{key:r,operator:n}=t;let{value:i}=t;return"=~"!==n&&"!~"!==n||(i=IT(i)),hp(e,r,i,n)}),e)}filterQuery(e){return!(e.hide||!e.expr)}applyTemplateVariables(e,t){const r=(0,Is.cloneDeep)(t);delete r.__interval,delete r.__interval_ms;const n=this.enhanceExprWithAdHocFilters(e.expr);return PT(kT({},e),{legendFormat:this.templateSrv.replace(e.legendFormat,r),expr:this.templateSrv.replace(n,r,this.interpolateQueryExpr),interval:this.templateSrv.replace(e.interval,r)})}getVariables(){return this.templateSrv.getVariables().map((e=>`$${e.name}`))}interpolateString(e){return this.templateSrv.replace(e,void 0,this.interpolateQueryExpr)}constructor(e,r=(0,o.getTemplateSrv)(),n=GP(),i){super(e),this.templateSrv=r,this.timeSrv=n;var a,s,l=this;this.init=ET((function*(){yield l.loadRules(),l.exemplarsAvailable=yield l.areExemplarsAvailable()})),this.prepareTargets=(e,r,n)=>{const i=[],o=[],a=(0,Is.cloneDeep)(e.targets);for(const s of a){if(!s.expr||s.hide)continue;s.requestId=e.panelId+s.refId;const a=this.languageProvider.histogramMetrics.find((e=>s.expr.includes(e)));if(e.app===t.CoreApp.Explore&&s.range===s.instant){const t=(0,Is.cloneDeep)(s);t.format="table",t.instant=!0,t.range=!1,t.valueWithRefId=!0,delete t.maxDataPoints,t.requestId+="_instant";const l=(0,Is.cloneDeep)(s);if(l.format="time_series",l.instant=!1,t.range=!0,s.exemplar){if(!a||a&&!o.some((e=>e.expr.includes(a)))){const t=(0,Is.cloneDeep)(s);t.instant=!1,t.requestId+="_exemplar",i.push(this.createQuery(t,e,r,n)),o.push(t)}t.exemplar=!1,l.exemplar=!1}o.push(t,l),i.push(this.createQuery(t,e,r,n),this.createQuery(l,e,r,n))}else if(s.instant&&e.app===t.CoreApp.Explore){const t=(0,Is.cloneDeep)(s);t.format="table",i.push(this.createQuery(t,e,r,n)),o.push(t)}else{if(s.exemplar&&!s.instant){if(!a||a&&!o.some((e=>e.expr.includes(a)))){const t=(0,Is.cloneDeep)(s);t.requestId+="_exemplar",i.push(this.createQuery(t,e,r,n)),o.push(t)}s.exemplar=!1}i.push(this.createQuery(s,e,r,n)),o.push(s)}}return{queries:i,activeTargets:o}},this.handleErrors=(e,t)=>{const r={message:e&&e.statusText||"Unknown error during query transaction. Please check JS console logs.",refId:t.refId};return e.data?"string"==typeof e.data?r.message=e.data:e.data.error&&(r.message=((e,t)=>{if(!e)return"";try{return JSON.stringify(e,null,void 0)}catch(e){console.error(e)}return""})(e.data.error)):e.message?r.message=e.message:"string"==typeof e&&(r.message=e),r.status=e.status,r.statusText=e.statusText,r},this.processAnnotationResponse=(e,r)=>{const n=(0,o.toDataQueryResponse)({data:r}).data;if(!n||!n.length)return[];const i=e.annotation,{tagKeys:a="",titleFormat:s="",textFormat:l=""}=i,c=1e3*t.rangeUtil.intervalToSeconds(i.step||"60s"),u=a.split(","),d=[];for(const t of n){const r=t.fields[0],n=t.fields[1],o=(null==n?void 0:n.labels)||{},a=Object.keys(o).filter((e=>u.includes(e))).map((e=>o[e])),f=[];let h=0;n.values.toArray().forEach((t=>{let n,i;const o=r.values.get(h);e.annotation.useValueForTime?(n=Math.floor(parseFloat(t)),i=1):(n=Math.floor(parseFloat(o)),i=parseFloat(t)),h++,f.push([n,i])}));const m=f.filter((e=>e[1]>=1)).map((e=>e[0]));let g=null;for(const e of m){var p;g&&(null!==(p=g.timeEnd)&&void 0!==p?p:0)+c>=e?g.timeEnd=e:(g&&d.push(g),g={time:e,timeEnd:e,annotation:i,title:tT(s,o),tags:a,text:tT(l,o)})}g&&(g.timeEnd=m[m.length-1],d.push(g))}return d},this.type="prometheus",this.subType=lE.Prometheus,this.rulerEnabled=!1,this.editorSrc="app/features/prometheus/partials/query.editor.html",this.id=e.id,this.url=e.url,this.access="direct",this.basicAuth=e.basicAuth,this.withCredentials=e.withCredentials,this.interval=e.jsonData.timeInterval||"15s",this.queryTimeout=e.jsonData.queryTimeout,this.httpMethod=e.jsonData.httpMethod||"GET",this.directUrl=null!==(a=e.jsonData.directUrl)&&void 0!==a?a:this.url,this.exemplarTraceIdDestinations=e.jsonData.exemplarTraceIdDestinations,this.ruleMappings={},this.languageProvider=null!=i?i:new Vp(this),this.lookupsDisabled=null!==(s=e.jsonData.disableMetricsLookup)&&void 0!==s&&s,this.customQueryParameters=new URLSearchParams(e.jsonData.customQueryParameters),this.variables=new OT(this,this.templateSrv,this.timeSrv),this.exemplarsAvailable=!0,this.annotations={QueryEditor:eT}}}function IT(e){return"string"==typeof e?e.replace(/\\/g,"\\\\").replace(/'/g,"\\\\'"):e}function DT(e){return"string"==typeof e?e.replace(/\\/g,"\\\\\\\\").replace(/[$^*{}\[\]'+?.()|]/g,"\\\\$&"):e}const AT=new t.DataSourcePlugin(CT).setQueryEditor(Hx).setConfigEditor((e=>{const{options:t,onOptionsChange:i}=e,s=vO().filter((e=>e.type===jO.Alertmanager)),l=(0,r.useRef)("direct"===e.options.access),c={azureAuthSupported:o.config.azureAuthEnabled,getAzureAuthEnabled:e=>function(e){return!!e.jsonData.azureCredentials}(e),setAzureAuthEnabled:(e,t)=>t?function(e){return{jsonData:zO(VO({},e.jsonData),{azureCredentials:WO()})}}(e):function(e){return{jsonData:zO(VO({},e.jsonData),{azureAuth:void 0,azureCredentials:void 0,azureEndpointResourceId:void 0})}}(e),azureSettingsUI:t_};return n().createElement(n().Fragment,null,"direct"===t.access&&n().createElement(a.Alert,{title:"Error",severity:"error"},"Browser access mode in the Prometheus datasource is no longer available. Switch to server access mode."),n().createElement("div",{className:"gf-form-group"},n().createElement("h3",{className:"page-heading"},"Tips on how to setup"),n().createElement("div",{className:"submenu-controls"},n().createElement("div",{className:"gf-form"},n().createElement("a",{className:"gf-form-label gf-form-label--dashlink",href:"https://docs.victoriametrics.com/Cluster-VictoriaMetrics.html#url-format",target:"_blank",rel:"noreferrer"},n().createElement(a.Icon,{name:"file-alt"}),n().createElement("span",{style:{marginLeft:"4px"}},"Cluster VM"))),n().createElement("div",{className:"gf-form"},n().createElement("a",{className:"gf-form-label gf-form-label--dashlink",href:"https://docs.victoriametrics.com/Single-server-VictoriaMetrics.html#grafana-setup",target:"_blank",rel:"noreferrer"},n().createElement(a.Icon,{name:"file-alt"}),n().createElement("span",{style:{marginLeft:"4px"}},"Grafana setup"))))),n().createElement(a.DataSourceHttpSettings,{defaultUrl:"http://localhost:8428",dataSourceConfig:t,showAccessOptions:l.current,onChange:i,sigV4AuthToggleEnabled:o.config.sigV4AuthEnabled,azureAuthSettings:c,renderSigV4Editor:n().createElement(gO.SIGV4ConnectionConfig,b_({},e))}),n().createElement(a.AlertingSettings,{alertmanagerDataSources:s,options:t,onOptionsChange:i}),n().createElement(h_,{options:t,onOptionsChange:i}))})).setQueryEditorHelp((e=>n().createElement("div",null,n().createElement("h2",null,"PromQL Cheat Sheet"),i.map(((t,r)=>n().createElement("div",{className:"cheat-sheet-item",key:r},n().createElement("div",{className:"cheat-sheet-item__title"},t.title),t.expression?n().createElement("div",{className:"cheat-sheet-item__example",onClick:r=>e.onClickExample({refId:"A",expr:t.expression})},n().createElement("code",null,t.expression)):null,n().createElement("div",{className:"cheat-sheet-item__label"},t.label)))))))})(),g})()));
//# sourceMappingURL=module.js.map